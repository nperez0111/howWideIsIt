(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

var Ract = require('ractive/ractive.min'),
    howWide = require('how-wide-is-it');
howWide.truncate = 3;
window.main = new Ract({
    template: require('./mainView.ract').template,
    el: '.hook',
    oncomplete: function oncomplete() {
        var _this = this;

        console.log('we good in the hood');
        this.on('setMode', function (event, modeToSetTo) {
            _this.set('currentMode', modeToSetTo);
            _this.calculate();
        });
        this.on('other', function () {
            _this.set('commonRatios', !_this.get('commonRatios'));
        });
        this.on('setRatio', function (event, width) {
            _this.set('toSub.width', Number(width.split(':')[0]));
            _this.set('toSub.height', Number(width.split(':')[1]));
            _this.calculate();
        });
        this.on('submitAll', function () {
            _this.calculate();
        });
        this.calculate();
        window.onresize = debounce(function () {
            var temp = _this.get('toSub.length');
            console.log(temp);
            _this.set('toSub.length', temp - 0.1).then(function () {
                _this.calculate(true).then(function () {
                    _this.set('toSub.length', temp).then(function () {
                        _this.calculate(true);
                    });
                });
            });
        }, 50);
    },
    calculate: function calculate(quick) {
        var a = this.get('toSub'),
            val = 0,
            currentMode = this.get('currentMode');
        if (currentMode == 0) {
            val = howWide(a.width, a.height, a.length);
        } else if (currentMode == 1) {
            val = howWide.diag(a.width, a.height, a.length, a.lengthIsOnWideSide);
        }
        return quick ? this.set('resp', val) : this.animate('resp', val);
    },
    data: function data() {
        return {
            toSub: {
                width: 16,
                height: 9,
                length: 21,
                lengthIsOnWideSide: true
            },
            currentMode: 0,
            allModes: ['calculateWithDiagonal', 'calculateWithSide'],
            resp: {
                height: 11.8125,
                width: 21,
                aspRatio: '16:9',
                diagonal: 24.0942971727751392
            },
            isSet: function isSet(w, h) {
                return w == this.get('toSub.width') && h == this.get('toSub.height') ? 'isSet' : '';
            },
            isActive: function isActive(cur) {
                var val = cur == 'diag' ? 0 : 1;
                return this.get('currentMode') == val ? 'isActive' : '';
            },
            commonRatios: true
        };
    },
    components: {
        displayresults: Ract.extend(require('./results.ract'))
    }
});

function debounce(func, wait, immediate) {
    var timeout;
    return function () {
        var context = this,
            args = arguments;
        var later = function later() {
            timeout = null;
            if (!immediate) func.apply(context, args);
        };
        var callNow = immediate && !timeout;
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
        if (callNow) func.apply(context, args);
    };
};

},{"./mainView.ract":2,"./results.ract":3,"how-wide-is-it":4,"ractive/ractive.min":5}],2:[function(require,module,exports){
exports.template = { v:3,
  t:[ { p:[ 1,
        1,
        0 ],
      t:7,
      e:"div",
      a:{ "class":"header" },
      f:[ { p:[ 2,
            2,
            22 ],
          t:7,
          e:"h1",
          f:[ "How Wide is Your Monitor?" ] } ] },
    " ",
    { p:[ 4,
        1,
        64 ],
      t:7,
      e:"div",
      a:{ "class":"modes" },
      f:[ { p:[ 5,
            2,
            85 ],
          t:7,
          e:"div",
          a:{ "class":[ "half ",
              { t:2,
                x:{ r:[ "isActive" ],
                  s:"_0(\"diag\")" },
                p:[ 5,
                  19,
                  102 ] } ] },
          v:{ click:{ n:"setMode",
              a:[ 0 ] } },
          f:[ { p:[ 6,
                3,
                148 ],
              t:7,
              e:"h3",
              f:[ "You have a Diagonal Measurement" ] },
            " ",
            { p:[ 7,
                3,
                191 ],
              t:7,
              e:"p",
              f:[ "You have a diagonal measurement and are looking to see the true dimensions of the monitor or TV." ] } ] },
        " ",
        { p:[ 9,
            2,
            304 ],
          t:7,
          e:"div",
          a:{ "class":[ "half ",
              { t:2,
                x:{ r:[ "isActive" ],
                  s:"_0(\"side\")" },
                p:[ 9,
                  19,
                  321 ] } ] },
          v:{ click:{ n:"setMode",
              a:[ 1 ] } },
          f:[ { p:[ 10,
                3,
                367 ],
              t:7,
              e:"h3",
              f:[ "You have a Side Measurement" ] },
            " ",
            { p:[ 11,
                3,
                406 ],
              t:7,
              e:"p",
              f:[ "If you have a certain width or height that you would like to fill up with screen space this is the mode for you." ] } ] } ] },
    " ",
    { p:[ 14,
        1,
        541 ],
      t:7,
      e:"div",
      a:{ "class":"inps" },
      f:[ { t:4,
          f:[ { p:[ 16,
                2,
                573 ],
              t:7,
              e:"div",
              a:{ "class":"half" },
              f:[ { p:[ 18,
                    3,
                    595 ],
                  t:7,
                  e:"h4",
                  f:[ "Aspect Ratio: ",
                    { p:[ 18,
                        21,
                        613 ],
                      t:7,
                      e:"span",
                      a:{ "class":"info hint--large hint--top hint--rounded",
                        "aria-label":"Aspect Ratio is the ratio of the width of a screen to it's height, it's what makes newer screens so wide compared to old TVs which used to be square-ish. If you don't know you should probably just stick to 16:9 as that is the standard nowadays." },
                      f:[ "â“˜" ] } ] },
                " ",
                { t:4,
                  f:[ { p:[ 21,
                        3,
                        966 ],
                      t:7,
                      e:"div",
                      a:{ "class":"container" },
                      f:[ { p:[ 22,
                            4,
                            993 ],
                          t:7,
                          e:"button",
                          a:{ "class":[ "quarter ",
                              { t:2,
                                x:{ r:[ "isSet" ],
                                  s:"_0(16,9)" },
                                p:[ 22,
                                  27,
                                  1016 ] } ] },
                          v:{ click:{ n:"setRatio",
                              a:"16:9" } },
                          f:[ "16:9" ] },
                        " ",
                        { p:[ 24,
                            4,
                            1076 ],
                          t:7,
                          e:"button",
                          a:{ "class":[ "quarter ",
                              { t:2,
                                x:{ r:[ "isSet" ],
                                  s:"_0(4,3)" },
                                p:[ 24,
                                  27,
                                  1099 ] } ] },
                          v:{ click:{ n:"setRatio",
                              a:"4:3" } },
                          f:[ "4:3" ] },
                        " ",
                        { p:[ 26,
                            4,
                            1156 ],
                          t:7,
                          e:"button",
                          a:{ "class":[ "quarter ",
                              { t:2,
                                x:{ r:[ "isSet" ],
                                  s:"_0(21,9)" },
                                p:[ 26,
                                  27,
                                  1179 ] } ] },
                          v:{ click:{ n:"setRatio",
                              a:"21:9" } },
                          f:[ "21:9" ] },
                        " ",
                        { p:[ 28,
                            4,
                            1239 ],
                          t:7,
                          e:"button",
                          a:{ "class":[ "quarter ",
                              { t:2,
                                x:{ r:[ "isSet" ],
                                  s:"_0(21,10)" },
                                p:[ 28,
                                  27,
                                  1262 ] } ] },
                          v:{ click:{ n:"setRatio",
                              a:"21:10" } },
                          f:[ "21:10" ] } ] } ],
                  n:50,
                  r:"commonRatios",
                  p:[ 20,
                    3,
                    943 ] },
                { t:4,
                  n:51,
                  f:[ { p:[ 34,
                        3,
                        1346 ],
                      t:7,
                      e:"div",
                      a:{ "class":"container" },
                      f:[ { p:[ 35,
                            4,
                            1373 ],
                          t:7,
                          e:"div",
                          a:{ "class":"item" },
                          f:[ { p:[ 36,
                                5,
                                1396 ],
                              t:7,
                              e:"label",
                              a:{ "for":"width" },
                              f:[ "Aspect Ratio Width:" ] },
                            " ",
                            { p:[ 37,
                                5,
                                1447 ],
                              t:7,
                              e:"input",
                              a:{ type:"number",
                                value:[ { t:2,
                                    r:"width",
                                    p:[ 37,
                                      33,
                                      1475 ] } ],
                                id:"width" } } ] },
                        " ",
                        { p:[ 39,
                            4,
                            1511 ],
                          t:7,
                          e:"div",
                          a:{ "class":"item" },
                          f:[ { p:[ 40,
                                5,
                                1534 ],
                              t:7,
                              e:"label",
                              a:{ "for":"height" },
                              f:[ "Aspect Ratio height:" ] },
                            " ",
                            { p:[ 41,
                                5,
                                1587 ],
                              t:7,
                              e:"input",
                              a:{ type:"number",
                                value:[ { t:2,
                                    r:"height",
                                    p:[ 41,
                                      33,
                                      1615 ] } ],
                                id:"height" } } ] } ] } ],
                  r:"commonRatios" },
                " ",
                { p:[ 46,
                    3,
                    1672 ],
                  t:7,
                  e:"button",
                  a:{ "class":"other" },
                  v:{ click:"other" },
                  f:[ { t:2,
                      x:{ r:[ "commonRatios" ],
                        s:"_0?\"Other Ratio\":\"Common Ratios\"" },
                      p:[ 46,
                        42,
                        1711 ] } ] } ] },
            " ",
            { p:[ 49,
                2,
                1777 ],
              t:7,
              e:"div",
              a:{ "class":"half" },
              f:[ { p:[ 51,
                    3,
                    1799 ],
                  t:7,
                  e:"h4",
                  f:[ { t:2,
                      x:{ r:[ "currentMode" ],
                        s:"_0==0?\"Diagonal Length\":\"Length on Side\"" },
                      p:[ 51,
                        7,
                        1803 ] },
                    ": ",
                    { p:[ 51,
                        62,
                        1858 ],
                      t:7,
                      e:"span",
                      a:{ "class":"info hint--large hint--top hint--rounded",
                        "aria-label":[ { t:2,
                            x:{ r:[ "currentMode" ],
                              s:"_0==0?\"Screens are typically measured diagonally which makes it hard to figure out it's actual dimensions before buying.\":\"Just enter the length and select whether this is for the width of the screen or the height.\"" },
                            p:[ 51,
                              129,
                              1925 ] } ] },
                      f:[ "â“˜" ] } ] },
                " ",
                { p:[ 52,
                    3,
                    2175 ],
                  t:7,
                  e:"div",
                  a:{ "class":"container" },
                  f:[ { p:[ 53,
                        4,
                        2202 ],
                      t:7,
                      e:"div",
                      a:{ "class":"item" },
                      f:[ { p:[ 54,
                            5,
                            2225 ],
                          t:7,
                          e:"label",
                          a:{ "for":"length" },
                          f:[ "Length:" ] },
                        " ",
                        { p:[ 55,
                            5,
                            2265 ],
                          t:7,
                          e:"input",
                          a:{ type:"number",
                            value:[ { t:2,
                                r:"length",
                                p:[ 55,
                                  33,
                                  2293 ] } ],
                            id:"length" } } ] },
                    " ",
                    { p:[ 57,
                        4,
                        2331 ],
                      t:7,
                      e:"div",
                      a:{ "class":"item" },
                      f:[ { t:4,
                          f:[ { p:[ 59,
                                6,
                                2382 ],
                              t:7,
                              e:"label",
                              a:{ "for":"whichSide" },
                              f:[ "Is length for Widest side of the screen?" ] },
                            " ",
                            { p:[ 60,
                                6,
                                2459 ],
                              t:7,
                              e:"input",
                              a:{ type:"checkbox",
                                id:"whichSide",
                                checked:[ { t:2,
                                    r:"lengthIsOnWideSide",
                                    p:[ 60,
                                      53,
                                      2506 ] } ] } } ],
                          n:50,
                          x:{ r:[ "currentMode" ],
                            s:"_0==1" },
                          p:[ 58,
                            5,
                            2354 ] } ] } ] },
                " ",
                { p:[ 66,
                    3,
                    2570 ],
                  t:7,
                  e:"button",
                  v:{ click:"submitAll" },
                  a:{ "class":"other" },
                  f:[ "Submit" ] } ] } ],
          r:"toSub",
          p:[ 15,
            2,
            561 ] } ] },
    " ",
    { p:[ 70,
        1,
        2656 ],
      t:7,
      e:"div",
      a:{ "class":"response" },
      f:[ { t:4,
          f:[ { p:[ 72,
                2,
                2691 ],
              t:7,
              e:"displayresults",
              a:{ height:[ { t:2,
                    r:"height",
                    p:[ 72,
                      26,
                      2715 ] } ],
                width:[ { t:2,
                    r:"width",
                    p:[ 72,
                      45,
                      2734 ] } ],
                aspectRatio:[ { t:2,
                    r:"aspRatio",
                    p:[ 72,
                      69,
                      2758 ] } ],
                diagonal:[ { t:2,
                    r:"diagonal",
                    p:[ 72,
                      93,
                      2782 ] } ],
                mode:[ { t:2,
                    r:"currentMode",
                    p:[ 72,
                      113,
                      2802 ] } ] } } ],
          r:"resp",
          p:[ 71,
            2,
            2680 ] } ] } ] }
},{}],3:[function(require,module,exports){
var component = module

function getWidth(){
	return document.body.clientWidth-100;
}//neede to somehow scale with screen
function getHeight(){
	return document.body.clientHeight-100;
}
component.exports =  {

    isolated: false,
    data: {
    	width:0,
    	height:0,
    	aspectRatio:'0',
    	diagonal:0,
    	offset:50
    },
    computed: {
    	widthOfScreen:{get:function(){
			return getWidth(this.get('width'))>getHeight()?getHeight():getWidth();
    	}},
    	heightOfScreen:{get:function(){
    		return getWidth(this.get('width'))>getHeight()?Math.round(this.get('height')*getHeight()/this.get('width')):Math.round(this.get('height')*getWidth()/this.get('width'))
    	}}
    },
    oncomplete: function () {
        console.log('ok');
    }
};

component.exports.template = { v:3,
  t:[ { p:[ 8,
        1,
        144 ],
      t:7,
      e:"svg",
      a:{ width:[ { t:2,
            r:"widthOfScreen",
            p:[ 8,
              13,
              156 ] },
          "px" ],
        height:[ { t:2,
            r:"heightOfScreen",
            p:[ 8,
              42,
              185 ] },
          "px" ] },
      f:[ { p:[ 9,
            2,
            210 ],
          t:7,
          e:"g",
          f:[ { p:[ 10,
                3,
                216 ],
              t:7,
              e:"rect",
              a:{ width:[ { t:2,
                    r:"widthOfScreen",
                    p:[ 10,
                      16,
                      229 ] },
                  "px" ],
                height:[ { t:2,
                    r:"heightOfScreen",
                    p:[ 10,
                      45,
                      258 ] },
                  "px" ] } },
            " ",
            { p:[ 12,
                3,
                293 ],
              t:7,
              e:"text",
              a:{ transform:[ "translate(",
                  { t:2,
                    x:{ r:[ "widthOfScreen" ],
                      s:"_0/2" },
                    p:[ 12,
                      30,
                      320 ] },
                  ",",
                  { t:2,
                    x:{ r:[ "heightOfScreen" ],
                      s:"_0-10" },
                    p:[ 12,
                      50,
                      340 ] },
                  ")" ],
                "class":"label" },
              f:[ { t:2,
                  r:"width",
                  p:[ 13,
                    4,
                    382 ] },
                "\"" ] },
            " ",
            { p:[ 16,
                3,
                406 ],
              t:7,
              e:"text",
              a:{ transform:[ "translate(",
                  { t:2,
                    x:{ r:[ "widthOfScreen" ],
                      s:"_0-10" },
                    p:[ 16,
                      30,
                      433 ] },
                  ",",
                  { t:2,
                    x:{ r:[ "heightOfScreen" ],
                      s:"_0/2" },
                    p:[ 16,
                      51,
                      454 ] },
                  "),rotate(-90)" ],
                "class":"label" },
              f:[ { t:2,
                  r:"height",
                  p:[ 17,
                    4,
                    507 ] },
                "\"" ] },
            " ",
            { p:[ 20,
                3,
                532 ],
              t:7,
              e:"text",
              a:{ transform:"translate(10,22)",
                "class":"aspRatio" },
              f:[ { t:2,
                  r:"aspectRatio",
                  p:[ 21,
                    4,
                    588 ] },
                " Monitor" ] },
            " ",
            { p:[ 24,
                3,
                625 ],
              t:7,
              e:"text",
              a:{ transform:[ "translate(",
                  { t:2,
                    x:{ r:[ "widthOfScreen",
                        "diagonal" ],
                      s:"(_0/2)-(10*Math.floor(_1.toString().length/2))" },
                    p:[ 24,
                      30,
                      652 ] },
                  ",",
                  { t:2,
                    x:{ r:[ "heightOfScreen" ],
                      s:"_0/2+5" },
                    p:[ 24,
                      98,
                      720 ] },
                  ")" ],
                "class":"aspRatio" },
              f:[ { t:2,
                  r:"diagonal",
                  p:[ 25,
                    4,
                    766 ] },
                "\"" ] },
            " ",
            { p:[ 28,
                3,
                795 ],
              t:7,
              e:"line",
              a:{ y1:"0",
                x1:[ { t:2,
                    r:"widthOfScreen",
                    p:[ 28,
                      20,
                      812 ] } ],
                x2:[ { t:2,
                    x:{ r:[ "widthOfScreen",
                        "offset" ],
                      s:"(_0+_1)/2" },
                    p:[ 28,
                      43,
                      835 ] } ],
                y2:[ { t:2,
                    x:{ r:[ "heightOfScreen",
                        "offset" ],
                      s:"((_0-_1)/2)+11" },
                    p:[ 28,
                      77,
                      869 ] } ] },
              f:[  ] },
            " ",
            { p:[ 30,
                3,
                926 ],
              t:7,
              e:"line",
              a:{ x1:"0",
                y1:[ { t:2,
                    r:"heightOfScreen",
                    p:[ 30,
                      20,
                      943 ] } ],
                x2:[ { t:2,
                    x:{ r:[ "widthOfScreen",
                        "offset" ],
                      s:"(_0-_1)/2" },
                    p:[ 30,
                      44,
                      967 ] } ],
                y2:[ { t:2,
                    x:{ r:[ "heightOfScreen",
                        "offset" ],
                      s:"((_0+_1)/2)-11" },
                    p:[ 30,
                      78,
                      1001 ] } ] },
              f:[  ] } ] } ] } ] }
},{}],4:[function(require,module,exports){
function computeUnit( aspWidth, aspHeight, lengthDiag ) {
    var c = Math.pow( lengthDiag, 2 ),
        b = Math.pow( aspHeight, 2 ),
        a = Math.pow( aspWidth, 2 );
    return Math.sqrt( c / ( a + b ) );
}

function computeWidth( aspWidth, aspHeight, lengthDiag ) {
    return computeUnit( aspWidth, aspHeight, lengthDiag ) * aspWidth;
}

function computeHeight( aspWidth, aspHeight, lengthDiag ) {
    return computeUnit( aspWidth, aspHeight, lengthDiag ) * aspHeight;
}

function computeDiag( aspW, aspH, length, bool ) {
    var val = length,
        multiplier = aspW / aspH;
    if ( bool ) {
        multiplier = 1 / multiplier;
    }
    return Math.sqrt( Math.pow( length, 2 ) + Math.pow( val * multiplier, 2 ) );
}

function preReqsNoGood( arr ) {
    return arr.reduce( function ( a, cur ) {
        return a || Number( cur ) !== cur;
    }, false );
}

module.exports = function ( aspWidth, aspHeight, lengthDiag ) {
    var aspWidth = aspWidth,
        aspHeight = aspHeight,
        lengthDiag = lengthDiag;
    if ( aspHeight === undefined && lengthDiag === undefined ) {
        aspHeight = aspWidth.height;
        lengthDiag = aspWidth.diag;
        aspWidth = aspWidth.width;
    }
    if ( preReqsNoGood( [ aspWidth, lengthDiag, aspHeight ] ) ) {
        return undefined;
    }
    return {
        height: parseNum( computeHeight( aspWidth, aspHeight, lengthDiag ) ),
        width: parseNum( computeWidth( aspWidth, aspHeight, lengthDiag ) ),
        aspRatio: aspWidth + ':' + aspHeight,
        diagonal: parseNum( lengthDiag )
    }
}

module.exports.diag = function ( aspWidth, aspHeight, length, isWidth ) {
    var isWidth = isWidth === undefined ? true : isWidth;
    if ( aspHeight === undefined && length === undefined ) {
        aspHeight = aspWidth.height;
        length = aspWidth.length;
        isWidth = 'lengthIsOnWideSide' in aspWidth ? aspWidth.lengthIsOnWideSide : isWidth;
        aspWidth = aspWidth.width;

    }
    var lengthDiag = computeDiag( aspWidth, aspHeight || 0, length || 0, isWidth );

    if ( preReqsNoGood( [ aspWidth, length, aspHeight ] ) ) {
        console.warn( 'Values inputted are not correct, if first value is an object check documentation for proper object input.', [ aspWidth, length, aspHeight ] );

        return undefined;
    }
    return {
        height: parseNum( isWidth ? aspHeight * length / aspWidth : length ),
        width: parseNum( isWidth ? length : aspWidth * length / aspHeight ),
        aspRatio: aspWidth + ':' + aspHeight,
        diagonal: parseNum( lengthDiag )
    }
}

function parseNum( num ) {
    return Number( num.toFixed( module.exports.truncate ) );
}

module.exports.truncate = 16;

},{}],5:[function(require,module,exports){
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Ractive=e()}(this,function(){"use strict";function t(t){var e;if(t&&"boolean"!=typeof t)return"undefined"!=typeof window&&document&&t?t.nodeType?t:"string"==typeof t&&(e=document.getElementById(t),!e&&document.querySelector&&(e=document.querySelector(t)),e&&e.nodeType)?e:t[0]&&t[0].nodeType?t[0]:null:null}function e(t){return t&&"unknown"!=typeof t.parentNode&&t.parentNode&&t.parentNode.removeChild(t),t}function n(t){return null!=t&&t.toString?t:""}function i(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;e>i;i++)n[i-1]=arguments[i];for(var r,s;s=n.shift();)for(r in s)Oa.call(s,r)&&(t[r]=s[r]);return t}function r(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;e>i;i++)n[i-1]=arguments[i];return n.forEach(function(e){for(var n in e)!e.hasOwnProperty(n)||n in t||(t[n]=e[n])}),t}function s(t){return"[object Array]"===Pa.call(t)}function o(t){return Ta.test(Pa.call(t))}function a(t,e){return null===t&&null===e?!0:"object"==typeof t||"object"==typeof e?!1:t===e}function u(t){return!isNaN(parseFloat(t))&&isFinite(t)}function h(t){return t&&"[object Object]"===Pa.call(t)}function c(t,e){return t.replace(/%s/g,function(){return e.shift()})}function l(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;e>i;i++)n[i-1]=arguments[i];throw t=c(t,n),new Error(t)}function f(){Qb.DEBUG&&Aa.apply(null,arguments)}function d(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;e>i;i++)n[i-1]=arguments[i];t=c(t,n),Sa(t,n)}function p(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;e>i;i++)n[i-1]=arguments[i];t=c(t,n),Ra[t]||(Ra[t]=!0,Sa(t,n))}function m(){Qb.DEBUG&&d.apply(null,arguments)}function v(){Qb.DEBUG&&p.apply(null,arguments)}function g(t,e,n){var i=y(t,e,n);return i?i[t][n]:null}function y(t,e,n){for(;e;){if(n in e[t])return e;if(e.isolated)return null;e=e.parent}}function b(t){return function(){return t}}function w(t){var e,n,i,r,s,o;for(e=t.split("."),(n=Wa[e.length])||(n=x(e.length)),s=[],i=function(t,n){return t?"*":e[n]},r=n.length;r--;)o=n[r].map(i).join("."),s.hasOwnProperty(o)||(s.push(o),s[o]=!0);return s}function x(t){var e,n,i,r,s,o,a,u,h="";if(!Wa[t]){for(i=[];h.length<t;)h+=1;for(e=parseInt(h,2),r=function(t){return"1"===t},s=0;e>=s;s+=1){for(n=s.toString(2);n.length<t;)n="0"+n;for(u=[],a=n.length,o=0;a>o;o++)u.push(r(n[o]));i[s]=u}Wa[t]=i}return Wa[t]}function k(t,e,n,i){var r=t[e];if(!r||!r.equalsOrStartsWith(i)&&r.equalsOrStartsWith(n))return t[e]=r?r.replace(n,i):i,!0}function E(t){var e=t.slice(2);return"i"===t[1]&&u(e)?+e:e}function _(t){return null==t?t:(qa.hasOwnProperty(t)||(qa[t]=new $a(t)),qa[t])}function A(t,e){function n(e,n){var i,r,o;return n.isRoot?o=[].concat(Object.keys(t.viewmodel.data),Object.keys(t.viewmodel.mappings),Object.keys(t.viewmodel.computations)):(i=t.viewmodel.wrapped[n.str],r=i?i.get():t.viewmodel.get(n),o=r?Object.keys(r):null),o&&o.forEach(function(t){"_ractive"===t&&s(r)||e.push(n.join(t))}),e}var i,r,o;for(i=e.str.split("."),o=[Za];r=i.shift();)"*"===r?o=o.reduce(n,[]):o[0]===Za?o[0]=_(r):o=o.map(S(r));return o}function S(t){return function(e){return e.join(t)}}function C(t){return t?t.replace(za,".$1"):""}function O(t,e,n){if("string"!=typeof e||!u(n))throw new Error("Bad arguments");var i=void 0,r=void 0;if(/\*/.test(e))return r={},A(t,_(C(e))).forEach(function(e){var i=t.viewmodel.get(e);if(!u(i))throw new Error(Ka);r[e.str]=i+n}),t.set(r);if(i=t.get(e),!u(i))throw new Error(Ka);return t.set(e,+i+n)}function P(t,e){return Ha(this,t,void 0===e?1:+e)}function T(t){this.event=t,this.method="on"+t,this.deprecate=tu[t]}function F(t,e){var n=t.indexOf(e);-1===n&&t.push(e)}function R(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]==e)return!0;return!1}function j(t,e){var n;if(!s(t)||!s(e))return!1;if(t.length!==e.length)return!1;for(n=t.length;n--;)if(t[n]!==e[n])return!1;return!0}function N(t){return"string"==typeof t?[t]:void 0===t?[]:t}function D(t){return t[t.length-1]}function I(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}function L(t){for(var e=[],n=t.length;n--;)e[n]=t[n];return e}function V(t){setTimeout(t,0)}function M(t,e){return function(){for(var n;n=t.shift();)n(e)}}function U(t,e,n,i){var r;if(e===t)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(e instanceof eu)e.then(n,i);else if(!e||"object"!=typeof e&&"function"!=typeof e)n(e);else{try{r=e.then}catch(s){return void i(s)}if("function"==typeof r){var o,a,u;a=function(e){o||(o=!0,U(t,e,n,i))},u=function(t){o||(o=!0,i(t))};try{r.call(e,a,u)}catch(s){if(!o)return i(s),void(o=!0)}}else n(e)}}function W(t,e,n){var i;return e=C(e),"~/"===e.substr(0,2)?(i=_(e.substring(2)),q(t,i.firstKey,n)):"."===e[0]?(i=z(au(n),e),i&&q(t,i.firstKey,n)):i=B(t,_(e),n),i}function z(t,e){var n;if(void 0!=t&&"string"!=typeof t&&(t=t.str),"."===e)return _(t);if(n=t?t.split("."):[],"../"===e.substr(0,3)){for(;"../"===e.substr(0,3);){if(!n.length)throw new Error('Could not resolve reference - too many "../" prefixes');n.pop(),e=e.substring(3)}return n.push(e),_(n.join("."))}return _(t?t+e.replace(/^\.\//,"."):e.replace(/^\.\/?/,""))}function B(t,e,n,i){var r,s,o,a,u;if(e.isRoot)return e;for(s=e.firstKey;n;)if(r=n.context,n=n.parent,r&&(a=!0,o=t.viewmodel.get(r),o&&("object"==typeof o||"function"==typeof o)&&s in o))return r.join(e.str);return $(t.viewmodel,s)?e:t.parent&&!t.isolated&&(a=!0,n=t.component.parentFragment,s=_(s),u=B(t.parent,s,n,!0))?(t.viewmodel.map(s,{origin:t.parent.viewmodel,keypath:u}),e):i||a?void 0:(t.viewmodel.set(e,void 0),e)}function q(t,e){var n;!t.parent||t.isolated||$(t.viewmodel,e)||(e=_(e),(n=B(t.parent,e,t.component.parentFragment,!0))&&t.viewmodel.map(e,{origin:t.parent.viewmodel,keypath:n}))}function $(t,e){return""===e||e in t.data||e in t.computations||e in t.mappings}function Q(t){t.teardown()}function Z(t){t.unbind()}function H(t){t.unrender()}function K(t){t.cancel()}function G(t){t.detach()}function Y(t){t.detachNodes()}function J(t){!t.ready||t.outros.length||t.outroChildren||(t.outrosComplete||(t.parent?t.parent.decrementOutros(t):t.detachNodes(),t.outrosComplete=!0),t.intros.length||t.totalChildren||("function"==typeof t.callback&&t.callback(),t.parent&&t.parent.decrementTotal()))}function X(){for(var t,e,n;cu.ractives.length;)e=cu.ractives.pop(),n=e.viewmodel.applyChanges(),n&&pu.fire(e,n);for(tt(),t=0;t<cu.views.length;t+=1)cu.views[t].update();for(cu.views.length=0,t=0;t<cu.tasks.length;t+=1)cu.tasks[t]();return cu.tasks.length=0,cu.ractives.length?X():void 0}function tt(){var t,e,n,i;for(t=du.length;t--;)e=du[t],e.keypath?du.splice(t,1):(n=uu(e.root,e.ref,e.parentFragment))&&((i||(i=[])).push({item:e,keypath:n}),du.splice(t,1));i&&i.forEach(et)}function et(t){t.item.resolve(t.keypath)}function nt(t,e,n){var i,r,s,o,a,u,h,c,l,f,d,p,m,v;if(i=new ou(function(t){return r=t}),"object"==typeof t){n=e||{},u=n.easing,h=n.duration,a=[],c=n.step,l=n.complete,(c||l)&&(d={},n.step=null,n.complete=null,f=function(t){return function(e,n){d[t]=n}});for(s in t)t.hasOwnProperty(s)&&((c||l)&&(p=f(s),n={easing:u,duration:h},c&&(n.step=p)),n.complete=l?p:Fa,a.push(it(this,s,t[s],n)));return v={easing:u,duration:h},c&&(v.step=function(t){return c(t,d)}),l&&i.then(function(t){return l(t,d)}),v.complete=r,m=it(this,null,null,v),a.push(m),i.stop=function(){for(var t;t=a.pop();)t.stop();m&&m.stop()},i}return n=n||{},n.complete&&i.then(n.complete),n.complete=r,o=it(this,t,e,n),i.stop=function(){return o.stop()},i}function it(t,e,n,i){var r,s,o,u;return e&&(e=_(C(e))),null!==e&&(u=t.viewmodel.get(e)),yu.abort(e,t),a(u,n)?(i.complete&&i.complete(i.to),ku):(i.easing&&(r="function"==typeof i.easing?i.easing:t.easing[i.easing],"function"!=typeof r&&(r=null)),s=void 0===i.duration?400:i.duration,o=new wu({keypath:e,from:u,to:n,root:t,duration:s,easing:r,interpolator:i.interpolator,step:i.step,complete:i.complete}),yu.add(o),t._animations.push(o),o)}function rt(){return this.detached?this.detached:(this.el&&I(this.el.__ractive_instances__,this),this.detached=this.fragment.detach(),_u.fire(this),this.detached)}function st(t){return this.el?this.fragment.find(t):null}function ot(t,e){var n;return n=this._isComponentQuery?!this.selector||t.name===this.selector:t.node?fa(t.node,this.selector):null,n?(this.push(t.node||t.instance),e||this._makeDirty(),!0):void 0}function at(t){var e;return(e=t.parentFragment)?e.owner:t.component&&(e=t.component.parentFragment)?e.owner:void 0}function ut(t){var e,n;for(e=[t],n=at(t);n;)e.push(n),n=at(n);return e}function ht(t,e,n,i){var r=[];return ka(r,{selector:{value:e},live:{value:n},_isComponentQuery:{value:i},_test:{value:Su}}),n?(ka(r,{cancel:{value:Cu},_root:{value:t},_sort:{value:Tu},_makeDirty:{value:Fu},_remove:{value:Ru},_dirty:{value:!1,writable:!0}}),r):r}function ct(t,e){var n,i;return this.el?(e=e||{},n=this._liveQueries,(i=n[t])?e&&e.live?i:i.slice():(i=ju(this,t,!!e.live,!1),i.live&&(n.push(t),n["_"+t]=i),this.fragment.findAll(t,i),i)):[]}function lt(t,e){var n,i;return e=e||{},n=this._liveComponentQueries,(i=n[t])?e&&e.live?i:i.slice():(i=ju(this,t,!!e.live,!0),i.live&&(n.push(t),n["_"+t]=i),this.fragment.findAllComponents(t,i),i)}function ft(t){return this.fragment.findComponent(t)}function dt(t){return this.container?this.container.component&&this.container.component.name===t?this.container:this.container.findContainer(t):null}function pt(t){return this.parent?this.parent.component&&this.parent.component.name===t?this.parent:this.parent.findParent(t):null}function mt(t,e){var n=void 0===arguments[2]?{}:arguments[2];if(e){n.event?n.event.name=e:n.event={name:e,_noArg:!0};var i=_(e).wildcardMatches();vt(t,i,n.event,n.args,!0)}}function vt(t,e,n,i){var r,s,o=void 0===arguments[4]?!1:arguments[4],a=!0;for(Uu.enqueue(t,n),s=e.length;s>=0;s--)r=t._subs[e[s]],r&&(a=gt(t,r,n,i)&&a);if(Uu.dequeue(t),t.parent&&a){if(o&&t.component){var u=t.component.name+"."+e[e.length-1];e=_(u).wildcardMatches(),n&&(n.component=t)}vt(t.parent,e,n,i)}}function gt(t,e,n,i){var r=null,s=!1;n&&!n._noArg&&(i=[n].concat(i)),e=e.slice();for(var o=0,a=e.length;a>o;o+=1)e[o].apply(t,i)===!1&&(s=!0);return n&&!n._noArg&&s&&(r=n.original)&&(r.preventDefault&&r.preventDefault(),r.stopPropagation&&r.stopPropagation()),!s}function yt(t){var e={args:Array.prototype.slice.call(arguments,1)};Wu(this,t,e)}function bt(t){var e;return t=_(C(t)),e=this.viewmodel.get(t,qu),void 0===e&&this.parent&&!this.isolated&&uu(this,t.str,this.component.parentFragment)&&(e=this.viewmodel.get(t)),e}function wt(e,n){if(!this.fragment.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(e=t(e),n=t(n)||null,!e)throw new Error("You must specify a valid target to insert into");e.insertBefore(this.detach(),n),this.el=e,(e.__ractive_instances__||(e.__ractive_instances__=[])).push(this),this.detached=null,xt(this)}function xt(t){Qu.fire(t),t.findAllComponents("*").forEach(function(t){xt(t.instance)})}function kt(t,e,n){var i,r;return t=_(C(t)),i=this.viewmodel.get(t),s(i)&&s(e)?(r=mu.start(this,!0),this.viewmodel.merge(t,i,e,n),mu.end(),r):this.set(t,e,n&&n.complete)}function Et(t,e){var n,i;return n=A(t,e),i={},n.forEach(function(e){i[e.str]=t.get(e.str)}),i}function _t(t,e,n,i){var r,s,o;e=_(C(e)),i=i||ah,e.isPattern?(r=new sh(t,e,n,i),t.viewmodel.patternObservers.push(r),s=!0):r=new Gu(t,e,n,i),r.init(i.init),t.viewmodel.register(e,r,s?"patternObservers":"observers"),r.ready=!0;var a={cancel:function(){var n;o||(s?(n=t.viewmodel.patternObservers.indexOf(r),t.viewmodel.patternObservers.splice(n,1),t.viewmodel.unregister(e,r,"patternObservers")):t.viewmodel.unregister(e,r,"observers"),o=!0)}};return t._observers.push(a),a}function At(t,e,n){var i,r,s,o;if(h(t)){n=e,r=t,i=[];for(t in r)r.hasOwnProperty(t)&&(e=r[t],i.push(this.observe(t,e,n)));return{cancel:function(){for(;i.length;)i.pop().cancel()}}}if("function"==typeof t)return n=e,e=t,t="",oh(this,t,e,n);if(s=t.split(" "),1===s.length)return oh(this,t,e,n);for(i=[],o=s.length;o--;)t=s[o],t&&i.push(oh(this,t,e,n));return{cancel:function(){for(;i.length;)i.pop().cancel()}}}function St(t,e,n){var i=this.observe(t,function(){e.apply(this,arguments),i.cancel()},{init:!1,defer:n&&n.defer});return i}function Ct(t,e){var n,i=this;if(t)n=t.split(" ").map(ch).filter(lh),n.forEach(function(t){var n,r;(n=i._subs[t])&&(e?(r=n.indexOf(e),-1!==r&&n.splice(r,1)):i._subs[t]=[])});else for(t in this._subs)delete this._subs[t];return this}function Ot(t,e){var n,i,r,s=this;if("object"==typeof t){n=[];for(i in t)t.hasOwnProperty(i)&&n.push(this.on(i,t[i]));return{cancel:function(){for(var t;t=n.pop();)t.cancel()}}}return r=t.split(" ").map(ch).filter(lh),r.forEach(function(t){(s._subs[t]||(s._subs[t]=[])).push(e)}),{cancel:function(){return s.off(t,e)}}}function Pt(t,e){var n=this.on(t,function(){e.apply(this,arguments),n.cancel()});return n}function Tt(t,e,n){var i,r,s,o,a,u,h=[];if(i=Ft(t,e,n),!i)return null;for(r=t.length,a=i.length-2-i[1],s=Math.min(r,i[0]),o=s+i[1],u=0;s>u;u+=1)h.push(u);for(;o>u;u+=1)h.push(-1);for(;r>u;u+=1)h.push(u+a);return h.touchedFrom=0!==a?i[0]:t.length,h}function Ft(t,e,n){switch(e){case"splice":for(void 0!==n[0]&&n[0]<0&&(n[0]=t.length+Math.max(n[0],-t.length));n.length<2;)n.push(0);return n[1]=Math.min(n[1],t.length-n[0]),n;case"sort":case"reverse":return null;case"pop":return t.length?[t.length-1,1]:[0,0];case"push":return[t.length,0].concat(n);case"shift":return[0,t.length?1:0];case"unshift":return[0,0].concat(n)}}function Rt(e,n){var i,r,s,o=this;if(s=this.transitionsEnabled,this.noIntro&&(this.transitionsEnabled=!1),i=mu.start(this,!0),mu.scheduleTask(function(){return Ch.fire(o)},!0),this.fragment.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");if(e=t(e)||this.el,n=t(n)||this.anchor,this.el=e,this.anchor=n,!this.append&&e){var a=e.__ractive_instances__;a&&a.length&&jt(a),e.innerHTML=""}return this.cssId&&Ah.apply(),e&&((r=e.__ractive_instances__)?r.push(this):e.__ractive_instances__=[this],n?e.insertBefore(this.fragment.render(),n):e.appendChild(this.fragment.render())),mu.end(),this.transitionsEnabled=s,i.then(function(){return Oh.fire(o)})}function jt(t){t.splice(0,t.length).forEach(Q)}function Nt(t,e){for(var n=t.slice(),i=e.length;i--;)~n.indexOf(e[i])||n.push(e[i]);return n}function Dt(t,e){var n,i,r;return i='[data-ractive-css~="{'+e+'}"]',r=function(t){var e,n,r,s,o,a,u,h=[];for(e=[];n=Nh.exec(t);)e.push({str:n[0],base:n[1],modifiers:n[2]});for(s=e.map(Lt),u=e.length;u--;)a=s.slice(),r=e[u],a[u]=r.base+i+r.modifiers||"",o=s.slice(),o[u]=i+" "+o[u],h.push(a.join(" "),o.join(" "));return h.join(", ")},n=Ih.test(t)?t.replace(Ih,i):t.replace(jh,"").replace(Rh,function(t,e){var n,i;return Dh.test(e)?t:(n=e.split(",").map(It),i=n.map(r).join(", ")+" ",t.replace(e,i))})}function It(t){return t.trim?t.trim():t.replace(/^\s+/,"").replace(/\s+$/,"")}function Lt(t){return t.str}function Vt(t){t&&t.constructor!==Object&&("function"==typeof t||("object"!=typeof t?l("data option must be an object or a function, `"+t+"` is not valid"):m("If supplied, options.data should be a plain JavaScript object - using a non-POJO as the root object may work, but is discouraged")))}function Mt(t,e){Vt(e);var n="function"==typeof t,i="function"==typeof e;return e||n||(e={}),n||i?function(){var r=i?Ut(e,this):e,s=n?Ut(t,this):t;return Wt(r,s)}:Wt(e,t)}function Ut(t,e){var n=t.call(e);if(n)return"object"!=typeof n&&l("Data function must return an object"),n.constructor!==Object&&v("Data function returned something other than a plain JavaScript object. This might work, but is strongly discouraged"),n}function Wt(t,e){if(t&&e){for(var n in e)n in t||(t[n]=e[n]);return t}return t||e}function zt(t){var e,n,i;return t.matchString("=")?(e=t.pos,t.allowWhitespace(),(n=t.matchPattern(jc))?t.matchPattern(Nc)?(i=t.matchPattern(jc))?(t.allowWhitespace(),t.matchString("=")?[n,i]:(t.pos=e,null)):(t.pos=e,null):null:(t.pos=e,null)):null}function Bt(t){var e;return(e=t.matchPattern(Ic))?{t:pc,v:e}:null}function qt(t){var e,n;if(t.interpolate[t.inside]===!1)return null;for(n=0;n<t.tags.length;n+=1)if(e=$t(t,t.tags[n]))return e}function $t(t,e){var n,i,r,s;if(n=t.pos,t.matchString("\\"+e.open)){if(0===n||"\\"!==t.str[n-1])return e.open}else if(!t.matchString(e.open))return null;if(i=Rc(t))return t.matchString(e.close)?(e.open=i[0],e.close=i[1],t.sortMustacheTags(),Vc):null;if(t.allowWhitespace(),t.matchString("/")){t.pos-=1;var o=t.pos;Dc(t)?t.pos=o:(t.pos=o-e.close.length,t.error("Attempted to close a section that wasn't open"))}for(s=0;s<e.readers.length;s+=1)if(r=e.readers[s],i=r(t,e))return e.isStatic&&(i.s=!0),t.includeLinePositions&&(i.p=t.getLinePos(n)),i;return t.pos=n,null}function Qt(t){var e;return(e=t.matchPattern(zc))?{t:hc,v:e}:null}function Zt(t){var e=t.remaining();return"true"===e.substr(0,4)?(t.pos+=4,{t:dc,v:"true"}):"false"===e.substr(0,5)?(t.pos+=5,{t:dc,v:"false"}):null}function Ht(t){var e;return(e=Kc(t))?Jc.test(e.v)?e.v:'"'+e.v.replace(/"/g,'\\"')+'"':(e=Wc(t))?e.v:(e=t.matchPattern(Gc))?e:void 0}function Kt(t){var e,n,i;return e=t.pos,t.allowWhitespace(),n=Yc(t),null===n?(t.pos=e,null):(t.allowWhitespace(),t.matchString(":")?(t.allowWhitespace(),i=Ol(t),null===i?(t.pos=e,null):{t:vc,k:n,v:i}):(t.pos=e,null))}function Gt(t){var e,n,i,r;return e=t.pos,i=Xc(t),null===i?null:(n=[i],t.matchString(",")?(r=Gt(t),r?n.concat(r):(t.pos=e,null)):n)}function Yt(t){function e(t){i.push(t)}var n,i,r,s;return n=t.pos,t.allowWhitespace(),r=Ol(t),null===r?null:(i=[r],t.allowWhitespace(),t.matchString(",")&&(s=Yt(t),null===s&&t.error(Mc),s.forEach(e)),i)}function Jt(t){return Wc(t)||Bc(t)||Kc(t)||el(t)||il(t)||Dc(t)}function Xt(t){var e,n,i,r,s,o;return e=t.pos,i=t.matchPattern(/^@(?:keypath|index|key)/),i||(n=t.matchPattern(ol)||"",i=!n&&t.relaxedNames&&t.matchPattern(cl)||t.matchPattern(hl),i||"."!==n||(n="",i=".")),i?n||t.relaxedNames||!$c.test(i)?!n&&qc.test(i)?(r=qc.exec(i)[0],t.pos=e+r.length,{t:mc,v:r}):(s=(n||"")+C(i),t.matchString("(")&&(o=s.lastIndexOf("."),-1!==o?(s=s.substr(0,o),t.pos=e+s.length):t.pos-=1),{t:gc,n:s.replace(/^this\./,"./").replace(/^this$/,".")}):(t.pos=e,null):null}function te(t){var e,n;return e=t.pos,t.matchString("(")?(t.allowWhitespace(),n=Ol(t),n||t.error(Mc),t.allowWhitespace(),t.matchString(")")||t.error(Uc),{t:xc,x:n}):null}function ee(t){var e,n,i;if(e=t.pos,t.allowWhitespace(),t.matchString(".")){if(t.allowWhitespace(),n=t.matchPattern(Gc))return{t:yc,n:n};t.error("Expected a property name")}return t.matchString("[")?(t.allowWhitespace(),i=Ol(t),i||t.error(Mc),t.allowWhitespace(),t.matchString("]")||t.error("Expected ']'"),{t:yc,x:i}):null}function ne(t){var e,n,i,r;return(n=Sl(t))?(e=t.pos,t.allowWhitespace(),t.matchString("?")?(t.allowWhitespace(),i=Ol(t),i||t.error(Mc),t.allowWhitespace(),t.matchString(":")||t.error('Expected ":"'),t.allowWhitespace(),r=Ol(t),r||t.error(Mc),{t:kc,o:[n,i,r]}):(t.pos=e,n)):null}function ie(t){return Cl(t)}function re(t){function e(t){switch(t.t){case dc:case mc:case hc:case pc:return t.v;case cc:return JSON.stringify(String(t.v));case lc:return"["+(t.m?t.m.map(e).join(","):"")+"]";case fc:return"{"+(t.m?t.m.map(e).join(","):"")+"}";case vc:return t.k+":"+e(t.v);case wc:return("typeof"===t.s?"typeof ":t.s)+e(t.o);case Ec:return e(t.o[0])+("in"===t.s.substr(0,2)?" "+t.s+" ":t.s)+e(t.o[1]);case _c:return e(t.x)+"("+(t.o?t.o.map(e).join(","):"")+")";case xc:return"("+e(t.x)+")";case bc:return e(t.x)+e(t.r);case yc:return t.n?"."+t.n:"["+e(t.x)+"]";case kc:return e(t.o[0])+"?"+e(t.o[1])+":"+e(t.o[2]);case gc:return"_"+n.indexOf(t.n);default:throw new Error("Expected legal JavaScript")}}var n;return se(t,n=[]),{r:n,s:e(t)}}function se(t,e){var n,i;if(t.t===gc&&-1===e.indexOf(t.n)&&e.unshift(t.n),i=t.o||t.m)if(h(i))se(i,e);else for(n=i.length;n--;)se(i[n],e);t.x&&se(t.x,e),t.r&&se(t.r,e),t.v&&se(t.v,e)}function oe(t,e){var n;if(t){for(;t.t===xc&&t.x;)t=t.x;return t.t===gc?e.r=t.n:t.t===hc&&Fl.test(t.v)?e.r=t.v:(n=ae(t))?e.rx=n:e.x=Pl(t),e}}function ae(t){for(var e,n=[];t.t===bc&&t.r.t===yc;)e=t.r,n.unshift(e.x?e.x.t===gc?e.x:Pl(e.x):e.n),t=t.x;return t.t!==gc?null:{r:t.n,m:n}}function ue(t,e){var n,i=Ol(t);return i?(t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),n={t:Kh},Tl(i,n),n):null}function he(t,e){var n,i;return t.matchString("&")?(t.allowWhitespace(),(n=Ol(t))?(t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),i={t:Kh},Tl(n,i),i):null):null}function ce(t,e){var n,i,r,s,o;return n=t.pos,t.matchString(">")?(t.allowWhitespace(),i=t.pos,t.relaxedNames=!0,r=Ol(t),t.relaxedNames=!1,t.allowWhitespace(),s=Ol(t),t.allowWhitespace(),r?(o={t:tc},Tl(r,o),t.allowWhitespace(),s&&(o={t:Gh,n:Oc,f:[o]},Tl(s,o)),t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),o):null):null}function le(t,e){var n;return t.matchString("!")?(n=t.remaining().indexOf(e.close),-1!==n?(t.pos+=n+e.close.length,{t:ec}):void 0):null}function fe(t,e){var n,i,r;if(n=t.pos,i=Ol(t),!i)return null;for(r=0;r<e.length;r+=1)if(t.remaining().substr(0,e[r].length)===e[r])return i;return t.pos=n,sl(t)}function de(t,e){var n,i,r,s;n=t.pos;try{i=Il(t,[e.close])}catch(o){s=o}if(!i){if("!"===t.str.charAt(n))return t.pos=n,null;if(s)throw s}if(!t.matchString(e.close)&&(t.error("Expected closing delimiter '"+e.close+"' after reference"),!i)){if("!"===t.nextChar())return null;t.error("Expected expression or legal reference")}return r={t:Hh},Tl(i,r),r}function pe(t,e){var n,i,r;return t.matchPattern(Ml)?(n=t.pos,i=t.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/),t.allowWhitespace(),t.matchString(e.close)||t.error("expected legal partial name"),r={t:oc},i&&(r.n=i),r):null}function me(t,e){var n,i,r,s;return n=t.pos,t.matchString(e.open)?(t.allowWhitespace(),t.matchString("/")?(t.allowWhitespace(),i=t.remaining(),r=i.indexOf(e.close),-1!==r?(s={t:Jh,r:i.substr(0,r).split(" ")[0]},t.pos+=r,t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),s):(t.pos=n,null)):(t.pos=n,null)):null}function ve(t,e){var n=t.pos;return t.matchString(e.open)?t.matchPattern(zl)?(t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),{t:Tc}):(t.pos=n,null):null}function ge(t,e){var n,i=t.pos;return t.matchString(e.open)?t.matchPattern(ql)?(n=Ol(t),t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),{t:Fc,x:n}):(t.pos=i,null):null}function ye(t,e){var n,i,r,s,o,a,u,h,c,l,f,d;if(n=t.pos,t.matchString("^"))r={t:Gh,f:[],n:Sc};else{if(!t.matchString("#"))return null;r={t:Gh,f:[]},t.matchString("partial")&&(t.pos=n-t.standardDelimiters[0].length,t.error("Partial definitions can only be at the top level of the template, or immediately inside components")),(u=t.matchPattern(Kl))&&(d=u,r.n=$l[u])}if(t.allowWhitespace(),i=Ol(t),i||t.error("Expected expression"),f=t.matchPattern(Zl)){var p=void 0;r.i=(p=t.matchPattern(Hl))?f+","+p:f}t.allowWhitespace(),t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),t.sectionDepth+=1,o=r.f,c=[];do if(s=Ul(t,e))d&&s.r!==d&&t.error("Expected "+e.open+"/"+d+e.close),t.sectionDepth-=1,l=!0;else if(s=Bl(t,e))r.n===Sc&&t.error("{{else}} not allowed in {{#unless}}"),a&&t.error("illegal {{elseif...}} after {{else}}"),h||(h=be(i,r.n)),h.f.push({t:Gh,n:Ac,x:Pl(xe(c.concat(s.x))),f:o=[]}),c.push(we(s.x));else if(s=Wl(t,e))r.n===Sc&&t.error("{{else}} not allowed in {{#unless}}"),a&&t.error("there can only be one {{else}} block, at the end of a section"),a=!0,h?h.f.push({t:Gh,n:Ac,x:Pl(xe(c)),f:o=[]}):(h=be(i,r.n),o=h.f);else{if(s=t.read(td),!s)break;o.push(s)}while(!l);return h&&(r.n===Oc&&(r.n=Pc),r.l=h),Tl(i,r),r.f.length||delete r.f,r}function be(t,e){var n;return e===Oc?(n={t:Gh,n:Ac,f:[]},Tl(we(t),n)):(n={t:Gh,n:Sc,f:[]},Tl(t,n)),n}function we(t){return t.t===wc&&"!"===t.s?t.o:{t:wc,s:"!",o:ke(t)}}function xe(t){return 1===t.length?t[0]:{t:Ec,s:"&&",o:[ke(t[0]),ke(xe(t.slice(1)))]}}function ke(t){return{t:xc,x:t}}function Ee(t){var e,n,i,r,s;return e=t.pos,t.matchString(Yl)?(i=t.remaining(),r=i.indexOf(Jl),-1===r&&t.error("Illegal HTML - expected closing comment sequence ('-->')"),n=i.substr(0,r),t.pos+=r+3,s={t:ec,c:n},t.includeLinePositions&&(s.p=t.getLinePos(e)),s):null}function _e(t){return t.replace(kl,function(t,e){var n;return n="#"!==e[0]?wl[e]:"x"===e[1]?parseInt(e.substring(2),16):parseInt(e.substring(1),10),n?String.fromCharCode(Ae(n)):t})}function Ae(t){return t?10===t?32:128>t?t:159>=t?xl[t-128]:55296>t?t:57343>=t?65533:65535>=t?t:65533:65533}function Se(t){return t.replace(Al,"&amp;").replace(El,"&lt;").replace(_l,"&gt;")}function Ce(t){return"string"==typeof t}function Oe(t){return t.t===ec||t.t===nc}function Pe(t){return(t.t===Gh||t.t===Yh)&&t.f}function Te(t,e,n,i,r){var o,a,u,h,c,l,f,d;for(hf(t),o=t.length;o--;)a=t[o],a.exclude?t.splice(o,1):e&&a.t===ec&&t.splice(o,1);for(cf(t,i?pf:null,r?mf:null),o=t.length;o--;){if(a=t[o],a.f){var p=a.t===Xh&&df.test(a.e);c=n||p,!n&&p&&cf(a.f,vf,gf),c||(u=t[o-1],h=t[o+1],(!u||"string"==typeof u&&mf.test(u))&&(l=!0),(!h||"string"==typeof h&&pf.test(h))&&(f=!0)),Te(a.f,e,c,l,f)}if(a.l&&(Te(a.l.f,e,n,l,f),t.splice(o+1,0,a.l),delete a.l),a.a)for(d in a.a)a.a.hasOwnProperty(d)&&"string"!=typeof a.a[d]&&Te(a.a[d],e,n,l,f);if(a.m&&Te(a.m,e,n,l,f),a.v)for(d in a.v)a.v.hasOwnProperty(d)&&(s(a.v[d].n)&&Te(a.v[d].n,e,n,l,f),s(a.v[d].d)&&Te(a.v[d].d,e,n,l,f))}for(o=t.length;o--;)"string"==typeof t[o]&&("string"==typeof t[o+1]&&(t[o]=t[o]+t[o+1],t.splice(o+1,1)),n||(t[o]=t[o].replace(ff," ")),""===t[o]&&t.splice(o,1))}function Fe(t){var e,n;return e=t.pos,t.matchString("</")?(n=t.matchPattern(bf))?t.inside&&n!==t.inside?(t.pos=e,null):{t:rc,e:n}:(t.pos-=2,void t.error("Illegal closing tag")):null}function Re(t){var e,n,i;return t.allowWhitespace(),(n=t.matchPattern(kf))?(e={name:n},i=je(t),null!=i&&(e.value=i),e):null}function je(t){var e,n,i,r;return e=t.pos,/[=\/>\s]/.test(t.nextChar())||t.error("Expected `=`, `/`, `>` or whitespace"),t.allowWhitespace(),t.matchString("=")?(t.allowWhitespace(),n=t.pos,i=t.sectionDepth,r=Ie(t,"'")||Ie(t,'"')||De(t),null===r&&t.error("Expected valid attribute value"),t.sectionDepth!==i&&(t.pos=n,t.error("An attribute value must contain as many opening section tags as closing section tags")),r.length?1===r.length&&"string"==typeof r[0]?_e(r[0]):r:""):(t.pos=e,null)}function Ne(t){var e,n,i,r,s;return e=t.pos,(n=t.matchPattern(Ef))?(i=n,r=t.tags.map(function(t){return t.open}),-1!==(s=wf(i,r))&&(n=n.substr(0,s),t.pos=e+n.length),n):null}function De(t){var e,n;for(t.inAttribute=!0,e=[],n=Lc(t)||Ne(t);null!==n;)e.push(n),n=Lc(t)||Ne(t);return e.length?(t.inAttribute=!1,e):null}function Ie(t,e){var n,i,r;if(n=t.pos,!t.matchString(e))return null;for(t.inAttribute=e,i=[],r=Lc(t)||Le(t,e);null!==r;)i.push(r),r=Lc(t)||Le(t,e);return t.matchString(e)?(t.inAttribute=!1,i):(t.pos=n,null)}function Le(t,e){var n,i,r,s;return n=t.pos,r=t.remaining(),s=t.tags.map(function(t){return t.open}),s.push(e),i=wf(r,s),-1===i&&t.error("Quoted attribute value must have a closing quote"),i?(t.pos+=i,r.substr(0,i)):null}function Ve(t){var e,n,i;return t.allowWhitespace(),(e=Yc(t))?(i={key:e},t.allowWhitespace(),t.matchString(":")?(t.allowWhitespace(),(n=t.read())?(i.value=n.v,i):null):null):null}function Me(t,e){var n,i,r,s,o,a,u,h,c;if("string"==typeof t){if(i=Cf.exec(t)){var l=t.lastIndexOf(")");return Of.test(t)||e.error("Invalid input after method call expression '"+t.slice(l+1)+"'"),n={m:i[1]},s="["+t.slice(n.m.length+1,l)+"]",r=new _f(s),n.a=Pl(r.result[0]),n}if(-1===t.indexOf(":"))return t.trim();t=[t]}if(n={},u=[],h=[],t){for(;t.length;)if(o=t.shift(),"string"==typeof o){if(a=o.indexOf(":"),-1!==a){a&&u.push(o.substr(0,a)),o.length>a+1&&(h[0]=o.substring(a+1));break}u.push(o)}else u.push(o);h=h.concat(t)}return u.length?h.length||"string"!=typeof u?(n={n:1===u.length&&"string"==typeof u[0]?u[0]:u},1===h.length&&"string"==typeof h[0]?(c=Af("["+h[0]+"]"),n.a=c?c.value:h[0].trim()):n.d=h):n=u:n="",n}function Ue(t){var e,n,i,r,s,o,a,u,h,c,l,f,d,p,m,v;if(e=t.pos,t.inside||t.inAttribute)return null;if(!t.matchString("<"))return null;if("/"===t.nextChar())return null;if(n={},t.includeLinePositions&&(n.p=t.getLinePos(e)),t.matchString("!"))return n.t=uc,t.matchPattern(/^doctype/i)||t.error("Expected DOCTYPE declaration"),n.a=t.matchPattern(/^(.+?)>/),n;if(n.t=Xh,n.e=t.matchPattern(Tf),!n.e)return null;for(Ff.test(t.nextChar())||t.error("Illegal tag name"),s=function(e,i){var r=i.n||i;Nf.test(r)&&(t.pos-=r.length,t.error("Cannot use reserved event names (change, reset, teardown, update, construct, config, init, render, unrender, detach, insert)")),n.v[e]=i},t.allowWhitespace();o=Lc(t)||xf(t);)o.name?(i=Df[o.name])?n[i]=Sf(o.value,t):(r=jf.exec(o.name))?(n.v||(n.v={}),a=Sf(o.value,t),s(r[1],a)):t.sanitizeEventAttributes&&Rf.test(o.name)||(n.a||(n.a={}),n.a[o.name]=o.value||(""===o.value?"":0)):(n.m||(n.m=[]),n.m.push(o)),t.allowWhitespace();if(t.allowWhitespace(),t.matchString("/")&&(u=!0),!t.matchString(">"))return null;var g=n.e.toLowerCase(),y=t.preserveWhitespace;if(!u&&!bl.test(n.e)){t.elementStack.push(g),("script"===g||"style"===g)&&(t.inside=g),h=[],c=wa(null);do if(p=t.pos,m=t.remaining(),We(g,m))if(v=yf(t)){d=!0;var b=v.e.toLowerCase();if(b!==g&&(t.pos=p,!~t.elementStack.indexOf(b))){var w="Unexpected closing tag";bl.test(b)&&(w+=" (<"+b+"> is a void element - it cannot contain children)"),t.error(w)}}else(f=Ul(t,{open:t.standardDelimiters[0],close:t.standardDelimiters[1]}))?(d=!0,t.pos=p):(f=t.read(ed))?(c[f.n]&&(t.pos=p,t.error("Duplicate partial definition")),lf(f.f,t.stripComments,y,!y,!y),c[f.n]=f.f,l=!0):(f=t.read(td))?h.push(f):d=!0;else d=!0;while(!d);h.length&&(n.f=h),l&&(n.p=c),t.elementStack.pop()}return t.inside=null,t.sanitizeElements&&-1!==t.sanitizeElements.indexOf(g)?If:n}function We(t,e){var n,i;return n=/^<([a-zA-Z][a-zA-Z0-9]*)/.exec(e),i=Pf[t],n&&i?!~i.indexOf(n[1].toLowerCase()):!0}function ze(t){var e,n,i,r;return n=t.remaining(),r=t.inside?"</"+t.inside:"<",t.inside&&!t.interpolate[t.inside]?e=n.indexOf(r):(i=t.tags.map(function(t){return t.open}),i=i.concat(t.tags.map(function(t){return"\\"+t.open})),t.inAttribute===!0?i.push('"',"'","=","<",">","`"):i.push(t.inAttribute?t.inAttribute:r),e=wf(n,i)),e?(-1===e&&(e=n.length),t.pos+=e,t.inside?n.substr(0,e):_e(n.substr(0,e))):null}function Be(t){return t.replace(Wf,"\\$&")}function qe(t){var e=t.pos,n=t.standardDelimiters[0],i=t.standardDelimiters[1],r=void 0,s=void 0;if(!t.matchPattern(Bf)||!t.matchString(n))return t.pos=e,null;var o=t.matchPattern(qf);if(v("Inline partial comments are deprecated.\nUse this...\n  {{#partial "+o+"}} ... {{/partial}}\n\n...instead of this:\n  <!-- {{>"+o+"}} --> ... <!-- {{/"+o+"}} -->'"),!t.matchString(i)||!t.matchPattern($f))return t.pos=e,null;r=[];var a=new RegExp("^<!--\\s*"+Uf(n)+"\\s*\\/\\s*"+o+"\\s*"+Uf(i)+"\\s*-->");do t.matchPattern(a)?s=!0:(Lf=t.read(td),Lf||t.error("expected closing comment ('<!-- "+n+"/"+o+i+" -->')"),r.push(Lf));while(!s);return{t:ac,f:r,n:o}}function $e(t){var e,n,i,r,s;e=t.pos;var o=t.standardDelimiters;if(!t.matchString(o[0]))return null;if(!t.matchPattern(Zf))return t.pos=e,null;n=t.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/),n||t.error("expected legal partial name"),t.matchString(o[1])||t.error("Expected closing delimiter '"+o[1]+"'"),i=[];do(r=Ul(t,{open:t.standardDelimiters[0],close:t.standardDelimiters[1]}))?("partial"===!r.r&&t.error("Expected "+o[0]+"/partial"+o[1]),s=!0):(r=t.read(td),r||t.error("Expected "+o[0]+"/partial"+o[1]),i.push(r));while(!s);return{t:ac,n:n,f:i}}function Qe(t){for(var e=[],n=wa(null),i=!1,r=t.preserveWhitespace;t.pos<t.str.length;){var s=t.pos,o=void 0,a=void 0;(a=t.read(ed))?(n[a.n]&&(t.pos=s,t.error("Duplicated partial definition")),lf(a.f,t.stripComments,r,!r,!r),n[a.n]=a.f,i=!0):(o=t.read(td))?e.push(o):t.error("Unexpected template content");

}var u={v:oa,t:e};return i&&(u.p=n),u}function Ze(t,e){return new Xf(t,e||{}).result}function He(t){var e=wa(od);return e.parse=function(e,n){return Ke(e,n||t)},e}function Ke(t,e){if(!Kf)throw new Error("Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser");return Kf(t,e||this.options)}function Ge(t,e){var n;if(!Xo){if(e&&e.noThrow)return;throw new Error("Cannot retrieve template #"+t+" as Ractive is not running in a browser.")}if(Ye(t)&&(t=t.substring(1)),!(n=document.getElementById(t))){if(e&&e.noThrow)return;throw new Error("Could not find template element with id #"+t)}if("SCRIPT"!==n.tagName.toUpperCase()){if(e&&e.noThrow)return;throw new Error("Template element with id #"+t+", must be a <script> element")}return"textContent"in n?n.textContent:n.innerHTML}function Ye(t){return t&&"#"===t[0]}function Je(t){return!("string"==typeof t)}function Xe(t){return t.defaults&&(t=t.defaults),sd.reduce(function(e,n){return e[n]=t[n],e},{})}function tn(t){var e,n=t._config.template;if(n&&n.fn)return e=en(t,n.fn),e!==n.result?(n.result=e,e=rn(e,t)):void 0}function en(t,e){var n=nn(ad.getParseOptions(t));return e.call(t,n)}function nn(t){var e=wa(ad);return e.parse=function(e,n){return ad.parse(e,n||t)},e}function rn(t,e){if("string"==typeof t)"#"===t[0]&&(t=ad.fromId(t)),t=Kf(t,ad.getParseOptions(e));else{if(void 0==t)throw new Error("The template cannot be "+t+".");if("number"!=typeof t.v)throw new Error("The template parser was passed a non-string template, but the template doesn't have a version.  Make sure you're passing in the template you think you are.");if(t.v!==oa)throw new Error("Mismatched template version (expected "+oa+", got "+t.v+") Please ensure you are using the latest version of Ractive.js in your build process as well as in your app")}return t}function sn(t,e,n){if(e)for(var i in e)(n||!t.hasOwnProperty(i))&&(t[i]=e[i])}function on(t,e,n){if(!/_super/.test(n))return n;var i=function(){var t,r=an(i._parent,e),s="_super"in this,o=this._super;return this._super=r,t=n.apply(this,arguments),s?this._super=o:delete this._super,t};return i._parent=t,i._method=n,i}function an(t,e){var n,i;return e in t?(n=t[e],i="function"==typeof n?n:function(){return n}):i=Fa,i}function un(t,e,n){return"options."+t+" has been deprecated in favour of options."+e+"."+(n?" You cannot specify both options, please use options."+e+".":"")}function hn(t,e,n){if(e in t){if(n in t)throw new Error(un(e,n,!0));m(un(e,n)),t[n]=t[e]}}function cn(t){hn(t,"beforeInit","onconstruct"),hn(t,"init","onrender"),hn(t,"complete","oncomplete"),hn(t,"eventDefinitions","events"),s(t.adaptors)&&hn(t,"adaptors","adapt")}function ln(t,e,n,i){yd(i);for(var r in i)if(md.hasOwnProperty(r)){var s=i[r];"el"!==r&&"function"==typeof s?m(""+r+" is a Ractive option that does not expect a function and will be ignored","init"===t?n:null):n[r]=s}vd.forEach(function(r){r[t](e,n,i)}),Th[t](e,n,i),hd[t](e,n,i),Mh[t](e,n,i),fn(e.prototype,n,i)}function fn(t,e,n){for(var i in n)if(!pd[i]&&n.hasOwnProperty(i)){var r=n[i];"function"==typeof r&&(r=gd(t,i,r)),e[i]=r}}function dn(t){var e={};return t.forEach(function(t){return e[t]=!0}),e}function pn(){this.dirtyValue=this.dirtyArgs=!0,this.bound&&"function"==typeof this.owner.bubble&&this.owner.bubble()}function mn(){var t;return 1===this.items.length?this.items[0].detach():(t=document.createDocumentFragment(),this.items.forEach(function(e){var n=e.detach();n&&t.appendChild(n)}),t)}function vn(t){var e,n,i,r;if(this.items){for(n=this.items.length,e=0;n>e;e+=1)if(i=this.items[e],i.find&&(r=i.find(t)))return r;return null}}function gn(t,e){var n,i,r;if(this.items)for(i=this.items.length,n=0;i>n;n+=1)r=this.items[n],r.findAll&&r.findAll(t,e);return e}function yn(t,e){var n,i,r;if(this.items)for(i=this.items.length,n=0;i>n;n+=1)r=this.items[n],r.findAllComponents&&r.findAllComponents(t,e);return e}function bn(t){var e,n,i,r;if(this.items){for(e=this.items.length,n=0;e>n;n+=1)if(i=this.items[n],i.findComponent&&(r=i.findComponent(t)))return r;return null}}function wn(t){var e,n=t.index;return e=this.items[n+1]?this.items[n+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)}function xn(){return this.items&&this.items[0]?this.items[0].firstNode():null}function kn(t,e,n,i){return i=i||0,t.map(function(t){var r,s,o;return t.text?t.text:t.fragments?t.fragments.map(function(t){return kn(t.items,e,n,i)}).join(""):(r=n+"-"+i++,o=t.keypath&&(s=t.root.viewmodel.wrapped[t.keypath.str])?s.value:t.getValue(),e[r]=o,"${"+r+"}")}).join("")}function En(){var t,e,n,i;return this.dirtyArgs&&(e=Od(this.items,t={},this.root._guid),n=Af("["+e+"]",t),i=n?n.value:[this.toString()],this.argsList=i,this.dirtyArgs=!1),this.argsList}function _n(){var t=this;do if(t.pElement)return t.pElement.node;while(t=t.parent);return this.root.detached||this.root.el}function An(){var t,e,n,i;return this.dirtyValue&&(e=Od(this.items,t={},this.root._guid),n=Af(e,t),i=n?n.value:this.toString(),this.value=i,this.dirtyValue=!1),this.value}function Sn(){this.registered&&this.root.viewmodel.unregister(this.keypath,this),this.resolver&&this.resolver.unbind()}function Cn(){return this.value}function On(t,e){for(var n,i=0;i<e.prop.length;i++)if(void 0!==(n=t[e.prop[i]]))return n}function Pn(t,e){var n,i,r,s,o,a={},u=!1;for(e||(a.refs=n={});t;){if((o=t.owner)&&(i=o.indexRefs)){if(e&&(r=o.getIndexRef(e)))return a.ref={fragment:t,ref:r},a;if(!e)for(s in i)r=i[s],n[r.n]||(u=!0,n[r.n]={fragment:t,ref:r})}!t.parent&&t.owner&&t.owner.component&&t.owner.component.parentFragment&&!t.owner.component.instance.isolated?(a.componentBoundary=!0,t=t.owner.component.parentFragment):t=t.parent}return u?a:void 0}function Tn(t,e,n){var i;return"@"===e.charAt(0)?new Wd(t,e,n):(i=qd(t.parentFragment,e))?new Bd(t,i,n):new Vd(t,e,n)}function Fn(t,e){var n,i;if(Hd[t])return Hd[t];for(i=[];e--;)i[e]="_"+e;return n=new Function(i.join(","),"return("+t+")"),Hd[t]=n,n}function Rn(t){return t.call()}function jn(t,e){return t.replace(/_([0-9]+)/g,function(t,n){var i,r;return+n>=e.length?"_"+n:(i=e[n],void 0===i?"undefined":i.isSpecial?(r=i.value,"number"==typeof r?r:'"'+r+'"'):i.str)})}function Nn(t){return _("${"+t.replace(/[\.\[\]]/g,"-").replace(/\*/,"#MUL#")+"}")}function Dn(t){return void 0!==t&&"@"!==t[0]}function In(t,e){var n,i,r;if(t.__ractive_nowrap)return t;if(i="__ractive_"+e._guid,n=t[i])return n;if(/this/.test(t.toString())){xa(t,i,{value:Kd.call(t,e),configurable:!0});for(r in t)t.hasOwnProperty(r)&&(t[i][r]=t[r]);return e._boundFunctions.push({fn:t,prop:i}),t[i]}return xa(t,"__ractive_nowrap",{value:t}),t.__ractive_nowrap}function Ln(t){return t.value}function Vn(t){return void 0!=t}function Mn(t){t.forceResolution()}function Un(t,e){function n(e){t.resolve(e)}function i(e){var n=t.keypath;e!=n&&(t.resolve(e),void 0!==n&&t.fragments&&t.fragments.forEach(function(t){t.rebind(n,e)}))}var r,s,o;s=e.parentFragment,o=e.template,t.root=s.root,t.parentFragment=s,t.pElement=s.pElement,t.template=e.template,t.index=e.index||0,t.isStatic=e.template.s,t.type=e.template.t,t.registered=!1,(r=o.r)&&(t.resolver=Qd(t,r,n)),e.template.x&&(t.resolver=new Gd(t,s,e.template.x,i)),e.template.rx&&(t.resolver=new tp(t,e.template.rx,i)),t.template.n!==Sc||t.hasOwnProperty("value")||t.setValue(void 0)}function Wn(t){var e,n,i;return t&&t.isSpecial?(this.keypath=t,void this.setValue(t.value)):(this.registered&&(this.root.viewmodel.unregister(this.keypath,this),this.registered=!1,e=!0),this.keypath=t,void 0!=t&&(n=this.root.viewmodel.get(t),this.root.viewmodel.register(t,this),this.registered=!0),this.setValue(n),void(e&&(i=this.twowayBinding)&&i.rebound()))}function zn(t,e){this.fragments&&this.fragments.forEach(function(n){return n.rebind(t,e)}),this.resolver&&this.resolver.rebind(t,e)}function Bn(){this.parentFragment.bubble()}function qn(){var t;return 1===this.fragments.length?this.fragments[0].detach():(t=document.createDocumentFragment(),this.fragments.forEach(function(e){t.appendChild(e.detach())}),t)}function $n(t){var e,n,i;for(n=this.fragments.length,e=0;n>e;e+=1)if(i=this.fragments[e].find(t))return i;return null}function Qn(t,e){var n,i;for(i=this.fragments.length,n=0;i>n;n+=1)this.fragments[n].findAll(t,e)}function Zn(t,e){var n,i;for(i=this.fragments.length,n=0;i>n;n+=1)this.fragments[n].findAllComponents(t,e)}function Hn(t){var e,n,i;for(n=this.fragments.length,e=0;n>e;e+=1)if(i=this.fragments[e].findComponent(t))return i;return null}function Kn(t){return this.fragments[t.index+1]?this.fragments[t.index+1].firstNode():this.parentFragment.findNextNode(this)}function Gn(){var t,e,n;if(t=this.fragments.length)for(e=0;t>e;e+=1)if(n=this.fragments[e].firstNode())return n;return this.parentFragment.findNextNode(this)}function Yn(t){var e,n,i,r,s,o,a,u=this;if(!this.shuffling&&!this.unbound&&this.currentSubtype===Cc){if(this.shuffling=!0,mu.scheduleTask(function(){return u.shuffling=!1}),e=this.parentFragment,s=[],t.forEach(function(t,e){var i,r,o,a,h;return t===e?void(s[t]=u.fragments[e]):(i=u.fragments[e],void 0===n&&(n=e),-1===t?(u.fragmentsToUnrender.push(i),void i.unbind()):(r=t-e,o=u.keypath.join(e),a=u.keypath.join(t),i.index=t,(h=i.registeredIndexRefs)&&h.forEach(Jn),i.rebind(o,a),void(s[t]=i)))}),r=this.root.viewmodel.get(this.keypath).length,void 0===n){if(this.length===r)return;n=this.length}for(this.length=this.fragments.length=r,this.rendered&&mu.addView(this),o={template:this.template.f,root:this.root,owner:this},i=n;r>i;i+=1)a=s[i],a||this.fragmentsToCreate.push(i),this.fragments[i]=a}}function Jn(t){t.rebind("","")}function Xn(){var t=this;return this.docFrag=document.createDocumentFragment(),this.fragments.forEach(function(e){return t.docFrag.appendChild(e.render())}),this.renderedFragments=this.fragments.slice(),this.fragmentsToRender=[],this.rendered=!0,this.docFrag}function ti(t){var e,n,i=this;this.updating||(this.updating=!0,this.keypath&&(e=this.root.viewmodel.wrapped[this.keypath.str])&&(t=e.get()),this.fragmentsToCreate.length?(n={template:this.template.f||[],root:this.root,pElement:this.pElement,owner:this},this.fragmentsToCreate.forEach(function(t){var e;n.context=i.keypath.join(t),n.index=t,e=new yb(n),i.fragmentsToRender.push(i.fragments[t]=e)}),this.fragmentsToCreate.length=0):ni(this,t)&&(this.bubble(),this.rendered&&mu.addView(this)),this.value=t,this.updating=!1)}function ei(t,e,n){if(e===Cc&&t.indexRefs&&t.indexRefs[0]){var i=t.indexRefs[0];(n&&"i"===i.t||!n&&"k"===i.t)&&(n||(t.length=0,t.fragmentsToUnrender=t.fragments.slice(0),t.fragmentsToUnrender.forEach(function(t){return t.unbind()}))),i.t=n?"k":"i"}t.currentSubtype=e}function ni(t,e){var n={template:t.template.f||[],root:t.root,pElement:t.parentFragment.pElement,owner:t};if(t.hasContext=!0,t.subtype)switch(t.subtype){case Ac:return t.hasContext=!1,ai(t,e,!1,n);case Sc:return t.hasContext=!1,ai(t,e,!0,n);case Oc:return oi(t,n);case Pc:return si(t,e,n);case Cc:if(h(e))return ei(t,t.subtype,!0),ri(t,e,n)}return t.ordered=!!o(e),t.ordered?(ei(t,Cc,!1),ii(t,e,n)):h(e)||"function"==typeof e?t.template.i?(ei(t,Cc,!0),ri(t,e,n)):(ei(t,Oc,!1),oi(t,n)):(ei(t,Ac,!1),t.hasContext=!1,ai(t,e,!1,n))}function ii(t,e,n){var i,r,s;if(r=e.length,r===t.length)return!1;if(r<t.length)t.fragmentsToUnrender=t.fragments.splice(r,t.length-r),t.fragmentsToUnrender.forEach(Z);else if(r>t.length)for(i=t.length;r>i;i+=1)n.context=t.keypath.join(i),n.index=i,s=new yb(n),t.fragmentsToRender.push(t.fragments[i]=s);return t.length=r,!0}function ri(t,e,n){var i,r,s,o,a,u;for(s=t.hasKey||(t.hasKey={}),r=t.fragments.length;r--;)o=t.fragments[r],o.key in e||(a=!0,o.unbind(),t.fragmentsToUnrender.push(o),t.fragments.splice(r,1),s[o.key]=!1);for(r=t.fragments.length;r--;)o=t.fragments[r],o.index!==r&&(o.index=r,(u=o.registeredIndexRefs)&&u.forEach(ci));r=t.fragments.length;for(i in e)s[i]||(a=!0,n.context=t.keypath.join(i),n.key=i,n.index=r++,o=new yb(n),t.fragmentsToRender.push(o),t.fragments.push(o),s[i]=!0);return t.length=t.fragments.length,a}function si(t,e,n){return e?oi(t,n):ui(t)}function oi(t,e){var n;return t.length?void 0:(e.context=t.keypath,e.index=0,n=new yb(e),t.fragmentsToRender.push(t.fragments[0]=n),t.length=1,!0)}function ai(t,e,n,i){var r,s,a,u,c;if(s=o(e)&&0===e.length,a=!1,!o(e)&&h(e)){a=!0;for(c in e){a=!1;break}}return r=n?s||a||!e:e&&!s&&!a,r?t.length?t.length>1?(t.fragmentsToUnrender=t.fragments.splice(1),t.fragmentsToUnrender.forEach(Z),!0):void 0:(i.index=0,u=new yb(i),t.fragmentsToRender.push(t.fragments[0]=u),t.length=1,!0):ui(t)}function ui(t){return t.length?(t.fragmentsToUnrender=t.fragments.splice(0,t.fragments.length).filter(hi),t.fragmentsToUnrender.forEach(Z),t.length=t.fragmentsToRender.length=0,!0):void 0}function hi(t){return t.rendered}function ci(t){t.rebind("","")}function li(t){var e,n,i;for(e="",n=0,i=this.length,n=0;i>n;n+=1)e+=this.fragments[n].toString(t);return e}function fi(){var t=this;this.fragments.forEach(Z),this.fragmentsToRender.forEach(function(e){return I(t.fragments,e)}),this.fragmentsToRender=[],Dd.call(this),this.length=0,this.unbound=!0}function di(t){this.fragments.forEach(t?pi:mi),this.renderedFragments=[],this.rendered=!1}function pi(t){t.unrender(!0)}function mi(t){t.unrender(!1)}function vi(){var t,e,n,i,r,s,o;for(n=this.renderedFragments;t=this.fragmentsToUnrender.pop();)t.unrender(!0),n.splice(n.indexOf(t),1);for(;t=this.fragmentsToRender.shift();)t.render();for(this.rendered&&(r=this.parentFragment.getNode()),o=this.fragments.length,s=0;o>s;s+=1)t=this.fragments[s],e=n.indexOf(t,s),e!==s?(this.docFrag.appendChild(t.detach()),-1!==e&&n.splice(e,1),n.splice(s,0,t)):this.docFrag.childNodes.length&&(i=t.firstNode(),r.insertBefore(this.docFrag,i));this.rendered&&this.docFrag.childNodes.length&&(i=this.parentFragment.findNextNode(this),r.insertBefore(this.docFrag,i)),this.renderedFragments=this.fragments.slice()}function gi(){var t,e;if(this.docFrag){for(t=this.nodes.length,e=0;t>e;e+=1)this.docFrag.appendChild(this.nodes[e]);return this.docFrag}}function yi(t){var e,n,i,r;for(n=this.nodes.length,e=0;n>e;e+=1)if(i=this.nodes[e],1===i.nodeType){if(fa(i,t))return i;if(r=i.querySelector(t))return r}return null}function bi(t,e){var n,i,r,s,o,a;for(i=this.nodes.length,n=0;i>n;n+=1)if(r=this.nodes[n],1===r.nodeType&&(fa(r,t)&&e.push(r),s=r.querySelectorAll(t)))for(o=s.length,a=0;o>a;a+=1)e.push(s[a])}function wi(){return this.rendered&&this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)}function xi(t){return Fp[t]||(Fp[t]=la(t))}function ki(t){var e,n,i;t&&"select"===t.name&&t.binding&&(e=L(t.node.options).filter(Ei),t.getAttribute("multiple")?i=e.map(function(t){return t.value}):(n=e[0])&&(i=n.value),void 0!==i&&t.binding.setValue(i),t.bubble())}function Ei(t){return t.selected}function _i(){if(this.rendered)throw new Error("Attempted to render an item that was already rendered");return this.docFrag=document.createDocumentFragment(),this.nodes=Rp(this.value,this.parentFragment.getNode(),this.docFrag),jp(this.pElement),this.rendered=!0,this.docFrag}function Ai(t){var e;(e=this.root.viewmodel.wrapped[this.keypath.str])&&(t=e.get()),t!==this.value&&(this.value=t,this.parentFragment.bubble(),this.rendered&&mu.addView(this))}function Si(){return void 0!=this.value?_e(""+this.value):""}function Ci(t){this.rendered&&t&&(this.nodes.forEach(e),this.rendered=!1)}function Oi(){var t,e;if(this.rendered){for(;this.nodes&&this.nodes.length;)t=this.nodes.pop(),t.parentNode.removeChild(t);e=this.parentFragment.getNode(),this.nodes=Rp(this.value,e,this.docFrag),e.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),jp(this.pElement)}}function Pi(){var t,e=this.node;return e?((t=e.parentNode)&&t.removeChild(e),e):void 0}function Ti(){return null}function Fi(){return this.node}function Ri(t){return this.attributes&&this.attributes[t]?this.attributes[t].value:void 0}function ji(){var t=this.useProperty||!this.rendered?this.fragment.getValue():this.fragment.toString();a(t,this.value)||("id"===this.name&&this.value&&delete this.root.nodes[this.value],this.value=t,"value"===this.name&&this.node&&(this.node._ractive.value=t),this.rendered&&mu.addView(this))}function Ni(t){var e=t.fragment.items;if(1===e.length)return e[0].type===Hh?e[0]:void 0}function Di(t){return this.type=ic,this.element=t.element,this.root=t.root,sm(this,t.name),this.isBoolean=yl.test(this.name),t.value&&"string"!=typeof t.value?(this.parentFragment=this.element.parentFragment,this.fragment=new yb({template:t.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),this.interpolator=om(this),this.isBindable=!!this.interpolator&&!this.interpolator.isStatic,void(this.ready=!0)):void(this.value=this.isBoolean?!0:t.value||"")}function Ii(t,e){this.fragment&&this.fragment.rebind(t,e)}function Li(t){var e;this.node=t,t.namespaceURI&&t.namespaceURI!==ia.html||(e=cm[this.name]||this.name,void 0!==t[e]&&(this.propertyName=e),(this.isBoolean||this.isTwoway)&&(this.useProperty=!0),"value"===e&&(t._ractive.value=this.value)),this.rendered=!0,this.update()}function Vi(){var t=this,e=t.name,n=t.namespacePrefix,i=t.value,r=t.interpolator,s=t.fragment;if(("value"!==e||"select"!==this.element.name&&"textarea"!==this.element.name)&&("value"!==e||void 0===this.element.getAttribute("contenteditable"))){if("name"===e&&"input"===this.element.name&&r)return"name={{"+(r.keypath.str||r.ref)+"}}";if(this.isBoolean)return i?e:"";if(s){if(1===s.items.length&&null==s.items[0].value)return"";i=s.toString()}return n&&(e=n+":"+e),i?e+'="'+Mi(i)+'"':e}}function Mi(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function Ui(){this.fragment&&this.fragment.unbind(),"id"===this.name&&delete this.root.nodes[this.value]}function Wi(){var t,e,n,i,r=this.value;if(!this.locked)for(this.node._ractive.value=r,t=this.node.options,i=t.length;i--;)if(e=t[i],n=e._ractive?e._ractive.value:e.value,n==r){e.selected=!0;break}}function zi(){var t,e,n,i,r=this.value;for(s(r)||(r=[r]),t=this.node.options,e=t.length;e--;)n=t[e],i=n._ractive?n._ractive.value:n.value,n.selected=R(r,i)}function Bi(){var t=this,e=t.node,n=t.value;e.checked=n==e._ractive.value}function qi(){var t,e,n,i,r=this.node;if(t=r.checked,r.value=this.element.getAttribute("value"),r.checked=this.element.getAttribute("value")===this.element.getAttribute("name"),t&&!r.checked&&this.element.binding&&(n=this.element.binding.siblings,i=n.length)){for(;i--;){if(e=n[i],!e.element.node)return;if(e.element.node.checked)return mu.addRactive(e.root),e.handleChange()}this.root.viewmodel.set(e.keypath,void 0)}}function $i(){var t,e,n=this,i=n.element,r=n.node,o=n.value,a=i.binding;if(t=i.getAttribute("value"),s(o)){for(e=o.length;e--;)if(t==o[e])return void(a.isChecked=r.checked=!0);a.isChecked=r.checked=!1}else a.isChecked=r.checked=o==t}function Qi(){this.node.className=n(this.value)}function Zi(){var t=this,e=t.node,n=t.value;this.root.nodes[n]=e,e.id=n}function Hi(){var t,e;t=this.node,e=this.value,void 0===e&&(e=""),t.style.setAttribute("cssText",e)}function Ki(){var t=this.value;void 0===t&&(t=""),this.locked||(this.node.innerHTML=t)}function Gi(){var t=this,e=t.node,n=t.value;e._ractive.value=n,this.locked||(e.value=void 0==n?"":n)}function Yi(){this.locked||(this.node[this.propertyName]=this.value)}function Ji(){var t=this,e=t.node,n=t.namespace,i=t.name,r=t.value,s=t.fragment;n?e.setAttributeNS(n,i,(s||r).toString()):this.isBoolean?r?e.setAttribute(i,""):e.removeAttribute(i):null==r?e.removeAttribute(i):e.setAttribute(i,(s||r).toString())}function Xi(){var t,e,n=this,i=n.name,r=n.element,s=n.node;"id"===i?e=bm:"value"===i?"select"===r.name&&"value"===i?e=r.getAttribute("multiple")?pm:dm:"textarea"===r.name?e=km:null!=r.getAttribute("contenteditable")?e=xm:"input"===r.name&&(t=r.getAttribute("type"),e="file"===t?Fa:"radio"===t&&r.binding&&"name"===r.binding.name?vm:km):this.isTwoway&&"name"===i?"radio"===s.type?e=mm:"checkbox"===s.type&&(e=gm):"style"===i&&s.style.setAttribute?e=wm:"class"!==i||s.namespaceURI&&s.namespaceURI!==ia.html?this.useProperty&&(e=Em):e=ym,e||(e=_m),this.update=e,this.update()}function tr(t,e){var n=e?"svg":"div";return Cm.innerHTML="<"+n+" "+t+"></"+n+">",L(Cm.childNodes[0].attributes)}function er(t,e){for(var n=t.length;n--;)if(t[n].name===e.name)return!1;return!0}function nr(t){for(;t=t.parent;)if("form"===t.name)return t}function ir(){this._ractive.binding.handleChange()}function rr(){var t;Im.call(this),t=this._ractive.root.viewmodel.get(this._ractive.binding.keypath),this.value=void 0==t?"":t}function sr(){var t=this._ractive.binding,e=this;t._timeout&&clearTimeout(t._timeout),t._timeout=setTimeout(function(){t.rendered&&Im.call(e),t._timeout=void 0},t.element.lazy)}function or(t,e,n){var i=t+e+n;return Wm[i]||(Wm[i]=[])}function ar(t){return t.isChecked}function ur(t){return t.element.getAttribute("value")}function hr(t){var e,n,i,r,s,o=t.attributes;return t.binding&&(t.binding.teardown(),t.binding=null),(t.getAttribute("contenteditable")||o.contenteditable&&cr(o.contenteditable))&&cr(o.value)?n=Mm:"input"===t.name?(e=t.getAttribute("type"),"radio"===e||"checkbox"===e?(i=cr(o.name),r=cr(o.checked),i&&r&&m("A radio input can have two-way binding on its name attribute, or its checked attribute - not both",{ractive:t.root}),i?n="radio"===e?$m:Zm:r&&(n="radio"===e?Bm:Km)):"file"===e&&cr(o.value)?n=ev:cr(o.value)&&(n="number"===e||"range"===e?nv:Lm)):"select"===t.name&&cr(o.value)?n=t.getAttribute("multiple")?Xm:Ym:"textarea"===t.name&&cr(o.value)&&(n=Lm),n&&(s=new n(t))&&s.keypath?s:void 0}function cr(t){return t&&t.isBindable}function lr(){var t=this.getAction();t&&!this.hasListener?this.listen():!t&&this.hasListener&&this.unrender()}function fr(t){Wu(this.root,this.getAction(),{event:t})}function dr(){return this.action.toString().trim()}function pr(t,e,n){var i,r,s,o=this;this.element=t,this.root=t.root,this.parentFragment=t.parentFragment,this.name=e,-1!==e.indexOf("*")&&(l('Only component proxy-events may contain "*" wildcards, <%s on-%s="..."/> is not valid',t.name,e),this.invalid=!0),n.m?(r=n.a.r,this.method=n.m,this.keypaths=[],this.fn=Zd(n.a.s,r.length),this.parentFragment=t.parentFragment,s=this.root,this.refResolvers=[],r.forEach(function(t,e){var n=void 0;(n=uv.exec(t))?o.keypaths[e]={eventObject:!0,refinements:n[1]?n[1].split("."):[]}:o.refResolvers.push(Qd(o,t,function(t){return o.resolve(e,t)}))}),this.fire=mr):(i=n.n||n,"string"!=typeof i&&(i=new yb({template:i,root:this.root,owner:this})),this.action=i,n.d?(this.dynamicParams=new yb({template:n.d,root:this.root,owner:this.element}),this.fire=gr):n.a&&(this.params=n.a,this.fire=vr))}function mr(t){var e,n,i;if(e=this.root,"function"!=typeof e[this.method])throw new Error('Attempted to call a non-existent method ("'+this.method+'")');n=this.keypaths.map(function(n){var i,r,s;if(void 0===n)return void 0;if(n.eventObject){if(i=t,r=n.refinements.length)for(s=0;r>s;s+=1)i=i[n.refinements[s]]}else i=e.viewmodel.get(n);return i}),Uu.enqueue(e,t),i=this.fn.apply(null,n),e[this.method].apply(e,i),Uu.dequeue(e)}function vr(t){Wu(this.root,this.getAction(),{event:t,args:this.params})}function gr(t){var e=this.dynamicParams.getArgsList();"string"==typeof e&&(e=e.substr(1,e.length-2)),Wu(this.root,this.getAction(),{event:t,args:e})}function yr(t){var e,n,i,r={};e=this._ractive,n=e.events[t.type],(i=qd(n.element.parentFragment))&&(r=qd.resolve(i)),n.fire({node:this,original:t,index:r,keypath:e.keypath.str,context:e.root.viewmodel.get(e.keypath)})}function br(){var t,e=this.name;if(!this.invalid){if(t=g("events",this.root,e))this.custom=t(this.node,wr(e));else{if(!("on"+e in this.node||window&&"on"+e in window||ta))return void(fv[e]||v(Da(e,"event"),{node:this.node}));this.node.addEventListener(e,hv,!1)}this.hasListener=!0}}function wr(t){return lv[t]||(lv[t]=function(e){var n=e.node._ractive;e.index=n.index,e.keypath=n.keypath.str,e.context=n.root.viewmodel.get(n.keypath),n.events[t].fire(e)}),lv[t]}function xr(t,e){function n(n){n&&n.rebind(t,e)}var i;return this.method?(i=this.element.parentFragment,void this.refResolvers.forEach(n)):("string"!=typeof this.action&&n(this.action),void(this.dynamicParams&&n(this.dynamicParams)))}function kr(){this.node=this.element.node,this.node._ractive.events[this.name]=this,(this.method||this.getAction())&&this.listen()}function Er(t,e){this.keypaths[t]=e}function _r(){return this.method?void this.refResolvers.forEach(Z):("string"!=typeof this.action&&this.action.unbind(),void(this.dynamicParams&&this.dynamicParams.unbind()))}function Ar(){this.custom?this.custom.teardown():this.node.removeEventListener(this.name,hv,!1),this.hasListener=!1}function Sr(){var t=this;this.dirty||(this.dirty=!0,mu.scheduleTask(function(){Cr(t),t.dirty=!1})),this.parentFragment.bubble()}function Cr(t){var e,n,i,r,s;e=t.node,e&&(r=L(e.options),n=t.getAttribute("value"),i=t.getAttribute("multiple"),void 0!==n?(r.forEach(function(t){var e,r;e=t._ractive?t._ractive.value:t.value,r=i?Or(n,e):n==e,r&&(s=!0),t.selected=r}),s||(r[0]&&(r[0].selected=!0),t.binding&&t.binding.forceUpdate())):t.binding&&t.binding.forceUpdate())}function Or(t,e){for(var n=t.length;n--;)if(t[n]==e)return!0}function Pr(t,e){t.select=Fr(t.parent),t.select&&(t.select.options.push(t),e.a||(e.a={}),void 0!==e.a.value||e.a.hasOwnProperty("disabled")||(e.a.value=e.f),"selected"in e.a&&void 0!==t.select.getAttribute("value")&&delete e.a.selected)}function Tr(t){t.select&&I(t.select.options,t)}function Fr(t){if(t)do if("select"===t.name)return t;while(t=t.parent)}function Rr(t){var e,n,i,r,s,o,a;this.type=Xh,e=this.parentFragment=t.parentFragment,n=this.template=t.template,this.parent=t.pElement||e.pElement,this.root=i=e.root,this.index=t.index,this.key=t.key,this.name=rm(n.e),"option"===this.name&&Pr(this,n),"select"===this.name&&(this.options=[],this.bubble=Sr),"form"===this.name&&(this.formBindings=[]),a=nm(this,n),this.attributes=Pm(this,n.a),this.conditionalAttributes=Rm(this,n.m),n.f&&(this.fragment=new yb({template:n.f,root:i,owner:this,pElement:this,cssIds:null})),o=i.twoway,a.twoway===!1?o=!1:a.twoway===!0&&(o=!0),this.twoway=o,this.lazy=a.lazy,o&&(r=iv(this,n.a))&&(this.binding=r,s=this.root._twowayBindings[r.keypath.str]||(this.root._twowayBindings[r.keypath.str]=[]),s.push(r)),n.v&&(this.eventHandlers=wv(this,n.v)),n.o&&(this.decorator=new Av(this,n.o)),this.intro=n.t0||n.t1,this.outro=n.t0||n.t2}function jr(t,e){function n(n){n.rebind(t,e)}var i,r,s,o;if(this.attributes&&this.attributes.forEach(n),this.conditionalAttributes&&this.conditionalAttributes.forEach(n),this.eventHandlers&&this.eventHandlers.forEach(n),this.decorator&&n(this.decorator),this.fragment&&n(this.fragment),s=this.liveQueries)for(o=this.root,i=s.length;i--;)s[i]._makeDirty();this.node&&(r=this.node._ractive)&&k(r,"keypath",t,e)}function Nr(t){var e;(t.attributes.width||t.attributes.height)&&t.node.addEventListener("load",e=function(){var n=t.getAttribute("width"),i=t.getAttribute("height");void 0!==n&&t.node.setAttribute("width",n),void 0!==i&&t.node.setAttribute("height",i),t.node.removeEventListener("load",e,!1)},!1)}function Dr(t){t.node.addEventListener("reset",Lr,!1)}function Ir(t){t.node.removeEventListener("reset",Lr,!1)}function Lr(){var t=this._ractive.proxy;mu.start(),t.formBindings.forEach(Vr),mu.end()}function Vr(t){t.root.viewmodel.set(t.keypath,t.resetValue)}function Mr(t,e,n){var i,r,s;this.element=t,this.root=i=t.root,this.isIntro=n,r=e.n||e,("string"==typeof r||(s=new yb({template:r,root:i,owner:t}),r=s.toString(),s.unbind(),""!==r))&&(this.name=r,e.a?this.params=e.a:e.d&&(s=new yb({template:e.d,root:i,owner:t}),this.params=s.getArgsList(),s.unbind()),this._fn=g("transitions",i,r),this._fn||v(Da(r,"transition"),{ractive:this.root}))}function Ur(t){return t}function Wr(){eg.hidden=document[Yv]}function zr(){eg.hidden=!0}function Br(){eg.hidden=!1}function qr(){var t,e,n,i=this;return t=this.node=this.element.node,e=t.getAttribute("style"),this.complete=function(r){n||(!r&&i.isIntro&&$r(t,e),t._ractive.transition=null,i._manager.remove(i),n=!0)},this._fn?void this._fn.apply(this.root,[this].concat(this.params)):void this.complete()}function $r(t,e){e?t.setAttribute("style",e):(t.getAttribute("style"),t.removeAttribute("style"))}function Qr(){var t,e,n,i=this,r=this.root;return t=Zr(this),e=this.node=la(this.name,t),this.parentFragment.cssIds&&this.node.setAttribute("data-ractive-css",this.parentFragment.cssIds.map(function(t){return"{"+t+"}"}).join(" ")),xa(this.node,"_ractive",{value:{proxy:this,keypath:au(this.parentFragment),events:wa(null),root:r}}),this.attributes.forEach(function(t){return t.render(e)}),this.conditionalAttributes.forEach(function(t){return t.render(e)}),this.fragment&&("script"===this.name?(this.bubble=fg,this.node.text=this.fragment.toString(!1),this.fragment.unrender=Fa):"style"===this.name?(this.bubble=lg,this.bubble(),this.fragment.unrender=Fa):this.binding&&this.getAttribute("contenteditable")?this.fragment.unrender=Fa:this.node.appendChild(this.fragment.render())),this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding),this.eventHandlers&&this.eventHandlers.forEach(function(t){return t.render()}),"option"===this.name&&Hr(this),"img"===this.name?Nr(this):"form"===this.name?Dr(this):"input"===this.name||"textarea"===this.name?this.node.defaultValue=this.node.value:"option"===this.name&&(this.node.defaultSelected=this.node.selected),this.decorator&&this.decorator.fn&&mu.scheduleTask(function(){i.decorator.torndown||i.decorator.init()},!0),r.transitionsEnabled&&this.intro&&(n=new dg(this,this.intro,!0),mu.registerTransition(n),mu.scheduleTask(function(){return n.start()},!0),this.transition=n),this.node.autofocus&&mu.scheduleTask(function(){return i.node.focus()},!0),Kr(this),this.node}function Zr(t){var e,n,i;return e=(n=t.getAttribute("xmlns"))?n:"svg"===t.name?ia.svg:(i=t.parent)?"foreignObject"===i.name?ia.html:i.node.namespaceURI:t.root.el.namespaceURI}function Hr(t){var e,n,i;if(t.select&&(n=t.select.getAttribute("value"),void 0!==n))if(e=t.getAttribute("value"),t.select.node.multiple&&s(n)){for(i=n.length;i--;)if(e==n[i]){t.node.selected=!0;break}}else t.node.selected=e==n}function Kr(t){var e,n,i,r,s;e=t.root;do for(n=e._liveQueries,i=n.length;i--;)r=n[i],s=n["_"+r],s._test(t)&&(t.liveQueries||(t.liveQueries=[])).push(s);while(e=e.parent)}function Gr(t){var e,n,i;if(e=t.getAttribute("value"),void 0===e||!t.select)return!1;if(n=t.select.getAttribute("value"),n==e)return!0;if(t.select.getAttribute("multiple")&&s(n))for(i=n.length;i--;)if(n[i]==e)return!0}function Yr(t){var e,n,i,r;return e=t.attributes,n=e.type,i=e.value,r=e.name,n&&"radio"===n.value&&i&&r.interpolator&&i.value===r.interpolator.value?!0:void 0}function Jr(t){var e=t.toString();return e?" "+e:""}function Xr(){this.fragment&&this.fragment.unbind(),this.binding&&this.binding.unbind(),this.eventHandlers&&this.eventHandlers.forEach(Z),"option"===this.name&&Tr(this),this.attributes.forEach(Z),this.conditionalAttributes.forEach(Z)}function ts(t){var e,n,i;(i=this.transition)&&i.complete(),"option"===this.name?this.detach():t&&mu.detachWhenReady(this),this.fragment&&this.fragment.unrender(!1),(e=this.binding)&&(this.binding.unrender(),this.node._ractive.binding=null,n=this.root._twowayBindings[e.keypath.str],n.splice(n.indexOf(e),1)),this.eventHandlers&&this.eventHandlers.forEach(H),this.decorator&&mu.registerDecorator(this.decorator),this.root.transitionsEnabled&&this.outro&&(i=new dg(this,this.outro,!1),mu.registerTransition(i),mu.scheduleTask(function(){return i.start()})),this.liveQueries&&es(this),"form"===this.name&&Ir(this)}function es(t){var e,n,i;for(i=t.liveQueries.length;i--;)e=t.liveQueries[i],n=e.selector,e._remove(t.node)}function ns(t,e){var n=xg.exec(e)[0];return null===t||n.length<t.length?n:t}function is(t,e,n){var i;if(i=rs(t,e,n||{}))return i;if(i=ad.fromId(e,{noThrow:!0})){i=kg(i);var r=ad.parse(i,ad.getParseOptions(t));return t.partials[e]=r.t;

}}function rs(t,e,n){var i=void 0,r=as(e,n.owner);if(r)return r;var s=y("partials",t,e);if(s){if(r=s.partials[e],"function"==typeof r&&(i=r.bind(s),i.isOwner=s.partials.hasOwnProperty(e),r=i.call(t,ad)),!r&&""!==r)return void m(Na,e,"partial","partial",{ractive:t});if(!ad.isParsed(r)){var o=ad.parse(r,ad.getParseOptions(s));o.p&&m("Partials ({{>%s}}) cannot contain nested inline partials",e,{ractive:t});var a=i?s:ss(s,e);a.partials[e]=r=o.t}return i&&(r._fn=i),r.v?r.t:r}}function ss(t,e){return t.partials.hasOwnProperty(e)?t:os(t.constructor,e)}function os(t,e){return t?t.partials.hasOwnProperty(e)?t:os(t._Parent,e):void 0}function as(t,e){if(e){if(e.template&&e.template.p&&e.template.p[t])return e.template.p[t];if(e.parentFragment&&e.parentFragment.owner)return as(t,e.parentFragment.owner)}}function us(t,e){var n,i=y("components",t,e);if(i&&(n=i.components[e],!n._Parent)){var r=n.bind(i);if(r.isOwner=i.components.hasOwnProperty(e),n=r(),!n)return void m(Na,e,"component","component",{ractive:t});"string"==typeof n&&(n=us(t,n)),n._fn=r,i.components[e]=n}return n}function hs(){var t=this.instance.fragment.detach();return jg.fire(this.instance),t}function cs(t){return this.instance.fragment.find(t)}function ls(t,e){return this.instance.fragment.findAll(t,e)}function fs(t,e){e._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(t,e)}function ds(t){return t&&t!==this.name?this.instance.fragment?this.instance.fragment.findComponent(t):null:this.instance}function ps(){return this.parentFragment.findNextNode(this)}function ms(){return this.rendered?this.instance.fragment.firstNode():null}function vs(t,e,n){function i(t){var n,i;t.value=e,t.updating||(i=t.ractive,n=t.keypath,t.updating=!0,mu.start(i),i.viewmodel.mark(n),mu.end(),t.updating=!1)}var r,s,o,a,u,h;if(r=t.obj,s=t.prop,n&&!n.configurable){if("length"===s)return;throw new Error('Cannot use magic mode with property "'+s+'" - object is not configurable')}n&&(o=n.get,a=n.set),u=o||function(){return e},h=function(t){a&&a(t),e=o?o():t,h._ractiveWrappers.forEach(i)},h._ractiveWrappers=[t],Object.defineProperty(r,s,{get:u,set:h,enumerable:!0,configurable:!0})}function gs(t,e){var n,i,r,s;if(this.adaptors)for(n=this.adaptors.length,i=0;n>i;i+=1)if(r=this.adaptors[i],r.filter(e,t,this.ractive))return s=this.wrapped[t]=r.wrap(this.ractive,e,t,bs(t)),void(s.value=e)}function ys(t,e){var n,i={};if(!e)return t;e+=".";for(n in t)t.hasOwnProperty(n)&&(i[e+n]=t[n]);return i}function bs(t){var e;return iy[t]||(e=t?t+".":"",iy[t]=function(n,i){var r;return"string"==typeof n?(r={},r[e+n]=i,r):"object"==typeof n?e?ys(n,t):n:void 0}),iy[t]}function ws(t){var e,n,i=[Za];for(e=t.length;e--;)for(n=t[e].parent;n&&!n.isRoot;)-1===t.indexOf(n)&&F(i,n),n=n.parent;return i}function xs(t,e,n){var i;Es(t,e),n||(i=e.wildcardMatches(),i.forEach(function(n){ks(t,n,e)}))}function ks(t,e,n){var i,r,s;e=e.str||e,i=t.depsMap.patternObservers,r=i&&i[e],r&&r.forEach(function(e){s=n.join(e.lastKey),Es(t,s),ks(t,e,s)})}function Es(t,e){t.patternObservers.forEach(function(t){t.regex.test(e.str)&&t.update(e)})}function _s(){function t(t){var i=t.key;t.viewmodel===o?(o.clearCache(i.str),t.invalidate(),n.push(i),e(i)):t.viewmodel.mark(i)}function e(n){var i,r;o.noCascade.hasOwnProperty(n.str)||((r=o.deps.computed[n.str])&&r.forEach(t),(i=o.depsMap.computed[n.str])&&i.forEach(e))}var n,i,r,s=this,o=this,a={};return n=this.changes,n.length?(n.slice().forEach(e),i=ry(n),i.forEach(function(e){var i;-1===n.indexOf(e)&&(i=o.deps.computed[e.str])&&i.forEach(t)}),this.changes=[],this.patternObservers.length&&(i.forEach(function(t){return sy(s,t,!0)}),n.forEach(function(t){return sy(s,t)})),this.deps.observers&&(i.forEach(function(t){return As(s,null,t,"observers")}),Cs(this,n,"observers")),this.deps["default"]&&(r=[],i.forEach(function(t){return As(s,r,t,"default")}),r.length&&Ss(this,r,n),Cs(this,n,"default")),n.forEach(function(t){a[t.str]=s.get(t)}),this.implicitChanges={},this.noCascade={},a):void 0}function As(t,e,n,i){var r,s;(r=Os(t,n,i))&&(s=t.get(n),r.forEach(function(t){e&&t.refineValue?e.push(t):t.setValue(s)}))}function Ss(t,e,n){e.forEach(function(e){for(var i=!1,r=0,s=n.length,o=[];s>r;){var a=n[r];if(a===e.keypath){i=!0;break}a.slice(0,e.keypath.length)===e.keypath&&o.push(a),r++}i&&e.setValue(t.get(e.keypath)),o.length&&e.refineValue(o)})}function Cs(t,e,n){function i(t){t.forEach(r),t.forEach(s)}function r(e){var i=Os(t,e,n);i&&a.push({keypath:e,deps:i})}function s(e){var r;(r=t.depsMap[n][e.str])&&i(r)}function o(e){var n=t.get(e.keypath);e.deps.forEach(function(t){return t.setValue(n)})}var a=[];i(e),a.forEach(o)}function Os(t,e,n){var i=t.deps[n];return i?i[e.str]:null}function Ps(){this.captureGroups.push([])}function Ts(t,e){var n,i;if(e||(i=this.wrapped[t])&&i.teardown()!==!1&&(this.wrapped[t]=null),this.cache[t]=void 0,n=this.cacheMap[t])for(;n.length;)this.clearCache(n.pop())}function Fs(t,e){var n=e.firstKey;return!(n in t.data||n in t.computations||n in t.mappings)}function Rs(t,e){var n=new fy(t,e);return this.ready&&n.init(this),this.computations[t.str]=n}function js(t,e){var n,i,r,s,o,a=this.cache,u=t.str;if(e=e||vy,e.capture&&(s=D(this.captureGroups))&&(~s.indexOf(t)||s.push(t)),Oa.call(this.mappings,t.firstKey))return this.mappings[t.firstKey].get(t,e);if(t.isSpecial)return t.value;if(void 0===a[u]?((i=this.computations[u])&&!i.bypass?(n=i.get(),this.adapt(u,n)):(r=this.wrapped[u])?n=r.value:t.isRoot?(this.adapt("",this.data),n=this.data):n=Ns(this,t),a[u]=n):n=a[u],!e.noUnwrap&&(r=this.wrapped[u])&&(n=r.get()),t.isRoot&&e.fullRootGet)for(o in this.mappings)n[o]=this.mappings[o].getValue();return n===py?void 0:n}function Ns(t,e){var n,i,r,s;return n=t.get(e.parent),(s=t.wrapped[e.parent.str])&&(n=s.get()),null!==n&&void 0!==n?((i=t.cacheMap[e.parent.str])?-1===i.indexOf(e.str)&&i.push(e.str):t.cacheMap[e.parent.str]=[e.str],"object"!=typeof n||e.lastKey in n?(r=n[e.lastKey],t.adapt(e.str,r,!1),t.cache[e.str]=r,r):t.cache[e.str]=py):void 0}function Ds(){var t;for(t in this.computations)this.computations[t].init(this)}function Is(t,e){var n=this.mappings[t.str]=new by(t,e);return n.initViewmodel(this),n}function Ls(t,e){var n,i=t.str;e&&(e.implicit&&(this.implicitChanges[i]=!0),e.noCascade&&(this.noCascade[i]=!0)),(n=this.computations[i])&&n.invalidate(),-1===this.changes.indexOf(t)&&this.changes.push(t);var r=e?e.keepExistingWrapper:!1;this.clearCache(i,r),this.ready&&this.onchange()}function Vs(t,e,n,i){var r,s,o,a;if(this.mark(t),i&&i.compare){o=Us(i.compare);try{r=e.map(o),s=n.map(o)}catch(u){m('merge(): "%s" comparison failed. Falling back to identity checking',t),r=e,s=n}}else r=e,s=n;a=xy(r,s),this.smartUpdate(t,n,a,e.length!==n.length)}function Ms(t){return JSON.stringify(t)}function Us(t){if(t===!0)return Ms;if("string"==typeof t)return Ey[t]||(Ey[t]=function(e){return e[t]}),Ey[t];if("function"==typeof t)return t;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}function Ws(t,e){var n,i,r,s=void 0===arguments[2]?"default":arguments[2];e.isStatic||((n=this.mappings[t.firstKey])?n.register(t,e,s):(i=this.deps[s]||(this.deps[s]={}),r=i[t.str]||(i[t.str]=[]),r.push(e),this.depsMap[s]||(this.depsMap[s]={}),t.isRoot||zs(this,t,s)))}function zs(t,e,n){for(var i,r,s;!e.isRoot;)i=t.depsMap[n],r=i[e.parent.str]||(i[e.parent.str]=[]),s=e.str,void 0===r["_"+s]&&(r["_"+s]=0,r.push(e)),r["_"+s]+=1,e=e.parent}function Bs(){return this.captureGroups.pop()}function qs(t){this.data=t,this.clearCache("")}function $s(t,e){var n,i,r,s,o=void 0===arguments[2]?{}:arguments[2];if(!o.noMapping&&(n=this.mappings[t.firstKey]))return n.set(t,e);if(i=this.computations[t.str]){if(i.setting)return;i.set(e),e=i.get()}a(this.cache[t.str],e)||(r=this.wrapped[t.str],r&&r.reset&&(s=r.reset(e)!==!1,s&&(e=r.get())),i||s||Qs(this,t,e),o.silent?this.clearCache(t.str):this.mark(t))}function Qs(t,e,n){var i,r,s,o;s=function(){i.set?i.set(e.lastKey,n):(r=i.get(),o())},o=function(){r||(r=Yg(e.lastKey),t.set(e.parent,r,{silent:!0})),r[e.lastKey]=n},i=t.wrapped[e.parent.str],i?s():(r=t.get(e.parent),(i=t.wrapped[e.parent.str])?s():o())}function Zs(t,e,n){var i,r,s,o=this;if(r=n.length,n.forEach(function(e,n){-1===e&&o.mark(t.join(n),Ty)}),this.set(t,e,{silent:!0}),(i=this.deps["default"][t.str])&&i.filter(Hs).forEach(function(t){return t.shuffle(n,e)}),r!==e.length){for(this.mark(t.join("length"),Py),s=n.touchedFrom;s<e.length;s+=1)this.mark(t.join(s));for(s=e.length;r>s;s+=1)this.mark(t.join(s),Ty)}}function Hs(t){return"function"==typeof t.shuffle}function Ks(){var t,e=this;for(Object.keys(this.cache).forEach(function(t){return e.clearCache(t)});t=this.unresolvedImplicitDependencies.pop();)t.teardown()}function Gs(t,e){var n,i,r,s=void 0===arguments[2]?"default":arguments[2];if(!e.isStatic){if(n=this.mappings[t.firstKey])return n.unregister(t,e,s);if(i=this.deps[s][t.str],r=i.indexOf(e),-1===r)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");i.splice(r,1),t.isRoot||Ys(this,t,s)}}function Ys(t,e,n){for(var i,r;!e.isRoot;)i=t.depsMap[n],r=i[e.parent.str],r["_"+e.str]-=1,r["_"+e.str]||(I(r,e),r["_"+e.str]=void 0),e=e.parent}function Js(t){this.hook=new nu(t),this.inProcess={},this.queue={}}function Xs(t,e){return t[e._guid]||(t[e._guid]=[])}function to(t,e){var n=Xs(t.queue,e);for(t.hook.fire(e);n.length;)to(t,n.shift());delete t.queue[e._guid]}function eo(t,e){var n,i={};for(n in e)i[n]=no(t,n,e[n]);return i}function no(t,e,n){var i,r;return"function"==typeof n&&(i=ro(n,t)),"string"==typeof n&&(i=io(t,n)),"object"==typeof n&&("string"==typeof n.get?i=io(t,n.get):"function"==typeof n.get?i=ro(n.get,t):l("`%s` computation must have a `get()` method",e),"function"==typeof n.set&&(r=ro(n.set,t))),{getter:i,setter:r}}function io(t,e){var n,i,r;return n="return ("+e.replace(Ly,function(t,e){return i=!0,'__ractive.get("'+e+'")'})+");",i&&(n="var __ractive = this; "+n),r=new Function(n),i?r.bind(t):r}function ro(t,e){return/this/.test(t.toString())?t.bind(e):t}function so(e){var n,r,s=void 0===arguments[1]?{}:arguments[1],o=void 0===arguments[2]?{}:arguments[2];if(Qb.DEBUG&&Ca(),uo(e,o),xa(e,"data",{get:ho}),Vy.fire(e,s),zy.forEach(function(t){e[t]=i(wa(e.constructor[t]||null),s[t])}),r=new Ny({adapt:oo(e,e.adapt,s),data:Wh.init(e.constructor,e,s),computed:Iy(e,i(wa(e.constructor.prototype.computed),s.computed)),mappings:o.mappings,ractive:e,onchange:function(){return mu.addRactive(e)}}),e.viewmodel=r,r.init(),bd.init(e.constructor,e,s),My.fire(e),Uy.begin(e),e.template){var a=void 0;(o.cssIds||e.cssId)&&(a=o.cssIds?o.cssIds.slice():[],e.cssId&&a.push(e.cssId)),e.fragment=new yb({template:e.template,root:e,owner:e,cssIds:a})}if(Uy.end(e),n=t(e.el)){var u=e.render(n,e.append);Qb.DEBUG_PROMISES&&u["catch"](function(t){throw v("Promise debugging is enabled, to help solve errors that happen asynchronously. Some browsers will log unhandled promise rejections, in which case you can safely disable promise debugging:\n  Ractive.DEBUG_PROMISES = false;"),m("An error happened during rendering",{ractive:e}),t.stack&&f(t.stack),t})}}function oo(t,e,n){function i(e){return"string"==typeof e&&(e=g("adaptors",t,e),e||l(Da(e,"adaptor"))),e}var r,s,o;if(e=e.map(i),r=N(n.adapt).map(i),r=ao(e,r),s="magic"in n?n.magic:t.magic,o="modifyArrays"in n?n.modifyArrays:t.modifyArrays,s){if(!na)throw new Error("Getters and setters (magic mode) are not supported in this browser");o&&r.push(ey),r.push(ty)}return o&&r.push(Kg),r}function ao(t,e){for(var n=t.slice(),i=e.length;i--;)~n.indexOf(e[i])||n.push(e[i]);return n}function uo(t,e){t._guid="r-"+Wy++,t._subs=wa(null),t._config={},t._twowayBindings=wa(null),t._animations=[],t.nodes={},t._liveQueries=[],t._liveComponentQueries=[],t._boundFunctions=[],t._observers=[],e.component?(t.parent=e.parent,t.container=e.container||null,t.root=t.parent.root,t.component=e.component,e.component.instance=t,t._inlinePartials=e.inlinePartials):(t.root=t,t.parent=t.container=null)}function ho(){throw new Error("Using `ractive.data` is no longer supported - you must use the `ractive.get()` API instead")}function co(t,e,n){this.parentFragment=t.parentFragment,this.callback=n,this.fragment=new yb({template:e,root:t.root,owner:this}),this.update()}function lo(t,e,n){var i;return e.r?i=Qd(t,e.r,n):e.x?i=new Gd(t,t.parentFragment,e.x,n):e.rx&&(i=new tp(t,e.rx,n)),i}function fo(t){return 1===t.length&&t[0].t===Hh}function po(t,e){var n;for(n in e)e.hasOwnProperty(n)&&mo(t.instance,t.root,n,e[n])}function mo(t,e,n,i){"string"!=typeof i&&l("Components currently only support simple events - you cannot include arguments. Sorry!"),t.on(n,function(){var t,n;return arguments.length&&arguments[0]&&arguments[0].node&&(t=Array.prototype.shift.call(arguments)),n=Array.prototype.slice.call(arguments),Wu(e,i,{event:t,args:n}),!1})}function vo(t,e){var n,i;if(!e)throw new Error('Component "'+this.name+'" not found');n=this.parentFragment=t.parentFragment,i=n.root,this.root=i,this.type=sc,this.name=t.template.e,this.index=t.index,this.indexRefBindings={},this.yielders={},this.resolvers=[],$y(this,e,t.template.a,t.template.f,t.template.p),Qy(this,t.template.v),(t.template.t0||t.template.t1||t.template.t2||t.template.o)&&m('The "intro", "outro" and "decorator" directives have no effect on components',{ractive:this.instance}),Zy(this)}function go(t,e){function n(n){n.rebind(t,e)}var i;this.resolvers.forEach(n);for(var r in this.yielders)this.yielders[r][0]&&n(this.yielders[r][0]);(i=this.root._liveComponentQueries["_"+this.name])&&i._makeDirty()}function yo(){var t=this.instance;return t.render(this.parentFragment.getNode()),this.rendered=!0,t.fragment.detach()}function bo(){return this.instance.fragment.toString()}function wo(){var t=this.instance;this.resolvers.forEach(Z),xo(this),t._observers.forEach(K),t.fragment.unbind(),t.viewmodel.teardown(),t.fragment.rendered&&t.el.__ractive_instances__&&I(t.el.__ractive_instances__,t),Xy.fire(t)}function xo(t){var e,n;e=t.root;do(n=e._liveComponentQueries["_"+t.name])&&n._remove(t);while(e=e.parent)}function ko(t){this.shouldDestroy=t,this.instance.unrender()}function Eo(t){var e=this;this.owner=t.owner,this.parent=this.owner.parentFragment,this.root=t.root,this.pElement=t.pElement,this.context=t.context,this.index=t.index,this.key=t.key,this.registeredIndexRefs=[],this.cssIds="cssIds"in t?t.cssIds:this.parent?this.parent.cssIds:null,this.items=t.template.map(function(n,i){return _o({parentFragment:e,pElement:t.pElement,template:n,index:i})}),this.value=this.argsList=null,this.dirtyArgs=this.dirtyValue=!0,this.bound=!0}function _o(t){if("string"==typeof t.template)return new Nd(t);switch(t.template.t){case oc:return new ob(t);case Hh:return new op(t);case Gh:return new Sp(t);case Kh:return new qp(t);case Xh:var e=void 0;return(e=Fg(t.parentFragment.root,t.template.e))?new nb(t,e):new bg(t);case tc:return new Tg(t);case ec:return new rb(t);case uc:return new ub(t);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}function Ao(t,e){(!this.owner||this.owner.hasContext)&&k(this,"context",t,e),this.items.forEach(function(n){n.rebind&&n.rebind(t,e)})}function So(){var t;return 1===this.items.length?t=this.items[0].render():(t=document.createDocumentFragment(),this.items.forEach(function(e){t.appendChild(e.render())})),this.rendered=!0,t}function Co(t){return this.items?this.items.map(t?Po:Oo).join(""):""}function Oo(t){return t.toString()}function Po(t){return t.toString(!0)}function To(){this.bound&&(this.items.forEach(Fo),this.bound=!1)}function Fo(t){t.unbind&&t.unbind()}function Ro(t){if(!this.rendered)throw new Error("Attempted to unrender a fragment that was not rendered");this.items.forEach(function(e){return e.unrender(t)}),this.rendered=!1}function jo(t){var e,n,i,r,s;if(t=t||{},"object"!=typeof t)throw new Error("The reset method takes either no arguments, or an object containing new data");for((n=this.viewmodel.wrapped[""])&&n.reset?n.reset(t)===!1&&this.viewmodel.reset(t):this.viewmodel.reset(t),i=bd.reset(this),r=i.length;r--;)if(wb.indexOf(i[r])>-1){s=!0;break}if(s){var o=void 0;this.viewmodel.mark(Za),(o=this.component)&&(o.shouldDestroy=!0),this.unrender(),o&&(o.shouldDestroy=!1),this.fragment.template!==this.template&&(this.fragment.unbind(),this.fragment=new yb({template:this.template,root:this,owner:this})),e=this.render(this.el,this.anchor)}else e=mu.start(this,!0),this.viewmodel.mark(Za),mu.end();return xb.fire(this,t),e}function No(t){var e,n;hd.init(null,this,{template:t}),e=this.transitionsEnabled,this.transitionsEnabled=!1,(n=this.component)&&(n.shouldDestroy=!0),this.unrender(),n&&(n.shouldDestroy=!1),this.fragment.unbind(),this.fragment=new yb({template:this.template,root:this,owner:this}),this.render(this.el,this.anchor),this.transitionsEnabled=e}function Do(t,e){var n,i;if(i=mu.start(this,!0),h(t)){n=t;for(t in n)n.hasOwnProperty(t)&&(e=n[t],Io(this,t,e))}else Io(this,t,e);return mu.end(),i}function Io(t,e,n){e=_(C(e)),e.isPattern?A(t,e).forEach(function(e){t.viewmodel.set(e,n)}):t.viewmodel.set(e,n)}function Lo(t,e){return Ha(this,t,void 0===e?-1:-e)}function Vo(){var t;return this.fragment.unbind(),this.viewmodel.teardown(),this._observers.forEach(K),this.fragment.rendered&&this.el.__ractive_instances__&&I(this.el.__ractive_instances__,this),this.shouldDestroy=!0,t=this.fragment.rendered?this.unrender():ou.resolve(),Fb.fire(this),this._boundFunctions.forEach(Mo),t}function Mo(t){delete t.fn[t.prop]}function Uo(t){var e=this;if("string"!=typeof t)throw new TypeError(ja);var n=void 0;return/\*/.test(t)?(n={},A(this,_(C(t))).forEach(function(t){n[t.str]=!e.viewmodel.get(t)}),this.set(n)):this.set(t,!this.get(t))}function Wo(){return this.fragment.toString(!0)}function zo(){var t,e;if(!this.fragment.rendered)return m("ractive.unrender() was called on a Ractive instance that was not rendered"),ou.resolve();for(t=mu.start(this,!0),e=!this.component||this.component.shouldDestroy||this.shouldDestroy;this._animations[0];)this._animations[0].stop();return this.fragment.unrender(e),I(this.el.__ractive_instances__,this),Db.fire(this),mu.end(),t}function Bo(t){var e;return t=_(t)||Za,e=mu.start(this,!0),this.viewmodel.mark(t),mu.end(),Vb.fire(this,t),e}function qo(t,e){var n,i,r;if("string"!=typeof t||e){r=[];for(i in this._twowayBindings)(!t||_(i).equalsOrStartsWith(t))&&r.push.apply(r,this._twowayBindings[i])}else r=this._twowayBindings[t];return n=$o(this,r),this.set(n)}function $o(t,e){var n={},i=[];return e.forEach(function(t){var e,r;if(!t.radioName||t.element.node.checked){if(t.checkboxName)return void(i[t.keypath.str]||t.changed()||(i.push(t.keypath),i[t.keypath.str]=t));e=t.attribute.value,r=t.getValue(),j(e,r)||a(e,r)||(n[t.keypath.str]=r)}}),i.length&&i.forEach(function(t){var e,r,s;e=i[t.str],r=e.attribute.value,s=e.getValue(),j(r,s)||(n[t.str]=s)}),n}function Qo(t,e){return"function"==typeof e&&/_super/.test(t)}function Zo(t){for(var e={};t;)Ho(t,e),Go(t,e),t=t._Parent!==Qb?t._Parent:!1;return e}function Ho(t,e){vd.forEach(function(n){Ko(n.useDefaults?t.prototype:t,e,n.name)})}function Ko(t,e,n){var i,r=Object.keys(t[n]);r.length&&((i=e[n])||(i=e[n]={}),r.filter(function(t){return!(t in i)}).forEach(function(e){return i[e]=t[n][e]}))}function Go(t,e){Object.keys(t.prototype).forEach(function(n){if("computed"!==n){var i=t.prototype[n];if(n in e){if("function"==typeof e[n]&&"function"==typeof i&&e[n]._method){var r=void 0,s=i._method;s&&(i=i._method),r=Wb(e[n]._method,i),s&&(r._method=r),e[n]=r}}else e[n]=i._method?i._method:i}})}function Yo(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return e.length?e.reduce(Jo,this):Jo(this)}function Jo(t){var e,n,r=void 0===arguments[1]?{}:arguments[1];return r.prototype instanceof Qb&&(r=zb(r)),e=function(t){return this instanceof e?void By(this,t):new e(t)},n=wa(t.prototype),n.constructor=e,ka(e,{defaults:{value:n},extend:{value:Yo,writable:!0,configurable:!0},_Parent:{value:t}}),bd.extend(t,n,r),Wh.extend(t,n,r),r.computed&&(n.computed=i(wa(t.prototype.computed),r.computed)),e.prototype=n,e}var Xo,ta,ea,na,ia,ra,sa,oa=3,aa={el:void 0,append:!1,template:{v:oa,t:[]},preserveWhitespace:!1,sanitize:!1,stripComments:!0,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],interpolate:!1,data:{},computed:{},magic:!1,modifyArrays:!0,adapt:[],isolated:!1,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,css:null,noCssTransform:!1},ua=aa,ha={linear:function(t){return t},easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}};Xo="object"==typeof document,ta="undefined"!=typeof navigator&&/jsDom/.test(navigator.appName),ea="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply;try{Object.defineProperty({},"test",{value:0}),na=!0}catch(ca){na=!1}ia={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ra="undefined"==typeof document?!1:document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),sa=["o","ms","moz","webkit"];var la,fa,da,pa,ma,va,ga,ya,ba;if(la=ra?function(t,e){return e&&e!==ia.html?document.createElementNS(e,t):document.createElement(t)}:function(t,e){if(e&&e!==ia.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(t)},Xo){for(da=la("div"),pa=["matches","matchesSelector"],ba=function(t){return function(e,n){return e[t](n)}},ga=pa.length;ga--&&!fa;)if(ma=pa[ga],da[ma])fa=ba(ma);else for(ya=sa.length;ya--;)if(va=sa[ga]+ma.substr(0,1).toUpperCase()+ma.substring(1),da[va]){fa=ba(va);break}fa||(fa=function(t,e){var n,i,r;for(i=t.parentNode,i||(da.innerHTML="",i=da,t=t.cloneNode(),da.appendChild(t)),n=i.querySelectorAll(e),r=n.length;r--;)if(n[r]===t)return!0;return!1})}else fa=null;var wa,xa,ka,Ea=null;try{Object.defineProperty({},"test",{value:0}),Xo&&Object.defineProperty(document.createElement("div"),"test",{value:0}),xa=Object.defineProperty}catch(_a){xa=function(t,e,n){t[e]=n.value}}try{try{Object.defineProperties({},{test:{value:0}})}catch(_a){throw _a}Xo&&Object.defineProperties(la("div"),{test:{value:0}}),ka=Object.defineProperties}catch(_a){ka=function(t,e){var n;for(n in e)e.hasOwnProperty(n)&&xa(t,n,e[n])}}try{Object.create(null),wa=Object.create}catch(_a){wa=function(){var t=function(){};return function(e,n){var i;return null===e?{}:(t.prototype=e,i=new t,n&&Object.defineProperties(i,n),i)}}()}var Aa,Sa,Ca,Oa=Object.prototype.hasOwnProperty,Pa=Object.prototype.toString,Ta=/^\[object (?:Array|FileList)\]$/,Fa=function(){},Ra={};ea?!function(){var t=["%cRactive.js %c0.7.3 %cin debug mode, %cmore...","color: rgb(114, 157, 52); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(82, 140, 224); font-weight: normal; text-decoration: underline;"],e="You're running Ractive 0.7.3 in debug mode - messages will be printed to the console to help you fix problems and optimise your application.\n\nTo disable debug mode, add this line at the start of your app:\n  Ractive.DEBUG = false;\n\nTo disable debug mode when your app is minified, add this snippet:\n  Ractive.DEBUG = /unminified/.test(function(){/*unminified*/});\n\nGet help and support:\n  http://docs.ractivejs.org\n  http://stackoverflow.com/questions/tagged/ractivejs\n  http://groups.google.com/forum/#!forum/ractive-js\n  http://twitter.com/ractivejs\n\nFound a bug? Raise an issue:\n  https://github.com/ractivejs/ractive/issues\n\n";Ca=function(){var n=!!console.groupCollapsed;console[n?"groupCollapsed":"log"].apply(console,t),console.log(e),n&&console.groupEnd(t),Ca=Fa},Sa=function(t,e){if(Ca(),"object"==typeof e[e.length-1]){var n=e.pop(),i=n?n.ractive:null;if(i){var r=void 0;i.component&&(r=i.component.name)&&(t="<"+r+"> "+t);var s=void 0;(s=n.node||i.fragment&&i.fragment.rendered&&i.find("*"))&&e.push(s)}}console.warn.apply(console,["%cRactive.js: %c"+t,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);"].concat(e))},Aa=function(){console.log.apply(console,arguments)}}():Sa=Aa=Ca=Fa;var ja="Bad arguments",Na='A function was specified for "%s" %s, but no %s was returned',Da=function(t,e){return'Missing "'+t+'" '+e+" plugin. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#"+e+"s"},Ia=function(t,e,n,i){if(t===e)return b(e);if(i){var r=g("interpolators",n,i);if(r)return r(t,e)||b(e);l(Da(i,"interpolator"))}return Ma.number(t,e)||Ma.array(t,e)||Ma.object(t,e)||b(e)},La=Ia,Va={number:function(t,e){var n;return u(t)&&u(e)?(t=+t,e=+e,n=e-t,n?function(e){return t+e*n}:function(){return t}):null},array:function(t,e){var n,i,r,o;if(!s(t)||!s(e))return null;for(n=[],i=[],o=r=Math.min(t.length,e.length);o--;)i[o]=La(t[o],e[o]);for(o=r;o<t.length;o+=1)n[o]=t[o];for(o=r;o<e.length;o+=1)n[o]=e[o];return function(t){for(var e=r;e--;)n[e]=i[e](t);return n}},object:function(t,e){var n,i,r,s,o;if(!h(t)||!h(e))return null;n=[],s={},r={};for(o in t)Oa.call(t,o)&&(Oa.call(e,o)?(n.push(o),r[o]=La(t[o],e[o])):s[o]=t[o]);for(o in e)Oa.call(e,o)&&!Oa.call(t,o)&&(s[o]=e[o]);return i=n.length,function(t){for(var e,o=i;o--;)e=n[o],s[e]=r[e](t);return s}}},Ma=Va,Ua=w,Wa={},za=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,Ba=/\*/,qa={},$a=function(t){var e=t.split(".");this.str=t,"@"===t[0]&&(this.isSpecial=!0,this.value=E(t)),this.firstKey=e[0],this.lastKey=e.pop(),this.isPattern=Ba.test(t),this.parent=""===t?null:_(e.join(".")),this.isRoot=!t};$a.prototype={equalsOrStartsWith:function(t){return t===this||this.startsWith(t)},join:function(t){return _(this.isRoot?String(t):this.str+"."+t)},replace:function(t,e){return this===t?e:this.startsWith(t)?null===e?e:_(this.str.replace(t.str+".",e.str+".")):void 0},startsWith:function(t){return t?t&&this.str.substr(0,t.str.length+1)===t.str+".":!1},toString:function(){throw new Error("Bad coercion")},valueOf:function(){throw new Error("Bad coercion")},wildcardMatches:function(){return this._wildcardMatches||(this._wildcardMatches=Ua(this.str))}};var Qa,Za=_(""),Ha=O,Ka="Cannot add to a non-numeric value",Ga=P;"undefined"==typeof window?Qa=null:(!function(t,e,n){var i,r;if(!n.requestAnimationFrame){for(i=0;i<t.length&&!n.requestAnimationFrame;++i)n.requestAnimationFrame=n[t[i]+"RequestAnimationFrame"];n.requestAnimationFrame||(r=n.setTimeout,n.requestAnimationFrame=function(t){var n,i,s;return n=Date.now(),i=Math.max(0,16-(n-e)),s=r(function(){t(n+i)},i),e=n+i,s})}}(sa,0,window),Qa=window.requestAnimationFrame);var Ya,Ja=Qa;Ya="undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()};var Xa=Ya,tu={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated and will likely be removed in a future release. You can either use the "oninit" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use "onrender" instead. See http://docs.ractivejs.org/latest/migrating for more information.'},complete:{deprecated:"complete",replacement:"oncomplete"}};T.prototype.fire=function(t,e){function n(n){return t[n]?(e?t[n](e):t[n](),!0):void 0}n(this.method),!t[this.method]&&this.deprecate&&n(this.deprecate.deprecated)&&(this.deprecate.message?m(this.deprecate.message):m('The method "%s" has been deprecated in favor of "%s" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.',this.deprecate.deprecated,this.deprecate.replacement)),e?t.fire(this.event,e):t.fire(this.event)};var eu,nu=T,iu={},ru={},su={};"function"==typeof Promise?eu=Promise:(eu=function(t){var e,n,i,r,s,o,a=[],u=[],h=iu;i=function(t){return function(i){h===iu&&(e=i,h=t,n=M(h===ru?a:u,e),V(n))}},r=i(ru),s=i(su);try{t(r,s)}catch(c){s(c)}return o={then:function(t,e){var i=new eu(function(r,s){var o=function(t,e,n){e.push("function"==typeof t?function(e){var n;try{n=t(e),U(i,n,r,s)}catch(o){s(o)}}:n)};o(t,a,r),o(e,u,s),h!==iu&&V(n)});return i}},o["catch"]=function(t){return this.then(null,t)},o},eu.all=function(t){return new eu(function(e,n){var i,r,s,o=[];if(!t.length)return void e(o);for(s=function(t,r){t&&"function"==typeof t.then?t.then(function(t){o[r]=t,--i||e(o)},n):(o[r]=t,--i||e(o))},i=r=t.length;r--;)s(t[r],r)})},eu.resolve=function(t){return new eu(function(e){e(t)})},eu.reject=function(t){return new eu(function(e,n){n(t)})});var ou=eu,au=function(t){do if(void 0!==t.context)return t.context;while(t=t.parent);return Za},uu=W,hu=function(t,e){this.callback=t,this.parent=e,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.decoratorQueue=[],this.outrosComplete=!1,e&&e.addChild(this)};hu.prototype={addChild:function(t){this.children.push(t),this.totalChildren+=1,this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1,J(this)},decrementTotal:function(){this.totalChildren-=1,J(this)},add:function(t){var e=t.isIntro?this.intros:this.outros;e.push(t)},addDecorator:function(t){this.decoratorQueue.push(t)},remove:function(t){var e=t.isIntro?this.intros:this.outros;I(e,t),J(this)},init:function(){this.ready=!0,J(this)},detachNodes:function(){this.decoratorQueue.forEach(Q),this.detachQueue.forEach(G),this.children.forEach(Y)}};var cu,lu,fu=hu,du=[],pu=new nu("change");lu={start:function(t,e){var n,i;return e&&(n=new ou(function(t){return i=t})),cu={previousBatch:cu,transitionManager:new fu(i,cu&&cu.transitionManager),views:[],tasks:[],ractives:[],instance:t},t&&cu.ractives.push(t),n},end:function(){X(),cu.transitionManager.init(),!cu.previousBatch&&cu.instance&&(cu.instance.viewmodel.changes=[]),cu=cu.previousBatch},addRactive:function(t){cu&&F(cu.ractives,t)},registerTransition:function(t){t._manager=cu.transitionManager,cu.transitionManager.add(t)},registerDecorator:function(t){cu.transitionManager.addDecorator(t)},addView:function(t){cu.views.push(t)},addUnresolved:function(t){du.push(t)},removeUnresolved:function(t){I(du,t)},detachWhenReady:function(t){cu.transitionManager.detachQueue.push(t)},scheduleTask:function(t,e){var n;if(cu){for(n=cu;e&&n.previousBatch;)n=n.previousBatch;n.tasks.push(t)}else t()}};var mu=lu,vu=[],gu={tick:function(){var t,e,n;for(n=Xa(),mu.start(),t=0;t<vu.length;t+=1)e=vu[t],e.tick(n)||vu.splice(t--,1);mu.end(),vu.length?Ja(gu.tick):gu.running=!1},add:function(t){vu.push(t),gu.running||(gu.running=!0,Ja(gu.tick))},abort:function(t,e){for(var n,i=vu.length;i--;)n=vu[i],n.root===e&&n.keypath===t&&n.stop()}},yu=gu,bu=function(t){var e;this.startTime=Date.now();for(e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);this.interpolator=La(this.from,this.to,this.root,this.interpolator),this.running=!0,this.tick()};bu.prototype={tick:function(){var t,e,n,i,r,s;return s=this.keypath,this.running?(i=Date.now(),t=i-this.startTime,t>=this.duration?(null!==s&&(mu.start(this.root),this.root.viewmodel.set(s,this.to),mu.end()),this.step&&this.step(1,this.to),this.complete(this.to),r=this.root._animations.indexOf(this),-1===r&&m("Animation was not found"),this.root._animations.splice(r,1),this.running=!1,!1):(e=this.easing?this.easing(t/this.duration):t/this.duration,
null!==s&&(n=this.interpolator(e),mu.start(this.root),this.root.viewmodel.set(s,n),mu.end()),this.step&&this.step(e,n),!0)):!1},stop:function(){var t;this.running=!1,t=this.root._animations.indexOf(this),-1===t&&m("Animation was not found"),this.root._animations.splice(t,1)}};var wu=bu,xu=nt,ku={stop:Fa},Eu=rt,_u=new nu("detach"),Au=st,Su=ot,Cu=function(){var t,e,n;t=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],e=this.selector,n=t.indexOf(e),-1!==n&&(t.splice(n,1),t[e]=null)},Ou=function(t,e){var n,i,r,s,o,a,u,h,c,l;for(n=ut(t.component||t._ractive.proxy),i=ut(e.component||e._ractive.proxy),r=D(n),s=D(i);r&&r===s;)n.pop(),i.pop(),o=r,r=D(n),s=D(i);if(r=r.component||r,s=s.component||s,c=r.parentFragment,l=s.parentFragment,c===l)return a=c.items.indexOf(r),u=l.items.indexOf(s),a-u||n.length-i.length;if(h=o.fragments)return a=h.indexOf(c),u=h.indexOf(l),a-u||n.length-i.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")},Pu=function(t,e){var n;return t.compareDocumentPosition?(n=t.compareDocumentPosition(e),2&n?1:-1):Ou(t,e)},Tu=function(){this.sort(this._isComponentQuery?Ou:Pu),this._dirty=!1},Fu=function(){var t=this;this._dirty||(this._dirty=!0,mu.scheduleTask(function(){t._sort()}))},Ru=function(t){var e=this.indexOf(this._isComponentQuery?t.instance:t);-1!==e&&this.splice(e,1)},ju=ht,Nu=ct,Du=lt,Iu=ft,Lu=dt,Vu=pt,Mu={enqueue:function(t,e){t.event&&(t._eventQueue=t._eventQueue||[],t._eventQueue.push(t.event)),t.event=e},dequeue:function(t){t._eventQueue&&t._eventQueue.length?t.event=t._eventQueue.pop():delete t.event}},Uu=Mu,Wu=mt,zu=yt,Bu=bt,qu={capture:!0,noUnwrap:!0,fullRootGet:!0},$u=wt,Qu=new nu("insert"),Zu=kt,Hu=function(t,e,n,i){this.root=t,this.keypath=e,this.callback=n,this.defer=i.defer,this.context=i&&i.context?i.context:t};Hu.prototype={init:function(t){this.value=this.root.get(this.keypath.str),t!==!1?this.update():this.oldValue=this.value},setValue:function(t){var e=this;a(t,this.value)||(this.value=t,this.defer&&this.ready?mu.scheduleTask(function(){return e.update()}):this.update())},update:function(){this.updating||(this.updating=!0,this.callback.call(this.context,this.value,this.oldValue,this.keypath.str),this.oldValue=this.value,this.updating=!1)}};var Ku,Gu=Hu,Yu=Et,Ju=Array.prototype.slice;Ku=function(t,e,n,i){this.root=t,this.callback=n,this.defer=i.defer,this.keypath=e,this.regex=new RegExp("^"+e.str.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$"),this.values={},this.defer&&(this.proxies=[]),this.context=i&&i.context?i.context:t},Ku.prototype={init:function(t){var e,n;if(e=Yu(this.root,this.keypath),t!==!1)for(n in e)e.hasOwnProperty(n)&&this.update(_(n));else this.values=e},update:function(t){var e,n=this;if(t.isPattern){e=Yu(this.root,t);for(t in e)e.hasOwnProperty(t)&&this.update(_(t))}else if(!this.root.viewmodel.implicitChanges[t.str])return this.defer&&this.ready?void mu.scheduleTask(function(){return n.getProxy(t).update()}):void this.reallyUpdate(t)},reallyUpdate:function(t){var e,n,i,r;return e=t.str,n=this.root.viewmodel.get(t),this.updating?void(this.values[e]=n):(this.updating=!0,a(n,this.values[e])&&this.ready||(i=Ju.call(this.regex.exec(e),1),r=[n,this.values[e],e].concat(i),this.values[e]=n,this.callback.apply(this.context,r)),void(this.updating=!1))},getProxy:function(t){var e=this;return this.proxies[t.str]||(this.proxies[t.str]={update:function(){return e.reallyUpdate(t)}}),this.proxies[t.str]}};var Xu,th,eh,nh,ih,rh,sh=Ku,oh=_t,ah={},uh=At,hh=St,ch=function(t){return t.trim()},lh=function(t){return""!==t},fh=Ct,dh=Ot,ph=Pt,mh=Tt,vh=Array.prototype,gh=function(t){return function(e){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;n>r;r++)i[r-1]=arguments[r];var o,a,u,h,c=[];if(e=_(C(e)),o=this.viewmodel.get(e),a=o.length,!s(o))throw new Error("Called ractive."+t+"('"+e.str+"'), but '"+e.str+"' does not refer to an array");return c=mh(o,t,i),h=vh[t].apply(o,i),u=mu.start(this,!0).then(function(){return h}),c?this.viewmodel.smartUpdate(e,o,c):this.viewmodel.mark(e),mu.end(),u}},yh=gh("pop"),bh=gh("push"),wh="/* Ractive.js component styles */\n",xh=[],kh=!1;Xo?(eh=document.createElement("style"),eh.type="text/css",nh=document.getElementsByTagName("head")[0],rh=!1,ih=eh.styleSheet,th=function(){var t=wh+xh.map(function(t){return"\n/* {"+t.id+"} */\n"+t.styles}).join("\n");ih?ih.cssText=t:eh.innerHTML=t,rh||(nh.appendChild(eh),rh=!0)},Xu={add:function(t){xh.push(t),kh=!0},apply:function(){kh&&(th(),kh=!1)}}):Xu={add:Fa,apply:Fa};var Eh,_h,Ah=Xu,Sh=Rt,Ch=new nu("render"),Oh=new nu("complete"),Ph={extend:function(t,e,n){e.adapt=Nt(e.adapt,N(n.adapt))},init:function(){}},Th=Ph,Fh=Dt,Rh=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,jh=/\/\*.*?\*\//g,Nh=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~\(]+(?:\([^\)]+\))?)?\s*[\s\+\>\~]?)\s*/g,Dh=/^@media/,Ih=/\[data-ractive-css~="\{[a-z0-9-]+\}"]/g,Lh=1,Vh={name:"css",extend:function(t,e,n){if(n.css){var i=Lh++,r=n.noCssTransform?n.css:Fh(n.css,i);e.cssId=i,Ah.add({id:i,styles:r})}},init:function(){}},Mh=Vh,Uh={name:"data",extend:function(t,e,n){var i=void 0,r=void 0;if(n.data&&h(n.data))for(i in n.data)r=n.data[i],r&&"object"==typeof r&&(h(r)||s(r))&&m("Passing a `data` option with object and array properties to Ractive.extend() is discouraged, as mutating them is likely to cause bugs. Consider using a data function instead:\n\n  // this...\n  data: function () {\n    return {\n      myObject: {}\n    };\n  })\n\n  // instead of this:\n  data: {\n    myObject: {}\n  }");e.data=Mt(e.data,n.data)},init:function(t,e,n){var i=Mt(t.prototype.data,n.data);return"function"==typeof i&&(i=i.call(e)),i||{}},reset:function(t){var e=this.init(t.constructor,t,t.viewmodel);return t.viewmodel.reset(e),!0}},Wh=Uh,zh=/^\s+/;_h=function(t){this.name="ParseError",this.message=t;try{throw new Error(t)}catch(e){this.stack=e.stack}},_h.prototype=Error.prototype,Eh=function(t,e){var n,i,r=0;for(this.str=t,this.options=e||{},this.pos=0,this.lines=this.str.split("\n"),this.lineEnds=this.lines.map(function(t){var e=r+t.length+1;return r=e,e},0),this.init&&this.init(t,e),n=[];this.pos<this.str.length&&(i=this.read());)n.push(i);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(n,e):n},Eh.prototype={read:function(t){var e,n,i,r;for(t||(t=this.converters),e=this.pos,i=t.length,n=0;i>n;n+=1)if(this.pos=e,r=t[n](this))return r;return null},getLinePos:function(t){for(var e,n=0,i=0;t>=this.lineEnds[n];)i=this.lineEnds[n],n+=1;return e=t-i,[n+1,e+1,t]},error:function(t){var e=this.getLinePos(this.pos),n=e[0],i=e[1],r=this.lines[e[0]-1],s=0,o=r.replace(/\t/g,function(t,n){return n<e[1]&&(s+=1),"  "})+"\n"+new Array(e[1]+s).join(" ")+"^----",a=new _h(""+t+" at line "+n+" character "+i+":\n"+o);throw a.line=e[0],a.character=e[1],a.shortMessage=t,a},matchString:function(t){return this.str.substr(this.pos,t.length)===t?(this.pos+=t.length,t):void 0},matchPattern:function(t){var e;return(e=t.exec(this.remaining()))?(this.pos+=e[0].length,e[1]||e[0]):void 0},allowWhitespace:function(){this.matchPattern(zh)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},Eh.extend=function(t){var e,n,i=this;e=function(t,e){Eh.call(this,t,e)},e.prototype=wa(i.prototype);for(n in t)Oa.call(t,n)&&(e.prototype[n]=t[n]);return e.extend=Eh.extend,e};var Bh,qh,$h,Qh=Eh,Zh=1,Hh=2,Kh=3,Gh=4,Yh=5,Jh=6,Xh=7,tc=8,ec=9,nc=10,ic=13,rc=14,sc=15,oc=16,ac=17,uc=18,hc=20,cc=21,lc=22,fc=23,dc=24,pc=25,mc=26,vc=27,gc=30,yc=31,bc=32,wc=33,xc=34,kc=35,Ec=36,_c=40,Ac=50,Sc=51,Cc=52,Oc=53,Pc=54,Tc=60,Fc=61,Rc=zt,jc=/^[^\s=]+/,Nc=/^\s+/,Dc=Bt,Ic=/^(\/(?:[^\n\r\u2028\u2029\/\\[]|\\.|\[(?:[^\n\r\u2028\u2029\]\\]|\\.)*])+\/(?:([gimuy])(?![a-z]*\2))*(?![a-zA-Z_$0-9]))/,Lc=qt,Vc={t:nc,exclude:!0},Mc="Expected a JavaScript expression",Uc="Expected closing paren",Wc=Qt,zc=/^(?:[+-]?)0*(?:(?:(?:[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,Bc=Zt;Bh=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,qh=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,$h=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;var qc,$c,Qc=function(t){return function(e){var n,i,r,s;for(n=e.pos,i='"',r=!1;!r;)s=e.matchPattern(Bh)||e.matchPattern(qh)||e.matchString(t),s?i+='"'===s?'\\"':"\\'"===s?"'":s:(s=e.matchPattern($h),s?i+="\\u"+("000"+s.charCodeAt(1).toString(16)).slice(-4):r=!0);return i+='"',JSON.parse(i)}},Zc=Qc('"'),Hc=Qc("'"),Kc=function(t){var e,n;return e=t.pos,t.matchString('"')?(n=Hc(t),t.matchString('"')?{t:cc,v:n}:(t.pos=e,null)):t.matchString("'")?(n=Zc(t),t.matchString("'")?{t:cc,v:n}:(t.pos=e,null)):null},Gc=/^[a-zA-Z_$][a-zA-Z_$0-9]*/,Yc=Ht,Jc=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,Xc=Kt,tl=Gt,el=function(t){var e,n;return e=t.pos,t.allowWhitespace(),t.matchString("{")?(n=tl(t),t.allowWhitespace(),t.matchString("}")?{t:fc,m:n}:(t.pos=e,null)):(t.pos=e,null)},nl=Yt,il=function(t){var e,n;return e=t.pos,t.allowWhitespace(),t.matchString("[")?(n=nl(t),t.matchString("]")?{t:lc,m:n}:(t.pos=e,null)):(t.pos=e,null)},rl=Jt,sl=Xt,ol=/^(?:~\/|(?:\.\.\/)+|\.\/(?:\.\.\/)*|\.)/;qc=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)\b/,$c=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;var al,ul,hl=/^[a-zA-Z$_0-9]+(?:(?:\.[a-zA-Z$_0-9]+)|(?:\[[0-9]+\]))*/,cl=/^[a-zA-Z_$][-a-zA-Z_$0-9]*/,ll=te,fl=function(t){return rl(t)||sl(t)||ll(t)},dl=ee,pl=function(t){var e,n,i,r;if(n=fl(t),!n)return null;for(;n;)if(e=t.pos,i=dl(t))n={t:bc,x:n,r:i};else{if(!t.matchString("("))break;t.allowWhitespace(),r=nl(t),t.allowWhitespace(),t.matchString(")")||t.error(Uc),n={t:_c,x:n},r&&(n.o=r)}return n};ul=function(t,e){return function(n){var i;return(i=e(n))?i:n.matchString(t)?(n.allowWhitespace(),i=Ol(n),i||n.error(Mc),{s:t,o:i,t:wc}):null}},function(){var t,e,n,i,r;for(i="! ~ + - typeof".split(" "),r=pl,t=0,e=i.length;e>t;t+=1)n=ul(i[t],r),r=n;al=r}();var ml,vl,gl=al;vl=function(t,e){return function(n){var i,r,s;if(r=e(n),!r)return null;for(;;){if(i=n.pos,n.allowWhitespace(),!n.matchString(t))return n.pos=i,r;if("in"===t&&/[a-zA-Z_$0-9]/.test(n.remaining().charAt(0)))return n.pos=i,r;if(n.allowWhitespace(),s=e(n),!s)return n.pos=i,r;r={t:Ec,s:t,o:[r,s]}}}},function(){var t,e,n,i,r;for(i="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),r=gl,t=0,e=i.length;e>t;t+=1)n=vl(i[t],r),r=n;ml=r}();var yl,bl,wl,xl,kl,El,_l,Al,Sl=ml,Cl=ne,Ol=ie,Pl=re,Tl=oe,Fl=/^[0-9][1-9]*$/,Rl=ue,jl=he,Nl=ce,Dl=le,Il=fe,Ll=de,Vl=pe,Ml=/^yield\s*/,Ul=me,Wl=ve,zl=/^\s*else\s*/,Bl=ge,ql=/^\s*elseif\s+/,$l={each:Cc,"if":Ac,"if-with":Pc,"with":Oc,unless:Sc},Ql=ye,Zl=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,Hl=/^\s*,\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,Kl=new RegExp("^("+Object.keys($l).join("|")+")\\b"),Gl=Ee,Yl="<!--",Jl="-->";yl=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i,bl=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,wl={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},xl=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],kl=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(wl).join("|")+"));?","g"),El=/</g,_l=/>/g,Al=/&/g;var Xl,tf,ef,nf,rf,sf,of,af=/^\s*\r?\n/,uf=/\r?\n\s*$/,hf=function(t){var e,n,i,r,s;for(e=1;e<t.length;e+=1)n=t[e],i=t[e-1],r=t[e-2],Ce(n)&&Oe(i)&&Ce(r)&&uf.test(r)&&af.test(n)&&(t[e-2]=r.replace(uf,"\n"),t[e]=n.replace(af,"")),Pe(n)&&Ce(i)&&uf.test(i)&&Ce(n.f[0])&&af.test(n.f[0])&&(t[e-1]=i.replace(uf,"\n"),n.f[0]=n.f[0].replace(af,"")),Ce(n)&&Pe(i)&&(s=D(i.f),Ce(s)&&uf.test(s)&&af.test(n)&&(i.f[i.f.length-1]=s.replace(uf,"\n"),t[e]=n.replace(af,"")));return t},cf=function(t,e,n){var i;e&&(i=t[0],"string"==typeof i&&(i=i.replace(e,""),i?t[0]=i:t.shift())),n&&(i=D(t),"string"==typeof i&&(i=i.replace(n,""),i?t[t.length-1]=i:t.pop()))},lf=Te,ff=/[ \t\f\r\n]+/g,df=/^(?:pre|script|style|textarea)$/i,pf=/^[ \t\f\r\n]+/,mf=/[ \t\f\r\n]+$/,vf=/^(?:\r\n|\r|\n)/,gf=/(?:\r\n|\r|\n)$/,yf=Fe,bf=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/,wf=function(t,e){var n,i,r;for(n=e.length;n--;){if(i=t.indexOf(e[n]),!i)return 0;-1!==i&&(!r||r>i)&&(r=i)}return r||-1},xf=Re,kf=/^[^\s"'>\/=]+/,Ef=/^[^\s"'=<>`]+/;tf={"true":!0,"false":!1,undefined:void 0,"null":null},ef=new RegExp("^(?:"+Object.keys(tf).join("|")+")"),nf=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,rf=/\$\{([^\}]+)\}/g,sf=/^\$\{([^\}]+)\}/,of=/^\s*$/,Xl=Qh.extend({init:function(t,e){this.values=e.values,this.allowWhitespace()},postProcess:function(t){return 1===t.length&&of.test(this.leftover)?{value:t[0].v}:null},converters:[function(t){var e;return t.values?(e=t.matchPattern(sf),e&&t.values.hasOwnProperty(e)?{v:t.values[e]}:void 0):null},function(t){var e;return(e=t.matchPattern(ef))?{v:tf[e]}:void 0},function(t){var e;return(e=t.matchPattern(nf))?{v:+e}:void 0},function(t){var e,n=Kc(t);return n&&(e=t.values)?{v:n.v.replace(rf,function(t,n){return n in e?e[n]:n})}:n},function(t){var e,n;if(!t.matchString("{"))return null;if(e={},t.allowWhitespace(),t.matchString("}"))return{v:e};for(;n=Ve(t);){if(e[n.key]=n.value,t.allowWhitespace(),t.matchString("}"))return{v:e};if(!t.matchString(","))return null}return null},function(t){var e,n;if(!t.matchString("["))return null;if(e=[],t.allowWhitespace(),t.matchString("]"))return{v:e};for(;n=t.read();){if(e.push(n.v),t.allowWhitespace(),t.matchString("]"))return{v:e};if(!t.matchString(","))return null;t.allowWhitespace()}return null}]});var _f,Af=function(t,e){var n=new Xl(t,{values:e});return n.result},Sf=Me,Cf=/^([a-zA-Z_$][a-zA-Z_$0-9]*)\(/,Of=/\)\s*$/;_f=Qh.extend({converters:[Ol]});var Pf,Tf=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,Ff=/^[\s\n\/>]/,Rf=/^on/,jf=/^on-([a-zA-Z\\*\\.$_][a-zA-Z\\*\\.$_0-9\-]+)$/,Nf=/^(?:change|reset|teardown|update|construct|config|init|render|unrender|detach|insert)$/,Df={"intro-outro":"t0",intro:"t1",outro:"t2",decorator:"o"},If={exclude:!0};Pf={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rt","rp"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tfoot:["tbody"],tr:["tr","tbody"],td:["td","th","tr"],th:["td","th","tr"]};var Lf,Vf=Ue,Mf=ze,Uf=Be,Wf=/[-\/\\^$*+?.()|[\]{}]/g,zf=qe,Bf=/^<!--\s*/,qf=/s*>\s*([a-zA-Z_$][-a-zA-Z_$0-9]*)\s*/,$f=/\s*-->/,Qf=$e,Zf=/^#\s*partial\s+/,Hf=Qe,Kf=Ze,Gf=[Nl,jl,Ql,Vl,Ll,Dl],Yf=[Rl],Jf=[jl,Ql,Ll],Xf=void 0,td=[Lc,Gl,Vf,Mf],ed=[zf,Qf];Xf=Qh.extend({init:function(t,e){var n=e.tripleDelimiters||["{{{","}}}"],i=e.staticDelimiters||["[[","]]"],r=e.staticTripleDelimiters||["[[[","]]]"];this.standardDelimiters=e.delimiters||["{{","}}"],this.tags=[{isStatic:!1,isTriple:!1,open:this.standardDelimiters[0],close:this.standardDelimiters[1],readers:Gf},{isStatic:!1,isTriple:!0,open:n[0],close:n[1],readers:Yf},{isStatic:!0,isTriple:!1,open:i[0],close:i[1],readers:Jf},{isStatic:!0,isTriple:!0,open:r[0],close:r[1],readers:Yf}],this.sortMustacheTags(),this.sectionDepth=0,this.elementStack=[],this.interpolate={script:!e.interpolate||e.interpolate.script!==!1,style:!e.interpolate||e.interpolate.style!==!1},e.sanitize===!0&&(e.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),this.stripComments=e.stripComments!==!1,this.preserveWhitespace=e.preserveWhitespace,this.sanitizeElements=e.sanitize&&e.sanitize.elements,this.sanitizeEventAttributes=e.sanitize&&e.sanitize.eventAttributes,this.includeLinePositions=e.includeLinePositions},postProcess:function(t){return t.length?(this.sectionDepth>0&&this.error("A section was left open"),lf(t[0].t,this.stripComments,this.preserveWhitespace,!this.preserveWhitespace,!this.preserveWhitespace),t[0]):{t:[],v:oa}},converters:[Hf],sortMustacheTags:function(){this.tags.sort(function(t,e){return e.open.length-t.open.length})}});var nd,id,rd,sd=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters","interpolate"],od={fromId:Ge,isHashedId:Ye,isParsed:Je,getParseOptions:Xe,createHelper:He,parse:Ke},ad=od,ud={name:"template",extend:function(t,e,n){var i;"template"in n&&(i=n.template,e.template="function"==typeof i?i:rn(i,e))},init:function(t,e,n){var i,r;i="template"in n?n.template:t.prototype.template,"function"==typeof i&&(r=i,i=en(e,r),e._config.template={fn:r,result:i}),i=rn(i,e),e.template=i.t,i.p&&sn(e.partials,i.p)},reset:function(t){var e,n=tn(t);return n?(e=rn(n,t),t.template=e.t,sn(t.partials,e.p,!0),!0):void 0}},hd=ud;nd=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],id=function(t,e){this.name=t,this.useDefaults=e},id.prototype={constructor:id,extend:function(t,e,n){this.configure(this.useDefaults?t.defaults:t,this.useDefaults?e:e.constructor,n)},init:function(){},configure:function(t,e,n){var i,r=this.name,s=n[r];i=wa(t[r]);for(var o in s)i[o]=s[o];e[r]=i},reset:function(t){var e=t[this.name],n=!1;return Object.keys(e).forEach(function(t){var i=e[t];i._fn&&(i._fn.isOwner?e[t]=i._fn:delete e[t],n=!0)}),n}},rd=nd.map(function(t){return new id(t,"computed"===t)});var cd,ld,fd,dd,pd,md,vd=rd,gd=on,yd=cn;dd={adapt:Th,css:Mh,data:Wh,template:hd},fd=Object.keys(ua),md=dn(fd.filter(function(t){return!dd[t]})),pd=dn(fd.concat(vd.map(function(t){return t.name}))),ld=[].concat(fd.filter(function(t){return!vd[t]&&!dd[t]}),vd,dd.data,dd.template,dd.css),cd={extend:function(t,e,n){return ln("extend",t,e,n)},init:function(t,e,n){return ln("init",t,e,n)},reset:function(t){return ld.filter(function(e){return e.reset&&e.reset(t)}).map(function(t){return t.name})},order:ld};var bd=cd,wd=pn,xd=mn,kd=vn,Ed=gn,_d=yn,Ad=bn,Sd=wn,Cd=xn,Od=kn,Pd=En,Td=_n,Fd=An,Rd=function(){return e(this.node)},jd=function(t){this.type=Zh,this.text=t.template};jd.prototype={detach:Rd,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createTextNode(this.text)),this.node},toString:function(t){return t?Se(this.text):this.text},unrender:function(t){return t?this.detach():void 0}};var Nd=jd,Dd=Sn,Id=Cn,Ld=function(t,e,n){var i;this.ref=e,this.resolved=!1,this.root=t.root,this.parentFragment=t.parentFragment,this.callback=n,i=uu(t.root,e,t.parentFragment),void 0!=i?this.resolve(i):mu.addUnresolved(this)};Ld.prototype={resolve:function(t){this.keypath&&!t&&mu.addUnresolved(this),this.resolved=!0,this.keypath=t,this.callback(t)},forceResolution:function(){this.resolve(_(this.ref))},rebind:function(t,e){var n;void 0!=this.keypath&&(n=this.keypath.replace(t,e),void 0!==n&&this.resolve(n))},unbind:function(){this.resolved||mu.removeUnresolved(this)}};var Vd=Ld,Md=function(t,e,n){this.parentFragment=t.parentFragment,this.ref=e,this.callback=n,this.rebind()},Ud={"@keypath":{prefix:"c",prop:["context"]},"@index":{prefix:"i",prop:["index"]},"@key":{prefix:"k",prop:["key","index"]}};Md.prototype={rebind:function(){var t,e=this.ref,n=this.parentFragment,i=Ud[e];if(!i)throw new Error('Unknown special reference "'+e+'" - valid references are @index, @key and @keypath');if(this.cached)return this.callback(_("@"+i.prefix+On(this.cached,i)));if(-1!==i.prop.indexOf("index")||-1!==i.prop.indexOf("key"))for(;n;){if(n.owner.currentSubtype===Cc&&void 0!==(t=On(n,i)))return this.cached=n,n.registerIndexRef(this),this.callback(_("@"+i.prefix+t));n=!n.parent&&n.owner&&n.owner.component&&n.owner.component.parentFragment&&!n.owner.component.instance.isolated?n.owner.component.parentFragment:n.parent}else for(;n;){if(void 0!==(t=On(n,i)))return this.callback(_("@"+i.prefix+t.str));n=n.parent}},unbind:function(){this.cached&&this.cached.unregisterIndexRef(this)}};var Wd=Md,zd=function(t,e,n){this.parentFragment=t.parentFragment,this.ref=e,this.callback=n,e.ref.fragment.registerIndexRef(this),this.rebind()};zd.prototype={rebind:function(){var t,e=this.ref.ref;t="k"===e.ref.t?"k"+e.fragment.key:"i"+e.fragment.index,void 0!==t&&this.callback(_("@"+t))},unbind:function(){this.ref.ref.fragment.unregisterIndexRef(this)}};var Bd=zd,qd=Pn;Pn.resolve=function(t){var e,n,i={};for(e in t.refs)n=t.refs[e],i[n.ref.n]="k"===n.ref.t?n.fragment.key:n.fragment.index;return i};var $d,Qd=Tn,Zd=Fn,Hd={},Kd=Function.prototype.bind;$d=function(t,e,n,i){var r,s=this;r=t.root,this.root=r,this.parentFragment=e,this.callback=i,this.owner=t,this.str=n.s,this.keypaths=[],this.pending=n.r.length,this.refResolvers=n.r.map(function(t,e){return Qd(s,t,function(t){s.resolve(e,t)})}),this.ready=!0,this.bubble()},$d.prototype={bubble:function(){this.ready&&(this.uniqueString=jn(this.str,this.keypaths),this.keypath=Nn(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},unbind:function(){for(var t;t=this.refResolvers.pop();)t.unbind()},resolve:function(t,e){this.keypaths[t]=e,this.bubble()},createEvaluator:function(){var t,e,n,i,r,s=this;i=this.keypath,t=this.root.viewmodel.computations[i.str],t?this.root.viewmodel.mark(i):(r=Zd(this.str,this.refResolvers.length),e=this.keypaths.map(function(t){var e;return"undefined"===t?function(){return void 0}:t.isSpecial?(e=t.value,function(){return e}):function(){var e=s.root.viewmodel.get(t,{noUnwrap:!0,fullRootGet:!0});return"function"==typeof e&&(e=In(e,s.root)),e}}),n={deps:this.keypaths.filter(Dn),getter:function(){var t=e.map(Rn);return r.apply(null,t)}},t=this.root.viewmodel.compute(i,n))},rebind:function(t,e){this.refResolvers.forEach(function(n){return n.rebind(t,e)})}};var Gd=$d,Yd=function(t,e,n){var i=this;this.resolver=e,this.root=e.root,this.parentFragment=n,this.viewmodel=e.root.viewmodel,"string"==typeof t?this.value=t:t.t===gc?this.refResolver=Qd(this,t.n,function(t){i.resolve(t)}):new Gd(e,n,t,function(t){i.resolve(t)})};Yd.prototype={resolve:function(t){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.keypath=t,this.value=this.viewmodel.get(t),this.bind(),this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(t,e){this.refResolver&&this.refResolver.rebind(t,e)},setValue:function(t){this.value=t,this.resolver.bubble()},unbind:function(){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.refResolver&&this.refResolver.unbind()},forceResolution:function(){this.refResolver&&this.refResolver.forceResolution()}};var Jd=Yd,Xd=function(t,e,n){var i,r,s,o,a=this;this.parentFragment=o=t.parentFragment,this.root=i=t.root,this.mustache=t,this.ref=r=e.r,this.callback=n,this.unresolved=[],(s=uu(i,r,o))?this.base=s:this.baseResolver=new Vd(this,r,function(t){a.base=t,a.baseResolver=null,a.bubble()}),this.members=e.m.map(function(t){return new Jd(t,a,o)}),this.ready=!0,this.bubble()};Xd.prototype={getKeypath:function(){var t=this.members.map(Ln);return!t.every(Vn)||this.baseResolver?null:this.base.join(t.join("."))},bubble:function(){this.ready&&!this.baseResolver&&this.callback(this.getKeypath())},unbind:function(){this.members.forEach(Z)},rebind:function(t,e){var n;if(this.base){var i=this.base.replace(t,e);i&&i!==this.base&&(this.base=i,n=!0)}this.members.forEach(function(i){i.rebind(t,e)&&(n=!0)}),n&&this.bubble()},forceResolution:function(){this.baseResolver&&(this.base=_(this.ref),this.baseResolver.unbind(),this.baseResolver=null),this.members.forEach(Mn),this.bubble()}};var tp=Xd,ep=Un,np=Wn,ip=zn,rp={getValue:Id,init:ep,resolve:np,rebind:ip},sp=function(t){this.type=Hh,rp.init(this,t)};sp.prototype={update:function(){this.node.data=void 0==this.value?"":this.value},resolve:rp.resolve,rebind:rp.rebind,detach:Rd,unbind:Dd,render:function(){return this.node||(this.node=document.createTextNode(n(this.value))),this.node},unrender:function(t){t&&e(this.node)},getValue:rp.getValue,setValue:function(t){var e;this.keypath&&(e=this.root.viewmodel.wrapped[this.keypath.str])&&(t=e.get()),a(t,this.value)||(this.value=t,this.parentFragment.bubble(),this.node&&mu.addView(this))},firstNode:function(){return this.node},toString:function(t){var e=""+n(this.value);return t?Se(e):e}};var op=sp,ap=Bn,up=qn,hp=$n,cp=Qn,lp=Zn,fp=Hn,dp=Kn,pp=Gn,mp=Yn,vp=function(t,e){rp.rebind.call(this,t,e)},gp=Xn,yp=ti,bp=li,wp=fi,xp=di,kp=vi,Ep=function(t){this.type=Gh,this.subtype=this.currentSubtype=t.template.n,this.inverted=this.subtype===Sc,this.pElement=t.pElement,this.fragments=[],this.fragmentsToCreate=[],this.fragmentsToRender=[],this.fragmentsToUnrender=[],t.template.i&&(this.indexRefs=t.template.i.split(",").map(function(t,e){return{n:t,t:0===e?"k":"i"}})),this.renderedFragments=[],this.length=0,rp.init(this,t)};Ep.prototype={bubble:ap,detach:up,find:hp,findAll:cp,findAllComponents:lp,findComponent:fp,findNextNode:dp,firstNode:pp,getIndexRef:function(t){if(this.indexRefs)for(var e=this.indexRefs.length;e--;){var n=this.indexRefs[e];if(n.n===t)return n}},getValue:rp.getValue,shuffle:mp,rebind:vp,render:gp,resolve:rp.resolve,setValue:yp,toString:bp,unbind:wp,unrender:xp,update:kp};var _p,Ap,Sp=Ep,Cp=gi,Op=yi,Pp=bi,Tp=wi,Fp={};try{la("table").innerHTML="foo"}catch(_a){_p=!0,Ap={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}var Rp=function(t,e,n){var i,r,s,o,a,u=[];if(null!=t&&""!==t){for(_p&&(r=Ap[e.tagName])?(i=xi("DIV"),i.innerHTML=r[0]+t+r[1],i=i.querySelector(".x"),"SELECT"===i.tagName&&(s=i.options[i.selectedIndex])):e.namespaceURI===ia.svg?(i=xi("DIV"),i.innerHTML='<svg class="x">'+t+"</svg>",i=i.querySelector(".x")):(i=xi(e.tagName),i.innerHTML=t,"SELECT"===i.tagName&&(s=i.options[i.selectedIndex]));o=i.firstChild;)u.push(o),n.appendChild(o);if("SELECT"===e.tagName)for(a=u.length;a--;)u[a]!==s&&(u[a].selected=!1)}return u},jp=ki,Np=_i,Dp=Ai,Ip=Si,Lp=Ci,Vp=Oi,Mp=function(t){this.type=Kh,rp.init(this,t)};Mp.prototype={detach:Cp,find:Op,findAll:Pp,firstNode:Tp,getValue:rp.getValue,rebind:rp.rebind,render:Np,resolve:rp.resolve,setValue:Dp,toString:Ip,unbind:Dd,unrender:Lp,update:Vp};var Up,Wp,zp,Bp,qp=Mp,$p=function(){this.parentFragment.bubble()},Qp=Pi,Zp=function(t){return this.node?fa(this.node,t)?this.node:this.fragment&&this.fragment.find?this.fragment.find(t):void 0:null},Hp=function(t,e){e._test(this,!0)&&e.live&&(this.liveQueries||(this.liveQueries=[])).push(e),this.fragment&&this.fragment.findAll(t,e)},Kp=function(t,e){this.fragment&&this.fragment.findAllComponents(t,e)},Gp=function(t){return this.fragment?this.fragment.findComponent(t):void 0},Yp=Ti,Jp=Fi,Xp=Ri,tm=/^true|on|yes|1$/i,em=/^[0-9]+$/,nm=function(t,e){var n,i,r;return r=e.a||{},i={},n=r.twoway,void 0!==n&&(i.twoway=0===n||tm.test(n)),n=r.lazy,void 0!==n&&(i.lazy=0!==n&&em.test(n)?parseInt(n):0===n||tm.test(n)),i},im=ji;Up="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),Wp="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),zp=function(t){for(var e={},n=t.length;n--;)e[t[n].toLowerCase()]=t[n];return e},Bp=zp(Up.concat(Wp));var rm=function(t){var e=t.toLowerCase();return Bp[e]||e},sm=function(t,e){var n,i;if(n=e.indexOf(":"),-1===n||(i=e.substr(0,n),"xmlns"===i))t.name=t.element.namespace!==ia.html?rm(e):e;else if(e=e.substring(n+1),t.name=rm(e),t.namespace=ia[i.toLowerCase()],t.namespacePrefix=i,!t.namespace)throw'Unknown namespace ("'+i+'")'},om=Ni,am=Di,um=Ii,hm=Li,cm={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",
novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},lm=Vi,fm=Ui,dm=Wi,pm=zi,mm=Bi,vm=qi,gm=$i,ym=Qi,bm=Zi,wm=Hi,xm=Ki,km=Gi,Em=Yi,_m=Ji,Am=Xi,Sm=function(t){this.init(t)};Sm.prototype={bubble:im,init:am,rebind:um,render:hm,toString:lm,unbind:fm,update:Am};var Cm,Om=Sm,Pm=function(t,e){var n,i,r=[];for(n in e)"twoway"!==n&&"lazy"!==n&&e.hasOwnProperty(n)&&(i=new Om({element:t,name:n,value:e[n],root:t.root}),r[n]=i,"value"!==n&&r.push(i));return(i=r.value)&&r.push(i),r};"undefined"!=typeof document&&(Cm=la("div"));var Tm=function(t,e){this.element=t,this.root=t.root,this.parentFragment=t.parentFragment,this.attributes=[],this.fragment=new yb({root:t.root,owner:this,template:[e]})};Tm.prototype={bubble:function(){this.node&&this.update(),this.element.bubble()},rebind:function(t,e){this.fragment.rebind(t,e)},render:function(t){this.node=t,this.isSvg=t.namespaceURI===ia.svg,this.update()},unbind:function(){this.fragment.unbind()},update:function(){var t,e,n=this;t=this.fragment.toString(),e=tr(t,this.isSvg),this.attributes.filter(function(t){return er(e,t)}).forEach(function(t){n.node.removeAttribute(t.name)}),e.forEach(function(t){n.node.setAttribute(t.name,t.value)}),this.attributes=e},toString:function(){return this.fragment.toString()}};var Fm=Tm,Rm=function(t,e){return e?e.map(function(e){return new Fm(t,e)}):[]},jm=function(t){var e,n,i,r;if(this.element=t,this.root=t.root,this.attribute=t.attributes[this.name||"value"],e=this.attribute.interpolator,e.twowayBinding=this,n=e.keypath){if("}"===n.str.slice(-1))return v("Two-way binding does not work with expressions (`%s` on <%s>)",e.resolver.uniqueString,t.name,{ractive:this.root}),!1;if(n.isSpecial)return v("Two-way binding does not work with %s",e.resolver.ref,{ractive:this.root}),!1}else{var s=e.template.r?"'"+e.template.r+"' reference":"expression";m("The %s being used for two-way binding is ambiguous, and may cause unexpected results. Consider initialising your data to eliminate the ambiguity",s,{ractive:this.root}),e.resolver.forceResolution(),n=e.keypath}this.attribute.isTwoway=!0,this.keypath=n,i=this.root.viewmodel.get(n),void 0===i&&this.getInitialValue&&(i=this.getInitialValue(),void 0!==i&&this.root.viewmodel.set(n,i)),(r=nr(t))&&(this.resetValue=i,r.formBindings.push(this))};jm.prototype={handleChange:function(){var t=this;mu.start(this.root),this.attribute.locked=!0,this.root.viewmodel.set(this.keypath,this.getValue()),mu.scheduleTask(function(){return t.attribute.locked=!1}),mu.end()},rebound:function(){var t,e,n;e=this.keypath,n=this.attribute.interpolator.keypath,e!==n&&(I(this.root._twowayBindings[e.str],this),this.keypath=n,t=this.root._twowayBindings[n.str]||(this.root._twowayBindings[n.str]=[]),t.push(this))},unbind:function(){}},jm.extend=function(t){var e,n=this;return e=function(t){jm.call(this,t),this.init&&this.init()},e.prototype=wa(n.prototype),i(e.prototype,t),e.extend=jm.extend,e};var Nm,Dm=jm,Im=ir;Nm=Dm.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var t,e=this.element.node,n=!1;this.rendered=!0,t=this.root.lazy,this.element.lazy===!0?t=!0:this.element.lazy===!1?t=!1:u(this.element.lazy)?(t=!1,n=+this.element.lazy):u(t||"")&&(n=+t,t=!1,this.element.lazy=n),this.handler=n?sr:Im,e.addEventListener("change",Im,!1),t||(e.addEventListener("input",this.handler,!1),e.attachEvent&&e.addEventListener("keyup",this.handler,!1)),e.addEventListener("blur",rr,!1)},unrender:function(){var t=this.element.node;this.rendered=!1,t.removeEventListener("change",Im,!1),t.removeEventListener("input",this.handler,!1),t.removeEventListener("keyup",this.handler,!1),t.removeEventListener("blur",rr,!1)}});var Lm=Nm,Vm=Lm.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},getValue:function(){return this.element.node.innerHTML}}),Mm=Vm,Um=or,Wm={},zm=Dm.extend({name:"checked",init:function(){this.siblings=Um(this.root._guid,"radio",this.element.getAttribute("name")),this.siblings.push(this)},render:function(){var t=this.element.node;t.addEventListener("change",Im,!1),t.attachEvent&&t.addEventListener("click",Im,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Im,!1),t.removeEventListener("click",Im,!1)},handleChange:function(){mu.start(this.root),this.siblings.forEach(function(t){t.root.viewmodel.set(t.keypath,t.getValue())}),mu.end()},getValue:function(){return this.element.node.checked},unbind:function(){I(this.siblings,this)}}),Bm=zm,qm=Dm.extend({name:"name",init:function(){this.siblings=Um(this.root._guid,"radioname",this.keypath.str),this.siblings.push(this),this.radioName=!0},getInitialValue:function(){return this.element.getAttribute("checked")?this.element.getAttribute("value"):void 0},render:function(){var t=this.element.node;t.name="{{"+this.keypath.str+"}}",t.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value"),t.addEventListener("change",Im,!1),t.attachEvent&&t.addEventListener("click",Im,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Im,!1),t.removeEventListener("click",Im,!1)},getValue:function(){var t=this.element.node;return t._ractive?t._ractive.value:t.value},handleChange:function(){this.element.node.checked&&Dm.prototype.handleChange.call(this)},rebound:function(t,e){var n;Dm.prototype.rebound.call(this,t,e),(n=this.element.node)&&(n.name="{{"+this.keypath.str+"}}")},unbind:function(){I(this.siblings,this)}}),$m=qm,Qm=Dm.extend({name:"name",getInitialValue:function(){return this.noInitialValue=!0,[]},init:function(){var t,e;this.checkboxName=!0,this.siblings=Um(this.root._guid,"checkboxes",this.keypath.str),this.siblings.push(this),this.noInitialValue&&(this.siblings.noInitialValue=!0),this.siblings.noInitialValue&&this.element.getAttribute("checked")&&(t=this.root.viewmodel.get(this.keypath),e=this.element.getAttribute("value"),t.push(e))},unbind:function(){I(this.siblings,this)},render:function(){var t,e,n=this.element.node;t=this.root.viewmodel.get(this.keypath),e=this.element.getAttribute("value"),this.isChecked=s(t)?R(t,e):t==e,n.name="{{"+this.keypath.str+"}}",n.checked=this.isChecked,n.addEventListener("change",Im,!1),n.attachEvent&&n.addEventListener("click",Im,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Im,!1),t.removeEventListener("click",Im,!1)},changed:function(){var t=!!this.isChecked;return this.isChecked=this.element.node.checked,this.isChecked===t},handleChange:function(){this.isChecked=this.element.node.checked,Dm.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(ar).map(ur)}}),Zm=Qm,Hm=Dm.extend({name:"checked",render:function(){var t=this.element.node;t.addEventListener("change",Im,!1),t.attachEvent&&t.addEventListener("click",Im,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Im,!1),t.removeEventListener("click",Im,!1)},getValue:function(){return this.element.node.checked}}),Km=Hm,Gm=Dm.extend({getInitialValue:function(){var t,e,n,i,r=this.element.options;if(void 0===this.element.getAttribute("value")&&(e=t=r.length,t)){for(;e--;)if(r[e].getAttribute("selected")){n=r[e].getAttribute("value"),i=!0;break}if(!i)for(;++e<t;)if(!r[e].getAttribute("disabled")){n=r[e].getAttribute("value");break}return void 0!==n&&(this.element.attributes.value.value=n),n}},render:function(){this.element.node.addEventListener("change",Im,!1)},unrender:function(){this.element.node.removeEventListener("change",Im,!1)},setValue:function(t){this.root.viewmodel.set(this.keypath,t)},getValue:function(){var t,e,n,i,r;for(t=this.element.node.options,n=t.length,e=0;n>e;e+=1)if(i=t[e],t[e].selected)return r=i._ractive?i._ractive.value:i.value},forceUpdate:function(){var t=this,e=this.getValue();void 0!==e&&(this.attribute.locked=!0,mu.scheduleTask(function(){return t.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,e))}}),Ym=Gm,Jm=Ym.extend({getInitialValue:function(){return this.element.options.filter(function(t){return t.getAttribute("selected")}).map(function(t){return t.getAttribute("value")})},render:function(){var t;this.element.node.addEventListener("change",Im,!1),t=this.root.viewmodel.get(this.keypath),void 0===t&&this.handleChange()},unrender:function(){this.element.node.removeEventListener("change",Im,!1)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var t,e,n,i,r,s;for(t=[],e=this.element.node.options,i=e.length,n=0;i>n;n+=1)r=e[n],r.selected&&(s=r._ractive?r._ractive.value:r.value,t.push(s));return t},handleChange:function(){var t,e,n;return t=this.attribute,e=t.value,n=this.getValue(),void 0!==e&&j(n,e)||Ym.prototype.handleChange.call(this),this},forceUpdate:function(){var t=this,e=this.getValue();void 0!==e&&(this.attribute.locked=!0,mu.scheduleTask(function(){return t.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,e))},updateModel:function(){void 0!==this.attribute.value&&this.attribute.value.length||this.root.viewmodel.set(this.keypath,this.initialValue)}}),Xm=Jm,tv=Dm.extend({render:function(){this.element.node.addEventListener("change",Im,!1)},unrender:function(){this.element.node.removeEventListener("change",Im,!1)},getValue:function(){return this.element.node.files}}),ev=tv,nv=Lm.extend({getInitialValue:function(){return void 0},getValue:function(){var t=parseFloat(this.element.node.value);return isNaN(t)?void 0:t}}),iv=hr,rv=lr,sv=fr,ov=dr,av=pr,uv=/^event(?:\.(.+))?/,hv=yr,cv=br,lv={},fv={touchstart:!0,touchmove:!0,touchend:!0,touchcancel:!0,touchleave:!0},dv=xr,pv=kr,mv=Er,vv=_r,gv=Ar,yv=function(t,e,n){this.init(t,e,n)};yv.prototype={bubble:rv,fire:sv,getAction:ov,init:av,listen:cv,rebind:dv,render:pv,resolve:mv,unbind:vv,unrender:gv};var bv=yv,wv=function(t,e){var n,i,r,s,o=[];for(i in e)if(e.hasOwnProperty(i))for(r=i.split("-"),n=r.length;n--;)s=new bv(t,r[n],e[i]),o.push(s);return o},xv=function(t,e){var n,i,r,s=this;this.element=t,this.root=n=t.root,i=e.n||e,("string"==typeof i||(r=new yb({template:i,root:n,owner:t}),i=r.toString(),r.unbind(),""!==i))&&(e.a?this.params=e.a:e.d&&(this.fragment=new yb({template:e.d,root:n,owner:t}),this.params=this.fragment.getArgsList(),this.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,s.params=this.getArgsList(),s.ready&&s.update()}),this.fn=g("decorators",n,i),this.fn||l(Da(i,"decorator")))};xv.prototype={init:function(){var t,e,n;if(t=this.element.node,this.params?(n=[t].concat(this.params),e=this.fn.apply(this.root,n)):e=this.fn.call(this.root,t),!e||!e.teardown)throw new Error("Decorator definition must return an object with a teardown method");this.actual=e,this.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},rebind:function(t,e){this.fragment&&this.fragment.rebind(t,e)},teardown:function(t){this.torndown=!0,this.ready&&this.actual.teardown(),!t&&this.fragment&&this.fragment.unbind()}};var kv,Ev,_v,Av=xv,Sv=Rr,Cv=jr,Ov=Mr,Pv=function(t){return t.replace(/-([a-zA-Z])/g,function(t,e){return e.toUpperCase()})};Xo?(Ev={},_v=la("div").style,kv=function(t){var e,n,i;if(t=Pv(t),!Ev[t])if(void 0!==_v[t])Ev[t]=t;else for(i=t.charAt(0).toUpperCase()+t.substring(1),e=sa.length;e--;)if(n=sa[e],void 0!==_v[n+i]){Ev[t]=n+i;break}return Ev[t]}):kv=null;var Tv,Fv,Rv=kv;Xo?(Fv=window.getComputedStyle||Ea.getComputedStyle,Tv=function(t){var e,n,i,r,o;if(e=Fv(this.node),"string"==typeof t)return o=e[Rv(t)],"0px"===o&&(o=0),o;if(!s(t))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(n={},i=t.length;i--;)r=t[i],o=e[Rv(r)],"0px"===o&&(o=0),n[r]=o;return n}):Tv=null;var jv=Tv,Nv=function(t,e){var n;if("string"==typeof t)this.node.style[Rv(t)]=e;else for(n in t)t.hasOwnProperty(n)&&(this.node.style[Rv(n)]=t[n]);return this},Dv=function(t){var e;this.duration=t.duration,this.step=t.step,this.complete=t.complete,"string"==typeof t.easing?(e=t.root.easing[t.easing],e||(v(Da(t.easing,"easing")),e=Ur)):e="function"==typeof t.easing?t.easing:Ur,this.easing=e,this.start=Xa(),this.end=this.start+this.duration,this.running=!0,yu.add(this)};Dv.prototype={tick:function(t){var e,n;return this.running?t>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(e=t-this.start,n=this.easing(e/this.duration),this.step&&this.step(n),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}};var Iv,Lv,Vv,Mv,Uv,Wv,zv,Bv,qv=Dv,$v=new RegExp("^-(?:"+sa.join("|")+")-"),Qv=function(t){return t.replace($v,"")},Zv=new RegExp("^(?:"+sa.join("|")+")([A-Z])"),Hv=function(t){var e;return t?(Zv.test(t)&&(t="-"+t),e=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})):""},Kv={},Gv={};Xo?(Lv=la("div").style,function(){void 0!==Lv.transition?(Vv="transition",Mv="transitionend",Uv=!0):void 0!==Lv.webkitTransition?(Vv="webkitTransition",Mv="webkitTransitionEnd",Uv=!0):Uv=!1}(),Vv&&(Wv=Vv+"Duration",zv=Vv+"Property",Bv=Vv+"TimingFunction"),Iv=function(t,e,n,i,r){setTimeout(function(){var s,o,a,u,h;u=function(){o&&a&&(t.root.fire(t.name+":end",t.node,t.isIntro),r())},s=(t.node.namespaceURI||"")+t.node.tagName,t.node.style[zv]=i.map(Rv).map(Hv).join(","),t.node.style[Bv]=Hv(n.easing||"linear"),t.node.style[Wv]=n.duration/1e3+"s",h=function(e){var n;n=i.indexOf(Pv(Qv(e.propertyName))),-1!==n&&i.splice(n,1),i.length||(t.node.removeEventListener(Mv,h,!1),a=!0,u())},t.node.addEventListener(Mv,h,!1),setTimeout(function(){for(var r,c,l,f,d,p=i.length,v=[];p--;)f=i[p],r=s+f,Uv&&!Gv[r]&&(t.node.style[Rv(f)]=e[f],Kv[r]||(c=t.getStyle(f),Kv[r]=t.getStyle(f)!=e[f],Gv[r]=!Kv[r],Gv[r]&&(t.node.style[Rv(f)]=c))),(!Uv||Gv[r])&&(void 0===c&&(c=t.getStyle(f)),l=i.indexOf(f),-1===l?m("Something very strange happened with transitions. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!",{node:t.node}):i.splice(l,1),d=/[^\d]*$/.exec(e[f])[0],v.push({name:Rv(f),interpolator:La(parseFloat(c),parseFloat(e[f])),suffix:d}));v.length?new qv({root:t.root,duration:n.duration,easing:Pv(n.easing||""),step:function(e){var n,i;for(i=v.length;i--;)n=v[i],t.node.style[n.name]=n.interpolator(e)+n.suffix},complete:function(){o=!0,u()}}):o=!0,i.length||(t.node.removeEventListener(Mv,h,!1),a=!0,u())},0)},n.delay||0)}):Iv=null;var Yv,Jv,Xv,tg,eg,ng=Iv;if("undefined"!=typeof document){if(Yv="hidden",eg={},Yv in document)Xv="";else for(tg=sa.length;tg--;)Jv=sa[tg],Yv=Jv+"Hidden",Yv in document&&(Xv=Jv);void 0!==Xv?(document.addEventListener(Xv+"visibilitychange",Wr),Wr()):("onfocusout"in document?(document.addEventListener("focusout",zr),document.addEventListener("focusin",Br)):(window.addEventListener("pagehide",zr),window.addEventListener("blur",zr),window.addEventListener("pageshow",Br),window.addEventListener("focus",Br)),eg.hidden=!1)}var ig,rg,sg,og=eg;Xo?(rg=window.getComputedStyle||Ea.getComputedStyle,ig=function(t,e,n){var i,r=this;if(4===arguments.length)throw new Error("t.animateStyle() returns a promise - use .then() instead of passing a callback");if(og.hidden)return this.setStyle(t,e),sg||(sg=ou.resolve());"string"==typeof t?(i={},i[t]=e):(i=t,n=e),n||(v('The "%s" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340',this.name),n=this);var s=new ou(function(t){var e,s,o,a,u,h,c;if(!n.duration)return r.setStyle(i),void t();for(e=Object.keys(i),s=[],o=rg(r.node),u={},h=e.length;h--;)c=e[h],a=o[Rv(c)],"0px"===a&&(a=0),a!=i[c]&&(s.push(c),r.node.style[Rv(c)]=a);return s.length?void ng(r,i,n,s,t):void t()});return s}):ig=null;var ag=ig,ug=function(t,e){return"number"==typeof t?t={duration:t}:"string"==typeof t?t="slow"===t?{duration:600}:"fast"===t?{duration:200}:{duration:400}:t||(t={}),r({},t,e)},hg=qr,cg=function(t,e,n){this.init(t,e,n)};cg.prototype={init:Ov,start:hg,getStyle:jv,setStyle:Nv,animateStyle:ag,processParams:ug};var lg,fg,dg=cg,pg=Qr;lg=function(){var t=this.node,e=this.fragment.toString(!1);if(window&&window.appearsToBeIELessEqual8&&(t.type="text/css"),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}},fg=function(){this.node.type&&"text/javascript"!==this.node.type||m("Script tag was updated. This does not cause the code to be re-evaluated!",{ractive:this.root}),this.node.text=this.fragment.toString(!1)};var mg=function(){var t,e;return this.template.y?"<!DOCTYPE"+this.template.dd+">":(t="<"+this.template.e,t+=this.attributes.map(Jr).join("")+this.conditionalAttributes.map(Jr).join(""),"option"===this.name&&Gr(this)&&(t+=" selected"),"input"===this.name&&Yr(this)&&(t+=" checked"),t+=">","textarea"===this.name&&void 0!==this.getAttribute("value")?t+=Se(this.getAttribute("value")):void 0!==this.getAttribute("contenteditable")&&(t+=this.getAttribute("value")||""),this.fragment&&(e="script"!==this.name&&"style"!==this.name,t+=this.fragment.toString(e)),bl.test(this.template.e)||(t+="</"+this.template.e+">"),t)},vg=Xr,gg=ts,yg=function(t){this.init(t)};yg.prototype={bubble:$p,detach:Qp,find:Zp,findAll:Hp,findAllComponents:Kp,findComponent:Gp,findNextNode:Yp,firstNode:Jp,getAttribute:Xp,init:Sv,rebind:Cv,render:pg,toString:mg,unbind:vg,unrender:gg};var bg=yg,wg=/^\s*$/,xg=/^\s*/,kg=function(t){var e,n,i,r;return e=t.split("\n"),n=e[0],void 0!==n&&wg.test(n)&&e.shift(),i=D(e),void 0!==i&&wg.test(i)&&e.pop(),r=e.reduce(ns,null),r&&(t=e.map(function(t){return t.replace(r,"")}).join("\n")),t},Eg=is,_g=function(t,e){var n;return e?n=t.split("\n").map(function(t,n){return n?e+t:t}).join("\n"):t},Ag='Could not find template for partial "%s"',Sg=function(t){var e,n;e=this.parentFragment=t.parentFragment,this.root=e.root,this.type=tc,this.index=t.index,this.name=t.template.r,this.rendered=!1,this.fragment=this.fragmentToRender=this.fragmentToUnrender=null,rp.init(this,t),this.keypath||((n=Eg(this.root,this.name,e))?(Dd.call(this),this.isNamed=!0,this.setTemplate(n)):v(Ag,this.name))};Sg.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){return this.fragment.detach()},find:function(t){return this.fragment.find(t)},findAll:function(t,e){return this.fragment.findAll(t,e)},findComponent:function(t){return this.fragment.findComponent(t)},findAllComponents:function(t,e){return this.fragment.findAllComponents(t,e)},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},getPartialName:function(){return this.isNamed&&this.name?this.name:void 0===this.value?this.name:this.value},getValue:function(){return this.fragment.getValue()},rebind:function(t,e){this.isNamed||ip.call(this,t,e),this.fragment&&this.fragment.rebind(t,e)},render:function(){return this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,this.docFrag},resolve:rp.resolve,setValue:function(t){var e;(void 0===t||t!==this.value)&&(void 0!==t&&(e=Eg(this.root,""+t,this.parentFragment)),!e&&this.name&&(e=Eg(this.root,this.name,this.parentFragment))&&(Dd.call(this),this.isNamed=!0),e||v(Ag,this.name,{ractive:this.root}),this.value=t,this.setTemplate(e||[]),this.bubble(),this.rendered&&mu.addView(this))},setTemplate:function(t){this.fragment&&(this.fragment.unbind(),this.rendered&&(this.fragmentToUnrender=this.fragment)),this.fragment=new yb({template:t,root:this.root,owner:this,pElement:this.parentFragment.pElement}),this.fragmentToRender=this.fragment},toString:function(t){var e,n,i,r;return e=this.fragment.toString(t),n=this.parentFragment.items[this.index-1],n&&n.type===Zh?(i=n.text.split("\n").pop(),(r=/^\s+$/.exec(i))?_g(e,r[0]):e):e},unbind:function(){this.isNamed||Dd.call(this),this.fragment&&this.fragment.unbind()},unrender:function(t){this.rendered&&(this.fragment&&this.fragment.unrender(t),this.rendered=!1)},update:function(){var t,e;this.fragmentToUnrender&&(this.fragmentToUnrender.unrender(!0),this.fragmentToUnrender=null),this.fragmentToRender&&(this.docFrag.appendChild(this.fragmentToRender.render()),this.fragmentToRender=null),this.rendered&&(t=this.parentFragment.getNode(),e=this.parentFragment.findNextNode(this),t.insertBefore(this.docFrag,e))}};var Cg,Og,Pg,Tg=Sg,Fg=us,Rg=hs,jg=new nu("detach"),Ng=cs,Dg=ls,Ig=fs,Lg=ds,Vg=ps,Mg=ms,Ug=function(t,e,n,i){var r=t.root,s=t.keypath;i?r.viewmodel.smartUpdate(s,e,i):r.viewmodel.mark(s)},Wg=[],zg=["pop","push","reverse","shift","sort","splice","unshift"];zg.forEach(function(t){var e=function(){for(var e=arguments.length,n=Array(e),i=0;e>i;i++)n[i]=arguments[i];var r,s,o,a;for(r=mh(this,t,n),s=Array.prototype[t].apply(this,arguments),mu.start(),this._ractive.setting=!0,a=this._ractive.wrappers.length;a--;)o=this._ractive.wrappers[a],mu.addRactive(o.root),Ug(o,this,t,r);return mu.end(),this._ractive.setting=!1,s};xa(Wg,t,{value:e})}),Cg={},Cg.__proto__?(Og=function(t){t.__proto__=Wg},Pg=function(t){t.__proto__=Array.prototype}):(Og=function(t){var e,n;for(e=zg.length;e--;)n=zg[e],xa(t,n,{value:Wg[n],configurable:!0})},Pg=function(t){var e;for(e=zg.length;e--;)delete t[zg[e]]}),Og.unpatch=Pg;var Bg,qg,$g,Qg=Og;Bg={filter:function(t){return s(t)&&(!t._ractive||!t._ractive.setting)},wrap:function(t,e,n){return new qg(t,e,n)}},qg=function(t,e,n){this.root=t,this.value=e,this.keypath=_(n),e._ractive||(xa(e,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),Qg(e)),e._ractive.instances[t._guid]||(e._ractive.instances[t._guid]=0,e._ractive.instances.push(t)),e._ractive.instances[t._guid]+=1,e._ractive.wrappers.push(this)},qg.prototype={get:function(){return this.value},teardown:function(){var t,e,n,i,r;if(t=this.value,e=t._ractive,n=e.wrappers,i=e.instances,e.setting)return!1;if(r=n.indexOf(this),-1===r)throw new Error($g);if(n.splice(r,1),n.length){if(i[this.root._guid]-=1,!i[this.root._guid]){if(r=i.indexOf(this.root),-1===r)throw new Error($g);i.splice(r,1)}}else delete t._ractive,Qg.unpatch(this.value)}},$g="Something went wrong in a rather interesting way";var Zg,Hg,Kg=Bg,Gg=/^\s*[0-9]+\s*$/,Yg=function(t){return Gg.test(t)?[]:{}};try{Object.defineProperty({},"test",{value:0}),Zg={filter:function(t,e,n){var i,r;return e?(e=_(e),(i=n.viewmodel.wrapped[e.parent.str])&&!i.magic?!1:(r=n.viewmodel.get(e.parent),s(r)&&/^[0-9]+$/.test(e.lastKey)?!1:r&&("object"==typeof r||"function"==typeof r))):!1},wrap:function(t,e,n){return new Hg(t,e,n)}},Hg=function(t,e,n){var i,r,s;return n=_(n),this.magic=!0,this.ractive=t,this.keypath=n,this.value=e,this.prop=n.lastKey,i=n.parent,this.obj=i.isRoot?t.viewmodel.data:t.viewmodel.get(i),r=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),r&&r.set&&(s=r.set._ractiveWrappers)?void(-1===s.indexOf(this)&&s.push(this)):void vs(this,e,r)},Hg.prototype={get:function(){return this.value},reset:function(t){return this.updating?void 0:(this.updating=!0,this.obj[this.prop]=t,mu.addRactive(this.ractive),this.ractive.viewmodel.mark(this.keypath,{keepExistingWrapper:!0}),this.updating=!1,!0)},set:function(t,e){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=Yg(t),this.updating=!1),this.obj[this.prop][t]=e)},teardown:function(){var t,e,n,i,r;return this.updating?!1:(t=Object.getOwnPropertyDescriptor(this.obj,this.prop),e=t&&t.set,void(e&&(i=e._ractiveWrappers,r=i.indexOf(this),-1!==r&&i.splice(r,1),i.length||(n=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=n))))}}}catch(_a){Zg=!1}var Jg,Xg,ty=Zg;ty&&(Jg={filter:function(t,e,n){return ty.filter(t,e,n)&&Kg.filter(t)},wrap:function(t,e,n){return new Xg(t,e,n)}},Xg=function(t,e,n){this.value=e,this.magic=!0,this.magicWrapper=ty.wrap(t,e,n),this.arrayWrapper=Kg.wrap(t,e,n)},Xg.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(t){return this.magicWrapper.reset(t)}});var ey=Jg,ny=gs,iy={},ry=ws,sy=xs,oy=_s,ay=Ps,uy=Ts,hy=function(t,e){this.computation=t,this.viewmodel=t.viewmodel,this.ref=e,this.root=this.viewmodel.ractive,this.parentFragment=this.root.component&&this.root.component.parentFragment};hy.prototype={resolve:function(t){this.computation.softDeps.push(t),this.computation.unresolvedDeps[t.str]=null,this.viewmodel.register(t,this.computation,"computed")}};var cy=hy,ly=function(t,e){this.key=t,this.getter=e.getter,this.setter=e.setter,this.hardDeps=e.deps||[],this.softDeps=[],this.unresolvedDeps={},this.depValues={},this._dirty=this._firstRun=!0};ly.prototype={constructor:ly,init:function(t){var e,n=this;this.viewmodel=t,this.bypass=!0,e=t.get(this.key),t.clearCache(this.key.str),this.bypass=!1,this.setter&&void 0!==e&&this.set(e),this.hardDeps&&this.hardDeps.forEach(function(e){return t.register(e,n,"computed")})},invalidate:function(){this._dirty=!0},get:function(){var t,e,n=this,i=!1;if(this.getting){var r="The "+this.key.str+" computation indirectly called itself. This probably indicates a bug in the computation. It is commonly caused by `array.sort(...)` - if that's the case, clone the array first with `array.slice().sort(...)`";return p(r),this.value}if(this.getting=!0,this._dirty){if(this._firstRun||!this.hardDeps.length&&!this.softDeps.length?i=!0:[this.hardDeps,this.softDeps].forEach(function(t){var e,r,s;if(!i)for(s=t.length;s--;)if(e=t[s],r=n.viewmodel.get(e),!a(r,n.depValues[e.str]))return n.depValues[e.str]=r,void(i=!0)}),i){this.viewmodel.capture();try{this.value=this.getter()}catch(s){m('Failed to compute "%s"',this.key.str),f(s.stack||s),this.value=void 0}t=this.viewmodel.release(),e=this.updateDependencies(t),e&&[this.hardDeps,this.softDeps].forEach(function(t){t.forEach(function(t){n.depValues[t.str]=n.viewmodel.get(t)})})}this._dirty=!1}return this.getting=this._firstRun=!1,this.value},set:function(t){if(this.setting)return void(this.value=t);if(!this.setter)throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)");this.setter(t)},updateDependencies:function(t){var e,n,i,r,s;for(n=this.softDeps,e=n.length;e--;)i=n[e],-1===t.indexOf(i)&&(r=!0,this.viewmodel.unregister(i,this,"computed"));for(e=t.length;e--;)i=t[e],-1!==n.indexOf(i)||this.hardDeps&&-1!==this.hardDeps.indexOf(i)||(r=!0,Fs(this.viewmodel,i)&&!this.unresolvedDeps[i.str]?(s=new cy(this,i.str),t.splice(e,1),this.unresolvedDeps[i.str]=s,mu.addUnresolved(s)):this.viewmodel.register(i,this,"computed"));return r&&(this.softDeps=t.slice()),r}};var fy=ly,dy=Rs,py={FAILED_LOOKUP:!0},my=js,vy={},gy=Ds,yy=Is,by=function(t,e){this.localKey=t,this.keypath=e.keypath,this.origin=e.origin,this.deps=[],this.unresolved=[],this.resolved=!1};by.prototype={forceResolution:function(){this.keypath=this.localKey,this.setup()},get:function(t,e){return this.resolved?this.origin.get(this.map(t),e):void 0},getValue:function(){return this.keypath?this.origin.get(this.keypath):void 0},initViewmodel:function(t){this.local=t,this.setup()},map:function(t){return void 0===typeof this.keypath?this.localKey:t.replace(this.localKey,this.keypath)},register:function(t,e,n){this.deps.push({keypath:t,dep:e,group:n}),this.resolved&&this.origin.register(this.map(t),e,n)},resolve:function(t){void 0!==this.keypath&&this.unbind(!0),this.keypath=t,this.setup()},set:function(t,e){this.resolved||this.forceResolution(),this.origin.set(this.map(t),e)},setup:function(){var t=this;void 0!==this.keypath&&(this.resolved=!0,this.deps.length&&(this.deps.forEach(function(e){var n=t.map(e.keypath);if(t.origin.register(n,e.dep,e.group),e.dep.setValue)e.dep.setValue(t.origin.get(n));else{if(!e.dep.invalidate)throw new Error("An unexpected error occurred. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");e.dep.invalidate()}}),this.origin.mark(this.keypath)))},setValue:function(t){if(!this.keypath)throw new Error("Mapping does not have keypath, cannot set value. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");this.origin.set(this.keypath,t)},unbind:function(t){var e=this;t||delete this.local.mappings[this.localKey],this.resolved&&(this.deps.forEach(function(t){e.origin.unregister(e.map(t.keypath),t.dep,t.group)}),this.tracker&&this.origin.unregister(this.keypath,this.tracker))},unregister:function(t,e,n){var i,r;if(this.resolved){for(i=this.deps,r=i.length;r--;)if(i[r].dep===e){i.splice(r,1);break}this.origin.unregister(this.map(t),e,n)}}};var wy=Ls,xy=function(t,e){var n,i,r,s;return n={},i=0,r=t.map(function(t,r){var o,a,u;a=i,u=e.length;do{if(o=e.indexOf(t,a),-1===o)return s=!0,-1;a=o+1}while(n[o]&&u>a);return o===i&&(i+=1),o!==r&&(s=!0),n[o]=!0,o})},ky=Vs,Ey={},_y=Ws,Ay=Bs,Sy=qs,Cy=$s,Oy=Zs,Py={implicit:!0},Ty={noCascade:!0},Fy=Ks,Ry=Gs,jy=function(t){var e,n,i=t.adapt,r=t.data,s=t.ractive,o=t.computed,a=t.mappings;this.ractive=s,this.adaptors=i,this.onchange=t.onchange,this.cache={},this.cacheMap=wa(null),this.deps={computed:wa(null),"default":wa(null)},this.depsMap={computed:wa(null),"default":wa(null)},this.patternObservers=[],this.specials=wa(null),this.wrapped=wa(null),this.computations=wa(null),this.captureGroups=[],this.unresolvedImplicitDependencies=[],this.changes=[],this.implicitChanges={},this.noCascade={},this.data=r,this.mappings=wa(null);for(e in a)this.map(_(e),a[e]);if(r)for(e in r)(n=this.mappings[e])&&void 0===n.getValue()&&n.setValue(r[e]);for(e in o)a&&e in a&&l("Cannot map to a computed property ('%s')",e),this.compute(_(e),o[e]);this.ready=!0};jy.prototype={adapt:ny,applyChanges:oy,capture:ay,clearCache:uy,compute:dy,get:my,init:gy,map:yy,mark:wy,merge:ky,register:_y,release:Ay,reset:Sy,set:Cy,smartUpdate:Oy,teardown:Fy,unregister:Ry};var Ny=jy;Js.prototype={constructor:Js,begin:function(t){this.inProcess[t._guid]=!0},end:function(t){var e=t.parent;e&&this.inProcess[e._guid]?Xs(this.queue,e).push(t):to(this,t),delete this.inProcess[t._guid]}};var Dy=Js,Iy=eo,Ly=/\$\{([^\}]+)\}/g,Vy=new nu("construct"),My=new nu("config"),Uy=new Dy("init"),Wy=0,zy=["adaptors","components","decorators","easing","events","interpolators","partials","transitions"],By=so,qy=co;co.prototype={bubble:function(){this.dirty||(this.dirty=!0,mu.addView(this))},update:function(){this.callback(this.fragment.getValue()),this.dirty=!1},rebind:function(t,e){this.fragment.rebind(t,e)},unbind:function(){this.fragment.unbind()}};var $y=function(t,e,n,r,o){var a,u,h,c,l,f,d={},p={},v={},g=[];for(u=t.parentFragment,h=t.root,o=o||{},i(d,o),o.content=r||[],d[""]=o.content,e.defaults.el&&m("The <%s/> component has a default `el` property; it has been disregarded",t.name),c=u;c;){if(c.owner.type===oc){l=c.owner.container;break}c=c.parent}return n&&Object.keys(n).forEach(function(e){var i,r,o=n[e];if("string"==typeof o)i=Af(o),p[e]=i?i.value:o;else if(0===o)p[e]=!0;else{if(!s(o))throw new Error("erm wut");fo(o)?(v[e]={origin:t.root.viewmodel,keypath:void 0},r=lo(t,o[0],function(t){t.isSpecial?f?a.set(e,t.value):(p[e]=t.value,delete v[e]):f?a.viewmodel.mappings[e].resolve(t):v[e].keypath=t})):r=new qy(t,o,function(t){f?a.set(e,t):p[e]=t}),g.push(r)}}),a=wa(e.prototype),By(a,{el:null,append:!0,data:p,partials:o,magic:h.magic||e.defaults.magic,modifyArrays:h.modifyArrays,adapt:h.adapt},{parent:h,component:t,container:l,mappings:v,inlinePartials:d,cssIds:u.cssIds}),f=!0,t.resolvers=g,a},Qy=po,Zy=function(t){var e,n;for(e=t.root;e;)(n=e._liveComponentQueries["_"+t.name])&&n.push(t.instance),e=e.parent},Hy=vo,Ky=go,Gy=yo,Yy=bo,Jy=wo,Xy=new nu("teardown"),tb=ko,eb=function(t,e){this.init(t,e)};eb.prototype={detach:Rg,find:Ng,findAll:Dg,findAllComponents:Ig,findComponent:Lg,findNextNode:Vg,firstNode:Mg,init:Hy,rebind:Ky,render:Gy,toString:Yy,unbind:Jy,unrender:tb};var nb=eb,ib=function(t){this.type=ec,this.value=t.template.c};ib.prototype={detach:Rd,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createComment(this.value)),
this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(t){t&&this.node.parentNode.removeChild(this.node)}};var rb=ib,sb=function(t){var e,n;this.type=oc,this.container=e=t.parentFragment.root,this.component=n=e.component,this.container=e,this.containerFragment=t.parentFragment,this.parentFragment=n.parentFragment;var i=this.name=t.template.n||"",r=e._inlinePartials[i];r||(m('Could not find template for partial "'+i+'"',{ractive:t.root}),r=[]),this.fragment=new yb({owner:this,root:e.parent,template:r,pElement:this.containerFragment.pElement}),s(n.yielders[i])?n.yielders[i].push(this):n.yielders[i]=[this],mu.scheduleTask(function(){if(n.yielders[i].length>1)throw new Error("A component template can only have one {{yield"+(i?" "+i:"")+"}} declaration at a time")})};sb.prototype={detach:function(){return this.fragment.detach()},find:function(t){return this.fragment.find(t)},findAll:function(t,e){return this.fragment.findAll(t,e)},findComponent:function(t){return this.fragment.findComponent(t)},findAllComponents:function(t,e){return this.fragment.findAllComponents(t,e)},findNextNode:function(){return this.containerFragment.findNextNode(this)},firstNode:function(){return this.fragment.firstNode()},getValue:function(t){return this.fragment.getValue(t)},render:function(){return this.fragment.render()},unbind:function(){this.fragment.unbind()},unrender:function(t){this.fragment.unrender(t),I(this.component.yielders[this.name],this)},rebind:function(t,e){this.fragment.rebind(t,e)},toString:function(){return this.fragment.toString()}};var ob=sb,ab=function(t){this.declaration=t.template.a};ab.prototype={init:Fa,render:Fa,unrender:Fa,teardown:Fa,toString:function(){return"<!DOCTYPE"+this.declaration+">"}};var ub=ab,hb=Eo,cb=Ao,lb=So,fb=Co,db=To,pb=Ro,mb=function(t){this.init(t)};mb.prototype={bubble:wd,detach:xd,find:kd,findAll:Ed,findAllComponents:_d,findComponent:Ad,findNextNode:Sd,firstNode:Cd,getArgsList:Pd,getNode:Td,getValue:Fd,init:hb,rebind:cb,registerIndexRef:function(t){var e=this.registeredIndexRefs;-1===e.indexOf(t)&&e.push(t)},render:lb,toString:fb,unbind:db,unregisterIndexRef:function(t){var e=this.registeredIndexRefs;e.splice(e.indexOf(t),1)},unrender:pb};var vb,gb,yb=mb,bb=jo,wb=["template","partials","components","decorators","events"],xb=new nu("reset"),kb=function(t,e){function n(e,i,r){r&&r.partials[t]||e.forEach(function(e){e.type===tc&&e.getPartialName()===t&&i.push(e),e.fragment&&n(e.fragment.items,i,r),s(e.fragments)?n(e.fragments,i,r):s(e.items)?n(e.items,i,r):e.type===sc&&e.instance&&n(e.instance.fragment.items,i,e.instance),e.type===Xh&&(s(e.attributes)&&n(e.attributes,i,r),s(e.conditionalAttributes)&&n(e.conditionalAttributes,i,r))})}var i,r=[];return n(this.fragment.items,r),this.partials[t]=e,i=mu.start(this,!0),r.forEach(function(e){e.value=void 0,e.setValue(t)}),mu.end(),i},Eb=No,_b=gh("reverse"),Ab=Do,Sb=gh("shift"),Cb=gh("sort"),Ob=gh("splice"),Pb=Lo,Tb=Vo,Fb=new nu("teardown"),Rb=Uo,jb=Wo,Nb=zo,Db=new nu("unrender"),Ib=gh("unshift"),Lb=Bo,Vb=new nu("update"),Mb=qo,Ub={add:Ga,animate:xu,detach:Eu,find:Au,findAll:Nu,findAllComponents:Du,findComponent:Iu,findContainer:Lu,findParent:Vu,fire:zu,get:Bu,insert:$u,merge:Zu,observe:uh,observeOnce:hh,off:fh,on:dh,once:ph,pop:yh,push:bh,render:Sh,reset:bb,resetPartial:kb,resetTemplate:Eb,reverse:_b,set:Ab,shift:Sb,sort:Cb,splice:Ob,subtract:Pb,teardown:Tb,toggle:Rb,toHTML:jb,toHtml:jb,unrender:Nb,unshift:Ib,update:Lb,updateModel:Mb},Wb=function(t,e,n){return n||Qo(t,e)?function(){var n,i="_super"in this,r=this._super;return this._super=e,n=t.apply(this,arguments),i&&(this._super=r),n}:t},zb=Zo,Bb=Yo,qb=function(t){var e,n,i={};return t&&(e=t._ractive)?(i.ractive=e.root,i.keypath=e.keypath.str,i.index={},(n=qd(e.proxy.parentFragment))&&(i.index=qd.resolve(n)),i):i};vb=function(t){return this instanceof vb?void By(this,t):new vb(t)},gb={DEBUG:{writable:!0,value:!0},DEBUG_PROMISES:{writable:!0,value:!0},extend:{value:Bb},getNodeInfo:{value:qb},parse:{value:Kf},Promise:{value:ou},svg:{value:ra},magic:{value:na},VERSION:{value:"0.7.3"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:ha},events:{writable:!0,value:{}},interpolators:{writable:!0,value:Ma},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}},ka(vb,gb),vb.prototype=i(Ub,ua),vb.prototype.constructor=vb,vb.defaults=vb.prototype;var $b="function";if(typeof Date.now!==$b||typeof String.prototype.trim!==$b||typeof Object.keys!==$b||typeof Array.prototype.indexOf!==$b||typeof Array.prototype.forEach!==$b||typeof Array.prototype.map!==$b||typeof Array.prototype.filter!==$b||"undefined"!=typeof window&&typeof window.addEventListener!==$b)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");var Qb=vb;return Qb});


},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHAvc2NyaXB0cy9hcHAuanMiLCJhcHAvc2NyaXB0cy9tYWluVmlldy5yYWN0IiwiYXBwL3NjcmlwdHMvcmVzdWx0cy5yYWN0Iiwibm9kZV9tb2R1bGVzL2hvdy13aWRlLWlzLWl0L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3JhY3RpdmUvcmFjdGl2ZS5taW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTs7QUFFQSxJQUFNLE9BQU8sUUFBUyxxQkFBVCxDQUFiO0FBQUEsSUFDSSxVQUFVLFFBQVMsZ0JBQVQsQ0FEZDtBQUVBLFFBQVEsUUFBUixHQUFtQixDQUFuQjtBQUNBLE9BQU8sSUFBUCxHQUFjLElBQUksSUFBSixDQUFVO0FBQ3BCLGNBQVUsUUFBUyxpQkFBVCxFQUE2QixRQURuQjtBQUVwQixRQUFJLE9BRmdCO0FBR3BCLGdCQUFZLHNCQUFZO0FBQUE7O0FBQ3BCLGdCQUFRLEdBQVIsQ0FBYSxxQkFBYjtBQUNBLGFBQUssRUFBTCxDQUFTLFNBQVQsRUFBb0IsVUFBRSxLQUFGLEVBQVMsV0FBVCxFQUEwQjtBQUMxQyxrQkFBSyxHQUFMLENBQVUsYUFBVixFQUF5QixXQUF6QjtBQUNBLGtCQUFLLFNBQUw7QUFDSCxTQUhEO0FBSUEsYUFBSyxFQUFMLENBQVMsT0FBVCxFQUFrQixZQUFNO0FBQ3BCLGtCQUFLLEdBQUwsQ0FBVSxjQUFWLEVBQTBCLENBQUMsTUFBSyxHQUFMLENBQVUsY0FBVixDQUEzQjtBQUNILFNBRkQ7QUFHQSxhQUFLLEVBQUwsQ0FBUyxVQUFULEVBQXFCLFVBQUUsS0FBRixFQUFTLEtBQVQsRUFBb0I7QUFDckMsa0JBQUssR0FBTCxDQUFVLGFBQVYsRUFBeUIsT0FBUSxNQUFNLEtBQU4sQ0FBYSxHQUFiLEVBQW9CLENBQXBCLENBQVIsQ0FBekI7QUFDQSxrQkFBSyxHQUFMLENBQVUsY0FBVixFQUEwQixPQUFRLE1BQU0sS0FBTixDQUFhLEdBQWIsRUFBb0IsQ0FBcEIsQ0FBUixDQUExQjtBQUNBLGtCQUFLLFNBQUw7QUFDSCxTQUpEO0FBS0EsYUFBSyxFQUFMLENBQVMsV0FBVCxFQUFzQixZQUFNO0FBQ3hCLGtCQUFLLFNBQUw7QUFDSCxTQUZEO0FBR0EsYUFBSyxTQUFMO0FBQ0EsZUFBTyxRQUFQLEdBQWtCLFNBQVUsWUFBTTtBQUM5QixnQkFBSSxPQUFPLE1BQUssR0FBTCxDQUFVLGNBQVYsQ0FBWDtBQUNBLG9CQUFRLEdBQVIsQ0FBYSxJQUFiO0FBQ0Esa0JBQUssR0FBTCxDQUFVLGNBQVYsRUFBMEIsT0FBTyxHQUFqQyxFQUF1QyxJQUF2QyxDQUE2QyxZQUFNO0FBQy9DLHNCQUFLLFNBQUwsQ0FBZ0IsSUFBaEIsRUFBdUIsSUFBdkIsQ0FBNkIsWUFBTTtBQUMvQiwwQkFBSyxHQUFMLENBQVUsY0FBVixFQUEwQixJQUExQixFQUFpQyxJQUFqQyxDQUF1QyxZQUFNO0FBQ3pDLDhCQUFLLFNBQUwsQ0FBZ0IsSUFBaEI7QUFDSCxxQkFGRDtBQUdILGlCQUpEO0FBS0gsYUFORDtBQVFILFNBWGlCLEVBV2YsRUFYZSxDQUFsQjtBQVlILEtBakNtQjtBQWtDcEIsZUFBVyxtQkFBVyxLQUFYLEVBQW1CO0FBQzFCLFlBQUksSUFBSSxLQUFLLEdBQUwsQ0FBVSxPQUFWLENBQVI7QUFBQSxZQUNJLE1BQU0sQ0FEVjtBQUFBLFlBRUksY0FBYyxLQUFLLEdBQUwsQ0FBVSxhQUFWLENBRmxCO0FBR0EsWUFBSyxlQUFlLENBQXBCLEVBQXdCO0FBQ3BCLGtCQUFNLFFBQVMsRUFBRSxLQUFYLEVBQWtCLEVBQUUsTUFBcEIsRUFBNEIsRUFBRSxNQUE5QixDQUFOO0FBQ0gsU0FGRCxNQUVPLElBQUssZUFBZSxDQUFwQixFQUF3QjtBQUMzQixrQkFBTSxRQUFRLElBQVIsQ0FBYyxFQUFFLEtBQWhCLEVBQXVCLEVBQUUsTUFBekIsRUFBaUMsRUFBRSxNQUFuQyxFQUEyQyxFQUFFLGtCQUE3QyxDQUFOO0FBQ0g7QUFDRCxlQUFPLFFBQVEsS0FBSyxHQUFMLENBQVUsTUFBVixFQUFrQixHQUFsQixDQUFSLEdBQWtDLEtBQUssT0FBTCxDQUFjLE1BQWQsRUFBc0IsR0FBdEIsQ0FBekM7QUFDSCxLQTVDbUI7QUE2Q3BCLFVBQU0sZ0JBQU07QUFDUixlQUFPO0FBQ0gsbUJBQU87QUFDSCx1QkFBTyxFQURKO0FBRUgsd0JBQVEsQ0FGTDtBQUdILHdCQUFRLEVBSEw7QUFJSCxvQ0FBb0I7QUFKakIsYUFESjtBQU9ILHlCQUFhLENBUFY7QUFRSCxzQkFBVSxDQUFFLHVCQUFGLEVBQTJCLG1CQUEzQixDQVJQO0FBU0gsa0JBQU07QUFDRix3QkFBUSxPQUROO0FBRUYsdUJBQU8sRUFGTDtBQUdGLDBCQUFVLE1BSFI7QUFJRiwwQkFBVTtBQUpSLGFBVEg7QUFlSCxtQkFBTyxlQUFXLENBQVgsRUFBYyxDQUFkLEVBQWtCO0FBQ3JCLHVCQUFTLEtBQUssS0FBSyxHQUFMLENBQVUsYUFBVixDQUFMLElBQWtDLEtBQUssS0FBSyxHQUFMLENBQVUsY0FBVixDQUF6QyxHQUF3RSxPQUF4RSxHQUFrRixFQUF6RjtBQUNILGFBakJFO0FBa0JILHNCQUFVLGtCQUFXLEdBQVgsRUFBaUI7QUFDdkIsb0JBQUksTUFBTSxPQUFPLE1BQVAsR0FBZ0IsQ0FBaEIsR0FBb0IsQ0FBOUI7QUFDQSx1QkFBTyxLQUFLLEdBQUwsQ0FBVSxhQUFWLEtBQTZCLEdBQTdCLEdBQW1DLFVBQW5DLEdBQWdELEVBQXZEO0FBQ0gsYUFyQkU7QUFzQkgsMEJBQWM7QUF0QlgsU0FBUDtBQXdCSCxLQXRFbUI7QUF1RXBCLGdCQUFZO0FBQ1Isd0JBQWdCLEtBQUssTUFBTCxDQUFhLFFBQVMsZ0JBQVQsQ0FBYjtBQURSO0FBdkVRLENBQVYsQ0FBZDs7QUE0RUEsU0FBUyxRQUFULENBQW1CLElBQW5CLEVBQXlCLElBQXpCLEVBQStCLFNBQS9CLEVBQTJDO0FBQ3ZDLFFBQUksT0FBSjtBQUNBLFdBQU8sWUFBWTtBQUNmLFlBQUksVUFBVSxJQUFkO0FBQUEsWUFDSSxPQUFPLFNBRFg7QUFFQSxZQUFJLFFBQVEsU0FBUixLQUFRLEdBQVk7QUFDcEIsc0JBQVUsSUFBVjtBQUNBLGdCQUFLLENBQUMsU0FBTixFQUFrQixLQUFLLEtBQUwsQ0FBWSxPQUFaLEVBQXFCLElBQXJCO0FBQ3JCLFNBSEQ7QUFJQSxZQUFJLFVBQVUsYUFBYSxDQUFDLE9BQTVCO0FBQ0EscUJBQWMsT0FBZDtBQUNBLGtCQUFVLFdBQVksS0FBWixFQUFtQixJQUFuQixDQUFWO0FBQ0EsWUFBSyxPQUFMLEVBQWUsS0FBSyxLQUFMLENBQVksT0FBWixFQUFxQixJQUFyQjtBQUNsQixLQVhEO0FBWUg7OztBQy9GRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4WkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBSYWN0ID0gcmVxdWlyZSggJ3JhY3RpdmUvcmFjdGl2ZS5taW4nICksXG4gICAgaG93V2lkZSA9IHJlcXVpcmUoICdob3ctd2lkZS1pcy1pdCcgKTtcbmhvd1dpZGUudHJ1bmNhdGUgPSAzO1xud2luZG93Lm1haW4gPSBuZXcgUmFjdCgge1xuICAgIHRlbXBsYXRlOiByZXF1aXJlKCAnLi9tYWluVmlldy5yYWN0JyApLnRlbXBsYXRlLFxuICAgIGVsOiAnLmhvb2snLFxuICAgIG9uY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc29sZS5sb2coICd3ZSBnb29kIGluIHRoZSBob29kJyApO1xuICAgICAgICB0aGlzLm9uKCAnc2V0TW9kZScsICggZXZlbnQsIG1vZGVUb1NldFRvICkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXQoICdjdXJyZW50TW9kZScsIG1vZGVUb1NldFRvICk7XG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZSgpO1xuICAgICAgICB9ICk7XG4gICAgICAgIHRoaXMub24oICdvdGhlcicsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0KCAnY29tbW9uUmF0aW9zJywgIXRoaXMuZ2V0KCAnY29tbW9uUmF0aW9zJyApICk7XG4gICAgICAgIH0gKTtcbiAgICAgICAgdGhpcy5vbiggJ3NldFJhdGlvJywgKCBldmVudCwgd2lkdGggKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldCggJ3RvU3ViLndpZHRoJywgTnVtYmVyKCB3aWR0aC5zcGxpdCggJzonIClbIDAgXSApICk7XG4gICAgICAgICAgICB0aGlzLnNldCggJ3RvU3ViLmhlaWdodCcsIE51bWJlciggd2lkdGguc3BsaXQoICc6JyApWyAxIF0gKSApO1xuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGUoKTtcbiAgICAgICAgfSApO1xuICAgICAgICB0aGlzLm9uKCAnc3VibWl0QWxsJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGUoKTtcbiAgICAgICAgfSApO1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZSgpO1xuICAgICAgICB3aW5kb3cub25yZXNpemUgPSBkZWJvdW5jZSggKCkgPT4ge1xuICAgICAgICAgICAgdmFyIHRlbXAgPSB0aGlzLmdldCggJ3RvU3ViLmxlbmd0aCcgKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCB0ZW1wIClcbiAgICAgICAgICAgIHRoaXMuc2V0KCAndG9TdWIubGVuZ3RoJywgdGVtcCAtIDAuMSApLnRoZW4oICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZSggdHJ1ZSApLnRoZW4oICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXQoICd0b1N1Yi5sZW5ndGgnLCB0ZW1wICkudGhlbiggKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGUoIHRydWUgKTtcbiAgICAgICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgIH0gKTtcblxuICAgICAgICB9LCA1MCApO1xuICAgIH0sXG4gICAgY2FsY3VsYXRlOiBmdW5jdGlvbiAoIHF1aWNrICkge1xuICAgICAgICBsZXQgYSA9IHRoaXMuZ2V0KCAndG9TdWInICksXG4gICAgICAgICAgICB2YWwgPSAwLFxuICAgICAgICAgICAgY3VycmVudE1vZGUgPSB0aGlzLmdldCggJ2N1cnJlbnRNb2RlJyApO1xuICAgICAgICBpZiAoIGN1cnJlbnRNb2RlID09IDAgKSB7XG4gICAgICAgICAgICB2YWwgPSBob3dXaWRlKCBhLndpZHRoLCBhLmhlaWdodCwgYS5sZW5ndGggKTtcbiAgICAgICAgfSBlbHNlIGlmICggY3VycmVudE1vZGUgPT0gMSApIHtcbiAgICAgICAgICAgIHZhbCA9IGhvd1dpZGUuZGlhZyggYS53aWR0aCwgYS5oZWlnaHQsIGEubGVuZ3RoLCBhLmxlbmd0aElzT25XaWRlU2lkZSApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBxdWljayA/IHRoaXMuc2V0KCAncmVzcCcsIHZhbCApIDogdGhpcy5hbmltYXRlKCAncmVzcCcsIHZhbCApO1xuICAgIH0sXG4gICAgZGF0YTogKCkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdG9TdWI6IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogMTYsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiA5LFxuICAgICAgICAgICAgICAgIGxlbmd0aDogMjEsXG4gICAgICAgICAgICAgICAgbGVuZ3RoSXNPbldpZGVTaWRlOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY3VycmVudE1vZGU6IDAsXG4gICAgICAgICAgICBhbGxNb2RlczogWyAnY2FsY3VsYXRlV2l0aERpYWdvbmFsJywgJ2NhbGN1bGF0ZVdpdGhTaWRlJyBdLFxuICAgICAgICAgICAgcmVzcDoge1xuICAgICAgICAgICAgICAgIGhlaWdodDogMTEuODEyNSxcbiAgICAgICAgICAgICAgICB3aWR0aDogMjEsXG4gICAgICAgICAgICAgICAgYXNwUmF0aW86ICcxNjo5JyxcbiAgICAgICAgICAgICAgICBkaWFnb25hbDogMjQuMDk0Mjk3MTcyNzc1MTM5MlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlzU2V0OiBmdW5jdGlvbiAoIHcsIGggKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICggdyA9PSB0aGlzLmdldCggJ3RvU3ViLndpZHRoJyApICYmIGggPT0gdGhpcy5nZXQoICd0b1N1Yi5oZWlnaHQnICkgKSA/ICdpc1NldCcgOiAnJztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc0FjdGl2ZTogZnVuY3Rpb24gKCBjdXIgKSB7XG4gICAgICAgICAgICAgICAgbGV0IHZhbCA9IGN1ciA9PSAnZGlhZycgPyAwIDogMTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQoICdjdXJyZW50TW9kZScgKSA9PSB2YWwgPyAnaXNBY3RpdmUnIDogJyc7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29tbW9uUmF0aW9zOiB0cnVlXG4gICAgICAgIH1cbiAgICB9LFxuICAgIGNvbXBvbmVudHM6IHtcbiAgICAgICAgZGlzcGxheXJlc3VsdHM6IFJhY3QuZXh0ZW5kKCByZXF1aXJlKCAnLi9yZXN1bHRzLnJhY3QnICkgKVxuICAgIH1cbn0gKTtcblxuZnVuY3Rpb24gZGVib3VuY2UoIGZ1bmMsIHdhaXQsIGltbWVkaWF0ZSApIHtcbiAgICB2YXIgdGltZW91dDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMsXG4gICAgICAgICAgICBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICB2YXIgbGF0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgIGlmICggIWltbWVkaWF0ZSApIGZ1bmMuYXBwbHkoIGNvbnRleHQsIGFyZ3MgKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGNhbGxOb3cgPSBpbW1lZGlhdGUgJiYgIXRpbWVvdXQ7XG4gICAgICAgIGNsZWFyVGltZW91dCggdGltZW91dCApO1xuICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dCggbGF0ZXIsIHdhaXQgKTtcbiAgICAgICAgaWYgKCBjYWxsTm93ICkgZnVuYy5hcHBseSggY29udGV4dCwgYXJncyApO1xuICAgIH07XG59O1xuIiwiZXhwb3J0cy50ZW1wbGF0ZSA9IHsgdjozLFxuICB0OlsgeyBwOlsgMSxcbiAgICAgICAgMSxcbiAgICAgICAgMCBdLFxuICAgICAgdDo3LFxuICAgICAgZTpcImRpdlwiLFxuICAgICAgYTp7IFwiY2xhc3NcIjpcImhlYWRlclwiIH0sXG4gICAgICBmOlsgeyBwOlsgMixcbiAgICAgICAgICAgIDIsXG4gICAgICAgICAgICAyMiBdLFxuICAgICAgICAgIHQ6NyxcbiAgICAgICAgICBlOlwiaDFcIixcbiAgICAgICAgICBmOlsgXCJIb3cgV2lkZSBpcyBZb3VyIE1vbml0b3I/XCIgXSB9IF0gfSxcbiAgICBcIiBcIixcbiAgICB7IHA6WyA0LFxuICAgICAgICAxLFxuICAgICAgICA2NCBdLFxuICAgICAgdDo3LFxuICAgICAgZTpcImRpdlwiLFxuICAgICAgYTp7IFwiY2xhc3NcIjpcIm1vZGVzXCIgfSxcbiAgICAgIGY6WyB7IHA6WyA1LFxuICAgICAgICAgICAgMixcbiAgICAgICAgICAgIDg1IF0sXG4gICAgICAgICAgdDo3LFxuICAgICAgICAgIGU6XCJkaXZcIixcbiAgICAgICAgICBhOnsgXCJjbGFzc1wiOlsgXCJoYWxmIFwiLFxuICAgICAgICAgICAgICB7IHQ6MixcbiAgICAgICAgICAgICAgICB4OnsgcjpbIFwiaXNBY3RpdmVcIiBdLFxuICAgICAgICAgICAgICAgICAgczpcIl8wKFxcXCJkaWFnXFxcIilcIiB9LFxuICAgICAgICAgICAgICAgIHA6WyA1LFxuICAgICAgICAgICAgICAgICAgMTksXG4gICAgICAgICAgICAgICAgICAxMDIgXSB9IF0gfSxcbiAgICAgICAgICB2OnsgY2xpY2s6eyBuOlwic2V0TW9kZVwiLFxuICAgICAgICAgICAgICBhOlsgMCBdIH0gfSxcbiAgICAgICAgICBmOlsgeyBwOlsgNixcbiAgICAgICAgICAgICAgICAzLFxuICAgICAgICAgICAgICAgIDE0OCBdLFxuICAgICAgICAgICAgICB0OjcsXG4gICAgICAgICAgICAgIGU6XCJoM1wiLFxuICAgICAgICAgICAgICBmOlsgXCJZb3UgaGF2ZSBhIERpYWdvbmFsIE1lYXN1cmVtZW50XCIgXSB9LFxuICAgICAgICAgICAgXCIgXCIsXG4gICAgICAgICAgICB7IHA6WyA3LFxuICAgICAgICAgICAgICAgIDMsXG4gICAgICAgICAgICAgICAgMTkxIF0sXG4gICAgICAgICAgICAgIHQ6NyxcbiAgICAgICAgICAgICAgZTpcInBcIixcbiAgICAgICAgICAgICAgZjpbIFwiWW91IGhhdmUgYSBkaWFnb25hbCBtZWFzdXJlbWVudCBhbmQgYXJlIGxvb2tpbmcgdG8gc2VlIHRoZSB0cnVlIGRpbWVuc2lvbnMgb2YgdGhlIG1vbml0b3Igb3IgVFYuXCIgXSB9IF0gfSxcbiAgICAgICAgXCIgXCIsXG4gICAgICAgIHsgcDpbIDksXG4gICAgICAgICAgICAyLFxuICAgICAgICAgICAgMzA0IF0sXG4gICAgICAgICAgdDo3LFxuICAgICAgICAgIGU6XCJkaXZcIixcbiAgICAgICAgICBhOnsgXCJjbGFzc1wiOlsgXCJoYWxmIFwiLFxuICAgICAgICAgICAgICB7IHQ6MixcbiAgICAgICAgICAgICAgICB4OnsgcjpbIFwiaXNBY3RpdmVcIiBdLFxuICAgICAgICAgICAgICAgICAgczpcIl8wKFxcXCJzaWRlXFxcIilcIiB9LFxuICAgICAgICAgICAgICAgIHA6WyA5LFxuICAgICAgICAgICAgICAgICAgMTksXG4gICAgICAgICAgICAgICAgICAzMjEgXSB9IF0gfSxcbiAgICAgICAgICB2OnsgY2xpY2s6eyBuOlwic2V0TW9kZVwiLFxuICAgICAgICAgICAgICBhOlsgMSBdIH0gfSxcbiAgICAgICAgICBmOlsgeyBwOlsgMTAsXG4gICAgICAgICAgICAgICAgMyxcbiAgICAgICAgICAgICAgICAzNjcgXSxcbiAgICAgICAgICAgICAgdDo3LFxuICAgICAgICAgICAgICBlOlwiaDNcIixcbiAgICAgICAgICAgICAgZjpbIFwiWW91IGhhdmUgYSBTaWRlIE1lYXN1cmVtZW50XCIgXSB9LFxuICAgICAgICAgICAgXCIgXCIsXG4gICAgICAgICAgICB7IHA6WyAxMSxcbiAgICAgICAgICAgICAgICAzLFxuICAgICAgICAgICAgICAgIDQwNiBdLFxuICAgICAgICAgICAgICB0OjcsXG4gICAgICAgICAgICAgIGU6XCJwXCIsXG4gICAgICAgICAgICAgIGY6WyBcIklmIHlvdSBoYXZlIGEgY2VydGFpbiB3aWR0aCBvciBoZWlnaHQgdGhhdCB5b3Ugd291bGQgbGlrZSB0byBmaWxsIHVwIHdpdGggc2NyZWVuIHNwYWNlIHRoaXMgaXMgdGhlIG1vZGUgZm9yIHlvdS5cIiBdIH0gXSB9IF0gfSxcbiAgICBcIiBcIixcbiAgICB7IHA6WyAxNCxcbiAgICAgICAgMSxcbiAgICAgICAgNTQxIF0sXG4gICAgICB0OjcsXG4gICAgICBlOlwiZGl2XCIsXG4gICAgICBhOnsgXCJjbGFzc1wiOlwiaW5wc1wiIH0sXG4gICAgICBmOlsgeyB0OjQsXG4gICAgICAgICAgZjpbIHsgcDpbIDE2LFxuICAgICAgICAgICAgICAgIDIsXG4gICAgICAgICAgICAgICAgNTczIF0sXG4gICAgICAgICAgICAgIHQ6NyxcbiAgICAgICAgICAgICAgZTpcImRpdlwiLFxuICAgICAgICAgICAgICBhOnsgXCJjbGFzc1wiOlwiaGFsZlwiIH0sXG4gICAgICAgICAgICAgIGY6WyB7IHA6WyAxOCxcbiAgICAgICAgICAgICAgICAgICAgMyxcbiAgICAgICAgICAgICAgICAgICAgNTk1IF0sXG4gICAgICAgICAgICAgICAgICB0OjcsXG4gICAgICAgICAgICAgICAgICBlOlwiaDRcIixcbiAgICAgICAgICAgICAgICAgIGY6WyBcIkFzcGVjdCBSYXRpbzogXCIsXG4gICAgICAgICAgICAgICAgICAgIHsgcDpbIDE4LFxuICAgICAgICAgICAgICAgICAgICAgICAgMjEsXG4gICAgICAgICAgICAgICAgICAgICAgICA2MTMgXSxcbiAgICAgICAgICAgICAgICAgICAgICB0OjcsXG4gICAgICAgICAgICAgICAgICAgICAgZTpcInNwYW5cIixcbiAgICAgICAgICAgICAgICAgICAgICBhOnsgXCJjbGFzc1wiOlwiaW5mbyBoaW50LS1sYXJnZSBoaW50LS10b3AgaGludC0tcm91bmRlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJhcmlhLWxhYmVsXCI6XCJBc3BlY3QgUmF0aW8gaXMgdGhlIHJhdGlvIG9mIHRoZSB3aWR0aCBvZiBhIHNjcmVlbiB0byBpdCdzIGhlaWdodCwgaXQncyB3aGF0IG1ha2VzIG5ld2VyIHNjcmVlbnMgc28gd2lkZSBjb21wYXJlZCB0byBvbGQgVFZzIHdoaWNoIHVzZWQgdG8gYmUgc3F1YXJlLWlzaC4gSWYgeW91IGRvbid0IGtub3cgeW91IHNob3VsZCBwcm9iYWJseSBqdXN0IHN0aWNrIHRvIDE2OjkgYXMgdGhhdCBpcyB0aGUgc3RhbmRhcmQgbm93YWRheXMuXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICBmOlsgXCLik5hcIiBdIH0gXSB9LFxuICAgICAgICAgICAgICAgIFwiIFwiLFxuICAgICAgICAgICAgICAgIHsgdDo0LFxuICAgICAgICAgICAgICAgICAgZjpbIHsgcDpbIDIxLFxuICAgICAgICAgICAgICAgICAgICAgICAgMyxcbiAgICAgICAgICAgICAgICAgICAgICAgIDk2NiBdLFxuICAgICAgICAgICAgICAgICAgICAgIHQ6NyxcbiAgICAgICAgICAgICAgICAgICAgICBlOlwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICAgICAgYTp7IFwiY2xhc3NcIjpcImNvbnRhaW5lclwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgZjpbIHsgcDpbIDIyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOTkzIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHQ6NyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZTpcImJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhOnsgXCJjbGFzc1wiOlsgXCJxdWFydGVyIFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB0OjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6eyByOlsgXCJpc1NldFwiIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczpcIl8wKDE2LDkpXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcDpbIDIyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDI3LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEwMTYgXSB9IF0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdjp7IGNsaWNrOnsgbjpcInNldFJhdGlvXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhOlwiMTY6OVwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZjpbIFwiMTY6OVwiIF0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBwOlsgMjQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAxMDc2IF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHQ6NyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZTpcImJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhOnsgXCJjbGFzc1wiOlsgXCJxdWFydGVyIFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB0OjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6eyByOlsgXCJpc1NldFwiIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczpcIl8wKDQsMylcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwOlsgMjQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMjcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTA5OSBdIH0gXSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICB2OnsgY2xpY2s6eyBuOlwic2V0UmF0aW9cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGE6XCI0OjNcIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGY6WyBcIjQ6M1wiIF0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBwOlsgMjYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAxMTU2IF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHQ6NyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZTpcImJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhOnsgXCJjbGFzc1wiOlsgXCJxdWFydGVyIFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB0OjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6eyByOlsgXCJpc1NldFwiIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczpcIl8wKDIxLDkpXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcDpbIDI2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDI3LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDExNzkgXSB9IF0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdjp7IGNsaWNrOnsgbjpcInNldFJhdGlvXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhOlwiMjE6OVwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZjpbIFwiMjE6OVwiIF0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBwOlsgMjgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAxMjM5IF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHQ6NyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZTpcImJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhOnsgXCJjbGFzc1wiOlsgXCJxdWFydGVyIFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB0OjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6eyByOlsgXCJpc1NldFwiIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczpcIl8wKDIxLDEwKVwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHA6WyAyOCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyNyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxMjYyIF0gfSBdIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHY6eyBjbGljazp7IG46XCJzZXRSYXRpb1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYTpcIjIxOjEwXCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmOlsgXCIyMToxMFwiIF0gfSBdIH0gXSxcbiAgICAgICAgICAgICAgICAgIG46NTAsXG4gICAgICAgICAgICAgICAgICByOlwiY29tbW9uUmF0aW9zXCIsXG4gICAgICAgICAgICAgICAgICBwOlsgMjAsXG4gICAgICAgICAgICAgICAgICAgIDMsXG4gICAgICAgICAgICAgICAgICAgIDk0MyBdIH0sXG4gICAgICAgICAgICAgICAgeyB0OjQsXG4gICAgICAgICAgICAgICAgICBuOjUxLFxuICAgICAgICAgICAgICAgICAgZjpbIHsgcDpbIDM0LFxuICAgICAgICAgICAgICAgICAgICAgICAgMyxcbiAgICAgICAgICAgICAgICAgICAgICAgIDEzNDYgXSxcbiAgICAgICAgICAgICAgICAgICAgICB0OjcsXG4gICAgICAgICAgICAgICAgICAgICAgZTpcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgICAgIGE6eyBcImNsYXNzXCI6XCJjb250YWluZXJcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgIGY6WyB7IHA6WyAzNSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEzNzMgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdDo3LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBlOlwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGE6eyBcImNsYXNzXCI6XCJpdGVtXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZjpbIHsgcDpbIDM2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA1LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxMzk2IF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0OjcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlOlwibGFiZWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGE6eyBcImZvclwiOlwid2lkdGhcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZjpbIFwiQXNwZWN0IFJhdGlvIFdpZHRoOlwiIF0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHA6WyAzNyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTQ0NyBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdDo3LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZTpcImlucHV0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhOnsgdHlwZTpcIm51bWJlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTpbIHsgdDoyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcjpcIndpZHRoXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwOlsgMzcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDMzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxNDc1IF0gfSBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDpcIndpZHRoXCIgfSB9IF0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBwOlsgMzksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAxNTExIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHQ6NyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZTpcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhOnsgXCJjbGFzc1wiOlwiaXRlbVwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGY6WyB7IHA6WyA0MCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTUzNCBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdDo3LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZTpcImxhYmVsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhOnsgXCJmb3JcIjpcImhlaWdodFwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmOlsgXCJBc3BlY3QgUmF0aW8gaGVpZ2h0OlwiIF0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHA6WyA0MSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTU4NyBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdDo3LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZTpcImlucHV0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhOnsgdHlwZTpcIm51bWJlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTpbIHsgdDoyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcjpcImhlaWdodFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcDpbIDQxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAzMyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTYxNSBdIH0gXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6XCJoZWlnaHRcIiB9IH0gXSB9IF0gfSBdLFxuICAgICAgICAgICAgICAgICAgcjpcImNvbW1vblJhdGlvc1wiIH0sXG4gICAgICAgICAgICAgICAgXCIgXCIsXG4gICAgICAgICAgICAgICAgeyBwOlsgNDYsXG4gICAgICAgICAgICAgICAgICAgIDMsXG4gICAgICAgICAgICAgICAgICAgIDE2NzIgXSxcbiAgICAgICAgICAgICAgICAgIHQ6NyxcbiAgICAgICAgICAgICAgICAgIGU6XCJidXR0b25cIixcbiAgICAgICAgICAgICAgICAgIGE6eyBcImNsYXNzXCI6XCJvdGhlclwiIH0sXG4gICAgICAgICAgICAgICAgICB2OnsgY2xpY2s6XCJvdGhlclwiIH0sXG4gICAgICAgICAgICAgICAgICBmOlsgeyB0OjIsXG4gICAgICAgICAgICAgICAgICAgICAgeDp7IHI6WyBcImNvbW1vblJhdGlvc1wiIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzOlwiXzA/XFxcIk90aGVyIFJhdGlvXFxcIjpcXFwiQ29tbW9uIFJhdGlvc1xcXCJcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgIHA6WyA0NixcbiAgICAgICAgICAgICAgICAgICAgICAgIDQyLFxuICAgICAgICAgICAgICAgICAgICAgICAgMTcxMSBdIH0gXSB9IF0gfSxcbiAgICAgICAgICAgIFwiIFwiLFxuICAgICAgICAgICAgeyBwOlsgNDksXG4gICAgICAgICAgICAgICAgMixcbiAgICAgICAgICAgICAgICAxNzc3IF0sXG4gICAgICAgICAgICAgIHQ6NyxcbiAgICAgICAgICAgICAgZTpcImRpdlwiLFxuICAgICAgICAgICAgICBhOnsgXCJjbGFzc1wiOlwiaGFsZlwiIH0sXG4gICAgICAgICAgICAgIGY6WyB7IHA6WyA1MSxcbiAgICAgICAgICAgICAgICAgICAgMyxcbiAgICAgICAgICAgICAgICAgICAgMTc5OSBdLFxuICAgICAgICAgICAgICAgICAgdDo3LFxuICAgICAgICAgICAgICAgICAgZTpcImg0XCIsXG4gICAgICAgICAgICAgICAgICBmOlsgeyB0OjIsXG4gICAgICAgICAgICAgICAgICAgICAgeDp7IHI6WyBcImN1cnJlbnRNb2RlXCIgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHM6XCJfMD09MD9cXFwiRGlhZ29uYWwgTGVuZ3RoXFxcIjpcXFwiTGVuZ3RoIG9uIFNpZGVcXFwiXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICBwOlsgNTEsXG4gICAgICAgICAgICAgICAgICAgICAgICA3LFxuICAgICAgICAgICAgICAgICAgICAgICAgMTgwMyBdIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiOiBcIixcbiAgICAgICAgICAgICAgICAgICAgeyBwOlsgNTEsXG4gICAgICAgICAgICAgICAgICAgICAgICA2MixcbiAgICAgICAgICAgICAgICAgICAgICAgIDE4NTggXSxcbiAgICAgICAgICAgICAgICAgICAgICB0OjcsXG4gICAgICAgICAgICAgICAgICAgICAgZTpcInNwYW5cIixcbiAgICAgICAgICAgICAgICAgICAgICBhOnsgXCJjbGFzc1wiOlwiaW5mbyBoaW50LS1sYXJnZSBoaW50LS10b3AgaGludC0tcm91bmRlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJhcmlhLWxhYmVsXCI6WyB7IHQ6MixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OnsgcjpbIFwiY3VycmVudE1vZGVcIiBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczpcIl8wPT0wP1xcXCJTY3JlZW5zIGFyZSB0eXBpY2FsbHkgbWVhc3VyZWQgZGlhZ29uYWxseSB3aGljaCBtYWtlcyBpdCBoYXJkIHRvIGZpZ3VyZSBvdXQgaXQncyBhY3R1YWwgZGltZW5zaW9ucyBiZWZvcmUgYnV5aW5nLlxcXCI6XFxcIkp1c3QgZW50ZXIgdGhlIGxlbmd0aCBhbmQgc2VsZWN0IHdoZXRoZXIgdGhpcyBpcyBmb3IgdGhlIHdpZHRoIG9mIHRoZSBzY3JlZW4gb3IgdGhlIGhlaWdodC5cXFwiXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwOlsgNTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxMjksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxOTI1IF0gfSBdIH0sXG4gICAgICAgICAgICAgICAgICAgICAgZjpbIFwi4pOYXCIgXSB9IF0gfSxcbiAgICAgICAgICAgICAgICBcIiBcIixcbiAgICAgICAgICAgICAgICB7IHA6WyA1MixcbiAgICAgICAgICAgICAgICAgICAgMyxcbiAgICAgICAgICAgICAgICAgICAgMjE3NSBdLFxuICAgICAgICAgICAgICAgICAgdDo3LFxuICAgICAgICAgICAgICAgICAgZTpcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgYTp7IFwiY2xhc3NcIjpcImNvbnRhaW5lclwiIH0sXG4gICAgICAgICAgICAgICAgICBmOlsgeyBwOlsgNTMsXG4gICAgICAgICAgICAgICAgICAgICAgICA0LFxuICAgICAgICAgICAgICAgICAgICAgICAgMjIwMiBdLFxuICAgICAgICAgICAgICAgICAgICAgIHQ6NyxcbiAgICAgICAgICAgICAgICAgICAgICBlOlwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICAgICAgYTp7IFwiY2xhc3NcIjpcIml0ZW1cIiB9LFxuICAgICAgICAgICAgICAgICAgICAgIGY6WyB7IHA6WyA1NCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA1LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIyMjUgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdDo3LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBlOlwibGFiZWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYTp7IFwiZm9yXCI6XCJsZW5ndGhcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmOlsgXCJMZW5ndGg6XCIgXSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgXCIgXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHA6WyA1NSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA1LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIyNjUgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdDo3LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBlOlwiaW5wdXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYTp7IHR5cGU6XCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTpbIHsgdDoyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByOlwibGVuZ3RoXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHA6WyA1NSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAzMyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyMjkzIF0gfSBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOlwibGVuZ3RoXCIgfSB9IF0gfSxcbiAgICAgICAgICAgICAgICAgICAgXCIgXCIsXG4gICAgICAgICAgICAgICAgICAgIHsgcDpbIDU3LFxuICAgICAgICAgICAgICAgICAgICAgICAgNCxcbiAgICAgICAgICAgICAgICAgICAgICAgIDIzMzEgXSxcbiAgICAgICAgICAgICAgICAgICAgICB0OjcsXG4gICAgICAgICAgICAgICAgICAgICAgZTpcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgICAgIGE6eyBcImNsYXNzXCI6XCJpdGVtXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICBmOlsgeyB0OjQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGY6WyB7IHA6WyA1OSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMjM4MiBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdDo3LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZTpcImxhYmVsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhOnsgXCJmb3JcIjpcIndoaWNoU2lkZVwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmOlsgXCJJcyBsZW5ndGggZm9yIFdpZGVzdCBzaWRlIG9mIHRoZSBzY3JlZW4/XCIgXSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiIFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgcDpbIDYwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyNDU5IF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0OjcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlOlwiaW5wdXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGE6eyB0eXBlOlwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6XCJ3aGljaFNpZGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZDpbIHsgdDoyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcjpcImxlbmd0aElzT25XaWRlU2lkZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcDpbIDYwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA1MyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMjUwNiBdIH0gXSB9IH0gXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbjo1MCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgeDp7IHI6WyBcImN1cnJlbnRNb2RlXCIgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzOlwiXzA9PTFcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwOlsgNTgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAyMzU0IF0gfSBdIH0gXSB9LFxuICAgICAgICAgICAgICAgIFwiIFwiLFxuICAgICAgICAgICAgICAgIHsgcDpbIDY2LFxuICAgICAgICAgICAgICAgICAgICAzLFxuICAgICAgICAgICAgICAgICAgICAyNTcwIF0sXG4gICAgICAgICAgICAgICAgICB0OjcsXG4gICAgICAgICAgICAgICAgICBlOlwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICB2OnsgY2xpY2s6XCJzdWJtaXRBbGxcIiB9LFxuICAgICAgICAgICAgICAgICAgYTp7IFwiY2xhc3NcIjpcIm90aGVyXCIgfSxcbiAgICAgICAgICAgICAgICAgIGY6WyBcIlN1Ym1pdFwiIF0gfSBdIH0gXSxcbiAgICAgICAgICByOlwidG9TdWJcIixcbiAgICAgICAgICBwOlsgMTUsXG4gICAgICAgICAgICAyLFxuICAgICAgICAgICAgNTYxIF0gfSBdIH0sXG4gICAgXCIgXCIsXG4gICAgeyBwOlsgNzAsXG4gICAgICAgIDEsXG4gICAgICAgIDI2NTYgXSxcbiAgICAgIHQ6NyxcbiAgICAgIGU6XCJkaXZcIixcbiAgICAgIGE6eyBcImNsYXNzXCI6XCJyZXNwb25zZVwiIH0sXG4gICAgICBmOlsgeyB0OjQsXG4gICAgICAgICAgZjpbIHsgcDpbIDcyLFxuICAgICAgICAgICAgICAgIDIsXG4gICAgICAgICAgICAgICAgMjY5MSBdLFxuICAgICAgICAgICAgICB0OjcsXG4gICAgICAgICAgICAgIGU6XCJkaXNwbGF5cmVzdWx0c1wiLFxuICAgICAgICAgICAgICBhOnsgaGVpZ2h0OlsgeyB0OjIsXG4gICAgICAgICAgICAgICAgICAgIHI6XCJoZWlnaHRcIixcbiAgICAgICAgICAgICAgICAgICAgcDpbIDcyLFxuICAgICAgICAgICAgICAgICAgICAgIDI2LFxuICAgICAgICAgICAgICAgICAgICAgIDI3MTUgXSB9IF0sXG4gICAgICAgICAgICAgICAgd2lkdGg6WyB7IHQ6MixcbiAgICAgICAgICAgICAgICAgICAgcjpcIndpZHRoXCIsXG4gICAgICAgICAgICAgICAgICAgIHA6WyA3MixcbiAgICAgICAgICAgICAgICAgICAgICA0NSxcbiAgICAgICAgICAgICAgICAgICAgICAyNzM0IF0gfSBdLFxuICAgICAgICAgICAgICAgIGFzcGVjdFJhdGlvOlsgeyB0OjIsXG4gICAgICAgICAgICAgICAgICAgIHI6XCJhc3BSYXRpb1wiLFxuICAgICAgICAgICAgICAgICAgICBwOlsgNzIsXG4gICAgICAgICAgICAgICAgICAgICAgNjksXG4gICAgICAgICAgICAgICAgICAgICAgMjc1OCBdIH0gXSxcbiAgICAgICAgICAgICAgICBkaWFnb25hbDpbIHsgdDoyLFxuICAgICAgICAgICAgICAgICAgICByOlwiZGlhZ29uYWxcIixcbiAgICAgICAgICAgICAgICAgICAgcDpbIDcyLFxuICAgICAgICAgICAgICAgICAgICAgIDkzLFxuICAgICAgICAgICAgICAgICAgICAgIDI3ODIgXSB9IF0sXG4gICAgICAgICAgICAgICAgbW9kZTpbIHsgdDoyLFxuICAgICAgICAgICAgICAgICAgICByOlwiY3VycmVudE1vZGVcIixcbiAgICAgICAgICAgICAgICAgICAgcDpbIDcyLFxuICAgICAgICAgICAgICAgICAgICAgIDExMyxcbiAgICAgICAgICAgICAgICAgICAgICAyODAyIF0gfSBdIH0gfSBdLFxuICAgICAgICAgIHI6XCJyZXNwXCIsXG4gICAgICAgICAgcDpbIDcxLFxuICAgICAgICAgICAgMixcbiAgICAgICAgICAgIDI2ODAgXSB9IF0gfSBdIH0iLCJ2YXIgY29tcG9uZW50ID0gbW9kdWxlXG5cbmZ1bmN0aW9uIGdldFdpZHRoKCl7XG5cdHJldHVybiBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoLTEwMDtcbn0vL25lZWRlIHRvIHNvbWVob3cgc2NhbGUgd2l0aCBzY3JlZW5cbmZ1bmN0aW9uIGdldEhlaWdodCgpe1xuXHRyZXR1cm4gZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQtMTAwO1xufVxuY29tcG9uZW50LmV4cG9ydHMgPSAge1xuXG4gICAgaXNvbGF0ZWQ6IGZhbHNlLFxuICAgIGRhdGE6IHtcbiAgICBcdHdpZHRoOjAsXG4gICAgXHRoZWlnaHQ6MCxcbiAgICBcdGFzcGVjdFJhdGlvOicwJyxcbiAgICBcdGRpYWdvbmFsOjAsXG4gICAgXHRvZmZzZXQ6NTBcbiAgICB9LFxuICAgIGNvbXB1dGVkOiB7XG4gICAgXHR3aWR0aE9mU2NyZWVuOntnZXQ6ZnVuY3Rpb24oKXtcblx0XHRcdHJldHVybiBnZXRXaWR0aCh0aGlzLmdldCgnd2lkdGgnKSk+Z2V0SGVpZ2h0KCk/Z2V0SGVpZ2h0KCk6Z2V0V2lkdGgoKTtcbiAgICBcdH19LFxuICAgIFx0aGVpZ2h0T2ZTY3JlZW46e2dldDpmdW5jdGlvbigpe1xuICAgIFx0XHRyZXR1cm4gZ2V0V2lkdGgodGhpcy5nZXQoJ3dpZHRoJykpPmdldEhlaWdodCgpP01hdGgucm91bmQodGhpcy5nZXQoJ2hlaWdodCcpKmdldEhlaWdodCgpL3RoaXMuZ2V0KCd3aWR0aCcpKTpNYXRoLnJvdW5kKHRoaXMuZ2V0KCdoZWlnaHQnKSpnZXRXaWR0aCgpL3RoaXMuZ2V0KCd3aWR0aCcpKVxuICAgIFx0fX1cbiAgICB9LFxuICAgIG9uY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ29rJyk7XG4gICAgfVxufTtcblxuY29tcG9uZW50LmV4cG9ydHMudGVtcGxhdGUgPSB7IHY6MyxcbiAgdDpbIHsgcDpbIDgsXG4gICAgICAgIDEsXG4gICAgICAgIDE0NCBdLFxuICAgICAgdDo3LFxuICAgICAgZTpcInN2Z1wiLFxuICAgICAgYTp7IHdpZHRoOlsgeyB0OjIsXG4gICAgICAgICAgICByOlwid2lkdGhPZlNjcmVlblwiLFxuICAgICAgICAgICAgcDpbIDgsXG4gICAgICAgICAgICAgIDEzLFxuICAgICAgICAgICAgICAxNTYgXSB9LFxuICAgICAgICAgIFwicHhcIiBdLFxuICAgICAgICBoZWlnaHQ6WyB7IHQ6MixcbiAgICAgICAgICAgIHI6XCJoZWlnaHRPZlNjcmVlblwiLFxuICAgICAgICAgICAgcDpbIDgsXG4gICAgICAgICAgICAgIDQyLFxuICAgICAgICAgICAgICAxODUgXSB9LFxuICAgICAgICAgIFwicHhcIiBdIH0sXG4gICAgICBmOlsgeyBwOlsgOSxcbiAgICAgICAgICAgIDIsXG4gICAgICAgICAgICAyMTAgXSxcbiAgICAgICAgICB0OjcsXG4gICAgICAgICAgZTpcImdcIixcbiAgICAgICAgICBmOlsgeyBwOlsgMTAsXG4gICAgICAgICAgICAgICAgMyxcbiAgICAgICAgICAgICAgICAyMTYgXSxcbiAgICAgICAgICAgICAgdDo3LFxuICAgICAgICAgICAgICBlOlwicmVjdFwiLFxuICAgICAgICAgICAgICBhOnsgd2lkdGg6WyB7IHQ6MixcbiAgICAgICAgICAgICAgICAgICAgcjpcIndpZHRoT2ZTY3JlZW5cIixcbiAgICAgICAgICAgICAgICAgICAgcDpbIDEwLFxuICAgICAgICAgICAgICAgICAgICAgIDE2LFxuICAgICAgICAgICAgICAgICAgICAgIDIyOSBdIH0sXG4gICAgICAgICAgICAgICAgICBcInB4XCIgXSxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6WyB7IHQ6MixcbiAgICAgICAgICAgICAgICAgICAgcjpcImhlaWdodE9mU2NyZWVuXCIsXG4gICAgICAgICAgICAgICAgICAgIHA6WyAxMCxcbiAgICAgICAgICAgICAgICAgICAgICA0NSxcbiAgICAgICAgICAgICAgICAgICAgICAyNTggXSB9LFxuICAgICAgICAgICAgICAgICAgXCJweFwiIF0gfSB9LFxuICAgICAgICAgICAgXCIgXCIsXG4gICAgICAgICAgICB7IHA6WyAxMixcbiAgICAgICAgICAgICAgICAzLFxuICAgICAgICAgICAgICAgIDI5MyBdLFxuICAgICAgICAgICAgICB0OjcsXG4gICAgICAgICAgICAgIGU6XCJ0ZXh0XCIsXG4gICAgICAgICAgICAgIGE6eyB0cmFuc2Zvcm06WyBcInRyYW5zbGF0ZShcIixcbiAgICAgICAgICAgICAgICAgIHsgdDoyLFxuICAgICAgICAgICAgICAgICAgICB4OnsgcjpbIFwid2lkdGhPZlNjcmVlblwiIF0sXG4gICAgICAgICAgICAgICAgICAgICAgczpcIl8wLzJcIiB9LFxuICAgICAgICAgICAgICAgICAgICBwOlsgMTIsXG4gICAgICAgICAgICAgICAgICAgICAgMzAsXG4gICAgICAgICAgICAgICAgICAgICAgMzIwIF0gfSxcbiAgICAgICAgICAgICAgICAgIFwiLFwiLFxuICAgICAgICAgICAgICAgICAgeyB0OjIsXG4gICAgICAgICAgICAgICAgICAgIHg6eyByOlsgXCJoZWlnaHRPZlNjcmVlblwiIF0sXG4gICAgICAgICAgICAgICAgICAgICAgczpcIl8wLTEwXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgcDpbIDEyLFxuICAgICAgICAgICAgICAgICAgICAgIDUwLFxuICAgICAgICAgICAgICAgICAgICAgIDM0MCBdIH0sXG4gICAgICAgICAgICAgICAgICBcIilcIiBdLFxuICAgICAgICAgICAgICAgIFwiY2xhc3NcIjpcImxhYmVsXCIgfSxcbiAgICAgICAgICAgICAgZjpbIHsgdDoyLFxuICAgICAgICAgICAgICAgICAgcjpcIndpZHRoXCIsXG4gICAgICAgICAgICAgICAgICBwOlsgMTMsXG4gICAgICAgICAgICAgICAgICAgIDQsXG4gICAgICAgICAgICAgICAgICAgIDM4MiBdIH0sXG4gICAgICAgICAgICAgICAgXCJcXFwiXCIgXSB9LFxuICAgICAgICAgICAgXCIgXCIsXG4gICAgICAgICAgICB7IHA6WyAxNixcbiAgICAgICAgICAgICAgICAzLFxuICAgICAgICAgICAgICAgIDQwNiBdLFxuICAgICAgICAgICAgICB0OjcsXG4gICAgICAgICAgICAgIGU6XCJ0ZXh0XCIsXG4gICAgICAgICAgICAgIGE6eyB0cmFuc2Zvcm06WyBcInRyYW5zbGF0ZShcIixcbiAgICAgICAgICAgICAgICAgIHsgdDoyLFxuICAgICAgICAgICAgICAgICAgICB4OnsgcjpbIFwid2lkdGhPZlNjcmVlblwiIF0sXG4gICAgICAgICAgICAgICAgICAgICAgczpcIl8wLTEwXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgcDpbIDE2LFxuICAgICAgICAgICAgICAgICAgICAgIDMwLFxuICAgICAgICAgICAgICAgICAgICAgIDQzMyBdIH0sXG4gICAgICAgICAgICAgICAgICBcIixcIixcbiAgICAgICAgICAgICAgICAgIHsgdDoyLFxuICAgICAgICAgICAgICAgICAgICB4OnsgcjpbIFwiaGVpZ2h0T2ZTY3JlZW5cIiBdLFxuICAgICAgICAgICAgICAgICAgICAgIHM6XCJfMC8yXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgcDpbIDE2LFxuICAgICAgICAgICAgICAgICAgICAgIDUxLFxuICAgICAgICAgICAgICAgICAgICAgIDQ1NCBdIH0sXG4gICAgICAgICAgICAgICAgICBcIikscm90YXRlKC05MClcIiBdLFxuICAgICAgICAgICAgICAgIFwiY2xhc3NcIjpcImxhYmVsXCIgfSxcbiAgICAgICAgICAgICAgZjpbIHsgdDoyLFxuICAgICAgICAgICAgICAgICAgcjpcImhlaWdodFwiLFxuICAgICAgICAgICAgICAgICAgcDpbIDE3LFxuICAgICAgICAgICAgICAgICAgICA0LFxuICAgICAgICAgICAgICAgICAgICA1MDcgXSB9LFxuICAgICAgICAgICAgICAgIFwiXFxcIlwiIF0gfSxcbiAgICAgICAgICAgIFwiIFwiLFxuICAgICAgICAgICAgeyBwOlsgMjAsXG4gICAgICAgICAgICAgICAgMyxcbiAgICAgICAgICAgICAgICA1MzIgXSxcbiAgICAgICAgICAgICAgdDo3LFxuICAgICAgICAgICAgICBlOlwidGV4dFwiLFxuICAgICAgICAgICAgICBhOnsgdHJhbnNmb3JtOlwidHJhbnNsYXRlKDEwLDIyKVwiLFxuICAgICAgICAgICAgICAgIFwiY2xhc3NcIjpcImFzcFJhdGlvXCIgfSxcbiAgICAgICAgICAgICAgZjpbIHsgdDoyLFxuICAgICAgICAgICAgICAgICAgcjpcImFzcGVjdFJhdGlvXCIsXG4gICAgICAgICAgICAgICAgICBwOlsgMjEsXG4gICAgICAgICAgICAgICAgICAgIDQsXG4gICAgICAgICAgICAgICAgICAgIDU4OCBdIH0sXG4gICAgICAgICAgICAgICAgXCIgTW9uaXRvclwiIF0gfSxcbiAgICAgICAgICAgIFwiIFwiLFxuICAgICAgICAgICAgeyBwOlsgMjQsXG4gICAgICAgICAgICAgICAgMyxcbiAgICAgICAgICAgICAgICA2MjUgXSxcbiAgICAgICAgICAgICAgdDo3LFxuICAgICAgICAgICAgICBlOlwidGV4dFwiLFxuICAgICAgICAgICAgICBhOnsgdHJhbnNmb3JtOlsgXCJ0cmFuc2xhdGUoXCIsXG4gICAgICAgICAgICAgICAgICB7IHQ6MixcbiAgICAgICAgICAgICAgICAgICAgeDp7IHI6WyBcIndpZHRoT2ZTY3JlZW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZGlhZ29uYWxcIiBdLFxuICAgICAgICAgICAgICAgICAgICAgIHM6XCIoXzAvMiktKDEwKk1hdGguZmxvb3IoXzEudG9TdHJpbmcoKS5sZW5ndGgvMikpXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgcDpbIDI0LFxuICAgICAgICAgICAgICAgICAgICAgIDMwLFxuICAgICAgICAgICAgICAgICAgICAgIDY1MiBdIH0sXG4gICAgICAgICAgICAgICAgICBcIixcIixcbiAgICAgICAgICAgICAgICAgIHsgdDoyLFxuICAgICAgICAgICAgICAgICAgICB4OnsgcjpbIFwiaGVpZ2h0T2ZTY3JlZW5cIiBdLFxuICAgICAgICAgICAgICAgICAgICAgIHM6XCJfMC8yKzVcIiB9LFxuICAgICAgICAgICAgICAgICAgICBwOlsgMjQsXG4gICAgICAgICAgICAgICAgICAgICAgOTgsXG4gICAgICAgICAgICAgICAgICAgICAgNzIwIF0gfSxcbiAgICAgICAgICAgICAgICAgIFwiKVwiIF0sXG4gICAgICAgICAgICAgICAgXCJjbGFzc1wiOlwiYXNwUmF0aW9cIiB9LFxuICAgICAgICAgICAgICBmOlsgeyB0OjIsXG4gICAgICAgICAgICAgICAgICByOlwiZGlhZ29uYWxcIixcbiAgICAgICAgICAgICAgICAgIHA6WyAyNSxcbiAgICAgICAgICAgICAgICAgICAgNCxcbiAgICAgICAgICAgICAgICAgICAgNzY2IF0gfSxcbiAgICAgICAgICAgICAgICBcIlxcXCJcIiBdIH0sXG4gICAgICAgICAgICBcIiBcIixcbiAgICAgICAgICAgIHsgcDpbIDI4LFxuICAgICAgICAgICAgICAgIDMsXG4gICAgICAgICAgICAgICAgNzk1IF0sXG4gICAgICAgICAgICAgIHQ6NyxcbiAgICAgICAgICAgICAgZTpcImxpbmVcIixcbiAgICAgICAgICAgICAgYTp7IHkxOlwiMFwiLFxuICAgICAgICAgICAgICAgIHgxOlsgeyB0OjIsXG4gICAgICAgICAgICAgICAgICAgIHI6XCJ3aWR0aE9mU2NyZWVuXCIsXG4gICAgICAgICAgICAgICAgICAgIHA6WyAyOCxcbiAgICAgICAgICAgICAgICAgICAgICAyMCxcbiAgICAgICAgICAgICAgICAgICAgICA4MTIgXSB9IF0sXG4gICAgICAgICAgICAgICAgeDI6WyB7IHQ6MixcbiAgICAgICAgICAgICAgICAgICAgeDp7IHI6WyBcIndpZHRoT2ZTY3JlZW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwib2Zmc2V0XCIgXSxcbiAgICAgICAgICAgICAgICAgICAgICBzOlwiKF8wK18xKS8yXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgcDpbIDI4LFxuICAgICAgICAgICAgICAgICAgICAgIDQzLFxuICAgICAgICAgICAgICAgICAgICAgIDgzNSBdIH0gXSxcbiAgICAgICAgICAgICAgICB5MjpbIHsgdDoyLFxuICAgICAgICAgICAgICAgICAgICB4OnsgcjpbIFwiaGVpZ2h0T2ZTY3JlZW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwib2Zmc2V0XCIgXSxcbiAgICAgICAgICAgICAgICAgICAgICBzOlwiKChfMC1fMSkvMikrMTFcIiB9LFxuICAgICAgICAgICAgICAgICAgICBwOlsgMjgsXG4gICAgICAgICAgICAgICAgICAgICAgNzcsXG4gICAgICAgICAgICAgICAgICAgICAgODY5IF0gfSBdIH0sXG4gICAgICAgICAgICAgIGY6WyAgXSB9LFxuICAgICAgICAgICAgXCIgXCIsXG4gICAgICAgICAgICB7IHA6WyAzMCxcbiAgICAgICAgICAgICAgICAzLFxuICAgICAgICAgICAgICAgIDkyNiBdLFxuICAgICAgICAgICAgICB0OjcsXG4gICAgICAgICAgICAgIGU6XCJsaW5lXCIsXG4gICAgICAgICAgICAgIGE6eyB4MTpcIjBcIixcbiAgICAgICAgICAgICAgICB5MTpbIHsgdDoyLFxuICAgICAgICAgICAgICAgICAgICByOlwiaGVpZ2h0T2ZTY3JlZW5cIixcbiAgICAgICAgICAgICAgICAgICAgcDpbIDMwLFxuICAgICAgICAgICAgICAgICAgICAgIDIwLFxuICAgICAgICAgICAgICAgICAgICAgIDk0MyBdIH0gXSxcbiAgICAgICAgICAgICAgICB4MjpbIHsgdDoyLFxuICAgICAgICAgICAgICAgICAgICB4OnsgcjpbIFwid2lkdGhPZlNjcmVlblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJvZmZzZXRcIiBdLFxuICAgICAgICAgICAgICAgICAgICAgIHM6XCIoXzAtXzEpLzJcIiB9LFxuICAgICAgICAgICAgICAgICAgICBwOlsgMzAsXG4gICAgICAgICAgICAgICAgICAgICAgNDQsXG4gICAgICAgICAgICAgICAgICAgICAgOTY3IF0gfSBdLFxuICAgICAgICAgICAgICAgIHkyOlsgeyB0OjIsXG4gICAgICAgICAgICAgICAgICAgIHg6eyByOlsgXCJoZWlnaHRPZlNjcmVlblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJvZmZzZXRcIiBdLFxuICAgICAgICAgICAgICAgICAgICAgIHM6XCIoKF8wK18xKS8yKS0xMVwiIH0sXG4gICAgICAgICAgICAgICAgICAgIHA6WyAzMCxcbiAgICAgICAgICAgICAgICAgICAgICA3OCxcbiAgICAgICAgICAgICAgICAgICAgICAxMDAxIF0gfSBdIH0sXG4gICAgICAgICAgICAgIGY6WyAgXSB9IF0gfSBdIH0gXSB9IiwiZnVuY3Rpb24gY29tcHV0ZVVuaXQoIGFzcFdpZHRoLCBhc3BIZWlnaHQsIGxlbmd0aERpYWcgKSB7XHJcbiAgICB2YXIgYyA9IE1hdGgucG93KCBsZW5ndGhEaWFnLCAyICksXHJcbiAgICAgICAgYiA9IE1hdGgucG93KCBhc3BIZWlnaHQsIDIgKSxcclxuICAgICAgICBhID0gTWF0aC5wb3coIGFzcFdpZHRoLCAyICk7XHJcbiAgICByZXR1cm4gTWF0aC5zcXJ0KCBjIC8gKCBhICsgYiApICk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNvbXB1dGVXaWR0aCggYXNwV2lkdGgsIGFzcEhlaWdodCwgbGVuZ3RoRGlhZyApIHtcclxuICAgIHJldHVybiBjb21wdXRlVW5pdCggYXNwV2lkdGgsIGFzcEhlaWdodCwgbGVuZ3RoRGlhZyApICogYXNwV2lkdGg7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNvbXB1dGVIZWlnaHQoIGFzcFdpZHRoLCBhc3BIZWlnaHQsIGxlbmd0aERpYWcgKSB7XHJcbiAgICByZXR1cm4gY29tcHV0ZVVuaXQoIGFzcFdpZHRoLCBhc3BIZWlnaHQsIGxlbmd0aERpYWcgKSAqIGFzcEhlaWdodDtcclxufVxyXG5cclxuZnVuY3Rpb24gY29tcHV0ZURpYWcoIGFzcFcsIGFzcEgsIGxlbmd0aCwgYm9vbCApIHtcclxuICAgIHZhciB2YWwgPSBsZW5ndGgsXHJcbiAgICAgICAgbXVsdGlwbGllciA9IGFzcFcgLyBhc3BIO1xyXG4gICAgaWYgKCBib29sICkge1xyXG4gICAgICAgIG11bHRpcGxpZXIgPSAxIC8gbXVsdGlwbGllcjtcclxuICAgIH1cclxuICAgIHJldHVybiBNYXRoLnNxcnQoIE1hdGgucG93KCBsZW5ndGgsIDIgKSArIE1hdGgucG93KCB2YWwgKiBtdWx0aXBsaWVyLCAyICkgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcHJlUmVxc05vR29vZCggYXJyICkge1xyXG4gICAgcmV0dXJuIGFyci5yZWR1Y2UoIGZ1bmN0aW9uICggYSwgY3VyICkge1xyXG4gICAgICAgIHJldHVybiBhIHx8IE51bWJlciggY3VyICkgIT09IGN1cjtcclxuICAgIH0sIGZhbHNlICk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCBhc3BXaWR0aCwgYXNwSGVpZ2h0LCBsZW5ndGhEaWFnICkge1xyXG4gICAgdmFyIGFzcFdpZHRoID0gYXNwV2lkdGgsXHJcbiAgICAgICAgYXNwSGVpZ2h0ID0gYXNwSGVpZ2h0LFxyXG4gICAgICAgIGxlbmd0aERpYWcgPSBsZW5ndGhEaWFnO1xyXG4gICAgaWYgKCBhc3BIZWlnaHQgPT09IHVuZGVmaW5lZCAmJiBsZW5ndGhEaWFnID09PSB1bmRlZmluZWQgKSB7XHJcbiAgICAgICAgYXNwSGVpZ2h0ID0gYXNwV2lkdGguaGVpZ2h0O1xyXG4gICAgICAgIGxlbmd0aERpYWcgPSBhc3BXaWR0aC5kaWFnO1xyXG4gICAgICAgIGFzcFdpZHRoID0gYXNwV2lkdGgud2lkdGg7XHJcbiAgICB9XHJcbiAgICBpZiAoIHByZVJlcXNOb0dvb2QoIFsgYXNwV2lkdGgsIGxlbmd0aERpYWcsIGFzcEhlaWdodCBdICkgKSB7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgaGVpZ2h0OiBwYXJzZU51bSggY29tcHV0ZUhlaWdodCggYXNwV2lkdGgsIGFzcEhlaWdodCwgbGVuZ3RoRGlhZyApICksXHJcbiAgICAgICAgd2lkdGg6IHBhcnNlTnVtKCBjb21wdXRlV2lkdGgoIGFzcFdpZHRoLCBhc3BIZWlnaHQsIGxlbmd0aERpYWcgKSApLFxyXG4gICAgICAgIGFzcFJhdGlvOiBhc3BXaWR0aCArICc6JyArIGFzcEhlaWdodCxcclxuICAgICAgICBkaWFnb25hbDogcGFyc2VOdW0oIGxlbmd0aERpYWcgKVxyXG4gICAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cy5kaWFnID0gZnVuY3Rpb24gKCBhc3BXaWR0aCwgYXNwSGVpZ2h0LCBsZW5ndGgsIGlzV2lkdGggKSB7XHJcbiAgICB2YXIgaXNXaWR0aCA9IGlzV2lkdGggPT09IHVuZGVmaW5lZCA/IHRydWUgOiBpc1dpZHRoO1xyXG4gICAgaWYgKCBhc3BIZWlnaHQgPT09IHVuZGVmaW5lZCAmJiBsZW5ndGggPT09IHVuZGVmaW5lZCApIHtcclxuICAgICAgICBhc3BIZWlnaHQgPSBhc3BXaWR0aC5oZWlnaHQ7XHJcbiAgICAgICAgbGVuZ3RoID0gYXNwV2lkdGgubGVuZ3RoO1xyXG4gICAgICAgIGlzV2lkdGggPSAnbGVuZ3RoSXNPbldpZGVTaWRlJyBpbiBhc3BXaWR0aCA/IGFzcFdpZHRoLmxlbmd0aElzT25XaWRlU2lkZSA6IGlzV2lkdGg7XHJcbiAgICAgICAgYXNwV2lkdGggPSBhc3BXaWR0aC53aWR0aDtcclxuXHJcbiAgICB9XHJcbiAgICB2YXIgbGVuZ3RoRGlhZyA9IGNvbXB1dGVEaWFnKCBhc3BXaWR0aCwgYXNwSGVpZ2h0IHx8IDAsIGxlbmd0aCB8fCAwLCBpc1dpZHRoICk7XHJcblxyXG4gICAgaWYgKCBwcmVSZXFzTm9Hb29kKCBbIGFzcFdpZHRoLCBsZW5ndGgsIGFzcEhlaWdodCBdICkgKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCAnVmFsdWVzIGlucHV0dGVkIGFyZSBub3QgY29ycmVjdCwgaWYgZmlyc3QgdmFsdWUgaXMgYW4gb2JqZWN0IGNoZWNrIGRvY3VtZW50YXRpb24gZm9yIHByb3BlciBvYmplY3QgaW5wdXQuJywgWyBhc3BXaWR0aCwgbGVuZ3RoLCBhc3BIZWlnaHQgXSApO1xyXG5cclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBoZWlnaHQ6IHBhcnNlTnVtKCBpc1dpZHRoID8gYXNwSGVpZ2h0ICogbGVuZ3RoIC8gYXNwV2lkdGggOiBsZW5ndGggKSxcclxuICAgICAgICB3aWR0aDogcGFyc2VOdW0oIGlzV2lkdGggPyBsZW5ndGggOiBhc3BXaWR0aCAqIGxlbmd0aCAvIGFzcEhlaWdodCApLFxyXG4gICAgICAgIGFzcFJhdGlvOiBhc3BXaWR0aCArICc6JyArIGFzcEhlaWdodCxcclxuICAgICAgICBkaWFnb25hbDogcGFyc2VOdW0oIGxlbmd0aERpYWcgKVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBwYXJzZU51bSggbnVtICkge1xyXG4gICAgcmV0dXJuIE51bWJlciggbnVtLnRvRml4ZWQoIG1vZHVsZS5leHBvcnRzLnRydW5jYXRlICkgKTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMudHJ1bmNhdGUgPSAxNjtcclxuIiwiIWZ1bmN0aW9uKHQsZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZSgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZSk6dC5SYWN0aXZlPWUoKX0odGhpcyxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQodCl7dmFyIGU7aWYodCYmXCJib29sZWFuXCIhPXR5cGVvZiB0KXJldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJmRvY3VtZW50JiZ0P3Qubm9kZVR5cGU/dDpcInN0cmluZ1wiPT10eXBlb2YgdCYmKGU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodCksIWUmJmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3ImJihlPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodCkpLGUmJmUubm9kZVR5cGUpP2U6dFswXSYmdFswXS5ub2RlVHlwZT90WzBdOm51bGw6bnVsbH1mdW5jdGlvbiBlKHQpe3JldHVybiB0JiZcInVua25vd25cIiE9dHlwZW9mIHQucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCksdH1mdW5jdGlvbiBuKHQpe3JldHVybiBudWxsIT10JiZ0LnRvU3RyaW5nP3Q6XCJcIn1mdW5jdGlvbiBpKHQpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLG49QXJyYXkoZT4xP2UtMTowKSxpPTE7ZT5pO2krKyluW2ktMV09YXJndW1lbnRzW2ldO2Zvcih2YXIgcixzO3M9bi5zaGlmdCgpOylmb3IociBpbiBzKU9hLmNhbGwocyxyKSYmKHRbcl09c1tyXSk7cmV0dXJuIHR9ZnVuY3Rpb24gcih0KXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxuPUFycmF5KGU+MT9lLTE6MCksaT0xO2U+aTtpKyspbltpLTFdPWFyZ3VtZW50c1tpXTtyZXR1cm4gbi5mb3JFYWNoKGZ1bmN0aW9uKGUpe2Zvcih2YXIgbiBpbiBlKSFlLmhhc093blByb3BlcnR5KG4pfHxuIGluIHR8fCh0W25dPWVbbl0pfSksdH1mdW5jdGlvbiBzKHQpe3JldHVyblwiW29iamVjdCBBcnJheV1cIj09PVBhLmNhbGwodCl9ZnVuY3Rpb24gbyh0KXtyZXR1cm4gVGEudGVzdChQYS5jYWxsKHQpKX1mdW5jdGlvbiBhKHQsZSl7cmV0dXJuIG51bGw9PT10JiZudWxsPT09ZT8hMDpcIm9iamVjdFwiPT10eXBlb2YgdHx8XCJvYmplY3RcIj09dHlwZW9mIGU/ITE6dD09PWV9ZnVuY3Rpb24gdSh0KXtyZXR1cm4haXNOYU4ocGFyc2VGbG9hdCh0KSkmJmlzRmluaXRlKHQpfWZ1bmN0aW9uIGgodCl7cmV0dXJuIHQmJlwiW29iamVjdCBPYmplY3RdXCI9PT1QYS5jYWxsKHQpfWZ1bmN0aW9uIGModCxlKXtyZXR1cm4gdC5yZXBsYWNlKC8lcy9nLGZ1bmN0aW9uKCl7cmV0dXJuIGUuc2hpZnQoKX0pfWZ1bmN0aW9uIGwodCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsbj1BcnJheShlPjE/ZS0xOjApLGk9MTtlPmk7aSsrKW5baS0xXT1hcmd1bWVudHNbaV07dGhyb3cgdD1jKHQsbiksbmV3IEVycm9yKHQpfWZ1bmN0aW9uIGYoKXtRYi5ERUJVRyYmQWEuYXBwbHkobnVsbCxhcmd1bWVudHMpfWZ1bmN0aW9uIGQodCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsbj1BcnJheShlPjE/ZS0xOjApLGk9MTtlPmk7aSsrKW5baS0xXT1hcmd1bWVudHNbaV07dD1jKHQsbiksU2EodCxuKX1mdW5jdGlvbiBwKHQpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLG49QXJyYXkoZT4xP2UtMTowKSxpPTE7ZT5pO2krKyluW2ktMV09YXJndW1lbnRzW2ldO3Q9Yyh0LG4pLFJhW3RdfHwoUmFbdF09ITAsU2EodCxuKSl9ZnVuY3Rpb24gbSgpe1FiLkRFQlVHJiZkLmFwcGx5KG51bGwsYXJndW1lbnRzKX1mdW5jdGlvbiB2KCl7UWIuREVCVUcmJnAuYXBwbHkobnVsbCxhcmd1bWVudHMpfWZ1bmN0aW9uIGcodCxlLG4pe3ZhciBpPXkodCxlLG4pO3JldHVybiBpP2lbdF1bbl06bnVsbH1mdW5jdGlvbiB5KHQsZSxuKXtmb3IoO2U7KXtpZihuIGluIGVbdF0pcmV0dXJuIGU7aWYoZS5pc29sYXRlZClyZXR1cm4gbnVsbDtlPWUucGFyZW50fX1mdW5jdGlvbiBiKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX1mdW5jdGlvbiB3KHQpe3ZhciBlLG4saSxyLHMsbztmb3IoZT10LnNwbGl0KFwiLlwiKSwobj1XYVtlLmxlbmd0aF0pfHwobj14KGUubGVuZ3RoKSkscz1bXSxpPWZ1bmN0aW9uKHQsbil7cmV0dXJuIHQ/XCIqXCI6ZVtuXX0scj1uLmxlbmd0aDtyLS07KW89bltyXS5tYXAoaSkuam9pbihcIi5cIikscy5oYXNPd25Qcm9wZXJ0eShvKXx8KHMucHVzaChvKSxzW29dPSEwKTtyZXR1cm4gc31mdW5jdGlvbiB4KHQpe3ZhciBlLG4saSxyLHMsbyxhLHUsaD1cIlwiO2lmKCFXYVt0XSl7Zm9yKGk9W107aC5sZW5ndGg8dDspaCs9MTtmb3IoZT1wYXJzZUludChoLDIpLHI9ZnVuY3Rpb24odCl7cmV0dXJuXCIxXCI9PT10fSxzPTA7ZT49cztzKz0xKXtmb3Iobj1zLnRvU3RyaW5nKDIpO24ubGVuZ3RoPHQ7KW49XCIwXCIrbjtmb3IodT1bXSxhPW4ubGVuZ3RoLG89MDthPm87bysrKXUucHVzaChyKG5bb10pKTtpW3NdPXV9V2FbdF09aX1yZXR1cm4gV2FbdF19ZnVuY3Rpb24gayh0LGUsbixpKXt2YXIgcj10W2VdO2lmKCFyfHwhci5lcXVhbHNPclN0YXJ0c1dpdGgoaSkmJnIuZXF1YWxzT3JTdGFydHNXaXRoKG4pKXJldHVybiB0W2VdPXI/ci5yZXBsYWNlKG4saSk6aSwhMH1mdW5jdGlvbiBFKHQpe3ZhciBlPXQuc2xpY2UoMik7cmV0dXJuXCJpXCI9PT10WzFdJiZ1KGUpPytlOmV9ZnVuY3Rpb24gXyh0KXtyZXR1cm4gbnVsbD09dD90OihxYS5oYXNPd25Qcm9wZXJ0eSh0KXx8KHFhW3RdPW5ldyAkYSh0KSkscWFbdF0pfWZ1bmN0aW9uIEEodCxlKXtmdW5jdGlvbiBuKGUsbil7dmFyIGkscixvO3JldHVybiBuLmlzUm9vdD9vPVtdLmNvbmNhdChPYmplY3Qua2V5cyh0LnZpZXdtb2RlbC5kYXRhKSxPYmplY3Qua2V5cyh0LnZpZXdtb2RlbC5tYXBwaW5ncyksT2JqZWN0LmtleXModC52aWV3bW9kZWwuY29tcHV0YXRpb25zKSk6KGk9dC52aWV3bW9kZWwud3JhcHBlZFtuLnN0cl0scj1pP2kuZ2V0KCk6dC52aWV3bW9kZWwuZ2V0KG4pLG89cj9PYmplY3Qua2V5cyhyKTpudWxsKSxvJiZvLmZvckVhY2goZnVuY3Rpb24odCl7XCJfcmFjdGl2ZVwiPT09dCYmcyhyKXx8ZS5wdXNoKG4uam9pbih0KSl9KSxlfXZhciBpLHIsbztmb3IoaT1lLnN0ci5zcGxpdChcIi5cIiksbz1bWmFdO3I9aS5zaGlmdCgpOylcIipcIj09PXI/bz1vLnJlZHVjZShuLFtdKTpvWzBdPT09WmE/b1swXT1fKHIpOm89by5tYXAoUyhyKSk7cmV0dXJuIG99ZnVuY3Rpb24gUyh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGUuam9pbih0KX19ZnVuY3Rpb24gQyh0KXtyZXR1cm4gdD90LnJlcGxhY2UoemEsXCIuJDFcIik6XCJcIn1mdW5jdGlvbiBPKHQsZSxuKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZXx8IXUobikpdGhyb3cgbmV3IEVycm9yKFwiQmFkIGFyZ3VtZW50c1wiKTt2YXIgaT12b2lkIDAscj12b2lkIDA7aWYoL1xcKi8udGVzdChlKSlyZXR1cm4gcj17fSxBKHQsXyhDKGUpKSkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgaT10LnZpZXdtb2RlbC5nZXQoZSk7aWYoIXUoaSkpdGhyb3cgbmV3IEVycm9yKEthKTtyW2Uuc3RyXT1pK259KSx0LnNldChyKTtpZihpPXQuZ2V0KGUpLCF1KGkpKXRocm93IG5ldyBFcnJvcihLYSk7cmV0dXJuIHQuc2V0KGUsK2krbil9ZnVuY3Rpb24gUCh0LGUpe3JldHVybiBIYSh0aGlzLHQsdm9pZCAwPT09ZT8xOitlKX1mdW5jdGlvbiBUKHQpe3RoaXMuZXZlbnQ9dCx0aGlzLm1ldGhvZD1cIm9uXCIrdCx0aGlzLmRlcHJlY2F0ZT10dVt0XX1mdW5jdGlvbiBGKHQsZSl7dmFyIG49dC5pbmRleE9mKGUpOy0xPT09biYmdC5wdXNoKGUpfWZ1bmN0aW9uIFIodCxlKXtmb3IodmFyIG49MCxpPXQubGVuZ3RoO2k+bjtuKyspaWYodFtuXT09ZSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBqKHQsZSl7dmFyIG47aWYoIXModCl8fCFzKGUpKXJldHVybiExO2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKG49dC5sZW5ndGg7bi0tOylpZih0W25dIT09ZVtuXSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBOKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0P1t0XTp2b2lkIDA9PT10P1tdOnR9ZnVuY3Rpb24gRCh0KXtyZXR1cm4gdFt0Lmxlbmd0aC0xXX1mdW5jdGlvbiBJKHQsZSl7dmFyIG49dC5pbmRleE9mKGUpOy0xIT09biYmdC5zcGxpY2UobiwxKX1mdW5jdGlvbiBMKHQpe2Zvcih2YXIgZT1bXSxuPXQubGVuZ3RoO24tLTspZVtuXT10W25dO3JldHVybiBlfWZ1bmN0aW9uIFYodCl7c2V0VGltZW91dCh0LDApfWZ1bmN0aW9uIE0odCxlKXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIG47bj10LnNoaWZ0KCk7KW4oZSl9fWZ1bmN0aW9uIFUodCxlLG4saSl7dmFyIHI7aWYoZT09PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkEgcHJvbWlzZSdzIGZ1bGZpbGxtZW50IGhhbmRsZXIgY2Fubm90IHJldHVybiB0aGUgc2FtZSBwcm9taXNlXCIpO2lmKGUgaW5zdGFuY2VvZiBldSllLnRoZW4obixpKTtlbHNlIGlmKCFlfHxcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZSluKGUpO2Vsc2V7dHJ5e3I9ZS50aGVufWNhdGNoKHMpe3JldHVybiB2b2lkIGkocyl9aWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygcil7dmFyIG8sYSx1O2E9ZnVuY3Rpb24oZSl7b3x8KG89ITAsVSh0LGUsbixpKSl9LHU9ZnVuY3Rpb24odCl7b3x8KG89ITAsaSh0KSl9O3RyeXtyLmNhbGwoZSxhLHUpfWNhdGNoKHMpe2lmKCFvKXJldHVybiBpKHMpLHZvaWQobz0hMCl9fWVsc2UgbihlKX19ZnVuY3Rpb24gVyh0LGUsbil7dmFyIGk7cmV0dXJuIGU9QyhlKSxcIn4vXCI9PT1lLnN1YnN0cigwLDIpPyhpPV8oZS5zdWJzdHJpbmcoMikpLHEodCxpLmZpcnN0S2V5LG4pKTpcIi5cIj09PWVbMF0/KGk9eihhdShuKSxlKSxpJiZxKHQsaS5maXJzdEtleSxuKSk6aT1CKHQsXyhlKSxuKSxpfWZ1bmN0aW9uIHoodCxlKXt2YXIgbjtpZih2b2lkIDAhPXQmJlwic3RyaW5nXCIhPXR5cGVvZiB0JiYodD10LnN0ciksXCIuXCI9PT1lKXJldHVybiBfKHQpO2lmKG49dD90LnNwbGl0KFwiLlwiKTpbXSxcIi4uL1wiPT09ZS5zdWJzdHIoMCwzKSl7Zm9yKDtcIi4uL1wiPT09ZS5zdWJzdHIoMCwzKTspe2lmKCFuLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCByZXNvbHZlIHJlZmVyZW5jZSAtIHRvbyBtYW55IFwiLi4vXCIgcHJlZml4ZXMnKTtuLnBvcCgpLGU9ZS5zdWJzdHJpbmcoMyl9cmV0dXJuIG4ucHVzaChlKSxfKG4uam9pbihcIi5cIikpfXJldHVybiBfKHQ/dCtlLnJlcGxhY2UoL15cXC5cXC8vLFwiLlwiKTplLnJlcGxhY2UoL15cXC5cXC8/LyxcIlwiKSl9ZnVuY3Rpb24gQih0LGUsbixpKXt2YXIgcixzLG8sYSx1O2lmKGUuaXNSb290KXJldHVybiBlO2ZvcihzPWUuZmlyc3RLZXk7bjspaWYocj1uLmNvbnRleHQsbj1uLnBhcmVudCxyJiYoYT0hMCxvPXQudmlld21vZGVsLmdldChyKSxvJiYoXCJvYmplY3RcIj09dHlwZW9mIG98fFwiZnVuY3Rpb25cIj09dHlwZW9mIG8pJiZzIGluIG8pKXJldHVybiByLmpvaW4oZS5zdHIpO3JldHVybiAkKHQudmlld21vZGVsLHMpP2U6dC5wYXJlbnQmJiF0Lmlzb2xhdGVkJiYoYT0hMCxuPXQuY29tcG9uZW50LnBhcmVudEZyYWdtZW50LHM9XyhzKSx1PUIodC5wYXJlbnQscyxuLCEwKSk/KHQudmlld21vZGVsLm1hcChzLHtvcmlnaW46dC5wYXJlbnQudmlld21vZGVsLGtleXBhdGg6dX0pLGUpOml8fGE/dm9pZCAwOih0LnZpZXdtb2RlbC5zZXQoZSx2b2lkIDApLGUpfWZ1bmN0aW9uIHEodCxlKXt2YXIgbjshdC5wYXJlbnR8fHQuaXNvbGF0ZWR8fCQodC52aWV3bW9kZWwsZSl8fChlPV8oZSksKG49Qih0LnBhcmVudCxlLHQuY29tcG9uZW50LnBhcmVudEZyYWdtZW50LCEwKSkmJnQudmlld21vZGVsLm1hcChlLHtvcmlnaW46dC5wYXJlbnQudmlld21vZGVsLGtleXBhdGg6bn0pKX1mdW5jdGlvbiAkKHQsZSl7cmV0dXJuXCJcIj09PWV8fGUgaW4gdC5kYXRhfHxlIGluIHQuY29tcHV0YXRpb25zfHxlIGluIHQubWFwcGluZ3N9ZnVuY3Rpb24gUSh0KXt0LnRlYXJkb3duKCl9ZnVuY3Rpb24gWih0KXt0LnVuYmluZCgpfWZ1bmN0aW9uIEgodCl7dC51bnJlbmRlcigpfWZ1bmN0aW9uIEsodCl7dC5jYW5jZWwoKX1mdW5jdGlvbiBHKHQpe3QuZGV0YWNoKCl9ZnVuY3Rpb24gWSh0KXt0LmRldGFjaE5vZGVzKCl9ZnVuY3Rpb24gSih0KXshdC5yZWFkeXx8dC5vdXRyb3MubGVuZ3RofHx0Lm91dHJvQ2hpbGRyZW58fCh0Lm91dHJvc0NvbXBsZXRlfHwodC5wYXJlbnQ/dC5wYXJlbnQuZGVjcmVtZW50T3V0cm9zKHQpOnQuZGV0YWNoTm9kZXMoKSx0Lm91dHJvc0NvbXBsZXRlPSEwKSx0LmludHJvcy5sZW5ndGh8fHQudG90YWxDaGlsZHJlbnx8KFwiZnVuY3Rpb25cIj09dHlwZW9mIHQuY2FsbGJhY2smJnQuY2FsbGJhY2soKSx0LnBhcmVudCYmdC5wYXJlbnQuZGVjcmVtZW50VG90YWwoKSkpfWZ1bmN0aW9uIFgoKXtmb3IodmFyIHQsZSxuO2N1LnJhY3RpdmVzLmxlbmd0aDspZT1jdS5yYWN0aXZlcy5wb3AoKSxuPWUudmlld21vZGVsLmFwcGx5Q2hhbmdlcygpLG4mJnB1LmZpcmUoZSxuKTtmb3IodHQoKSx0PTA7dDxjdS52aWV3cy5sZW5ndGg7dCs9MSljdS52aWV3c1t0XS51cGRhdGUoKTtmb3IoY3Uudmlld3MubGVuZ3RoPTAsdD0wO3Q8Y3UudGFza3MubGVuZ3RoO3QrPTEpY3UudGFza3NbdF0oKTtyZXR1cm4gY3UudGFza3MubGVuZ3RoPTAsY3UucmFjdGl2ZXMubGVuZ3RoP1goKTp2b2lkIDB9ZnVuY3Rpb24gdHQoKXt2YXIgdCxlLG4saTtmb3IodD1kdS5sZW5ndGg7dC0tOyllPWR1W3RdLGUua2V5cGF0aD9kdS5zcGxpY2UodCwxKToobj11dShlLnJvb3QsZS5yZWYsZS5wYXJlbnRGcmFnbWVudCkpJiYoKGl8fChpPVtdKSkucHVzaCh7aXRlbTplLGtleXBhdGg6bn0pLGR1LnNwbGljZSh0LDEpKTtpJiZpLmZvckVhY2goZXQpfWZ1bmN0aW9uIGV0KHQpe3QuaXRlbS5yZXNvbHZlKHQua2V5cGF0aCl9ZnVuY3Rpb24gbnQodCxlLG4pe3ZhciBpLHIscyxvLGEsdSxoLGMsbCxmLGQscCxtLHY7aWYoaT1uZXcgb3UoZnVuY3Rpb24odCl7cmV0dXJuIHI9dH0pLFwib2JqZWN0XCI9PXR5cGVvZiB0KXtuPWV8fHt9LHU9bi5lYXNpbmcsaD1uLmR1cmF0aW9uLGE9W10sYz1uLnN0ZXAsbD1uLmNvbXBsZXRlLChjfHxsKSYmKGQ9e30sbi5zdGVwPW51bGwsbi5jb21wbGV0ZT1udWxsLGY9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7ZFt0XT1ufX0pO2ZvcihzIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShzKSYmKChjfHxsKSYmKHA9ZihzKSxuPXtlYXNpbmc6dSxkdXJhdGlvbjpofSxjJiYobi5zdGVwPXApKSxuLmNvbXBsZXRlPWw/cDpGYSxhLnB1c2goaXQodGhpcyxzLHRbc10sbikpKTtyZXR1cm4gdj17ZWFzaW5nOnUsZHVyYXRpb246aH0sYyYmKHYuc3RlcD1mdW5jdGlvbih0KXtyZXR1cm4gYyh0LGQpfSksbCYmaS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBsKHQsZCl9KSx2LmNvbXBsZXRlPXIsbT1pdCh0aGlzLG51bGwsbnVsbCx2KSxhLnB1c2gobSksaS5zdG9wPWZ1bmN0aW9uKCl7Zm9yKHZhciB0O3Q9YS5wb3AoKTspdC5zdG9wKCk7bSYmbS5zdG9wKCl9LGl9cmV0dXJuIG49bnx8e30sbi5jb21wbGV0ZSYmaS50aGVuKG4uY29tcGxldGUpLG4uY29tcGxldGU9cixvPWl0KHRoaXMsdCxlLG4pLGkuc3RvcD1mdW5jdGlvbigpe3JldHVybiBvLnN0b3AoKX0saX1mdW5jdGlvbiBpdCh0LGUsbixpKXt2YXIgcixzLG8sdTtyZXR1cm4gZSYmKGU9XyhDKGUpKSksbnVsbCE9PWUmJih1PXQudmlld21vZGVsLmdldChlKSkseXUuYWJvcnQoZSx0KSxhKHUsbik/KGkuY29tcGxldGUmJmkuY29tcGxldGUoaS50byksa3UpOihpLmVhc2luZyYmKHI9XCJmdW5jdGlvblwiPT10eXBlb2YgaS5lYXNpbmc/aS5lYXNpbmc6dC5lYXNpbmdbaS5lYXNpbmddLFwiZnVuY3Rpb25cIiE9dHlwZW9mIHImJihyPW51bGwpKSxzPXZvaWQgMD09PWkuZHVyYXRpb24/NDAwOmkuZHVyYXRpb24sbz1uZXcgd3Uoe2tleXBhdGg6ZSxmcm9tOnUsdG86bixyb290OnQsZHVyYXRpb246cyxlYXNpbmc6cixpbnRlcnBvbGF0b3I6aS5pbnRlcnBvbGF0b3Isc3RlcDppLnN0ZXAsY29tcGxldGU6aS5jb21wbGV0ZX0pLHl1LmFkZChvKSx0Ll9hbmltYXRpb25zLnB1c2gobyksbyl9ZnVuY3Rpb24gcnQoKXtyZXR1cm4gdGhpcy5kZXRhY2hlZD90aGlzLmRldGFjaGVkOih0aGlzLmVsJiZJKHRoaXMuZWwuX19yYWN0aXZlX2luc3RhbmNlc19fLHRoaXMpLHRoaXMuZGV0YWNoZWQ9dGhpcy5mcmFnbWVudC5kZXRhY2goKSxfdS5maXJlKHRoaXMpLHRoaXMuZGV0YWNoZWQpfWZ1bmN0aW9uIHN0KHQpe3JldHVybiB0aGlzLmVsP3RoaXMuZnJhZ21lbnQuZmluZCh0KTpudWxsfWZ1bmN0aW9uIG90KHQsZSl7dmFyIG47cmV0dXJuIG49dGhpcy5faXNDb21wb25lbnRRdWVyeT8hdGhpcy5zZWxlY3Rvcnx8dC5uYW1lPT09dGhpcy5zZWxlY3Rvcjp0Lm5vZGU/ZmEodC5ub2RlLHRoaXMuc2VsZWN0b3IpOm51bGwsbj8odGhpcy5wdXNoKHQubm9kZXx8dC5pbnN0YW5jZSksZXx8dGhpcy5fbWFrZURpcnR5KCksITApOnZvaWQgMH1mdW5jdGlvbiBhdCh0KXt2YXIgZTtyZXR1cm4oZT10LnBhcmVudEZyYWdtZW50KT9lLm93bmVyOnQuY29tcG9uZW50JiYoZT10LmNvbXBvbmVudC5wYXJlbnRGcmFnbWVudCk/ZS5vd25lcjp2b2lkIDB9ZnVuY3Rpb24gdXQodCl7dmFyIGUsbjtmb3IoZT1bdF0sbj1hdCh0KTtuOyllLnB1c2gobiksbj1hdChuKTtyZXR1cm4gZX1mdW5jdGlvbiBodCh0LGUsbixpKXt2YXIgcj1bXTtyZXR1cm4ga2Eocix7c2VsZWN0b3I6e3ZhbHVlOmV9LGxpdmU6e3ZhbHVlOm59LF9pc0NvbXBvbmVudFF1ZXJ5Ont2YWx1ZTppfSxfdGVzdDp7dmFsdWU6U3V9fSksbj8oa2Eocix7Y2FuY2VsOnt2YWx1ZTpDdX0sX3Jvb3Q6e3ZhbHVlOnR9LF9zb3J0Ont2YWx1ZTpUdX0sX21ha2VEaXJ0eTp7dmFsdWU6RnV9LF9yZW1vdmU6e3ZhbHVlOlJ1fSxfZGlydHk6e3ZhbHVlOiExLHdyaXRhYmxlOiEwfX0pLHIpOnJ9ZnVuY3Rpb24gY3QodCxlKXt2YXIgbixpO3JldHVybiB0aGlzLmVsPyhlPWV8fHt9LG49dGhpcy5fbGl2ZVF1ZXJpZXMsKGk9blt0XSk/ZSYmZS5saXZlP2k6aS5zbGljZSgpOihpPWp1KHRoaXMsdCwhIWUubGl2ZSwhMSksaS5saXZlJiYobi5wdXNoKHQpLG5bXCJfXCIrdF09aSksdGhpcy5mcmFnbWVudC5maW5kQWxsKHQsaSksaSkpOltdfWZ1bmN0aW9uIGx0KHQsZSl7dmFyIG4saTtyZXR1cm4gZT1lfHx7fSxuPXRoaXMuX2xpdmVDb21wb25lbnRRdWVyaWVzLChpPW5bdF0pP2UmJmUubGl2ZT9pOmkuc2xpY2UoKTooaT1qdSh0aGlzLHQsISFlLmxpdmUsITApLGkubGl2ZSYmKG4ucHVzaCh0KSxuW1wiX1wiK3RdPWkpLHRoaXMuZnJhZ21lbnQuZmluZEFsbENvbXBvbmVudHModCxpKSxpKX1mdW5jdGlvbiBmdCh0KXtyZXR1cm4gdGhpcy5mcmFnbWVudC5maW5kQ29tcG9uZW50KHQpfWZ1bmN0aW9uIGR0KHQpe3JldHVybiB0aGlzLmNvbnRhaW5lcj90aGlzLmNvbnRhaW5lci5jb21wb25lbnQmJnRoaXMuY29udGFpbmVyLmNvbXBvbmVudC5uYW1lPT09dD90aGlzLmNvbnRhaW5lcjp0aGlzLmNvbnRhaW5lci5maW5kQ29udGFpbmVyKHQpOm51bGx9ZnVuY3Rpb24gcHQodCl7cmV0dXJuIHRoaXMucGFyZW50P3RoaXMucGFyZW50LmNvbXBvbmVudCYmdGhpcy5wYXJlbnQuY29tcG9uZW50Lm5hbWU9PT10P3RoaXMucGFyZW50OnRoaXMucGFyZW50LmZpbmRQYXJlbnQodCk6bnVsbH1mdW5jdGlvbiBtdCh0LGUpe3ZhciBuPXZvaWQgMD09PWFyZ3VtZW50c1syXT97fTphcmd1bWVudHNbMl07aWYoZSl7bi5ldmVudD9uLmV2ZW50Lm5hbWU9ZTpuLmV2ZW50PXtuYW1lOmUsX25vQXJnOiEwfTt2YXIgaT1fKGUpLndpbGRjYXJkTWF0Y2hlcygpO3Z0KHQsaSxuLmV2ZW50LG4uYXJncywhMCl9fWZ1bmN0aW9uIHZ0KHQsZSxuLGkpe3ZhciByLHMsbz12b2lkIDA9PT1hcmd1bWVudHNbNF0/ITE6YXJndW1lbnRzWzRdLGE9ITA7Zm9yKFV1LmVucXVldWUodCxuKSxzPWUubGVuZ3RoO3M+PTA7cy0tKXI9dC5fc3Vic1tlW3NdXSxyJiYoYT1ndCh0LHIsbixpKSYmYSk7aWYoVXUuZGVxdWV1ZSh0KSx0LnBhcmVudCYmYSl7aWYobyYmdC5jb21wb25lbnQpe3ZhciB1PXQuY29tcG9uZW50Lm5hbWUrXCIuXCIrZVtlLmxlbmd0aC0xXTtlPV8odSkud2lsZGNhcmRNYXRjaGVzKCksbiYmKG4uY29tcG9uZW50PXQpfXZ0KHQucGFyZW50LGUsbixpKX19ZnVuY3Rpb24gZ3QodCxlLG4saSl7dmFyIHI9bnVsbCxzPSExO24mJiFuLl9ub0FyZyYmKGk9W25dLmNvbmNhdChpKSksZT1lLnNsaWNlKCk7Zm9yKHZhciBvPTAsYT1lLmxlbmd0aDthPm87bys9MSllW29dLmFwcGx5KHQsaSk9PT0hMSYmKHM9ITApO3JldHVybiBuJiYhbi5fbm9BcmcmJnMmJihyPW4ub3JpZ2luYWwpJiYoci5wcmV2ZW50RGVmYXVsdCYmci5wcmV2ZW50RGVmYXVsdCgpLHIuc3RvcFByb3BhZ2F0aW9uJiZyLnN0b3BQcm9wYWdhdGlvbigpKSwhc31mdW5jdGlvbiB5dCh0KXt2YXIgZT17YXJnczpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSl9O1d1KHRoaXMsdCxlKX1mdW5jdGlvbiBidCh0KXt2YXIgZTtyZXR1cm4gdD1fKEModCkpLGU9dGhpcy52aWV3bW9kZWwuZ2V0KHQscXUpLHZvaWQgMD09PWUmJnRoaXMucGFyZW50JiYhdGhpcy5pc29sYXRlZCYmdXUodGhpcyx0LnN0cix0aGlzLmNvbXBvbmVudC5wYXJlbnRGcmFnbWVudCkmJihlPXRoaXMudmlld21vZGVsLmdldCh0KSksZX1mdW5jdGlvbiB3dChlLG4pe2lmKCF0aGlzLmZyYWdtZW50LnJlbmRlcmVkKXRocm93IG5ldyBFcnJvcihcIlRoZSBBUEkgaGFzIGNoYW5nZWQgLSB5b3UgbXVzdCBjYWxsIGByYWN0aXZlLnJlbmRlcih0YXJnZXRbLCBhbmNob3JdKWAgdG8gcmVuZGVyIHlvdXIgUmFjdGl2ZSBpbnN0YW5jZS4gT25jZSByZW5kZXJlZCB5b3UgY2FuIHVzZSBgcmFjdGl2ZS5pbnNlcnQoKWAuXCIpO2lmKGU9dChlKSxuPXQobil8fG51bGwsIWUpdGhyb3cgbmV3IEVycm9yKFwiWW91IG11c3Qgc3BlY2lmeSBhIHZhbGlkIHRhcmdldCB0byBpbnNlcnQgaW50b1wiKTtlLmluc2VydEJlZm9yZSh0aGlzLmRldGFjaCgpLG4pLHRoaXMuZWw9ZSwoZS5fX3JhY3RpdmVfaW5zdGFuY2VzX198fChlLl9fcmFjdGl2ZV9pbnN0YW5jZXNfXz1bXSkpLnB1c2godGhpcyksdGhpcy5kZXRhY2hlZD1udWxsLHh0KHRoaXMpfWZ1bmN0aW9uIHh0KHQpe1F1LmZpcmUodCksdC5maW5kQWxsQ29tcG9uZW50cyhcIipcIikuZm9yRWFjaChmdW5jdGlvbih0KXt4dCh0Lmluc3RhbmNlKX0pfWZ1bmN0aW9uIGt0KHQsZSxuKXt2YXIgaSxyO3JldHVybiB0PV8oQyh0KSksaT10aGlzLnZpZXdtb2RlbC5nZXQodCkscyhpKSYmcyhlKT8ocj1tdS5zdGFydCh0aGlzLCEwKSx0aGlzLnZpZXdtb2RlbC5tZXJnZSh0LGksZSxuKSxtdS5lbmQoKSxyKTp0aGlzLnNldCh0LGUsbiYmbi5jb21wbGV0ZSl9ZnVuY3Rpb24gRXQodCxlKXt2YXIgbixpO3JldHVybiBuPUEodCxlKSxpPXt9LG4uZm9yRWFjaChmdW5jdGlvbihlKXtpW2Uuc3RyXT10LmdldChlLnN0cil9KSxpfWZ1bmN0aW9uIF90KHQsZSxuLGkpe3ZhciByLHMsbztlPV8oQyhlKSksaT1pfHxhaCxlLmlzUGF0dGVybj8ocj1uZXcgc2godCxlLG4saSksdC52aWV3bW9kZWwucGF0dGVybk9ic2VydmVycy5wdXNoKHIpLHM9ITApOnI9bmV3IEd1KHQsZSxuLGkpLHIuaW5pdChpLmluaXQpLHQudmlld21vZGVsLnJlZ2lzdGVyKGUscixzP1wicGF0dGVybk9ic2VydmVyc1wiOlwib2JzZXJ2ZXJzXCIpLHIucmVhZHk9ITA7dmFyIGE9e2NhbmNlbDpmdW5jdGlvbigpe3ZhciBuO298fChzPyhuPXQudmlld21vZGVsLnBhdHRlcm5PYnNlcnZlcnMuaW5kZXhPZihyKSx0LnZpZXdtb2RlbC5wYXR0ZXJuT2JzZXJ2ZXJzLnNwbGljZShuLDEpLHQudmlld21vZGVsLnVucmVnaXN0ZXIoZSxyLFwicGF0dGVybk9ic2VydmVyc1wiKSk6dC52aWV3bW9kZWwudW5yZWdpc3RlcihlLHIsXCJvYnNlcnZlcnNcIiksbz0hMCl9fTtyZXR1cm4gdC5fb2JzZXJ2ZXJzLnB1c2goYSksYX1mdW5jdGlvbiBBdCh0LGUsbil7dmFyIGkscixzLG87aWYoaCh0KSl7bj1lLHI9dCxpPVtdO2Zvcih0IGluIHIpci5oYXNPd25Qcm9wZXJ0eSh0KSYmKGU9clt0XSxpLnB1c2godGhpcy5vYnNlcnZlKHQsZSxuKSkpO3JldHVybntjYW5jZWw6ZnVuY3Rpb24oKXtmb3IoO2kubGVuZ3RoOylpLnBvcCgpLmNhbmNlbCgpfX19aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdClyZXR1cm4gbj1lLGU9dCx0PVwiXCIsb2godGhpcyx0LGUsbik7aWYocz10LnNwbGl0KFwiIFwiKSwxPT09cy5sZW5ndGgpcmV0dXJuIG9oKHRoaXMsdCxlLG4pO2ZvcihpPVtdLG89cy5sZW5ndGg7by0tOyl0PXNbb10sdCYmaS5wdXNoKG9oKHRoaXMsdCxlLG4pKTtyZXR1cm57Y2FuY2VsOmZ1bmN0aW9uKCl7Zm9yKDtpLmxlbmd0aDspaS5wb3AoKS5jYW5jZWwoKX19fWZ1bmN0aW9uIFN0KHQsZSxuKXt2YXIgaT10aGlzLm9ic2VydmUodCxmdW5jdGlvbigpe2UuYXBwbHkodGhpcyxhcmd1bWVudHMpLGkuY2FuY2VsKCl9LHtpbml0OiExLGRlZmVyOm4mJm4uZGVmZXJ9KTtyZXR1cm4gaX1mdW5jdGlvbiBDdCh0LGUpe3ZhciBuLGk9dGhpcztpZih0KW49dC5zcGxpdChcIiBcIikubWFwKGNoKS5maWx0ZXIobGgpLG4uZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgbixyOyhuPWkuX3N1YnNbdF0pJiYoZT8ocj1uLmluZGV4T2YoZSksLTEhPT1yJiZuLnNwbGljZShyLDEpKTppLl9zdWJzW3RdPVtdKX0pO2Vsc2UgZm9yKHQgaW4gdGhpcy5fc3VicylkZWxldGUgdGhpcy5fc3Vic1t0XTtyZXR1cm4gdGhpc31mdW5jdGlvbiBPdCh0LGUpe3ZhciBuLGkscixzPXRoaXM7aWYoXCJvYmplY3RcIj09dHlwZW9mIHQpe249W107Zm9yKGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiZuLnB1c2godGhpcy5vbihpLHRbaV0pKTtyZXR1cm57Y2FuY2VsOmZ1bmN0aW9uKCl7Zm9yKHZhciB0O3Q9bi5wb3AoKTspdC5jYW5jZWwoKX19fXJldHVybiByPXQuc3BsaXQoXCIgXCIpLm1hcChjaCkuZmlsdGVyKGxoKSxyLmZvckVhY2goZnVuY3Rpb24odCl7KHMuX3N1YnNbdF18fChzLl9zdWJzW3RdPVtdKSkucHVzaChlKX0pLHtjYW5jZWw6ZnVuY3Rpb24oKXtyZXR1cm4gcy5vZmYodCxlKX19fWZ1bmN0aW9uIFB0KHQsZSl7dmFyIG49dGhpcy5vbih0LGZ1bmN0aW9uKCl7ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksbi5jYW5jZWwoKX0pO3JldHVybiBufWZ1bmN0aW9uIFR0KHQsZSxuKXt2YXIgaSxyLHMsbyxhLHUsaD1bXTtpZihpPUZ0KHQsZSxuKSwhaSlyZXR1cm4gbnVsbDtmb3Iocj10Lmxlbmd0aCxhPWkubGVuZ3RoLTItaVsxXSxzPU1hdGgubWluKHIsaVswXSksbz1zK2lbMV0sdT0wO3M+dTt1Kz0xKWgucHVzaCh1KTtmb3IoO28+dTt1Kz0xKWgucHVzaCgtMSk7Zm9yKDtyPnU7dSs9MSloLnB1c2godSthKTtyZXR1cm4gaC50b3VjaGVkRnJvbT0wIT09YT9pWzBdOnQubGVuZ3RoLGh9ZnVuY3Rpb24gRnQodCxlLG4pe3N3aXRjaChlKXtjYXNlXCJzcGxpY2VcIjpmb3Iodm9pZCAwIT09blswXSYmblswXTwwJiYoblswXT10Lmxlbmd0aCtNYXRoLm1heChuWzBdLC10Lmxlbmd0aCkpO24ubGVuZ3RoPDI7KW4ucHVzaCgwKTtyZXR1cm4gblsxXT1NYXRoLm1pbihuWzFdLHQubGVuZ3RoLW5bMF0pLG47Y2FzZVwic29ydFwiOmNhc2VcInJldmVyc2VcIjpyZXR1cm4gbnVsbDtjYXNlXCJwb3BcIjpyZXR1cm4gdC5sZW5ndGg/W3QubGVuZ3RoLTEsMV06WzAsMF07Y2FzZVwicHVzaFwiOnJldHVyblt0Lmxlbmd0aCwwXS5jb25jYXQobik7Y2FzZVwic2hpZnRcIjpyZXR1cm5bMCx0Lmxlbmd0aD8xOjBdO2Nhc2VcInVuc2hpZnRcIjpyZXR1cm5bMCwwXS5jb25jYXQobil9fWZ1bmN0aW9uIFJ0KGUsbil7dmFyIGkscixzLG89dGhpcztpZihzPXRoaXMudHJhbnNpdGlvbnNFbmFibGVkLHRoaXMubm9JbnRybyYmKHRoaXMudHJhbnNpdGlvbnNFbmFibGVkPSExKSxpPW11LnN0YXJ0KHRoaXMsITApLG11LnNjaGVkdWxlVGFzayhmdW5jdGlvbigpe3JldHVybiBDaC5maXJlKG8pfSwhMCksdGhpcy5mcmFnbWVudC5yZW5kZXJlZCl0aHJvdyBuZXcgRXJyb3IoXCJZb3UgY2Fubm90IGNhbGwgcmFjdGl2ZS5yZW5kZXIoKSBvbiBhbiBhbHJlYWR5IHJlbmRlcmVkIGluc3RhbmNlISBDYWxsIHJhY3RpdmUudW5yZW5kZXIoKSBmaXJzdFwiKTtpZihlPXQoZSl8fHRoaXMuZWwsbj10KG4pfHx0aGlzLmFuY2hvcix0aGlzLmVsPWUsdGhpcy5hbmNob3I9biwhdGhpcy5hcHBlbmQmJmUpe3ZhciBhPWUuX19yYWN0aXZlX2luc3RhbmNlc19fO2EmJmEubGVuZ3RoJiZqdChhKSxlLmlubmVySFRNTD1cIlwifXJldHVybiB0aGlzLmNzc0lkJiZBaC5hcHBseSgpLGUmJigocj1lLl9fcmFjdGl2ZV9pbnN0YW5jZXNfXyk/ci5wdXNoKHRoaXMpOmUuX19yYWN0aXZlX2luc3RhbmNlc19fPVt0aGlzXSxuP2UuaW5zZXJ0QmVmb3JlKHRoaXMuZnJhZ21lbnQucmVuZGVyKCksbik6ZS5hcHBlbmRDaGlsZCh0aGlzLmZyYWdtZW50LnJlbmRlcigpKSksbXUuZW5kKCksdGhpcy50cmFuc2l0aW9uc0VuYWJsZWQ9cyxpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gT2guZmlyZShvKX0pfWZ1bmN0aW9uIGp0KHQpe3Quc3BsaWNlKDAsdC5sZW5ndGgpLmZvckVhY2goUSl9ZnVuY3Rpb24gTnQodCxlKXtmb3IodmFyIG49dC5zbGljZSgpLGk9ZS5sZW5ndGg7aS0tOyl+bi5pbmRleE9mKGVbaV0pfHxuLnB1c2goZVtpXSk7cmV0dXJuIG59ZnVuY3Rpb24gRHQodCxlKXt2YXIgbixpLHI7cmV0dXJuIGk9J1tkYXRhLXJhY3RpdmUtY3Nzfj1cInsnK2UrJ31cIl0nLHI9ZnVuY3Rpb24odCl7dmFyIGUsbixyLHMsbyxhLHUsaD1bXTtmb3IoZT1bXTtuPU5oLmV4ZWModCk7KWUucHVzaCh7c3RyOm5bMF0sYmFzZTpuWzFdLG1vZGlmaWVyczpuWzJdfSk7Zm9yKHM9ZS5tYXAoTHQpLHU9ZS5sZW5ndGg7dS0tOylhPXMuc2xpY2UoKSxyPWVbdV0sYVt1XT1yLmJhc2UraStyLm1vZGlmaWVyc3x8XCJcIixvPXMuc2xpY2UoKSxvW3VdPWkrXCIgXCIrb1t1XSxoLnB1c2goYS5qb2luKFwiIFwiKSxvLmpvaW4oXCIgXCIpKTtyZXR1cm4gaC5qb2luKFwiLCBcIil9LG49SWgudGVzdCh0KT90LnJlcGxhY2UoSWgsaSk6dC5yZXBsYWNlKGpoLFwiXCIpLnJlcGxhY2UoUmgsZnVuY3Rpb24odCxlKXt2YXIgbixpO3JldHVybiBEaC50ZXN0KGUpP3Q6KG49ZS5zcGxpdChcIixcIikubWFwKEl0KSxpPW4ubWFwKHIpLmpvaW4oXCIsIFwiKStcIiBcIix0LnJlcGxhY2UoZSxpKSl9KX1mdW5jdGlvbiBJdCh0KXtyZXR1cm4gdC50cmltP3QudHJpbSgpOnQucmVwbGFjZSgvXlxccysvLFwiXCIpLnJlcGxhY2UoL1xccyskLyxcIlwiKX1mdW5jdGlvbiBMdCh0KXtyZXR1cm4gdC5zdHJ9ZnVuY3Rpb24gVnQodCl7dCYmdC5jb25zdHJ1Y3RvciE9PU9iamVjdCYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHR8fChcIm9iamVjdFwiIT10eXBlb2YgdD9sKFwiZGF0YSBvcHRpb24gbXVzdCBiZSBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvbiwgYFwiK3QrXCJgIGlzIG5vdCB2YWxpZFwiKTptKFwiSWYgc3VwcGxpZWQsIG9wdGlvbnMuZGF0YSBzaG91bGQgYmUgYSBwbGFpbiBKYXZhU2NyaXB0IG9iamVjdCAtIHVzaW5nIGEgbm9uLVBPSk8gYXMgdGhlIHJvb3Qgb2JqZWN0IG1heSB3b3JrLCBidXQgaXMgZGlzY291cmFnZWRcIikpKX1mdW5jdGlvbiBNdCh0LGUpe1Z0KGUpO3ZhciBuPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQsaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlO3JldHVybiBlfHxufHwoZT17fSksbnx8aT9mdW5jdGlvbigpe3ZhciByPWk/VXQoZSx0aGlzKTplLHM9bj9VdCh0LHRoaXMpOnQ7cmV0dXJuIFd0KHIscyl9Old0KGUsdCl9ZnVuY3Rpb24gVXQodCxlKXt2YXIgbj10LmNhbGwoZSk7aWYobilyZXR1cm5cIm9iamVjdFwiIT10eXBlb2YgbiYmbChcIkRhdGEgZnVuY3Rpb24gbXVzdCByZXR1cm4gYW4gb2JqZWN0XCIpLG4uY29uc3RydWN0b3IhPT1PYmplY3QmJnYoXCJEYXRhIGZ1bmN0aW9uIHJldHVybmVkIHNvbWV0aGluZyBvdGhlciB0aGFuIGEgcGxhaW4gSmF2YVNjcmlwdCBvYmplY3QuIFRoaXMgbWlnaHQgd29yaywgYnV0IGlzIHN0cm9uZ2x5IGRpc2NvdXJhZ2VkXCIpLG59ZnVuY3Rpb24gV3QodCxlKXtpZih0JiZlKXtmb3IodmFyIG4gaW4gZSluIGluIHR8fCh0W25dPWVbbl0pO3JldHVybiB0fXJldHVybiB0fHxlfWZ1bmN0aW9uIHp0KHQpe3ZhciBlLG4saTtyZXR1cm4gdC5tYXRjaFN0cmluZyhcIj1cIik/KGU9dC5wb3MsdC5hbGxvd1doaXRlc3BhY2UoKSwobj10Lm1hdGNoUGF0dGVybihqYykpP3QubWF0Y2hQYXR0ZXJuKE5jKT8oaT10Lm1hdGNoUGF0dGVybihqYykpPyh0LmFsbG93V2hpdGVzcGFjZSgpLHQubWF0Y2hTdHJpbmcoXCI9XCIpP1tuLGldOih0LnBvcz1lLG51bGwpKToodC5wb3M9ZSxudWxsKTpudWxsOih0LnBvcz1lLG51bGwpKTpudWxsfWZ1bmN0aW9uIEJ0KHQpe3ZhciBlO3JldHVybihlPXQubWF0Y2hQYXR0ZXJuKEljKSk/e3Q6cGMsdjplfTpudWxsfWZ1bmN0aW9uIHF0KHQpe3ZhciBlLG47aWYodC5pbnRlcnBvbGF0ZVt0Lmluc2lkZV09PT0hMSlyZXR1cm4gbnVsbDtmb3Iobj0wO248dC50YWdzLmxlbmd0aDtuKz0xKWlmKGU9JHQodCx0LnRhZ3Nbbl0pKXJldHVybiBlfWZ1bmN0aW9uICR0KHQsZSl7dmFyIG4saSxyLHM7aWYobj10LnBvcyx0Lm1hdGNoU3RyaW5nKFwiXFxcXFwiK2Uub3Blbikpe2lmKDA9PT1ufHxcIlxcXFxcIiE9PXQuc3RyW24tMV0pcmV0dXJuIGUub3Blbn1lbHNlIGlmKCF0Lm1hdGNoU3RyaW5nKGUub3BlbikpcmV0dXJuIG51bGw7aWYoaT1SYyh0KSlyZXR1cm4gdC5tYXRjaFN0cmluZyhlLmNsb3NlKT8oZS5vcGVuPWlbMF0sZS5jbG9zZT1pWzFdLHQuc29ydE11c3RhY2hlVGFncygpLFZjKTpudWxsO2lmKHQuYWxsb3dXaGl0ZXNwYWNlKCksdC5tYXRjaFN0cmluZyhcIi9cIikpe3QucG9zLT0xO3ZhciBvPXQucG9zO0RjKHQpP3QucG9zPW86KHQucG9zPW8tZS5jbG9zZS5sZW5ndGgsdC5lcnJvcihcIkF0dGVtcHRlZCB0byBjbG9zZSBhIHNlY3Rpb24gdGhhdCB3YXNuJ3Qgb3BlblwiKSl9Zm9yKHM9MDtzPGUucmVhZGVycy5sZW5ndGg7cys9MSlpZihyPWUucmVhZGVyc1tzXSxpPXIodCxlKSlyZXR1cm4gZS5pc1N0YXRpYyYmKGkucz0hMCksdC5pbmNsdWRlTGluZVBvc2l0aW9ucyYmKGkucD10LmdldExpbmVQb3MobikpLGk7cmV0dXJuIHQucG9zPW4sbnVsbH1mdW5jdGlvbiBRdCh0KXt2YXIgZTtyZXR1cm4oZT10Lm1hdGNoUGF0dGVybih6YykpP3t0OmhjLHY6ZX06bnVsbH1mdW5jdGlvbiBadCh0KXt2YXIgZT10LnJlbWFpbmluZygpO3JldHVyblwidHJ1ZVwiPT09ZS5zdWJzdHIoMCw0KT8odC5wb3MrPTQse3Q6ZGMsdjpcInRydWVcIn0pOlwiZmFsc2VcIj09PWUuc3Vic3RyKDAsNSk/KHQucG9zKz01LHt0OmRjLHY6XCJmYWxzZVwifSk6bnVsbH1mdW5jdGlvbiBIdCh0KXt2YXIgZTtyZXR1cm4oZT1LYyh0KSk/SmMudGVzdChlLnYpP2UudjonXCInK2Uudi5yZXBsYWNlKC9cIi9nLCdcXFxcXCInKSsnXCInOihlPVdjKHQpKT9lLnY6KGU9dC5tYXRjaFBhdHRlcm4oR2MpKT9lOnZvaWQgMH1mdW5jdGlvbiBLdCh0KXt2YXIgZSxuLGk7cmV0dXJuIGU9dC5wb3MsdC5hbGxvd1doaXRlc3BhY2UoKSxuPVljKHQpLG51bGw9PT1uPyh0LnBvcz1lLG51bGwpOih0LmFsbG93V2hpdGVzcGFjZSgpLHQubWF0Y2hTdHJpbmcoXCI6XCIpPyh0LmFsbG93V2hpdGVzcGFjZSgpLGk9T2wodCksbnVsbD09PWk/KHQucG9zPWUsbnVsbCk6e3Q6dmMsazpuLHY6aX0pOih0LnBvcz1lLG51bGwpKX1mdW5jdGlvbiBHdCh0KXt2YXIgZSxuLGkscjtyZXR1cm4gZT10LnBvcyxpPVhjKHQpLG51bGw9PT1pP251bGw6KG49W2ldLHQubWF0Y2hTdHJpbmcoXCIsXCIpPyhyPUd0KHQpLHI/bi5jb25jYXQocik6KHQucG9zPWUsbnVsbCkpOm4pfWZ1bmN0aW9uIFl0KHQpe2Z1bmN0aW9uIGUodCl7aS5wdXNoKHQpfXZhciBuLGkscixzO3JldHVybiBuPXQucG9zLHQuYWxsb3dXaGl0ZXNwYWNlKCkscj1PbCh0KSxudWxsPT09cj9udWxsOihpPVtyXSx0LmFsbG93V2hpdGVzcGFjZSgpLHQubWF0Y2hTdHJpbmcoXCIsXCIpJiYocz1ZdCh0KSxudWxsPT09cyYmdC5lcnJvcihNYykscy5mb3JFYWNoKGUpKSxpKX1mdW5jdGlvbiBKdCh0KXtyZXR1cm4gV2ModCl8fEJjKHQpfHxLYyh0KXx8ZWwodCl8fGlsKHQpfHxEYyh0KX1mdW5jdGlvbiBYdCh0KXt2YXIgZSxuLGkscixzLG87cmV0dXJuIGU9dC5wb3MsaT10Lm1hdGNoUGF0dGVybigvXkAoPzprZXlwYXRofGluZGV4fGtleSkvKSxpfHwobj10Lm1hdGNoUGF0dGVybihvbCl8fFwiXCIsaT0hbiYmdC5yZWxheGVkTmFtZXMmJnQubWF0Y2hQYXR0ZXJuKGNsKXx8dC5tYXRjaFBhdHRlcm4oaGwpLGl8fFwiLlwiIT09bnx8KG49XCJcIixpPVwiLlwiKSksaT9ufHx0LnJlbGF4ZWROYW1lc3x8ISRjLnRlc3QoaSk/IW4mJnFjLnRlc3QoaSk/KHI9cWMuZXhlYyhpKVswXSx0LnBvcz1lK3IubGVuZ3RoLHt0Om1jLHY6cn0pOihzPShufHxcIlwiKStDKGkpLHQubWF0Y2hTdHJpbmcoXCIoXCIpJiYobz1zLmxhc3RJbmRleE9mKFwiLlwiKSwtMSE9PW8/KHM9cy5zdWJzdHIoMCxvKSx0LnBvcz1lK3MubGVuZ3RoKTp0LnBvcy09MSkse3Q6Z2MsbjpzLnJlcGxhY2UoL150aGlzXFwuLyxcIi4vXCIpLnJlcGxhY2UoL150aGlzJC8sXCIuXCIpfSk6KHQucG9zPWUsbnVsbCk6bnVsbH1mdW5jdGlvbiB0ZSh0KXt2YXIgZSxuO3JldHVybiBlPXQucG9zLHQubWF0Y2hTdHJpbmcoXCIoXCIpPyh0LmFsbG93V2hpdGVzcGFjZSgpLG49T2wodCksbnx8dC5lcnJvcihNYyksdC5hbGxvd1doaXRlc3BhY2UoKSx0Lm1hdGNoU3RyaW5nKFwiKVwiKXx8dC5lcnJvcihVYykse3Q6eGMseDpufSk6bnVsbH1mdW5jdGlvbiBlZSh0KXt2YXIgZSxuLGk7aWYoZT10LnBvcyx0LmFsbG93V2hpdGVzcGFjZSgpLHQubWF0Y2hTdHJpbmcoXCIuXCIpKXtpZih0LmFsbG93V2hpdGVzcGFjZSgpLG49dC5tYXRjaFBhdHRlcm4oR2MpKXJldHVybnt0OnljLG46bn07dC5lcnJvcihcIkV4cGVjdGVkIGEgcHJvcGVydHkgbmFtZVwiKX1yZXR1cm4gdC5tYXRjaFN0cmluZyhcIltcIik/KHQuYWxsb3dXaGl0ZXNwYWNlKCksaT1PbCh0KSxpfHx0LmVycm9yKE1jKSx0LmFsbG93V2hpdGVzcGFjZSgpLHQubWF0Y2hTdHJpbmcoXCJdXCIpfHx0LmVycm9yKFwiRXhwZWN0ZWQgJ10nXCIpLHt0OnljLHg6aX0pOm51bGx9ZnVuY3Rpb24gbmUodCl7dmFyIGUsbixpLHI7cmV0dXJuKG49U2wodCkpPyhlPXQucG9zLHQuYWxsb3dXaGl0ZXNwYWNlKCksdC5tYXRjaFN0cmluZyhcIj9cIik/KHQuYWxsb3dXaGl0ZXNwYWNlKCksaT1PbCh0KSxpfHx0LmVycm9yKE1jKSx0LmFsbG93V2hpdGVzcGFjZSgpLHQubWF0Y2hTdHJpbmcoXCI6XCIpfHx0LmVycm9yKCdFeHBlY3RlZCBcIjpcIicpLHQuYWxsb3dXaGl0ZXNwYWNlKCkscj1PbCh0KSxyfHx0LmVycm9yKE1jKSx7dDprYyxvOltuLGkscl19KToodC5wb3M9ZSxuKSk6bnVsbH1mdW5jdGlvbiBpZSh0KXtyZXR1cm4gQ2wodCl9ZnVuY3Rpb24gcmUodCl7ZnVuY3Rpb24gZSh0KXtzd2l0Y2godC50KXtjYXNlIGRjOmNhc2UgbWM6Y2FzZSBoYzpjYXNlIHBjOnJldHVybiB0LnY7Y2FzZSBjYzpyZXR1cm4gSlNPTi5zdHJpbmdpZnkoU3RyaW5nKHQudikpO2Nhc2UgbGM6cmV0dXJuXCJbXCIrKHQubT90Lm0ubWFwKGUpLmpvaW4oXCIsXCIpOlwiXCIpK1wiXVwiO2Nhc2UgZmM6cmV0dXJuXCJ7XCIrKHQubT90Lm0ubWFwKGUpLmpvaW4oXCIsXCIpOlwiXCIpK1wifVwiO2Nhc2UgdmM6cmV0dXJuIHQuaytcIjpcIitlKHQudik7Y2FzZSB3YzpyZXR1cm4oXCJ0eXBlb2ZcIj09PXQucz9cInR5cGVvZiBcIjp0LnMpK2UodC5vKTtjYXNlIEVjOnJldHVybiBlKHQub1swXSkrKFwiaW5cIj09PXQucy5zdWJzdHIoMCwyKT9cIiBcIit0LnMrXCIgXCI6dC5zKStlKHQub1sxXSk7Y2FzZSBfYzpyZXR1cm4gZSh0LngpK1wiKFwiKyh0Lm8/dC5vLm1hcChlKS5qb2luKFwiLFwiKTpcIlwiKStcIilcIjtjYXNlIHhjOnJldHVyblwiKFwiK2UodC54KStcIilcIjtjYXNlIGJjOnJldHVybiBlKHQueCkrZSh0LnIpO2Nhc2UgeWM6cmV0dXJuIHQubj9cIi5cIit0Lm46XCJbXCIrZSh0LngpK1wiXVwiO2Nhc2Uga2M6cmV0dXJuIGUodC5vWzBdKStcIj9cIitlKHQub1sxXSkrXCI6XCIrZSh0Lm9bMl0pO2Nhc2UgZ2M6cmV0dXJuXCJfXCIrbi5pbmRleE9mKHQubik7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RlZCBsZWdhbCBKYXZhU2NyaXB0XCIpfX12YXIgbjtyZXR1cm4gc2UodCxuPVtdKSx7cjpuLHM6ZSh0KX19ZnVuY3Rpb24gc2UodCxlKXt2YXIgbixpO2lmKHQudD09PWdjJiYtMT09PWUuaW5kZXhPZih0Lm4pJiZlLnVuc2hpZnQodC5uKSxpPXQub3x8dC5tKWlmKGgoaSkpc2UoaSxlKTtlbHNlIGZvcihuPWkubGVuZ3RoO24tLTspc2UoaVtuXSxlKTt0LngmJnNlKHQueCxlKSx0LnImJnNlKHQucixlKSx0LnYmJnNlKHQudixlKX1mdW5jdGlvbiBvZSh0LGUpe3ZhciBuO2lmKHQpe2Zvcig7dC50PT09eGMmJnQueDspdD10Lng7cmV0dXJuIHQudD09PWdjP2Uucj10Lm46dC50PT09aGMmJkZsLnRlc3QodC52KT9lLnI9dC52OihuPWFlKHQpKT9lLnJ4PW46ZS54PVBsKHQpLGV9fWZ1bmN0aW9uIGFlKHQpe2Zvcih2YXIgZSxuPVtdO3QudD09PWJjJiZ0LnIudD09PXljOyllPXQucixuLnVuc2hpZnQoZS54P2UueC50PT09Z2M/ZS54OlBsKGUueCk6ZS5uKSx0PXQueDtyZXR1cm4gdC50IT09Z2M/bnVsbDp7cjp0Lm4sbTpufX1mdW5jdGlvbiB1ZSh0LGUpe3ZhciBuLGk9T2wodCk7cmV0dXJuIGk/KHQubWF0Y2hTdHJpbmcoZS5jbG9zZSl8fHQuZXJyb3IoXCJFeHBlY3RlZCBjbG9zaW5nIGRlbGltaXRlciAnXCIrZS5jbG9zZStcIidcIiksbj17dDpLaH0sVGwoaSxuKSxuKTpudWxsfWZ1bmN0aW9uIGhlKHQsZSl7dmFyIG4saTtyZXR1cm4gdC5tYXRjaFN0cmluZyhcIiZcIik/KHQuYWxsb3dXaGl0ZXNwYWNlKCksKG49T2wodCkpPyh0Lm1hdGNoU3RyaW5nKGUuY2xvc2UpfHx0LmVycm9yKFwiRXhwZWN0ZWQgY2xvc2luZyBkZWxpbWl0ZXIgJ1wiK2UuY2xvc2UrXCInXCIpLGk9e3Q6S2h9LFRsKG4saSksaSk6bnVsbCk6bnVsbH1mdW5jdGlvbiBjZSh0LGUpe3ZhciBuLGkscixzLG87cmV0dXJuIG49dC5wb3MsdC5tYXRjaFN0cmluZyhcIj5cIik/KHQuYWxsb3dXaGl0ZXNwYWNlKCksaT10LnBvcyx0LnJlbGF4ZWROYW1lcz0hMCxyPU9sKHQpLHQucmVsYXhlZE5hbWVzPSExLHQuYWxsb3dXaGl0ZXNwYWNlKCkscz1PbCh0KSx0LmFsbG93V2hpdGVzcGFjZSgpLHI/KG89e3Q6dGN9LFRsKHIsbyksdC5hbGxvd1doaXRlc3BhY2UoKSxzJiYobz17dDpHaCxuOk9jLGY6W29dfSxUbChzLG8pKSx0Lm1hdGNoU3RyaW5nKGUuY2xvc2UpfHx0LmVycm9yKFwiRXhwZWN0ZWQgY2xvc2luZyBkZWxpbWl0ZXIgJ1wiK2UuY2xvc2UrXCInXCIpLG8pOm51bGwpOm51bGx9ZnVuY3Rpb24gbGUodCxlKXt2YXIgbjtyZXR1cm4gdC5tYXRjaFN0cmluZyhcIiFcIik/KG49dC5yZW1haW5pbmcoKS5pbmRleE9mKGUuY2xvc2UpLC0xIT09bj8odC5wb3MrPW4rZS5jbG9zZS5sZW5ndGgse3Q6ZWN9KTp2b2lkIDApOm51bGx9ZnVuY3Rpb24gZmUodCxlKXt2YXIgbixpLHI7aWYobj10LnBvcyxpPU9sKHQpLCFpKXJldHVybiBudWxsO2ZvcihyPTA7cjxlLmxlbmd0aDtyKz0xKWlmKHQucmVtYWluaW5nKCkuc3Vic3RyKDAsZVtyXS5sZW5ndGgpPT09ZVtyXSlyZXR1cm4gaTtyZXR1cm4gdC5wb3M9bixzbCh0KX1mdW5jdGlvbiBkZSh0LGUpe3ZhciBuLGkscixzO249dC5wb3M7dHJ5e2k9SWwodCxbZS5jbG9zZV0pfWNhdGNoKG8pe3M9b31pZighaSl7aWYoXCIhXCI9PT10LnN0ci5jaGFyQXQobikpcmV0dXJuIHQucG9zPW4sbnVsbDtpZihzKXRocm93IHN9aWYoIXQubWF0Y2hTdHJpbmcoZS5jbG9zZSkmJih0LmVycm9yKFwiRXhwZWN0ZWQgY2xvc2luZyBkZWxpbWl0ZXIgJ1wiK2UuY2xvc2UrXCInIGFmdGVyIHJlZmVyZW5jZVwiKSwhaSkpe2lmKFwiIVwiPT09dC5uZXh0Q2hhcigpKXJldHVybiBudWxsO3QuZXJyb3IoXCJFeHBlY3RlZCBleHByZXNzaW9uIG9yIGxlZ2FsIHJlZmVyZW5jZVwiKX1yZXR1cm4gcj17dDpIaH0sVGwoaSxyKSxyfWZ1bmN0aW9uIHBlKHQsZSl7dmFyIG4saSxyO3JldHVybiB0Lm1hdGNoUGF0dGVybihNbCk/KG49dC5wb3MsaT10Lm1hdGNoUGF0dGVybigvXlthLXpBLVpfJF1bYS16QS1aXyQwLTlcXC1dKi8pLHQuYWxsb3dXaGl0ZXNwYWNlKCksdC5tYXRjaFN0cmluZyhlLmNsb3NlKXx8dC5lcnJvcihcImV4cGVjdGVkIGxlZ2FsIHBhcnRpYWwgbmFtZVwiKSxyPXt0Om9jfSxpJiYoci5uPWkpLHIpOm51bGx9ZnVuY3Rpb24gbWUodCxlKXt2YXIgbixpLHIscztyZXR1cm4gbj10LnBvcyx0Lm1hdGNoU3RyaW5nKGUub3Blbik/KHQuYWxsb3dXaGl0ZXNwYWNlKCksdC5tYXRjaFN0cmluZyhcIi9cIik/KHQuYWxsb3dXaGl0ZXNwYWNlKCksaT10LnJlbWFpbmluZygpLHI9aS5pbmRleE9mKGUuY2xvc2UpLC0xIT09cj8ocz17dDpKaCxyOmkuc3Vic3RyKDAscikuc3BsaXQoXCIgXCIpWzBdfSx0LnBvcys9cix0Lm1hdGNoU3RyaW5nKGUuY2xvc2UpfHx0LmVycm9yKFwiRXhwZWN0ZWQgY2xvc2luZyBkZWxpbWl0ZXIgJ1wiK2UuY2xvc2UrXCInXCIpLHMpOih0LnBvcz1uLG51bGwpKToodC5wb3M9bixudWxsKSk6bnVsbH1mdW5jdGlvbiB2ZSh0LGUpe3ZhciBuPXQucG9zO3JldHVybiB0Lm1hdGNoU3RyaW5nKGUub3Blbik/dC5tYXRjaFBhdHRlcm4oemwpPyh0Lm1hdGNoU3RyaW5nKGUuY2xvc2UpfHx0LmVycm9yKFwiRXhwZWN0ZWQgY2xvc2luZyBkZWxpbWl0ZXIgJ1wiK2UuY2xvc2UrXCInXCIpLHt0OlRjfSk6KHQucG9zPW4sbnVsbCk6bnVsbH1mdW5jdGlvbiBnZSh0LGUpe3ZhciBuLGk9dC5wb3M7cmV0dXJuIHQubWF0Y2hTdHJpbmcoZS5vcGVuKT90Lm1hdGNoUGF0dGVybihxbCk/KG49T2wodCksdC5tYXRjaFN0cmluZyhlLmNsb3NlKXx8dC5lcnJvcihcIkV4cGVjdGVkIGNsb3NpbmcgZGVsaW1pdGVyICdcIitlLmNsb3NlK1wiJ1wiKSx7dDpGYyx4Om59KToodC5wb3M9aSxudWxsKTpudWxsfWZ1bmN0aW9uIHllKHQsZSl7dmFyIG4saSxyLHMsbyxhLHUsaCxjLGwsZixkO2lmKG49dC5wb3MsdC5tYXRjaFN0cmluZyhcIl5cIikpcj17dDpHaCxmOltdLG46U2N9O2Vsc2V7aWYoIXQubWF0Y2hTdHJpbmcoXCIjXCIpKXJldHVybiBudWxsO3I9e3Q6R2gsZjpbXX0sdC5tYXRjaFN0cmluZyhcInBhcnRpYWxcIikmJih0LnBvcz1uLXQuc3RhbmRhcmREZWxpbWl0ZXJzWzBdLmxlbmd0aCx0LmVycm9yKFwiUGFydGlhbCBkZWZpbml0aW9ucyBjYW4gb25seSBiZSBhdCB0aGUgdG9wIGxldmVsIG9mIHRoZSB0ZW1wbGF0ZSwgb3IgaW1tZWRpYXRlbHkgaW5zaWRlIGNvbXBvbmVudHNcIikpLCh1PXQubWF0Y2hQYXR0ZXJuKEtsKSkmJihkPXUsci5uPSRsW3VdKX1pZih0LmFsbG93V2hpdGVzcGFjZSgpLGk9T2wodCksaXx8dC5lcnJvcihcIkV4cGVjdGVkIGV4cHJlc3Npb25cIiksZj10Lm1hdGNoUGF0dGVybihabCkpe3ZhciBwPXZvaWQgMDtyLmk9KHA9dC5tYXRjaFBhdHRlcm4oSGwpKT9mK1wiLFwiK3A6Zn10LmFsbG93V2hpdGVzcGFjZSgpLHQubWF0Y2hTdHJpbmcoZS5jbG9zZSl8fHQuZXJyb3IoXCJFeHBlY3RlZCBjbG9zaW5nIGRlbGltaXRlciAnXCIrZS5jbG9zZStcIidcIiksdC5zZWN0aW9uRGVwdGgrPTEsbz1yLmYsYz1bXTtkbyBpZihzPVVsKHQsZSkpZCYmcy5yIT09ZCYmdC5lcnJvcihcIkV4cGVjdGVkIFwiK2Uub3BlbitcIi9cIitkK2UuY2xvc2UpLHQuc2VjdGlvbkRlcHRoLT0xLGw9ITA7ZWxzZSBpZihzPUJsKHQsZSkpci5uPT09U2MmJnQuZXJyb3IoXCJ7e2Vsc2V9fSBub3QgYWxsb3dlZCBpbiB7eyN1bmxlc3N9fVwiKSxhJiZ0LmVycm9yKFwiaWxsZWdhbCB7e2Vsc2VpZi4uLn19IGFmdGVyIHt7ZWxzZX19XCIpLGh8fChoPWJlKGksci5uKSksaC5mLnB1c2goe3Q6R2gsbjpBYyx4OlBsKHhlKGMuY29uY2F0KHMueCkpKSxmOm89W119KSxjLnB1c2god2Uocy54KSk7ZWxzZSBpZihzPVdsKHQsZSkpci5uPT09U2MmJnQuZXJyb3IoXCJ7e2Vsc2V9fSBub3QgYWxsb3dlZCBpbiB7eyN1bmxlc3N9fVwiKSxhJiZ0LmVycm9yKFwidGhlcmUgY2FuIG9ubHkgYmUgb25lIHt7ZWxzZX19IGJsb2NrLCBhdCB0aGUgZW5kIG9mIGEgc2VjdGlvblwiKSxhPSEwLGg/aC5mLnB1c2goe3Q6R2gsbjpBYyx4OlBsKHhlKGMpKSxmOm89W119KTooaD1iZShpLHIubiksbz1oLmYpO2Vsc2V7aWYocz10LnJlYWQodGQpLCFzKWJyZWFrO28ucHVzaChzKX13aGlsZSghbCk7cmV0dXJuIGgmJihyLm49PT1PYyYmKHIubj1QYyksci5sPWgpLFRsKGksciksci5mLmxlbmd0aHx8ZGVsZXRlIHIuZixyfWZ1bmN0aW9uIGJlKHQsZSl7dmFyIG47cmV0dXJuIGU9PT1PYz8obj17dDpHaCxuOkFjLGY6W119LFRsKHdlKHQpLG4pKToobj17dDpHaCxuOlNjLGY6W119LFRsKHQsbikpLG59ZnVuY3Rpb24gd2UodCl7cmV0dXJuIHQudD09PXdjJiZcIiFcIj09PXQucz90Lm86e3Q6d2MsczpcIiFcIixvOmtlKHQpfX1mdW5jdGlvbiB4ZSh0KXtyZXR1cm4gMT09PXQubGVuZ3RoP3RbMF06e3Q6RWMsczpcIiYmXCIsbzpba2UodFswXSksa2UoeGUodC5zbGljZSgxKSkpXX19ZnVuY3Rpb24ga2UodCl7cmV0dXJue3Q6eGMseDp0fX1mdW5jdGlvbiBFZSh0KXt2YXIgZSxuLGkscixzO3JldHVybiBlPXQucG9zLHQubWF0Y2hTdHJpbmcoWWwpPyhpPXQucmVtYWluaW5nKCkscj1pLmluZGV4T2YoSmwpLC0xPT09ciYmdC5lcnJvcihcIklsbGVnYWwgSFRNTCAtIGV4cGVjdGVkIGNsb3NpbmcgY29tbWVudCBzZXF1ZW5jZSAoJy0tPicpXCIpLG49aS5zdWJzdHIoMCxyKSx0LnBvcys9ciszLHM9e3Q6ZWMsYzpufSx0LmluY2x1ZGVMaW5lUG9zaXRpb25zJiYocy5wPXQuZ2V0TGluZVBvcyhlKSkscyk6bnVsbH1mdW5jdGlvbiBfZSh0KXtyZXR1cm4gdC5yZXBsYWNlKGtsLGZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIG49XCIjXCIhPT1lWzBdP3dsW2VdOlwieFwiPT09ZVsxXT9wYXJzZUludChlLnN1YnN0cmluZygyKSwxNik6cGFyc2VJbnQoZS5zdWJzdHJpbmcoMSksMTApLG4/U3RyaW5nLmZyb21DaGFyQ29kZShBZShuKSk6dH0pfWZ1bmN0aW9uIEFlKHQpe3JldHVybiB0PzEwPT09dD8zMjoxMjg+dD90OjE1OT49dD94bFt0LTEyOF06NTUyOTY+dD90OjU3MzQzPj10PzY1NTMzOjY1NTM1Pj10P3Q6NjU1MzM6NjU1MzN9ZnVuY3Rpb24gU2UodCl7cmV0dXJuIHQucmVwbGFjZShBbCxcIiZhbXA7XCIpLnJlcGxhY2UoRWwsXCImbHQ7XCIpLnJlcGxhY2UoX2wsXCImZ3Q7XCIpfWZ1bmN0aW9uIENlKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0fWZ1bmN0aW9uIE9lKHQpe3JldHVybiB0LnQ9PT1lY3x8dC50PT09bmN9ZnVuY3Rpb24gUGUodCl7cmV0dXJuKHQudD09PUdofHx0LnQ9PT1ZaCkmJnQuZn1mdW5jdGlvbiBUZSh0LGUsbixpLHIpe3ZhciBvLGEsdSxoLGMsbCxmLGQ7Zm9yKGhmKHQpLG89dC5sZW5ndGg7by0tOylhPXRbb10sYS5leGNsdWRlP3Quc3BsaWNlKG8sMSk6ZSYmYS50PT09ZWMmJnQuc3BsaWNlKG8sMSk7Zm9yKGNmKHQsaT9wZjpudWxsLHI/bWY6bnVsbCksbz10Lmxlbmd0aDtvLS07KXtpZihhPXRbb10sYS5mKXt2YXIgcD1hLnQ9PT1YaCYmZGYudGVzdChhLmUpO2M9bnx8cCwhbiYmcCYmY2YoYS5mLHZmLGdmKSxjfHwodT10W28tMV0saD10W28rMV0sKCF1fHxcInN0cmluZ1wiPT10eXBlb2YgdSYmbWYudGVzdCh1KSkmJihsPSEwKSwoIWh8fFwic3RyaW5nXCI9PXR5cGVvZiBoJiZwZi50ZXN0KGgpKSYmKGY9ITApKSxUZShhLmYsZSxjLGwsZil9aWYoYS5sJiYoVGUoYS5sLmYsZSxuLGwsZiksdC5zcGxpY2UobysxLDAsYS5sKSxkZWxldGUgYS5sKSxhLmEpZm9yKGQgaW4gYS5hKWEuYS5oYXNPd25Qcm9wZXJ0eShkKSYmXCJzdHJpbmdcIiE9dHlwZW9mIGEuYVtkXSYmVGUoYS5hW2RdLGUsbixsLGYpO2lmKGEubSYmVGUoYS5tLGUsbixsLGYpLGEudilmb3IoZCBpbiBhLnYpYS52Lmhhc093blByb3BlcnR5KGQpJiYocyhhLnZbZF0ubikmJlRlKGEudltkXS5uLGUsbixsLGYpLHMoYS52W2RdLmQpJiZUZShhLnZbZF0uZCxlLG4sbCxmKSl9Zm9yKG89dC5sZW5ndGg7by0tOylcInN0cmluZ1wiPT10eXBlb2YgdFtvXSYmKFwic3RyaW5nXCI9PXR5cGVvZiB0W28rMV0mJih0W29dPXRbb10rdFtvKzFdLHQuc3BsaWNlKG8rMSwxKSksbnx8KHRbb109dFtvXS5yZXBsYWNlKGZmLFwiIFwiKSksXCJcIj09PXRbb10mJnQuc3BsaWNlKG8sMSkpfWZ1bmN0aW9uIEZlKHQpe3ZhciBlLG47cmV0dXJuIGU9dC5wb3MsdC5tYXRjaFN0cmluZyhcIjwvXCIpPyhuPXQubWF0Y2hQYXR0ZXJuKGJmKSk/dC5pbnNpZGUmJm4hPT10Lmluc2lkZT8odC5wb3M9ZSxudWxsKTp7dDpyYyxlOm59Oih0LnBvcy09Mix2b2lkIHQuZXJyb3IoXCJJbGxlZ2FsIGNsb3NpbmcgdGFnXCIpKTpudWxsfWZ1bmN0aW9uIFJlKHQpe3ZhciBlLG4saTtyZXR1cm4gdC5hbGxvd1doaXRlc3BhY2UoKSwobj10Lm1hdGNoUGF0dGVybihrZikpPyhlPXtuYW1lOm59LGk9amUodCksbnVsbCE9aSYmKGUudmFsdWU9aSksZSk6bnVsbH1mdW5jdGlvbiBqZSh0KXt2YXIgZSxuLGkscjtyZXR1cm4gZT10LnBvcywvWz1cXC8+XFxzXS8udGVzdCh0Lm5leHRDaGFyKCkpfHx0LmVycm9yKFwiRXhwZWN0ZWQgYD1gLCBgL2AsIGA+YCBvciB3aGl0ZXNwYWNlXCIpLHQuYWxsb3dXaGl0ZXNwYWNlKCksdC5tYXRjaFN0cmluZyhcIj1cIik/KHQuYWxsb3dXaGl0ZXNwYWNlKCksbj10LnBvcyxpPXQuc2VjdGlvbkRlcHRoLHI9SWUodCxcIidcIil8fEllKHQsJ1wiJyl8fERlKHQpLG51bGw9PT1yJiZ0LmVycm9yKFwiRXhwZWN0ZWQgdmFsaWQgYXR0cmlidXRlIHZhbHVlXCIpLHQuc2VjdGlvbkRlcHRoIT09aSYmKHQucG9zPW4sdC5lcnJvcihcIkFuIGF0dHJpYnV0ZSB2YWx1ZSBtdXN0IGNvbnRhaW4gYXMgbWFueSBvcGVuaW5nIHNlY3Rpb24gdGFncyBhcyBjbG9zaW5nIHNlY3Rpb24gdGFnc1wiKSksci5sZW5ndGg/MT09PXIubGVuZ3RoJiZcInN0cmluZ1wiPT10eXBlb2YgclswXT9fZShyWzBdKTpyOlwiXCIpOih0LnBvcz1lLG51bGwpfWZ1bmN0aW9uIE5lKHQpe3ZhciBlLG4saSxyLHM7cmV0dXJuIGU9dC5wb3MsKG49dC5tYXRjaFBhdHRlcm4oRWYpKT8oaT1uLHI9dC50YWdzLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5vcGVufSksLTEhPT0ocz13ZihpLHIpKSYmKG49bi5zdWJzdHIoMCxzKSx0LnBvcz1lK24ubGVuZ3RoKSxuKTpudWxsfWZ1bmN0aW9uIERlKHQpe3ZhciBlLG47Zm9yKHQuaW5BdHRyaWJ1dGU9ITAsZT1bXSxuPUxjKHQpfHxOZSh0KTtudWxsIT09bjspZS5wdXNoKG4pLG49TGModCl8fE5lKHQpO3JldHVybiBlLmxlbmd0aD8odC5pbkF0dHJpYnV0ZT0hMSxlKTpudWxsfWZ1bmN0aW9uIEllKHQsZSl7dmFyIG4saSxyO2lmKG49dC5wb3MsIXQubWF0Y2hTdHJpbmcoZSkpcmV0dXJuIG51bGw7Zm9yKHQuaW5BdHRyaWJ1dGU9ZSxpPVtdLHI9TGModCl8fExlKHQsZSk7bnVsbCE9PXI7KWkucHVzaChyKSxyPUxjKHQpfHxMZSh0LGUpO3JldHVybiB0Lm1hdGNoU3RyaW5nKGUpPyh0LmluQXR0cmlidXRlPSExLGkpOih0LnBvcz1uLG51bGwpfWZ1bmN0aW9uIExlKHQsZSl7dmFyIG4saSxyLHM7cmV0dXJuIG49dC5wb3Mscj10LnJlbWFpbmluZygpLHM9dC50YWdzLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5vcGVufSkscy5wdXNoKGUpLGk9d2YocixzKSwtMT09PWkmJnQuZXJyb3IoXCJRdW90ZWQgYXR0cmlidXRlIHZhbHVlIG11c3QgaGF2ZSBhIGNsb3NpbmcgcXVvdGVcIiksaT8odC5wb3MrPWksci5zdWJzdHIoMCxpKSk6bnVsbH1mdW5jdGlvbiBWZSh0KXt2YXIgZSxuLGk7cmV0dXJuIHQuYWxsb3dXaGl0ZXNwYWNlKCksKGU9WWModCkpPyhpPXtrZXk6ZX0sdC5hbGxvd1doaXRlc3BhY2UoKSx0Lm1hdGNoU3RyaW5nKFwiOlwiKT8odC5hbGxvd1doaXRlc3BhY2UoKSwobj10LnJlYWQoKSk/KGkudmFsdWU9bi52LGkpOm51bGwpOm51bGwpOm51bGx9ZnVuY3Rpb24gTWUodCxlKXt2YXIgbixpLHIscyxvLGEsdSxoLGM7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpe2lmKGk9Q2YuZXhlYyh0KSl7dmFyIGw9dC5sYXN0SW5kZXhPZihcIilcIik7cmV0dXJuIE9mLnRlc3QodCl8fGUuZXJyb3IoXCJJbnZhbGlkIGlucHV0IGFmdGVyIG1ldGhvZCBjYWxsIGV4cHJlc3Npb24gJ1wiK3Quc2xpY2UobCsxKStcIidcIiksbj17bTppWzFdfSxzPVwiW1wiK3Quc2xpY2Uobi5tLmxlbmd0aCsxLGwpK1wiXVwiLHI9bmV3IF9mKHMpLG4uYT1QbChyLnJlc3VsdFswXSksbn1pZigtMT09PXQuaW5kZXhPZihcIjpcIikpcmV0dXJuIHQudHJpbSgpO3Q9W3RdfWlmKG49e30sdT1bXSxoPVtdLHQpe2Zvcig7dC5sZW5ndGg7KWlmKG89dC5zaGlmdCgpLFwic3RyaW5nXCI9PXR5cGVvZiBvKXtpZihhPW8uaW5kZXhPZihcIjpcIiksLTEhPT1hKXthJiZ1LnB1c2goby5zdWJzdHIoMCxhKSksby5sZW5ndGg+YSsxJiYoaFswXT1vLnN1YnN0cmluZyhhKzEpKTticmVha311LnB1c2gobyl9ZWxzZSB1LnB1c2gobyk7aD1oLmNvbmNhdCh0KX1yZXR1cm4gdS5sZW5ndGg/aC5sZW5ndGh8fFwic3RyaW5nXCIhPXR5cGVvZiB1PyhuPXtuOjE9PT11Lmxlbmd0aCYmXCJzdHJpbmdcIj09dHlwZW9mIHVbMF0/dVswXTp1fSwxPT09aC5sZW5ndGgmJlwic3RyaW5nXCI9PXR5cGVvZiBoWzBdPyhjPUFmKFwiW1wiK2hbMF0rXCJdXCIpLG4uYT1jP2MudmFsdWU6aFswXS50cmltKCkpOm4uZD1oKTpuPXU6bj1cIlwiLG59ZnVuY3Rpb24gVWUodCl7dmFyIGUsbixpLHIscyxvLGEsdSxoLGMsbCxmLGQscCxtLHY7aWYoZT10LnBvcyx0Lmluc2lkZXx8dC5pbkF0dHJpYnV0ZSlyZXR1cm4gbnVsbDtpZighdC5tYXRjaFN0cmluZyhcIjxcIikpcmV0dXJuIG51bGw7aWYoXCIvXCI9PT10Lm5leHRDaGFyKCkpcmV0dXJuIG51bGw7aWYobj17fSx0LmluY2x1ZGVMaW5lUG9zaXRpb25zJiYobi5wPXQuZ2V0TGluZVBvcyhlKSksdC5tYXRjaFN0cmluZyhcIiFcIikpcmV0dXJuIG4udD11Yyx0Lm1hdGNoUGF0dGVybigvXmRvY3R5cGUvaSl8fHQuZXJyb3IoXCJFeHBlY3RlZCBET0NUWVBFIGRlY2xhcmF0aW9uXCIpLG4uYT10Lm1hdGNoUGF0dGVybigvXiguKz8pPi8pLG47aWYobi50PVhoLG4uZT10Lm1hdGNoUGF0dGVybihUZiksIW4uZSlyZXR1cm4gbnVsbDtmb3IoRmYudGVzdCh0Lm5leHRDaGFyKCkpfHx0LmVycm9yKFwiSWxsZWdhbCB0YWcgbmFtZVwiKSxzPWZ1bmN0aW9uKGUsaSl7dmFyIHI9aS5ufHxpO05mLnRlc3QocikmJih0LnBvcy09ci5sZW5ndGgsdC5lcnJvcihcIkNhbm5vdCB1c2UgcmVzZXJ2ZWQgZXZlbnQgbmFtZXMgKGNoYW5nZSwgcmVzZXQsIHRlYXJkb3duLCB1cGRhdGUsIGNvbnN0cnVjdCwgY29uZmlnLCBpbml0LCByZW5kZXIsIHVucmVuZGVyLCBkZXRhY2gsIGluc2VydClcIikpLG4udltlXT1pfSx0LmFsbG93V2hpdGVzcGFjZSgpO289TGModCl8fHhmKHQpOylvLm5hbWU/KGk9RGZbby5uYW1lXSk/bltpXT1TZihvLnZhbHVlLHQpOihyPWpmLmV4ZWMoby5uYW1lKSk/KG4udnx8KG4udj17fSksYT1TZihvLnZhbHVlLHQpLHMoclsxXSxhKSk6dC5zYW5pdGl6ZUV2ZW50QXR0cmlidXRlcyYmUmYudGVzdChvLm5hbWUpfHwobi5hfHwobi5hPXt9KSxuLmFbby5uYW1lXT1vLnZhbHVlfHwoXCJcIj09PW8udmFsdWU/XCJcIjowKSk6KG4ubXx8KG4ubT1bXSksbi5tLnB1c2gobykpLHQuYWxsb3dXaGl0ZXNwYWNlKCk7aWYodC5hbGxvd1doaXRlc3BhY2UoKSx0Lm1hdGNoU3RyaW5nKFwiL1wiKSYmKHU9ITApLCF0Lm1hdGNoU3RyaW5nKFwiPlwiKSlyZXR1cm4gbnVsbDt2YXIgZz1uLmUudG9Mb3dlckNhc2UoKSx5PXQucHJlc2VydmVXaGl0ZXNwYWNlO2lmKCF1JiYhYmwudGVzdChuLmUpKXt0LmVsZW1lbnRTdGFjay5wdXNoKGcpLChcInNjcmlwdFwiPT09Z3x8XCJzdHlsZVwiPT09ZykmJih0Lmluc2lkZT1nKSxoPVtdLGM9d2EobnVsbCk7ZG8gaWYocD10LnBvcyxtPXQucmVtYWluaW5nKCksV2UoZyxtKSlpZih2PXlmKHQpKXtkPSEwO3ZhciBiPXYuZS50b0xvd2VyQ2FzZSgpO2lmKGIhPT1nJiYodC5wb3M9cCwhfnQuZWxlbWVudFN0YWNrLmluZGV4T2YoYikpKXt2YXIgdz1cIlVuZXhwZWN0ZWQgY2xvc2luZyB0YWdcIjtibC50ZXN0KGIpJiYodys9XCIgKDxcIitiK1wiPiBpcyBhIHZvaWQgZWxlbWVudCAtIGl0IGNhbm5vdCBjb250YWluIGNoaWxkcmVuKVwiKSx0LmVycm9yKHcpfX1lbHNlKGY9VWwodCx7b3Blbjp0LnN0YW5kYXJkRGVsaW1pdGVyc1swXSxjbG9zZTp0LnN0YW5kYXJkRGVsaW1pdGVyc1sxXX0pKT8oZD0hMCx0LnBvcz1wKTooZj10LnJlYWQoZWQpKT8oY1tmLm5dJiYodC5wb3M9cCx0LmVycm9yKFwiRHVwbGljYXRlIHBhcnRpYWwgZGVmaW5pdGlvblwiKSksbGYoZi5mLHQuc3RyaXBDb21tZW50cyx5LCF5LCF5KSxjW2Yubl09Zi5mLGw9ITApOihmPXQucmVhZCh0ZCkpP2gucHVzaChmKTpkPSEwO2Vsc2UgZD0hMDt3aGlsZSghZCk7aC5sZW5ndGgmJihuLmY9aCksbCYmKG4ucD1jKSx0LmVsZW1lbnRTdGFjay5wb3AoKX1yZXR1cm4gdC5pbnNpZGU9bnVsbCx0LnNhbml0aXplRWxlbWVudHMmJi0xIT09dC5zYW5pdGl6ZUVsZW1lbnRzLmluZGV4T2YoZyk/SWY6bn1mdW5jdGlvbiBXZSh0LGUpe3ZhciBuLGk7cmV0dXJuIG49L148KFthLXpBLVpdW2EtekEtWjAtOV0qKS8uZXhlYyhlKSxpPVBmW3RdLG4mJmk/IX5pLmluZGV4T2YoblsxXS50b0xvd2VyQ2FzZSgpKTohMH1mdW5jdGlvbiB6ZSh0KXt2YXIgZSxuLGkscjtyZXR1cm4gbj10LnJlbWFpbmluZygpLHI9dC5pbnNpZGU/XCI8L1wiK3QuaW5zaWRlOlwiPFwiLHQuaW5zaWRlJiYhdC5pbnRlcnBvbGF0ZVt0Lmluc2lkZV0/ZT1uLmluZGV4T2Yocik6KGk9dC50YWdzLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5vcGVufSksaT1pLmNvbmNhdCh0LnRhZ3MubWFwKGZ1bmN0aW9uKHQpe3JldHVyblwiXFxcXFwiK3Qub3Blbn0pKSx0LmluQXR0cmlidXRlPT09ITA/aS5wdXNoKCdcIicsXCInXCIsXCI9XCIsXCI8XCIsXCI+XCIsXCJgXCIpOmkucHVzaCh0LmluQXR0cmlidXRlP3QuaW5BdHRyaWJ1dGU6ciksZT13ZihuLGkpKSxlPygtMT09PWUmJihlPW4ubGVuZ3RoKSx0LnBvcys9ZSx0Lmluc2lkZT9uLnN1YnN0cigwLGUpOl9lKG4uc3Vic3RyKDAsZSkpKTpudWxsfWZ1bmN0aW9uIEJlKHQpe3JldHVybiB0LnJlcGxhY2UoV2YsXCJcXFxcJCZcIil9ZnVuY3Rpb24gcWUodCl7dmFyIGU9dC5wb3Msbj10LnN0YW5kYXJkRGVsaW1pdGVyc1swXSxpPXQuc3RhbmRhcmREZWxpbWl0ZXJzWzFdLHI9dm9pZCAwLHM9dm9pZCAwO2lmKCF0Lm1hdGNoUGF0dGVybihCZil8fCF0Lm1hdGNoU3RyaW5nKG4pKXJldHVybiB0LnBvcz1lLG51bGw7dmFyIG89dC5tYXRjaFBhdHRlcm4ocWYpO2lmKHYoXCJJbmxpbmUgcGFydGlhbCBjb21tZW50cyBhcmUgZGVwcmVjYXRlZC5cXG5Vc2UgdGhpcy4uLlxcbiAge3sjcGFydGlhbCBcIitvK1wifX0gLi4uIHt7L3BhcnRpYWx9fVxcblxcbi4uLmluc3RlYWQgb2YgdGhpczpcXG4gIDwhLS0ge3s+XCIrbytcIn19IC0tPiAuLi4gPCEtLSB7ey9cIitvK1wifX0gLS0+J1wiKSwhdC5tYXRjaFN0cmluZyhpKXx8IXQubWF0Y2hQYXR0ZXJuKCRmKSlyZXR1cm4gdC5wb3M9ZSxudWxsO3I9W107dmFyIGE9bmV3IFJlZ0V4cChcIl48IS0tXFxcXHMqXCIrVWYobikrXCJcXFxccypcXFxcL1xcXFxzKlwiK28rXCJcXFxccypcIitVZihpKStcIlxcXFxzKi0tPlwiKTtkbyB0Lm1hdGNoUGF0dGVybihhKT9zPSEwOihMZj10LnJlYWQodGQpLExmfHx0LmVycm9yKFwiZXhwZWN0ZWQgY2xvc2luZyBjb21tZW50ICgnPCEtLSBcIituK1wiL1wiK28raStcIiAtLT4nKVwiKSxyLnB1c2goTGYpKTt3aGlsZSghcyk7cmV0dXJue3Q6YWMsZjpyLG46b319ZnVuY3Rpb24gJGUodCl7dmFyIGUsbixpLHIscztlPXQucG9zO3ZhciBvPXQuc3RhbmRhcmREZWxpbWl0ZXJzO2lmKCF0Lm1hdGNoU3RyaW5nKG9bMF0pKXJldHVybiBudWxsO2lmKCF0Lm1hdGNoUGF0dGVybihaZikpcmV0dXJuIHQucG9zPWUsbnVsbDtuPXQubWF0Y2hQYXR0ZXJuKC9eW2EtekEtWl8kXVthLXpBLVpfJDAtOVxcLV0qLyksbnx8dC5lcnJvcihcImV4cGVjdGVkIGxlZ2FsIHBhcnRpYWwgbmFtZVwiKSx0Lm1hdGNoU3RyaW5nKG9bMV0pfHx0LmVycm9yKFwiRXhwZWN0ZWQgY2xvc2luZyBkZWxpbWl0ZXIgJ1wiK29bMV0rXCInXCIpLGk9W107ZG8ocj1VbCh0LHtvcGVuOnQuc3RhbmRhcmREZWxpbWl0ZXJzWzBdLGNsb3NlOnQuc3RhbmRhcmREZWxpbWl0ZXJzWzFdfSkpPyhcInBhcnRpYWxcIj09PSFyLnImJnQuZXJyb3IoXCJFeHBlY3RlZCBcIitvWzBdK1wiL3BhcnRpYWxcIitvWzFdKSxzPSEwKToocj10LnJlYWQodGQpLHJ8fHQuZXJyb3IoXCJFeHBlY3RlZCBcIitvWzBdK1wiL3BhcnRpYWxcIitvWzFdKSxpLnB1c2gocikpO3doaWxlKCFzKTtyZXR1cm57dDphYyxuOm4sZjppfX1mdW5jdGlvbiBRZSh0KXtmb3IodmFyIGU9W10sbj13YShudWxsKSxpPSExLHI9dC5wcmVzZXJ2ZVdoaXRlc3BhY2U7dC5wb3M8dC5zdHIubGVuZ3RoOyl7dmFyIHM9dC5wb3Msbz12b2lkIDAsYT12b2lkIDA7KGE9dC5yZWFkKGVkKSk/KG5bYS5uXSYmKHQucG9zPXMsdC5lcnJvcihcIkR1cGxpY2F0ZWQgcGFydGlhbCBkZWZpbml0aW9uXCIpKSxsZihhLmYsdC5zdHJpcENvbW1lbnRzLHIsIXIsIXIpLG5bYS5uXT1hLmYsaT0hMCk6KG89dC5yZWFkKHRkKSk/ZS5wdXNoKG8pOnQuZXJyb3IoXCJVbmV4cGVjdGVkIHRlbXBsYXRlIGNvbnRlbnRcIik7XG5cbn12YXIgdT17djpvYSx0OmV9O3JldHVybiBpJiYodS5wPW4pLHV9ZnVuY3Rpb24gWmUodCxlKXtyZXR1cm4gbmV3IFhmKHQsZXx8e30pLnJlc3VsdH1mdW5jdGlvbiBIZSh0KXt2YXIgZT13YShvZCk7cmV0dXJuIGUucGFyc2U9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gS2UoZSxufHx0KX0sZX1mdW5jdGlvbiBLZSh0LGUpe2lmKCFLZil0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIFJhY3RpdmUucGFyc2UgLSBjYW5ub3QgcGFyc2UgdGVtcGxhdGUuIEVpdGhlciBwcmVwYXJzZSBvciB1c2UgdGhlIHZlcnNpb24gdGhhdCBpbmNsdWRlcyB0aGUgcGFyc2VyXCIpO3JldHVybiBLZih0LGV8fHRoaXMub3B0aW9ucyl9ZnVuY3Rpb24gR2UodCxlKXt2YXIgbjtpZighWG8pe2lmKGUmJmUubm9UaHJvdylyZXR1cm47dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHJldHJpZXZlIHRlbXBsYXRlICNcIit0K1wiIGFzIFJhY3RpdmUgaXMgbm90IHJ1bm5pbmcgaW4gYSBicm93c2VyLlwiKX1pZihZZSh0KSYmKHQ9dC5zdWJzdHJpbmcoMSkpLCEobj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0KSkpe2lmKGUmJmUubm9UaHJvdylyZXR1cm47dGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGZpbmQgdGVtcGxhdGUgZWxlbWVudCB3aXRoIGlkICNcIit0KX1pZihcIlNDUklQVFwiIT09bi50YWdOYW1lLnRvVXBwZXJDYXNlKCkpe2lmKGUmJmUubm9UaHJvdylyZXR1cm47dGhyb3cgbmV3IEVycm9yKFwiVGVtcGxhdGUgZWxlbWVudCB3aXRoIGlkICNcIit0K1wiLCBtdXN0IGJlIGEgPHNjcmlwdD4gZWxlbWVudFwiKX1yZXR1cm5cInRleHRDb250ZW50XCJpbiBuP24udGV4dENvbnRlbnQ6bi5pbm5lckhUTUx9ZnVuY3Rpb24gWWUodCl7cmV0dXJuIHQmJlwiI1wiPT09dFswXX1mdW5jdGlvbiBKZSh0KXtyZXR1cm4hKFwic3RyaW5nXCI9PXR5cGVvZiB0KX1mdW5jdGlvbiBYZSh0KXtyZXR1cm4gdC5kZWZhdWx0cyYmKHQ9dC5kZWZhdWx0cyksc2QucmVkdWNlKGZ1bmN0aW9uKGUsbil7cmV0dXJuIGVbbl09dFtuXSxlfSx7fSl9ZnVuY3Rpb24gdG4odCl7dmFyIGUsbj10Ll9jb25maWcudGVtcGxhdGU7aWYobiYmbi5mbilyZXR1cm4gZT1lbih0LG4uZm4pLGUhPT1uLnJlc3VsdD8obi5yZXN1bHQ9ZSxlPXJuKGUsdCkpOnZvaWQgMH1mdW5jdGlvbiBlbih0LGUpe3ZhciBuPW5uKGFkLmdldFBhcnNlT3B0aW9ucyh0KSk7cmV0dXJuIGUuY2FsbCh0LG4pfWZ1bmN0aW9uIG5uKHQpe3ZhciBlPXdhKGFkKTtyZXR1cm4gZS5wYXJzZT1mdW5jdGlvbihlLG4pe3JldHVybiBhZC5wYXJzZShlLG58fHQpfSxlfWZ1bmN0aW9uIHJuKHQsZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpXCIjXCI9PT10WzBdJiYodD1hZC5mcm9tSWQodCkpLHQ9S2YodCxhZC5nZXRQYXJzZU9wdGlvbnMoZSkpO2Vsc2V7aWYodm9pZCAwPT10KXRocm93IG5ldyBFcnJvcihcIlRoZSB0ZW1wbGF0ZSBjYW5ub3QgYmUgXCIrdCtcIi5cIik7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHQudil0aHJvdyBuZXcgRXJyb3IoXCJUaGUgdGVtcGxhdGUgcGFyc2VyIHdhcyBwYXNzZWQgYSBub24tc3RyaW5nIHRlbXBsYXRlLCBidXQgdGhlIHRlbXBsYXRlIGRvZXNuJ3QgaGF2ZSBhIHZlcnNpb24uICBNYWtlIHN1cmUgeW91J3JlIHBhc3NpbmcgaW4gdGhlIHRlbXBsYXRlIHlvdSB0aGluayB5b3UgYXJlLlwiKTtpZih0LnYhPT1vYSl0aHJvdyBuZXcgRXJyb3IoXCJNaXNtYXRjaGVkIHRlbXBsYXRlIHZlcnNpb24gKGV4cGVjdGVkIFwiK29hK1wiLCBnb3QgXCIrdC52K1wiKSBQbGVhc2UgZW5zdXJlIHlvdSBhcmUgdXNpbmcgdGhlIGxhdGVzdCB2ZXJzaW9uIG9mIFJhY3RpdmUuanMgaW4geW91ciBidWlsZCBwcm9jZXNzIGFzIHdlbGwgYXMgaW4geW91ciBhcHBcIil9cmV0dXJuIHR9ZnVuY3Rpb24gc24odCxlLG4pe2lmKGUpZm9yKHZhciBpIGluIGUpKG58fCF0Lmhhc093blByb3BlcnR5KGkpKSYmKHRbaV09ZVtpXSl9ZnVuY3Rpb24gb24odCxlLG4pe2lmKCEvX3N1cGVyLy50ZXN0KG4pKXJldHVybiBuO3ZhciBpPWZ1bmN0aW9uKCl7dmFyIHQscj1hbihpLl9wYXJlbnQsZSkscz1cIl9zdXBlclwiaW4gdGhpcyxvPXRoaXMuX3N1cGVyO3JldHVybiB0aGlzLl9zdXBlcj1yLHQ9bi5hcHBseSh0aGlzLGFyZ3VtZW50cykscz90aGlzLl9zdXBlcj1vOmRlbGV0ZSB0aGlzLl9zdXBlcix0fTtyZXR1cm4gaS5fcGFyZW50PXQsaS5fbWV0aG9kPW4saX1mdW5jdGlvbiBhbih0LGUpe3ZhciBuLGk7cmV0dXJuIGUgaW4gdD8obj10W2VdLGk9XCJmdW5jdGlvblwiPT10eXBlb2Ygbj9uOmZ1bmN0aW9uKCl7cmV0dXJuIG59KTppPUZhLGl9ZnVuY3Rpb24gdW4odCxlLG4pe3JldHVyblwib3B0aW9ucy5cIit0K1wiIGhhcyBiZWVuIGRlcHJlY2F0ZWQgaW4gZmF2b3VyIG9mIG9wdGlvbnMuXCIrZStcIi5cIisobj9cIiBZb3UgY2Fubm90IHNwZWNpZnkgYm90aCBvcHRpb25zLCBwbGVhc2UgdXNlIG9wdGlvbnMuXCIrZStcIi5cIjpcIlwiKX1mdW5jdGlvbiBobih0LGUsbil7aWYoZSBpbiB0KXtpZihuIGluIHQpdGhyb3cgbmV3IEVycm9yKHVuKGUsbiwhMCkpO20odW4oZSxuKSksdFtuXT10W2VdfX1mdW5jdGlvbiBjbih0KXtobih0LFwiYmVmb3JlSW5pdFwiLFwib25jb25zdHJ1Y3RcIiksaG4odCxcImluaXRcIixcIm9ucmVuZGVyXCIpLGhuKHQsXCJjb21wbGV0ZVwiLFwib25jb21wbGV0ZVwiKSxobih0LFwiZXZlbnREZWZpbml0aW9uc1wiLFwiZXZlbnRzXCIpLHModC5hZGFwdG9ycykmJmhuKHQsXCJhZGFwdG9yc1wiLFwiYWRhcHRcIil9ZnVuY3Rpb24gbG4odCxlLG4saSl7eWQoaSk7Zm9yKHZhciByIGluIGkpaWYobWQuaGFzT3duUHJvcGVydHkocikpe3ZhciBzPWlbcl07XCJlbFwiIT09ciYmXCJmdW5jdGlvblwiPT10eXBlb2Ygcz9tKFwiXCIrcitcIiBpcyBhIFJhY3RpdmUgb3B0aW9uIHRoYXQgZG9lcyBub3QgZXhwZWN0IGEgZnVuY3Rpb24gYW5kIHdpbGwgYmUgaWdub3JlZFwiLFwiaW5pdFwiPT09dD9uOm51bGwpOm5bcl09c312ZC5mb3JFYWNoKGZ1bmN0aW9uKHIpe3JbdF0oZSxuLGkpfSksVGhbdF0oZSxuLGkpLGhkW3RdKGUsbixpKSxNaFt0XShlLG4saSksZm4oZS5wcm90b3R5cGUsbixpKX1mdW5jdGlvbiBmbih0LGUsbil7Zm9yKHZhciBpIGluIG4paWYoIXBkW2ldJiZuLmhhc093blByb3BlcnR5KGkpKXt2YXIgcj1uW2ldO1wiZnVuY3Rpb25cIj09dHlwZW9mIHImJihyPWdkKHQsaSxyKSksZVtpXT1yfX1mdW5jdGlvbiBkbih0KXt2YXIgZT17fTtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdPSEwfSksZX1mdW5jdGlvbiBwbigpe3RoaXMuZGlydHlWYWx1ZT10aGlzLmRpcnR5QXJncz0hMCx0aGlzLmJvdW5kJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLm93bmVyLmJ1YmJsZSYmdGhpcy5vd25lci5idWJibGUoKX1mdW5jdGlvbiBtbigpe3ZhciB0O3JldHVybiAxPT09dGhpcy5pdGVtcy5sZW5ndGg/dGhpcy5pdGVtc1swXS5kZXRhY2goKToodD1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksdGhpcy5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBuPWUuZGV0YWNoKCk7biYmdC5hcHBlbmRDaGlsZChuKX0pLHQpfWZ1bmN0aW9uIHZuKHQpe3ZhciBlLG4saSxyO2lmKHRoaXMuaXRlbXMpe2ZvcihuPXRoaXMuaXRlbXMubGVuZ3RoLGU9MDtuPmU7ZSs9MSlpZihpPXRoaXMuaXRlbXNbZV0saS5maW5kJiYocj1pLmZpbmQodCkpKXJldHVybiByO3JldHVybiBudWxsfX1mdW5jdGlvbiBnbih0LGUpe3ZhciBuLGkscjtpZih0aGlzLml0ZW1zKWZvcihpPXRoaXMuaXRlbXMubGVuZ3RoLG49MDtpPm47bis9MSlyPXRoaXMuaXRlbXNbbl0sci5maW5kQWxsJiZyLmZpbmRBbGwodCxlKTtyZXR1cm4gZX1mdW5jdGlvbiB5bih0LGUpe3ZhciBuLGkscjtpZih0aGlzLml0ZW1zKWZvcihpPXRoaXMuaXRlbXMubGVuZ3RoLG49MDtpPm47bis9MSlyPXRoaXMuaXRlbXNbbl0sci5maW5kQWxsQ29tcG9uZW50cyYmci5maW5kQWxsQ29tcG9uZW50cyh0LGUpO3JldHVybiBlfWZ1bmN0aW9uIGJuKHQpe3ZhciBlLG4saSxyO2lmKHRoaXMuaXRlbXMpe2ZvcihlPXRoaXMuaXRlbXMubGVuZ3RoLG49MDtlPm47bis9MSlpZihpPXRoaXMuaXRlbXNbbl0saS5maW5kQ29tcG9uZW50JiYocj1pLmZpbmRDb21wb25lbnQodCkpKXJldHVybiByO3JldHVybiBudWxsfX1mdW5jdGlvbiB3bih0KXt2YXIgZSxuPXQuaW5kZXg7cmV0dXJuIGU9dGhpcy5pdGVtc1tuKzFdP3RoaXMuaXRlbXNbbisxXS5maXJzdE5vZGUoKTp0aGlzLm93bmVyPT09dGhpcy5yb290P3RoaXMub3duZXIuY29tcG9uZW50P3RoaXMub3duZXIuY29tcG9uZW50LmZpbmROZXh0Tm9kZSgpOm51bGw6dGhpcy5vd25lci5maW5kTmV4dE5vZGUodGhpcyl9ZnVuY3Rpb24geG4oKXtyZXR1cm4gdGhpcy5pdGVtcyYmdGhpcy5pdGVtc1swXT90aGlzLml0ZW1zWzBdLmZpcnN0Tm9kZSgpOm51bGx9ZnVuY3Rpb24ga24odCxlLG4saSl7cmV0dXJuIGk9aXx8MCx0Lm1hcChmdW5jdGlvbih0KXt2YXIgcixzLG87cmV0dXJuIHQudGV4dD90LnRleHQ6dC5mcmFnbWVudHM/dC5mcmFnbWVudHMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBrbih0Lml0ZW1zLGUsbixpKX0pLmpvaW4oXCJcIik6KHI9bitcIi1cIitpKyssbz10LmtleXBhdGgmJihzPXQucm9vdC52aWV3bW9kZWwud3JhcHBlZFt0LmtleXBhdGguc3RyXSk/cy52YWx1ZTp0LmdldFZhbHVlKCksZVtyXT1vLFwiJHtcIityK1wifVwiKX0pLmpvaW4oXCJcIil9ZnVuY3Rpb24gRW4oKXt2YXIgdCxlLG4saTtyZXR1cm4gdGhpcy5kaXJ0eUFyZ3MmJihlPU9kKHRoaXMuaXRlbXMsdD17fSx0aGlzLnJvb3QuX2d1aWQpLG49QWYoXCJbXCIrZStcIl1cIix0KSxpPW4/bi52YWx1ZTpbdGhpcy50b1N0cmluZygpXSx0aGlzLmFyZ3NMaXN0PWksdGhpcy5kaXJ0eUFyZ3M9ITEpLHRoaXMuYXJnc0xpc3R9ZnVuY3Rpb24gX24oKXt2YXIgdD10aGlzO2RvIGlmKHQucEVsZW1lbnQpcmV0dXJuIHQucEVsZW1lbnQubm9kZTt3aGlsZSh0PXQucGFyZW50KTtyZXR1cm4gdGhpcy5yb290LmRldGFjaGVkfHx0aGlzLnJvb3QuZWx9ZnVuY3Rpb24gQW4oKXt2YXIgdCxlLG4saTtyZXR1cm4gdGhpcy5kaXJ0eVZhbHVlJiYoZT1PZCh0aGlzLml0ZW1zLHQ9e30sdGhpcy5yb290Ll9ndWlkKSxuPUFmKGUsdCksaT1uP24udmFsdWU6dGhpcy50b1N0cmluZygpLHRoaXMudmFsdWU9aSx0aGlzLmRpcnR5VmFsdWU9ITEpLHRoaXMudmFsdWV9ZnVuY3Rpb24gU24oKXt0aGlzLnJlZ2lzdGVyZWQmJnRoaXMucm9vdC52aWV3bW9kZWwudW5yZWdpc3Rlcih0aGlzLmtleXBhdGgsdGhpcyksdGhpcy5yZXNvbHZlciYmdGhpcy5yZXNvbHZlci51bmJpbmQoKX1mdW5jdGlvbiBDbigpe3JldHVybiB0aGlzLnZhbHVlfWZ1bmN0aW9uIE9uKHQsZSl7Zm9yKHZhciBuLGk9MDtpPGUucHJvcC5sZW5ndGg7aSsrKWlmKHZvaWQgMCE9PShuPXRbZS5wcm9wW2ldXSkpcmV0dXJuIG59ZnVuY3Rpb24gUG4odCxlKXt2YXIgbixpLHIscyxvLGE9e30sdT0hMTtmb3IoZXx8KGEucmVmcz1uPXt9KTt0Oyl7aWYoKG89dC5vd25lcikmJihpPW8uaW5kZXhSZWZzKSl7aWYoZSYmKHI9by5nZXRJbmRleFJlZihlKSkpcmV0dXJuIGEucmVmPXtmcmFnbWVudDp0LHJlZjpyfSxhO2lmKCFlKWZvcihzIGluIGkpcj1pW3NdLG5bci5uXXx8KHU9ITAsbltyLm5dPXtmcmFnbWVudDp0LHJlZjpyfSl9IXQucGFyZW50JiZ0Lm93bmVyJiZ0Lm93bmVyLmNvbXBvbmVudCYmdC5vd25lci5jb21wb25lbnQucGFyZW50RnJhZ21lbnQmJiF0Lm93bmVyLmNvbXBvbmVudC5pbnN0YW5jZS5pc29sYXRlZD8oYS5jb21wb25lbnRCb3VuZGFyeT0hMCx0PXQub3duZXIuY29tcG9uZW50LnBhcmVudEZyYWdtZW50KTp0PXQucGFyZW50fXJldHVybiB1P2E6dm9pZCAwfWZ1bmN0aW9uIFRuKHQsZSxuKXt2YXIgaTtyZXR1cm5cIkBcIj09PWUuY2hhckF0KDApP25ldyBXZCh0LGUsbik6KGk9cWQodC5wYXJlbnRGcmFnbWVudCxlKSk/bmV3IEJkKHQsaSxuKTpuZXcgVmQodCxlLG4pfWZ1bmN0aW9uIEZuKHQsZSl7dmFyIG4saTtpZihIZFt0XSlyZXR1cm4gSGRbdF07Zm9yKGk9W107ZS0tOylpW2VdPVwiX1wiK2U7cmV0dXJuIG49bmV3IEZ1bmN0aW9uKGkuam9pbihcIixcIiksXCJyZXR1cm4oXCIrdCtcIilcIiksSGRbdF09bixufWZ1bmN0aW9uIFJuKHQpe3JldHVybiB0LmNhbGwoKX1mdW5jdGlvbiBqbih0LGUpe3JldHVybiB0LnJlcGxhY2UoL18oWzAtOV0rKS9nLGZ1bmN0aW9uKHQsbil7dmFyIGkscjtyZXR1cm4rbj49ZS5sZW5ndGg/XCJfXCIrbjooaT1lW25dLHZvaWQgMD09PWk/XCJ1bmRlZmluZWRcIjppLmlzU3BlY2lhbD8ocj1pLnZhbHVlLFwibnVtYmVyXCI9PXR5cGVvZiByP3I6J1wiJytyKydcIicpOmkuc3RyKX0pfWZ1bmN0aW9uIE5uKHQpe3JldHVybiBfKFwiJHtcIit0LnJlcGxhY2UoL1tcXC5cXFtcXF1dL2csXCItXCIpLnJlcGxhY2UoL1xcKi8sXCIjTVVMI1wiKStcIn1cIil9ZnVuY3Rpb24gRG4odCl7cmV0dXJuIHZvaWQgMCE9PXQmJlwiQFwiIT09dFswXX1mdW5jdGlvbiBJbih0LGUpe3ZhciBuLGkscjtpZih0Ll9fcmFjdGl2ZV9ub3dyYXApcmV0dXJuIHQ7aWYoaT1cIl9fcmFjdGl2ZV9cIitlLl9ndWlkLG49dFtpXSlyZXR1cm4gbjtpZigvdGhpcy8udGVzdCh0LnRvU3RyaW5nKCkpKXt4YSh0LGkse3ZhbHVlOktkLmNhbGwodCxlKSxjb25maWd1cmFibGU6ITB9KTtmb3IociBpbiB0KXQuaGFzT3duUHJvcGVydHkocikmJih0W2ldW3JdPXRbcl0pO3JldHVybiBlLl9ib3VuZEZ1bmN0aW9ucy5wdXNoKHtmbjp0LHByb3A6aX0pLHRbaV19cmV0dXJuIHhhKHQsXCJfX3JhY3RpdmVfbm93cmFwXCIse3ZhbHVlOnR9KSx0Ll9fcmFjdGl2ZV9ub3dyYXB9ZnVuY3Rpb24gTG4odCl7cmV0dXJuIHQudmFsdWV9ZnVuY3Rpb24gVm4odCl7cmV0dXJuIHZvaWQgMCE9dH1mdW5jdGlvbiBNbih0KXt0LmZvcmNlUmVzb2x1dGlvbigpfWZ1bmN0aW9uIFVuKHQsZSl7ZnVuY3Rpb24gbihlKXt0LnJlc29sdmUoZSl9ZnVuY3Rpb24gaShlKXt2YXIgbj10LmtleXBhdGg7ZSE9biYmKHQucmVzb2x2ZShlKSx2b2lkIDAhPT1uJiZ0LmZyYWdtZW50cyYmdC5mcmFnbWVudHMuZm9yRWFjaChmdW5jdGlvbih0KXt0LnJlYmluZChuLGUpfSkpfXZhciByLHMsbztzPWUucGFyZW50RnJhZ21lbnQsbz1lLnRlbXBsYXRlLHQucm9vdD1zLnJvb3QsdC5wYXJlbnRGcmFnbWVudD1zLHQucEVsZW1lbnQ9cy5wRWxlbWVudCx0LnRlbXBsYXRlPWUudGVtcGxhdGUsdC5pbmRleD1lLmluZGV4fHwwLHQuaXNTdGF0aWM9ZS50ZW1wbGF0ZS5zLHQudHlwZT1lLnRlbXBsYXRlLnQsdC5yZWdpc3RlcmVkPSExLChyPW8ucikmJih0LnJlc29sdmVyPVFkKHQscixuKSksZS50ZW1wbGF0ZS54JiYodC5yZXNvbHZlcj1uZXcgR2QodCxzLGUudGVtcGxhdGUueCxpKSksZS50ZW1wbGF0ZS5yeCYmKHQucmVzb2x2ZXI9bmV3IHRwKHQsZS50ZW1wbGF0ZS5yeCxpKSksdC50ZW1wbGF0ZS5uIT09U2N8fHQuaGFzT3duUHJvcGVydHkoXCJ2YWx1ZVwiKXx8dC5zZXRWYWx1ZSh2b2lkIDApfWZ1bmN0aW9uIFduKHQpe3ZhciBlLG4saTtyZXR1cm4gdCYmdC5pc1NwZWNpYWw/KHRoaXMua2V5cGF0aD10LHZvaWQgdGhpcy5zZXRWYWx1ZSh0LnZhbHVlKSk6KHRoaXMucmVnaXN0ZXJlZCYmKHRoaXMucm9vdC52aWV3bW9kZWwudW5yZWdpc3Rlcih0aGlzLmtleXBhdGgsdGhpcyksdGhpcy5yZWdpc3RlcmVkPSExLGU9ITApLHRoaXMua2V5cGF0aD10LHZvaWQgMCE9dCYmKG49dGhpcy5yb290LnZpZXdtb2RlbC5nZXQodCksdGhpcy5yb290LnZpZXdtb2RlbC5yZWdpc3Rlcih0LHRoaXMpLHRoaXMucmVnaXN0ZXJlZD0hMCksdGhpcy5zZXRWYWx1ZShuKSx2b2lkKGUmJihpPXRoaXMudHdvd2F5QmluZGluZykmJmkucmVib3VuZCgpKSl9ZnVuY3Rpb24gem4odCxlKXt0aGlzLmZyYWdtZW50cyYmdGhpcy5mcmFnbWVudHMuZm9yRWFjaChmdW5jdGlvbihuKXtyZXR1cm4gbi5yZWJpbmQodCxlKX0pLHRoaXMucmVzb2x2ZXImJnRoaXMucmVzb2x2ZXIucmViaW5kKHQsZSl9ZnVuY3Rpb24gQm4oKXt0aGlzLnBhcmVudEZyYWdtZW50LmJ1YmJsZSgpfWZ1bmN0aW9uIHFuKCl7dmFyIHQ7cmV0dXJuIDE9PT10aGlzLmZyYWdtZW50cy5sZW5ndGg/dGhpcy5mcmFnbWVudHNbMF0uZGV0YWNoKCk6KHQ9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHRoaXMuZnJhZ21lbnRzLmZvckVhY2goZnVuY3Rpb24oZSl7dC5hcHBlbmRDaGlsZChlLmRldGFjaCgpKX0pLHQpfWZ1bmN0aW9uICRuKHQpe3ZhciBlLG4saTtmb3Iobj10aGlzLmZyYWdtZW50cy5sZW5ndGgsZT0wO24+ZTtlKz0xKWlmKGk9dGhpcy5mcmFnbWVudHNbZV0uZmluZCh0KSlyZXR1cm4gaTtyZXR1cm4gbnVsbH1mdW5jdGlvbiBRbih0LGUpe3ZhciBuLGk7Zm9yKGk9dGhpcy5mcmFnbWVudHMubGVuZ3RoLG49MDtpPm47bis9MSl0aGlzLmZyYWdtZW50c1tuXS5maW5kQWxsKHQsZSl9ZnVuY3Rpb24gWm4odCxlKXt2YXIgbixpO2ZvcihpPXRoaXMuZnJhZ21lbnRzLmxlbmd0aCxuPTA7aT5uO24rPTEpdGhpcy5mcmFnbWVudHNbbl0uZmluZEFsbENvbXBvbmVudHModCxlKX1mdW5jdGlvbiBIbih0KXt2YXIgZSxuLGk7Zm9yKG49dGhpcy5mcmFnbWVudHMubGVuZ3RoLGU9MDtuPmU7ZSs9MSlpZihpPXRoaXMuZnJhZ21lbnRzW2VdLmZpbmRDb21wb25lbnQodCkpcmV0dXJuIGk7cmV0dXJuIG51bGx9ZnVuY3Rpb24gS24odCl7cmV0dXJuIHRoaXMuZnJhZ21lbnRzW3QuaW5kZXgrMV0/dGhpcy5mcmFnbWVudHNbdC5pbmRleCsxXS5maXJzdE5vZGUoKTp0aGlzLnBhcmVudEZyYWdtZW50LmZpbmROZXh0Tm9kZSh0aGlzKX1mdW5jdGlvbiBHbigpe3ZhciB0LGUsbjtpZih0PXRoaXMuZnJhZ21lbnRzLmxlbmd0aClmb3IoZT0wO3Q+ZTtlKz0xKWlmKG49dGhpcy5mcmFnbWVudHNbZV0uZmlyc3ROb2RlKCkpcmV0dXJuIG47cmV0dXJuIHRoaXMucGFyZW50RnJhZ21lbnQuZmluZE5leHROb2RlKHRoaXMpfWZ1bmN0aW9uIFluKHQpe3ZhciBlLG4saSxyLHMsbyxhLHU9dGhpcztpZighdGhpcy5zaHVmZmxpbmcmJiF0aGlzLnVuYm91bmQmJnRoaXMuY3VycmVudFN1YnR5cGU9PT1DYyl7aWYodGhpcy5zaHVmZmxpbmc9ITAsbXUuc2NoZWR1bGVUYXNrKGZ1bmN0aW9uKCl7cmV0dXJuIHUuc2h1ZmZsaW5nPSExfSksZT10aGlzLnBhcmVudEZyYWdtZW50LHM9W10sdC5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7dmFyIGkscixvLGEsaDtyZXR1cm4gdD09PWU/dm9pZChzW3RdPXUuZnJhZ21lbnRzW2VdKTooaT11LmZyYWdtZW50c1tlXSx2b2lkIDA9PT1uJiYobj1lKSwtMT09PXQ/KHUuZnJhZ21lbnRzVG9VbnJlbmRlci5wdXNoKGkpLHZvaWQgaS51bmJpbmQoKSk6KHI9dC1lLG89dS5rZXlwYXRoLmpvaW4oZSksYT11LmtleXBhdGguam9pbih0KSxpLmluZGV4PXQsKGg9aS5yZWdpc3RlcmVkSW5kZXhSZWZzKSYmaC5mb3JFYWNoKEpuKSxpLnJlYmluZChvLGEpLHZvaWQoc1t0XT1pKSkpfSkscj10aGlzLnJvb3Qudmlld21vZGVsLmdldCh0aGlzLmtleXBhdGgpLmxlbmd0aCx2b2lkIDA9PT1uKXtpZih0aGlzLmxlbmd0aD09PXIpcmV0dXJuO249dGhpcy5sZW5ndGh9Zm9yKHRoaXMubGVuZ3RoPXRoaXMuZnJhZ21lbnRzLmxlbmd0aD1yLHRoaXMucmVuZGVyZWQmJm11LmFkZFZpZXcodGhpcyksbz17dGVtcGxhdGU6dGhpcy50ZW1wbGF0ZS5mLHJvb3Q6dGhpcy5yb290LG93bmVyOnRoaXN9LGk9bjtyPmk7aSs9MSlhPXNbaV0sYXx8dGhpcy5mcmFnbWVudHNUb0NyZWF0ZS5wdXNoKGkpLHRoaXMuZnJhZ21lbnRzW2ldPWF9fWZ1bmN0aW9uIEpuKHQpe3QucmViaW5kKFwiXCIsXCJcIil9ZnVuY3Rpb24gWG4oKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLmRvY0ZyYWc9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHRoaXMuZnJhZ21lbnRzLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIHQuZG9jRnJhZy5hcHBlbmRDaGlsZChlLnJlbmRlcigpKX0pLHRoaXMucmVuZGVyZWRGcmFnbWVudHM9dGhpcy5mcmFnbWVudHMuc2xpY2UoKSx0aGlzLmZyYWdtZW50c1RvUmVuZGVyPVtdLHRoaXMucmVuZGVyZWQ9ITAsdGhpcy5kb2NGcmFnfWZ1bmN0aW9uIHRpKHQpe3ZhciBlLG4saT10aGlzO3RoaXMudXBkYXRpbmd8fCh0aGlzLnVwZGF0aW5nPSEwLHRoaXMua2V5cGF0aCYmKGU9dGhpcy5yb290LnZpZXdtb2RlbC53cmFwcGVkW3RoaXMua2V5cGF0aC5zdHJdKSYmKHQ9ZS5nZXQoKSksdGhpcy5mcmFnbWVudHNUb0NyZWF0ZS5sZW5ndGg/KG49e3RlbXBsYXRlOnRoaXMudGVtcGxhdGUuZnx8W10scm9vdDp0aGlzLnJvb3QscEVsZW1lbnQ6dGhpcy5wRWxlbWVudCxvd25lcjp0aGlzfSx0aGlzLmZyYWdtZW50c1RvQ3JlYXRlLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU7bi5jb250ZXh0PWkua2V5cGF0aC5qb2luKHQpLG4uaW5kZXg9dCxlPW5ldyB5YihuKSxpLmZyYWdtZW50c1RvUmVuZGVyLnB1c2goaS5mcmFnbWVudHNbdF09ZSl9KSx0aGlzLmZyYWdtZW50c1RvQ3JlYXRlLmxlbmd0aD0wKTpuaSh0aGlzLHQpJiYodGhpcy5idWJibGUoKSx0aGlzLnJlbmRlcmVkJiZtdS5hZGRWaWV3KHRoaXMpKSx0aGlzLnZhbHVlPXQsdGhpcy51cGRhdGluZz0hMSl9ZnVuY3Rpb24gZWkodCxlLG4pe2lmKGU9PT1DYyYmdC5pbmRleFJlZnMmJnQuaW5kZXhSZWZzWzBdKXt2YXIgaT10LmluZGV4UmVmc1swXTsobiYmXCJpXCI9PT1pLnR8fCFuJiZcImtcIj09PWkudCkmJihufHwodC5sZW5ndGg9MCx0LmZyYWdtZW50c1RvVW5yZW5kZXI9dC5mcmFnbWVudHMuc2xpY2UoMCksdC5mcmFnbWVudHNUb1VucmVuZGVyLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQudW5iaW5kKCl9KSkpLGkudD1uP1wia1wiOlwiaVwifXQuY3VycmVudFN1YnR5cGU9ZX1mdW5jdGlvbiBuaSh0LGUpe3ZhciBuPXt0ZW1wbGF0ZTp0LnRlbXBsYXRlLmZ8fFtdLHJvb3Q6dC5yb290LHBFbGVtZW50OnQucGFyZW50RnJhZ21lbnQucEVsZW1lbnQsb3duZXI6dH07aWYodC5oYXNDb250ZXh0PSEwLHQuc3VidHlwZSlzd2l0Y2godC5zdWJ0eXBlKXtjYXNlIEFjOnJldHVybiB0Lmhhc0NvbnRleHQ9ITEsYWkodCxlLCExLG4pO2Nhc2UgU2M6cmV0dXJuIHQuaGFzQ29udGV4dD0hMSxhaSh0LGUsITAsbik7Y2FzZSBPYzpyZXR1cm4gb2kodCxuKTtjYXNlIFBjOnJldHVybiBzaSh0LGUsbik7Y2FzZSBDYzppZihoKGUpKXJldHVybiBlaSh0LHQuc3VidHlwZSwhMCkscmkodCxlLG4pfXJldHVybiB0Lm9yZGVyZWQ9ISFvKGUpLHQub3JkZXJlZD8oZWkodCxDYywhMSksaWkodCxlLG4pKTpoKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlP3QudGVtcGxhdGUuaT8oZWkodCxDYywhMCkscmkodCxlLG4pKTooZWkodCxPYywhMSksb2kodCxuKSk6KGVpKHQsQWMsITEpLHQuaGFzQ29udGV4dD0hMSxhaSh0LGUsITEsbikpfWZ1bmN0aW9uIGlpKHQsZSxuKXt2YXIgaSxyLHM7aWYocj1lLmxlbmd0aCxyPT09dC5sZW5ndGgpcmV0dXJuITE7aWYocjx0Lmxlbmd0aCl0LmZyYWdtZW50c1RvVW5yZW5kZXI9dC5mcmFnbWVudHMuc3BsaWNlKHIsdC5sZW5ndGgtciksdC5mcmFnbWVudHNUb1VucmVuZGVyLmZvckVhY2goWik7ZWxzZSBpZihyPnQubGVuZ3RoKWZvcihpPXQubGVuZ3RoO3I+aTtpKz0xKW4uY29udGV4dD10LmtleXBhdGguam9pbihpKSxuLmluZGV4PWkscz1uZXcgeWIobiksdC5mcmFnbWVudHNUb1JlbmRlci5wdXNoKHQuZnJhZ21lbnRzW2ldPXMpO3JldHVybiB0Lmxlbmd0aD1yLCEwfWZ1bmN0aW9uIHJpKHQsZSxuKXt2YXIgaSxyLHMsbyxhLHU7Zm9yKHM9dC5oYXNLZXl8fCh0Lmhhc0tleT17fSkscj10LmZyYWdtZW50cy5sZW5ndGg7ci0tOylvPXQuZnJhZ21lbnRzW3JdLG8ua2V5IGluIGV8fChhPSEwLG8udW5iaW5kKCksdC5mcmFnbWVudHNUb1VucmVuZGVyLnB1c2gobyksdC5mcmFnbWVudHMuc3BsaWNlKHIsMSksc1tvLmtleV09ITEpO2ZvcihyPXQuZnJhZ21lbnRzLmxlbmd0aDtyLS07KW89dC5mcmFnbWVudHNbcl0sby5pbmRleCE9PXImJihvLmluZGV4PXIsKHU9by5yZWdpc3RlcmVkSW5kZXhSZWZzKSYmdS5mb3JFYWNoKGNpKSk7cj10LmZyYWdtZW50cy5sZW5ndGg7Zm9yKGkgaW4gZSlzW2ldfHwoYT0hMCxuLmNvbnRleHQ9dC5rZXlwYXRoLmpvaW4oaSksbi5rZXk9aSxuLmluZGV4PXIrKyxvPW5ldyB5YihuKSx0LmZyYWdtZW50c1RvUmVuZGVyLnB1c2gobyksdC5mcmFnbWVudHMucHVzaChvKSxzW2ldPSEwKTtyZXR1cm4gdC5sZW5ndGg9dC5mcmFnbWVudHMubGVuZ3RoLGF9ZnVuY3Rpb24gc2kodCxlLG4pe3JldHVybiBlP29pKHQsbik6dWkodCl9ZnVuY3Rpb24gb2kodCxlKXt2YXIgbjtyZXR1cm4gdC5sZW5ndGg/dm9pZCAwOihlLmNvbnRleHQ9dC5rZXlwYXRoLGUuaW5kZXg9MCxuPW5ldyB5YihlKSx0LmZyYWdtZW50c1RvUmVuZGVyLnB1c2godC5mcmFnbWVudHNbMF09biksdC5sZW5ndGg9MSwhMCl9ZnVuY3Rpb24gYWkodCxlLG4saSl7dmFyIHIscyxhLHUsYztpZihzPW8oZSkmJjA9PT1lLmxlbmd0aCxhPSExLCFvKGUpJiZoKGUpKXthPSEwO2ZvcihjIGluIGUpe2E9ITE7YnJlYWt9fXJldHVybiByPW4/c3x8YXx8IWU6ZSYmIXMmJiFhLHI/dC5sZW5ndGg/dC5sZW5ndGg+MT8odC5mcmFnbWVudHNUb1VucmVuZGVyPXQuZnJhZ21lbnRzLnNwbGljZSgxKSx0LmZyYWdtZW50c1RvVW5yZW5kZXIuZm9yRWFjaChaKSwhMCk6dm9pZCAwOihpLmluZGV4PTAsdT1uZXcgeWIoaSksdC5mcmFnbWVudHNUb1JlbmRlci5wdXNoKHQuZnJhZ21lbnRzWzBdPXUpLHQubGVuZ3RoPTEsITApOnVpKHQpfWZ1bmN0aW9uIHVpKHQpe3JldHVybiB0Lmxlbmd0aD8odC5mcmFnbWVudHNUb1VucmVuZGVyPXQuZnJhZ21lbnRzLnNwbGljZSgwLHQuZnJhZ21lbnRzLmxlbmd0aCkuZmlsdGVyKGhpKSx0LmZyYWdtZW50c1RvVW5yZW5kZXIuZm9yRWFjaChaKSx0Lmxlbmd0aD10LmZyYWdtZW50c1RvUmVuZGVyLmxlbmd0aD0wLCEwKTp2b2lkIDB9ZnVuY3Rpb24gaGkodCl7cmV0dXJuIHQucmVuZGVyZWR9ZnVuY3Rpb24gY2kodCl7dC5yZWJpbmQoXCJcIixcIlwiKX1mdW5jdGlvbiBsaSh0KXt2YXIgZSxuLGk7Zm9yKGU9XCJcIixuPTAsaT10aGlzLmxlbmd0aCxuPTA7aT5uO24rPTEpZSs9dGhpcy5mcmFnbWVudHNbbl0udG9TdHJpbmcodCk7cmV0dXJuIGV9ZnVuY3Rpb24gZmkoKXt2YXIgdD10aGlzO3RoaXMuZnJhZ21lbnRzLmZvckVhY2goWiksdGhpcy5mcmFnbWVudHNUb1JlbmRlci5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBJKHQuZnJhZ21lbnRzLGUpfSksdGhpcy5mcmFnbWVudHNUb1JlbmRlcj1bXSxEZC5jYWxsKHRoaXMpLHRoaXMubGVuZ3RoPTAsdGhpcy51bmJvdW5kPSEwfWZ1bmN0aW9uIGRpKHQpe3RoaXMuZnJhZ21lbnRzLmZvckVhY2godD9waTptaSksdGhpcy5yZW5kZXJlZEZyYWdtZW50cz1bXSx0aGlzLnJlbmRlcmVkPSExfWZ1bmN0aW9uIHBpKHQpe3QudW5yZW5kZXIoITApfWZ1bmN0aW9uIG1pKHQpe3QudW5yZW5kZXIoITEpfWZ1bmN0aW9uIHZpKCl7dmFyIHQsZSxuLGkscixzLG87Zm9yKG49dGhpcy5yZW5kZXJlZEZyYWdtZW50czt0PXRoaXMuZnJhZ21lbnRzVG9VbnJlbmRlci5wb3AoKTspdC51bnJlbmRlcighMCksbi5zcGxpY2Uobi5pbmRleE9mKHQpLDEpO2Zvcig7dD10aGlzLmZyYWdtZW50c1RvUmVuZGVyLnNoaWZ0KCk7KXQucmVuZGVyKCk7Zm9yKHRoaXMucmVuZGVyZWQmJihyPXRoaXMucGFyZW50RnJhZ21lbnQuZ2V0Tm9kZSgpKSxvPXRoaXMuZnJhZ21lbnRzLmxlbmd0aCxzPTA7bz5zO3MrPTEpdD10aGlzLmZyYWdtZW50c1tzXSxlPW4uaW5kZXhPZih0LHMpLGUhPT1zPyh0aGlzLmRvY0ZyYWcuYXBwZW5kQ2hpbGQodC5kZXRhY2goKSksLTEhPT1lJiZuLnNwbGljZShlLDEpLG4uc3BsaWNlKHMsMCx0KSk6dGhpcy5kb2NGcmFnLmNoaWxkTm9kZXMubGVuZ3RoJiYoaT10LmZpcnN0Tm9kZSgpLHIuaW5zZXJ0QmVmb3JlKHRoaXMuZG9jRnJhZyxpKSk7dGhpcy5yZW5kZXJlZCYmdGhpcy5kb2NGcmFnLmNoaWxkTm9kZXMubGVuZ3RoJiYoaT10aGlzLnBhcmVudEZyYWdtZW50LmZpbmROZXh0Tm9kZSh0aGlzKSxyLmluc2VydEJlZm9yZSh0aGlzLmRvY0ZyYWcsaSkpLHRoaXMucmVuZGVyZWRGcmFnbWVudHM9dGhpcy5mcmFnbWVudHMuc2xpY2UoKX1mdW5jdGlvbiBnaSgpe3ZhciB0LGU7aWYodGhpcy5kb2NGcmFnKXtmb3IodD10aGlzLm5vZGVzLmxlbmd0aCxlPTA7dD5lO2UrPTEpdGhpcy5kb2NGcmFnLmFwcGVuZENoaWxkKHRoaXMubm9kZXNbZV0pO3JldHVybiB0aGlzLmRvY0ZyYWd9fWZ1bmN0aW9uIHlpKHQpe3ZhciBlLG4saSxyO2ZvcihuPXRoaXMubm9kZXMubGVuZ3RoLGU9MDtuPmU7ZSs9MSlpZihpPXRoaXMubm9kZXNbZV0sMT09PWkubm9kZVR5cGUpe2lmKGZhKGksdCkpcmV0dXJuIGk7aWYocj1pLnF1ZXJ5U2VsZWN0b3IodCkpcmV0dXJuIHJ9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYmkodCxlKXt2YXIgbixpLHIscyxvLGE7Zm9yKGk9dGhpcy5ub2Rlcy5sZW5ndGgsbj0wO2k+bjtuKz0xKWlmKHI9dGhpcy5ub2Rlc1tuXSwxPT09ci5ub2RlVHlwZSYmKGZhKHIsdCkmJmUucHVzaChyKSxzPXIucXVlcnlTZWxlY3RvckFsbCh0KSkpZm9yKG89cy5sZW5ndGgsYT0wO28+YTthKz0xKWUucHVzaChzW2FdKX1mdW5jdGlvbiB3aSgpe3JldHVybiB0aGlzLnJlbmRlcmVkJiZ0aGlzLm5vZGVzWzBdP3RoaXMubm9kZXNbMF06dGhpcy5wYXJlbnRGcmFnbWVudC5maW5kTmV4dE5vZGUodGhpcyl9ZnVuY3Rpb24geGkodCl7cmV0dXJuIEZwW3RdfHwoRnBbdF09bGEodCkpfWZ1bmN0aW9uIGtpKHQpe3ZhciBlLG4saTt0JiZcInNlbGVjdFwiPT09dC5uYW1lJiZ0LmJpbmRpbmcmJihlPUwodC5ub2RlLm9wdGlvbnMpLmZpbHRlcihFaSksdC5nZXRBdHRyaWJ1dGUoXCJtdWx0aXBsZVwiKT9pPWUubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZhbHVlfSk6KG49ZVswXSkmJihpPW4udmFsdWUpLHZvaWQgMCE9PWkmJnQuYmluZGluZy5zZXRWYWx1ZShpKSx0LmJ1YmJsZSgpKX1mdW5jdGlvbiBFaSh0KXtyZXR1cm4gdC5zZWxlY3RlZH1mdW5jdGlvbiBfaSgpe2lmKHRoaXMucmVuZGVyZWQpdGhyb3cgbmV3IEVycm9yKFwiQXR0ZW1wdGVkIHRvIHJlbmRlciBhbiBpdGVtIHRoYXQgd2FzIGFscmVhZHkgcmVuZGVyZWRcIik7cmV0dXJuIHRoaXMuZG9jRnJhZz1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksdGhpcy5ub2Rlcz1ScCh0aGlzLnZhbHVlLHRoaXMucGFyZW50RnJhZ21lbnQuZ2V0Tm9kZSgpLHRoaXMuZG9jRnJhZyksanAodGhpcy5wRWxlbWVudCksdGhpcy5yZW5kZXJlZD0hMCx0aGlzLmRvY0ZyYWd9ZnVuY3Rpb24gQWkodCl7dmFyIGU7KGU9dGhpcy5yb290LnZpZXdtb2RlbC53cmFwcGVkW3RoaXMua2V5cGF0aC5zdHJdKSYmKHQ9ZS5nZXQoKSksdCE9PXRoaXMudmFsdWUmJih0aGlzLnZhbHVlPXQsdGhpcy5wYXJlbnRGcmFnbWVudC5idWJibGUoKSx0aGlzLnJlbmRlcmVkJiZtdS5hZGRWaWV3KHRoaXMpKX1mdW5jdGlvbiBTaSgpe3JldHVybiB2b2lkIDAhPXRoaXMudmFsdWU/X2UoXCJcIit0aGlzLnZhbHVlKTpcIlwifWZ1bmN0aW9uIENpKHQpe3RoaXMucmVuZGVyZWQmJnQmJih0aGlzLm5vZGVzLmZvckVhY2goZSksdGhpcy5yZW5kZXJlZD0hMSl9ZnVuY3Rpb24gT2koKXt2YXIgdCxlO2lmKHRoaXMucmVuZGVyZWQpe2Zvcig7dGhpcy5ub2RlcyYmdGhpcy5ub2Rlcy5sZW5ndGg7KXQ9dGhpcy5ub2Rlcy5wb3AoKSx0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCk7ZT10aGlzLnBhcmVudEZyYWdtZW50LmdldE5vZGUoKSx0aGlzLm5vZGVzPVJwKHRoaXMudmFsdWUsZSx0aGlzLmRvY0ZyYWcpLGUuaW5zZXJ0QmVmb3JlKHRoaXMuZG9jRnJhZyx0aGlzLnBhcmVudEZyYWdtZW50LmZpbmROZXh0Tm9kZSh0aGlzKSksanAodGhpcy5wRWxlbWVudCl9fWZ1bmN0aW9uIFBpKCl7dmFyIHQsZT10aGlzLm5vZGU7cmV0dXJuIGU/KCh0PWUucGFyZW50Tm9kZSkmJnQucmVtb3ZlQ2hpbGQoZSksZSk6dm9pZCAwfWZ1bmN0aW9uIFRpKCl7cmV0dXJuIG51bGx9ZnVuY3Rpb24gRmkoKXtyZXR1cm4gdGhpcy5ub2RlfWZ1bmN0aW9uIFJpKHQpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXMmJnRoaXMuYXR0cmlidXRlc1t0XT90aGlzLmF0dHJpYnV0ZXNbdF0udmFsdWU6dm9pZCAwfWZ1bmN0aW9uIGppKCl7dmFyIHQ9dGhpcy51c2VQcm9wZXJ0eXx8IXRoaXMucmVuZGVyZWQ/dGhpcy5mcmFnbWVudC5nZXRWYWx1ZSgpOnRoaXMuZnJhZ21lbnQudG9TdHJpbmcoKTthKHQsdGhpcy52YWx1ZSl8fChcImlkXCI9PT10aGlzLm5hbWUmJnRoaXMudmFsdWUmJmRlbGV0ZSB0aGlzLnJvb3Qubm9kZXNbdGhpcy52YWx1ZV0sdGhpcy52YWx1ZT10LFwidmFsdWVcIj09PXRoaXMubmFtZSYmdGhpcy5ub2RlJiYodGhpcy5ub2RlLl9yYWN0aXZlLnZhbHVlPXQpLHRoaXMucmVuZGVyZWQmJm11LmFkZFZpZXcodGhpcykpfWZ1bmN0aW9uIE5pKHQpe3ZhciBlPXQuZnJhZ21lbnQuaXRlbXM7aWYoMT09PWUubGVuZ3RoKXJldHVybiBlWzBdLnR5cGU9PT1IaD9lWzBdOnZvaWQgMH1mdW5jdGlvbiBEaSh0KXtyZXR1cm4gdGhpcy50eXBlPWljLHRoaXMuZWxlbWVudD10LmVsZW1lbnQsdGhpcy5yb290PXQucm9vdCxzbSh0aGlzLHQubmFtZSksdGhpcy5pc0Jvb2xlYW49eWwudGVzdCh0aGlzLm5hbWUpLHQudmFsdWUmJlwic3RyaW5nXCIhPXR5cGVvZiB0LnZhbHVlPyh0aGlzLnBhcmVudEZyYWdtZW50PXRoaXMuZWxlbWVudC5wYXJlbnRGcmFnbWVudCx0aGlzLmZyYWdtZW50PW5ldyB5Yih7dGVtcGxhdGU6dC52YWx1ZSxyb290OnRoaXMucm9vdCxvd25lcjp0aGlzfSksdGhpcy52YWx1ZT10aGlzLmZyYWdtZW50LmdldFZhbHVlKCksdGhpcy5pbnRlcnBvbGF0b3I9b20odGhpcyksdGhpcy5pc0JpbmRhYmxlPSEhdGhpcy5pbnRlcnBvbGF0b3ImJiF0aGlzLmludGVycG9sYXRvci5pc1N0YXRpYyx2b2lkKHRoaXMucmVhZHk9ITApKTp2b2lkKHRoaXMudmFsdWU9dGhpcy5pc0Jvb2xlYW4/ITA6dC52YWx1ZXx8XCJcIil9ZnVuY3Rpb24gSWkodCxlKXt0aGlzLmZyYWdtZW50JiZ0aGlzLmZyYWdtZW50LnJlYmluZCh0LGUpfWZ1bmN0aW9uIExpKHQpe3ZhciBlO3RoaXMubm9kZT10LHQubmFtZXNwYWNlVVJJJiZ0Lm5hbWVzcGFjZVVSSSE9PWlhLmh0bWx8fChlPWNtW3RoaXMubmFtZV18fHRoaXMubmFtZSx2b2lkIDAhPT10W2VdJiYodGhpcy5wcm9wZXJ0eU5hbWU9ZSksKHRoaXMuaXNCb29sZWFufHx0aGlzLmlzVHdvd2F5KSYmKHRoaXMudXNlUHJvcGVydHk9ITApLFwidmFsdWVcIj09PWUmJih0Ll9yYWN0aXZlLnZhbHVlPXRoaXMudmFsdWUpKSx0aGlzLnJlbmRlcmVkPSEwLHRoaXMudXBkYXRlKCl9ZnVuY3Rpb24gVmkoKXt2YXIgdD10aGlzLGU9dC5uYW1lLG49dC5uYW1lc3BhY2VQcmVmaXgsaT10LnZhbHVlLHI9dC5pbnRlcnBvbGF0b3Iscz10LmZyYWdtZW50O2lmKChcInZhbHVlXCIhPT1lfHxcInNlbGVjdFwiIT09dGhpcy5lbGVtZW50Lm5hbWUmJlwidGV4dGFyZWFcIiE9PXRoaXMuZWxlbWVudC5uYW1lKSYmKFwidmFsdWVcIiE9PWV8fHZvaWQgMD09PXRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpKXtpZihcIm5hbWVcIj09PWUmJlwiaW5wdXRcIj09PXRoaXMuZWxlbWVudC5uYW1lJiZyKXJldHVyblwibmFtZT17e1wiKyhyLmtleXBhdGguc3RyfHxyLnJlZikrXCJ9fVwiO2lmKHRoaXMuaXNCb29sZWFuKXJldHVybiBpP2U6XCJcIjtpZihzKXtpZigxPT09cy5pdGVtcy5sZW5ndGgmJm51bGw9PXMuaXRlbXNbMF0udmFsdWUpcmV0dXJuXCJcIjtpPXMudG9TdHJpbmcoKX1yZXR1cm4gbiYmKGU9bitcIjpcIitlKSxpP2UrJz1cIicrTWkoaSkrJ1wiJzplfX1mdW5jdGlvbiBNaSh0KXtyZXR1cm4gdC5yZXBsYWNlKC8mL2csXCImYW1wO1wiKS5yZXBsYWNlKC9cIi9nLFwiJnF1b3Q7XCIpLnJlcGxhY2UoLycvZyxcIiYjMzk7XCIpfWZ1bmN0aW9uIFVpKCl7dGhpcy5mcmFnbWVudCYmdGhpcy5mcmFnbWVudC51bmJpbmQoKSxcImlkXCI9PT10aGlzLm5hbWUmJmRlbGV0ZSB0aGlzLnJvb3Qubm9kZXNbdGhpcy52YWx1ZV19ZnVuY3Rpb24gV2koKXt2YXIgdCxlLG4saSxyPXRoaXMudmFsdWU7aWYoIXRoaXMubG9ja2VkKWZvcih0aGlzLm5vZGUuX3JhY3RpdmUudmFsdWU9cix0PXRoaXMubm9kZS5vcHRpb25zLGk9dC5sZW5ndGg7aS0tOylpZihlPXRbaV0sbj1lLl9yYWN0aXZlP2UuX3JhY3RpdmUudmFsdWU6ZS52YWx1ZSxuPT1yKXtlLnNlbGVjdGVkPSEwO2JyZWFrfX1mdW5jdGlvbiB6aSgpe3ZhciB0LGUsbixpLHI9dGhpcy52YWx1ZTtmb3IocyhyKXx8KHI9W3JdKSx0PXRoaXMubm9kZS5vcHRpb25zLGU9dC5sZW5ndGg7ZS0tOyluPXRbZV0saT1uLl9yYWN0aXZlP24uX3JhY3RpdmUudmFsdWU6bi52YWx1ZSxuLnNlbGVjdGVkPVIocixpKX1mdW5jdGlvbiBCaSgpe3ZhciB0PXRoaXMsZT10Lm5vZGUsbj10LnZhbHVlO2UuY2hlY2tlZD1uPT1lLl9yYWN0aXZlLnZhbHVlfWZ1bmN0aW9uIHFpKCl7dmFyIHQsZSxuLGkscj10aGlzLm5vZGU7aWYodD1yLmNoZWNrZWQsci52YWx1ZT10aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwidmFsdWVcIiksci5jaGVja2VkPXRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKT09PXRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpLHQmJiFyLmNoZWNrZWQmJnRoaXMuZWxlbWVudC5iaW5kaW5nJiYobj10aGlzLmVsZW1lbnQuYmluZGluZy5zaWJsaW5ncyxpPW4ubGVuZ3RoKSl7Zm9yKDtpLS07KXtpZihlPW5baV0sIWUuZWxlbWVudC5ub2RlKXJldHVybjtpZihlLmVsZW1lbnQubm9kZS5jaGVja2VkKXJldHVybiBtdS5hZGRSYWN0aXZlKGUucm9vdCksZS5oYW5kbGVDaGFuZ2UoKX10aGlzLnJvb3Qudmlld21vZGVsLnNldChlLmtleXBhdGgsdm9pZCAwKX19ZnVuY3Rpb24gJGkoKXt2YXIgdCxlLG49dGhpcyxpPW4uZWxlbWVudCxyPW4ubm9kZSxvPW4udmFsdWUsYT1pLmJpbmRpbmc7aWYodD1pLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpLHMobykpe2ZvcihlPW8ubGVuZ3RoO2UtLTspaWYodD09b1tlXSlyZXR1cm4gdm9pZChhLmlzQ2hlY2tlZD1yLmNoZWNrZWQ9ITApO2EuaXNDaGVja2VkPXIuY2hlY2tlZD0hMX1lbHNlIGEuaXNDaGVja2VkPXIuY2hlY2tlZD1vPT10fWZ1bmN0aW9uIFFpKCl7dGhpcy5ub2RlLmNsYXNzTmFtZT1uKHRoaXMudmFsdWUpfWZ1bmN0aW9uIFppKCl7dmFyIHQ9dGhpcyxlPXQubm9kZSxuPXQudmFsdWU7dGhpcy5yb290Lm5vZGVzW25dPWUsZS5pZD1ufWZ1bmN0aW9uIEhpKCl7dmFyIHQsZTt0PXRoaXMubm9kZSxlPXRoaXMudmFsdWUsdm9pZCAwPT09ZSYmKGU9XCJcIiksdC5zdHlsZS5zZXRBdHRyaWJ1dGUoXCJjc3NUZXh0XCIsZSl9ZnVuY3Rpb24gS2koKXt2YXIgdD10aGlzLnZhbHVlO3ZvaWQgMD09PXQmJih0PVwiXCIpLHRoaXMubG9ja2VkfHwodGhpcy5ub2RlLmlubmVySFRNTD10KX1mdW5jdGlvbiBHaSgpe3ZhciB0PXRoaXMsZT10Lm5vZGUsbj10LnZhbHVlO2UuX3JhY3RpdmUudmFsdWU9bix0aGlzLmxvY2tlZHx8KGUudmFsdWU9dm9pZCAwPT1uP1wiXCI6bil9ZnVuY3Rpb24gWWkoKXt0aGlzLmxvY2tlZHx8KHRoaXMubm9kZVt0aGlzLnByb3BlcnR5TmFtZV09dGhpcy52YWx1ZSl9ZnVuY3Rpb24gSmkoKXt2YXIgdD10aGlzLGU9dC5ub2RlLG49dC5uYW1lc3BhY2UsaT10Lm5hbWUscj10LnZhbHVlLHM9dC5mcmFnbWVudDtuP2Uuc2V0QXR0cmlidXRlTlMobixpLChzfHxyKS50b1N0cmluZygpKTp0aGlzLmlzQm9vbGVhbj9yP2Uuc2V0QXR0cmlidXRlKGksXCJcIik6ZS5yZW1vdmVBdHRyaWJ1dGUoaSk6bnVsbD09cj9lLnJlbW92ZUF0dHJpYnV0ZShpKTplLnNldEF0dHJpYnV0ZShpLChzfHxyKS50b1N0cmluZygpKX1mdW5jdGlvbiBYaSgpe3ZhciB0LGUsbj10aGlzLGk9bi5uYW1lLHI9bi5lbGVtZW50LHM9bi5ub2RlO1wiaWRcIj09PWk/ZT1ibTpcInZhbHVlXCI9PT1pP1wic2VsZWN0XCI9PT1yLm5hbWUmJlwidmFsdWVcIj09PWk/ZT1yLmdldEF0dHJpYnV0ZShcIm11bHRpcGxlXCIpP3BtOmRtOlwidGV4dGFyZWFcIj09PXIubmFtZT9lPWttOm51bGwhPXIuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpP2U9eG06XCJpbnB1dFwiPT09ci5uYW1lJiYodD1yLmdldEF0dHJpYnV0ZShcInR5cGVcIiksZT1cImZpbGVcIj09PXQ/RmE6XCJyYWRpb1wiPT09dCYmci5iaW5kaW5nJiZcIm5hbWVcIj09PXIuYmluZGluZy5uYW1lP3ZtOmttKTp0aGlzLmlzVHdvd2F5JiZcIm5hbWVcIj09PWk/XCJyYWRpb1wiPT09cy50eXBlP2U9bW06XCJjaGVja2JveFwiPT09cy50eXBlJiYoZT1nbSk6XCJzdHlsZVwiPT09aSYmcy5zdHlsZS5zZXRBdHRyaWJ1dGU/ZT13bTpcImNsYXNzXCIhPT1pfHxzLm5hbWVzcGFjZVVSSSYmcy5uYW1lc3BhY2VVUkkhPT1pYS5odG1sP3RoaXMudXNlUHJvcGVydHkmJihlPUVtKTplPXltLGV8fChlPV9tKSx0aGlzLnVwZGF0ZT1lLHRoaXMudXBkYXRlKCl9ZnVuY3Rpb24gdHIodCxlKXt2YXIgbj1lP1wic3ZnXCI6XCJkaXZcIjtyZXR1cm4gQ20uaW5uZXJIVE1MPVwiPFwiK24rXCIgXCIrdCtcIj48L1wiK24rXCI+XCIsTChDbS5jaGlsZE5vZGVzWzBdLmF0dHJpYnV0ZXMpfWZ1bmN0aW9uIGVyKHQsZSl7Zm9yKHZhciBuPXQubGVuZ3RoO24tLTspaWYodFtuXS5uYW1lPT09ZS5uYW1lKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIG5yKHQpe2Zvcig7dD10LnBhcmVudDspaWYoXCJmb3JtXCI9PT10Lm5hbWUpcmV0dXJuIHR9ZnVuY3Rpb24gaXIoKXt0aGlzLl9yYWN0aXZlLmJpbmRpbmcuaGFuZGxlQ2hhbmdlKCl9ZnVuY3Rpb24gcnIoKXt2YXIgdDtJbS5jYWxsKHRoaXMpLHQ9dGhpcy5fcmFjdGl2ZS5yb290LnZpZXdtb2RlbC5nZXQodGhpcy5fcmFjdGl2ZS5iaW5kaW5nLmtleXBhdGgpLHRoaXMudmFsdWU9dm9pZCAwPT10P1wiXCI6dH1mdW5jdGlvbiBzcigpe3ZhciB0PXRoaXMuX3JhY3RpdmUuYmluZGluZyxlPXRoaXM7dC5fdGltZW91dCYmY2xlYXJUaW1lb3V0KHQuX3RpbWVvdXQpLHQuX3RpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe3QucmVuZGVyZWQmJkltLmNhbGwoZSksdC5fdGltZW91dD12b2lkIDB9LHQuZWxlbWVudC5sYXp5KX1mdW5jdGlvbiBvcih0LGUsbil7dmFyIGk9dCtlK247cmV0dXJuIFdtW2ldfHwoV21baV09W10pfWZ1bmN0aW9uIGFyKHQpe3JldHVybiB0LmlzQ2hlY2tlZH1mdW5jdGlvbiB1cih0KXtyZXR1cm4gdC5lbGVtZW50LmdldEF0dHJpYnV0ZShcInZhbHVlXCIpfWZ1bmN0aW9uIGhyKHQpe3ZhciBlLG4saSxyLHMsbz10LmF0dHJpYnV0ZXM7cmV0dXJuIHQuYmluZGluZyYmKHQuYmluZGluZy50ZWFyZG93bigpLHQuYmluZGluZz1udWxsKSwodC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIil8fG8uY29udGVudGVkaXRhYmxlJiZjcihvLmNvbnRlbnRlZGl0YWJsZSkpJiZjcihvLnZhbHVlKT9uPU1tOlwiaW5wdXRcIj09PXQubmFtZT8oZT10LmdldEF0dHJpYnV0ZShcInR5cGVcIiksXCJyYWRpb1wiPT09ZXx8XCJjaGVja2JveFwiPT09ZT8oaT1jcihvLm5hbWUpLHI9Y3Ioby5jaGVja2VkKSxpJiZyJiZtKFwiQSByYWRpbyBpbnB1dCBjYW4gaGF2ZSB0d28td2F5IGJpbmRpbmcgb24gaXRzIG5hbWUgYXR0cmlidXRlLCBvciBpdHMgY2hlY2tlZCBhdHRyaWJ1dGUgLSBub3QgYm90aFwiLHtyYWN0aXZlOnQucm9vdH0pLGk/bj1cInJhZGlvXCI9PT1lPyRtOlptOnImJihuPVwicmFkaW9cIj09PWU/Qm06S20pKTpcImZpbGVcIj09PWUmJmNyKG8udmFsdWUpP249ZXY6Y3Ioby52YWx1ZSkmJihuPVwibnVtYmVyXCI9PT1lfHxcInJhbmdlXCI9PT1lP252OkxtKSk6XCJzZWxlY3RcIj09PXQubmFtZSYmY3Ioby52YWx1ZSk/bj10LmdldEF0dHJpYnV0ZShcIm11bHRpcGxlXCIpP1htOlltOlwidGV4dGFyZWFcIj09PXQubmFtZSYmY3Ioby52YWx1ZSkmJihuPUxtKSxuJiYocz1uZXcgbih0KSkmJnMua2V5cGF0aD9zOnZvaWQgMH1mdW5jdGlvbiBjcih0KXtyZXR1cm4gdCYmdC5pc0JpbmRhYmxlfWZ1bmN0aW9uIGxyKCl7dmFyIHQ9dGhpcy5nZXRBY3Rpb24oKTt0JiYhdGhpcy5oYXNMaXN0ZW5lcj90aGlzLmxpc3RlbigpOiF0JiZ0aGlzLmhhc0xpc3RlbmVyJiZ0aGlzLnVucmVuZGVyKCl9ZnVuY3Rpb24gZnIodCl7V3UodGhpcy5yb290LHRoaXMuZ2V0QWN0aW9uKCkse2V2ZW50OnR9KX1mdW5jdGlvbiBkcigpe3JldHVybiB0aGlzLmFjdGlvbi50b1N0cmluZygpLnRyaW0oKX1mdW5jdGlvbiBwcih0LGUsbil7dmFyIGkscixzLG89dGhpczt0aGlzLmVsZW1lbnQ9dCx0aGlzLnJvb3Q9dC5yb290LHRoaXMucGFyZW50RnJhZ21lbnQ9dC5wYXJlbnRGcmFnbWVudCx0aGlzLm5hbWU9ZSwtMSE9PWUuaW5kZXhPZihcIipcIikmJihsKCdPbmx5IGNvbXBvbmVudCBwcm94eS1ldmVudHMgbWF5IGNvbnRhaW4gXCIqXCIgd2lsZGNhcmRzLCA8JXMgb24tJXM9XCIuLi5cIi8+IGlzIG5vdCB2YWxpZCcsdC5uYW1lLGUpLHRoaXMuaW52YWxpZD0hMCksbi5tPyhyPW4uYS5yLHRoaXMubWV0aG9kPW4ubSx0aGlzLmtleXBhdGhzPVtdLHRoaXMuZm49WmQobi5hLnMsci5sZW5ndGgpLHRoaXMucGFyZW50RnJhZ21lbnQ9dC5wYXJlbnRGcmFnbWVudCxzPXRoaXMucm9vdCx0aGlzLnJlZlJlc29sdmVycz1bXSxyLmZvckVhY2goZnVuY3Rpb24odCxlKXt2YXIgbj12b2lkIDA7KG49dXYuZXhlYyh0KSk/by5rZXlwYXRoc1tlXT17ZXZlbnRPYmplY3Q6ITAscmVmaW5lbWVudHM6blsxXT9uWzFdLnNwbGl0KFwiLlwiKTpbXX06by5yZWZSZXNvbHZlcnMucHVzaChRZChvLHQsZnVuY3Rpb24odCl7cmV0dXJuIG8ucmVzb2x2ZShlLHQpfSkpfSksdGhpcy5maXJlPW1yKTooaT1uLm58fG4sXCJzdHJpbmdcIiE9dHlwZW9mIGkmJihpPW5ldyB5Yih7dGVtcGxhdGU6aSxyb290OnRoaXMucm9vdCxvd25lcjp0aGlzfSkpLHRoaXMuYWN0aW9uPWksbi5kPyh0aGlzLmR5bmFtaWNQYXJhbXM9bmV3IHliKHt0ZW1wbGF0ZTpuLmQscm9vdDp0aGlzLnJvb3Qsb3duZXI6dGhpcy5lbGVtZW50fSksdGhpcy5maXJlPWdyKTpuLmEmJih0aGlzLnBhcmFtcz1uLmEsdGhpcy5maXJlPXZyKSl9ZnVuY3Rpb24gbXIodCl7dmFyIGUsbixpO2lmKGU9dGhpcy5yb290LFwiZnVuY3Rpb25cIiE9dHlwZW9mIGVbdGhpcy5tZXRob2RdKXRocm93IG5ldyBFcnJvcignQXR0ZW1wdGVkIHRvIGNhbGwgYSBub24tZXhpc3RlbnQgbWV0aG9kIChcIicrdGhpcy5tZXRob2QrJ1wiKScpO249dGhpcy5rZXlwYXRocy5tYXAoZnVuY3Rpb24obil7dmFyIGkscixzO2lmKHZvaWQgMD09PW4pcmV0dXJuIHZvaWQgMDtpZihuLmV2ZW50T2JqZWN0KXtpZihpPXQscj1uLnJlZmluZW1lbnRzLmxlbmd0aClmb3Iocz0wO3I+cztzKz0xKWk9aVtuLnJlZmluZW1lbnRzW3NdXX1lbHNlIGk9ZS52aWV3bW9kZWwuZ2V0KG4pO3JldHVybiBpfSksVXUuZW5xdWV1ZShlLHQpLGk9dGhpcy5mbi5hcHBseShudWxsLG4pLGVbdGhpcy5tZXRob2RdLmFwcGx5KGUsaSksVXUuZGVxdWV1ZShlKX1mdW5jdGlvbiB2cih0KXtXdSh0aGlzLnJvb3QsdGhpcy5nZXRBY3Rpb24oKSx7ZXZlbnQ6dCxhcmdzOnRoaXMucGFyYW1zfSl9ZnVuY3Rpb24gZ3IodCl7dmFyIGU9dGhpcy5keW5hbWljUGFyYW1zLmdldEFyZ3NMaXN0KCk7XCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPWUuc3Vic3RyKDEsZS5sZW5ndGgtMikpLFd1KHRoaXMucm9vdCx0aGlzLmdldEFjdGlvbigpLHtldmVudDp0LGFyZ3M6ZX0pfWZ1bmN0aW9uIHlyKHQpe3ZhciBlLG4saSxyPXt9O2U9dGhpcy5fcmFjdGl2ZSxuPWUuZXZlbnRzW3QudHlwZV0sKGk9cWQobi5lbGVtZW50LnBhcmVudEZyYWdtZW50KSkmJihyPXFkLnJlc29sdmUoaSkpLG4uZmlyZSh7bm9kZTp0aGlzLG9yaWdpbmFsOnQsaW5kZXg6cixrZXlwYXRoOmUua2V5cGF0aC5zdHIsY29udGV4dDplLnJvb3Qudmlld21vZGVsLmdldChlLmtleXBhdGgpfSl9ZnVuY3Rpb24gYnIoKXt2YXIgdCxlPXRoaXMubmFtZTtpZighdGhpcy5pbnZhbGlkKXtpZih0PWcoXCJldmVudHNcIix0aGlzLnJvb3QsZSkpdGhpcy5jdXN0b209dCh0aGlzLm5vZGUsd3IoZSkpO2Vsc2V7aWYoIShcIm9uXCIrZSBpbiB0aGlzLm5vZGV8fHdpbmRvdyYmXCJvblwiK2UgaW4gd2luZG93fHx0YSkpcmV0dXJuIHZvaWQoZnZbZV18fHYoRGEoZSxcImV2ZW50XCIpLHtub2RlOnRoaXMubm9kZX0pKTt0aGlzLm5vZGUuYWRkRXZlbnRMaXN0ZW5lcihlLGh2LCExKX10aGlzLmhhc0xpc3RlbmVyPSEwfX1mdW5jdGlvbiB3cih0KXtyZXR1cm4gbHZbdF18fChsdlt0XT1mdW5jdGlvbihlKXt2YXIgbj1lLm5vZGUuX3JhY3RpdmU7ZS5pbmRleD1uLmluZGV4LGUua2V5cGF0aD1uLmtleXBhdGguc3RyLGUuY29udGV4dD1uLnJvb3Qudmlld21vZGVsLmdldChuLmtleXBhdGgpLG4uZXZlbnRzW3RdLmZpcmUoZSl9KSxsdlt0XX1mdW5jdGlvbiB4cih0LGUpe2Z1bmN0aW9uIG4obil7biYmbi5yZWJpbmQodCxlKX12YXIgaTtyZXR1cm4gdGhpcy5tZXRob2Q/KGk9dGhpcy5lbGVtZW50LnBhcmVudEZyYWdtZW50LHZvaWQgdGhpcy5yZWZSZXNvbHZlcnMuZm9yRWFjaChuKSk6KFwic3RyaW5nXCIhPXR5cGVvZiB0aGlzLmFjdGlvbiYmbih0aGlzLmFjdGlvbiksdm9pZCh0aGlzLmR5bmFtaWNQYXJhbXMmJm4odGhpcy5keW5hbWljUGFyYW1zKSkpfWZ1bmN0aW9uIGtyKCl7dGhpcy5ub2RlPXRoaXMuZWxlbWVudC5ub2RlLHRoaXMubm9kZS5fcmFjdGl2ZS5ldmVudHNbdGhpcy5uYW1lXT10aGlzLCh0aGlzLm1ldGhvZHx8dGhpcy5nZXRBY3Rpb24oKSkmJnRoaXMubGlzdGVuKCl9ZnVuY3Rpb24gRXIodCxlKXt0aGlzLmtleXBhdGhzW3RdPWV9ZnVuY3Rpb24gX3IoKXtyZXR1cm4gdGhpcy5tZXRob2Q/dm9pZCB0aGlzLnJlZlJlc29sdmVycy5mb3JFYWNoKFopOihcInN0cmluZ1wiIT10eXBlb2YgdGhpcy5hY3Rpb24mJnRoaXMuYWN0aW9uLnVuYmluZCgpLHZvaWQodGhpcy5keW5hbWljUGFyYW1zJiZ0aGlzLmR5bmFtaWNQYXJhbXMudW5iaW5kKCkpKX1mdW5jdGlvbiBBcigpe3RoaXMuY3VzdG9tP3RoaXMuY3VzdG9tLnRlYXJkb3duKCk6dGhpcy5ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5uYW1lLGh2LCExKSx0aGlzLmhhc0xpc3RlbmVyPSExfWZ1bmN0aW9uIFNyKCl7dmFyIHQ9dGhpczt0aGlzLmRpcnR5fHwodGhpcy5kaXJ0eT0hMCxtdS5zY2hlZHVsZVRhc2soZnVuY3Rpb24oKXtDcih0KSx0LmRpcnR5PSExfSkpLHRoaXMucGFyZW50RnJhZ21lbnQuYnViYmxlKCl9ZnVuY3Rpb24gQ3IodCl7dmFyIGUsbixpLHIscztlPXQubm9kZSxlJiYocj1MKGUub3B0aW9ucyksbj10LmdldEF0dHJpYnV0ZShcInZhbHVlXCIpLGk9dC5nZXRBdHRyaWJ1dGUoXCJtdWx0aXBsZVwiKSx2b2lkIDAhPT1uPyhyLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGUscjtlPXQuX3JhY3RpdmU/dC5fcmFjdGl2ZS52YWx1ZTp0LnZhbHVlLHI9aT9PcihuLGUpOm49PWUsciYmKHM9ITApLHQuc2VsZWN0ZWQ9cn0pLHN8fChyWzBdJiYoclswXS5zZWxlY3RlZD0hMCksdC5iaW5kaW5nJiZ0LmJpbmRpbmcuZm9yY2VVcGRhdGUoKSkpOnQuYmluZGluZyYmdC5iaW5kaW5nLmZvcmNlVXBkYXRlKCkpfWZ1bmN0aW9uIE9yKHQsZSl7Zm9yKHZhciBuPXQubGVuZ3RoO24tLTspaWYodFtuXT09ZSlyZXR1cm4hMH1mdW5jdGlvbiBQcih0LGUpe3Quc2VsZWN0PUZyKHQucGFyZW50KSx0LnNlbGVjdCYmKHQuc2VsZWN0Lm9wdGlvbnMucHVzaCh0KSxlLmF8fChlLmE9e30pLHZvaWQgMCE9PWUuYS52YWx1ZXx8ZS5hLmhhc093blByb3BlcnR5KFwiZGlzYWJsZWRcIil8fChlLmEudmFsdWU9ZS5mKSxcInNlbGVjdGVkXCJpbiBlLmEmJnZvaWQgMCE9PXQuc2VsZWN0LmdldEF0dHJpYnV0ZShcInZhbHVlXCIpJiZkZWxldGUgZS5hLnNlbGVjdGVkKX1mdW5jdGlvbiBUcih0KXt0LnNlbGVjdCYmSSh0LnNlbGVjdC5vcHRpb25zLHQpfWZ1bmN0aW9uIEZyKHQpe2lmKHQpZG8gaWYoXCJzZWxlY3RcIj09PXQubmFtZSlyZXR1cm4gdDt3aGlsZSh0PXQucGFyZW50KX1mdW5jdGlvbiBScih0KXt2YXIgZSxuLGkscixzLG8sYTt0aGlzLnR5cGU9WGgsZT10aGlzLnBhcmVudEZyYWdtZW50PXQucGFyZW50RnJhZ21lbnQsbj10aGlzLnRlbXBsYXRlPXQudGVtcGxhdGUsdGhpcy5wYXJlbnQ9dC5wRWxlbWVudHx8ZS5wRWxlbWVudCx0aGlzLnJvb3Q9aT1lLnJvb3QsdGhpcy5pbmRleD10LmluZGV4LHRoaXMua2V5PXQua2V5LHRoaXMubmFtZT1ybShuLmUpLFwib3B0aW9uXCI9PT10aGlzLm5hbWUmJlByKHRoaXMsbiksXCJzZWxlY3RcIj09PXRoaXMubmFtZSYmKHRoaXMub3B0aW9ucz1bXSx0aGlzLmJ1YmJsZT1TciksXCJmb3JtXCI9PT10aGlzLm5hbWUmJih0aGlzLmZvcm1CaW5kaW5ncz1bXSksYT1ubSh0aGlzLG4pLHRoaXMuYXR0cmlidXRlcz1QbSh0aGlzLG4uYSksdGhpcy5jb25kaXRpb25hbEF0dHJpYnV0ZXM9Um0odGhpcyxuLm0pLG4uZiYmKHRoaXMuZnJhZ21lbnQ9bmV3IHliKHt0ZW1wbGF0ZTpuLmYscm9vdDppLG93bmVyOnRoaXMscEVsZW1lbnQ6dGhpcyxjc3NJZHM6bnVsbH0pKSxvPWkudHdvd2F5LGEudHdvd2F5PT09ITE/bz0hMTphLnR3b3dheT09PSEwJiYobz0hMCksdGhpcy50d293YXk9byx0aGlzLmxhenk9YS5sYXp5LG8mJihyPWl2KHRoaXMsbi5hKSkmJih0aGlzLmJpbmRpbmc9cixzPXRoaXMucm9vdC5fdHdvd2F5QmluZGluZ3Nbci5rZXlwYXRoLnN0cl18fCh0aGlzLnJvb3QuX3R3b3dheUJpbmRpbmdzW3Iua2V5cGF0aC5zdHJdPVtdKSxzLnB1c2gocikpLG4udiYmKHRoaXMuZXZlbnRIYW5kbGVycz13dih0aGlzLG4udikpLG4ubyYmKHRoaXMuZGVjb3JhdG9yPW5ldyBBdih0aGlzLG4ubykpLHRoaXMuaW50cm89bi50MHx8bi50MSx0aGlzLm91dHJvPW4udDB8fG4udDJ9ZnVuY3Rpb24ganIodCxlKXtmdW5jdGlvbiBuKG4pe24ucmViaW5kKHQsZSl9dmFyIGkscixzLG87aWYodGhpcy5hdHRyaWJ1dGVzJiZ0aGlzLmF0dHJpYnV0ZXMuZm9yRWFjaChuKSx0aGlzLmNvbmRpdGlvbmFsQXR0cmlidXRlcyYmdGhpcy5jb25kaXRpb25hbEF0dHJpYnV0ZXMuZm9yRWFjaChuKSx0aGlzLmV2ZW50SGFuZGxlcnMmJnRoaXMuZXZlbnRIYW5kbGVycy5mb3JFYWNoKG4pLHRoaXMuZGVjb3JhdG9yJiZuKHRoaXMuZGVjb3JhdG9yKSx0aGlzLmZyYWdtZW50JiZuKHRoaXMuZnJhZ21lbnQpLHM9dGhpcy5saXZlUXVlcmllcylmb3Iobz10aGlzLnJvb3QsaT1zLmxlbmd0aDtpLS07KXNbaV0uX21ha2VEaXJ0eSgpO3RoaXMubm9kZSYmKHI9dGhpcy5ub2RlLl9yYWN0aXZlKSYmayhyLFwia2V5cGF0aFwiLHQsZSl9ZnVuY3Rpb24gTnIodCl7dmFyIGU7KHQuYXR0cmlidXRlcy53aWR0aHx8dC5hdHRyaWJ1dGVzLmhlaWdodCkmJnQubm9kZS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLGU9ZnVuY3Rpb24oKXt2YXIgbj10LmdldEF0dHJpYnV0ZShcIndpZHRoXCIpLGk9dC5nZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIik7dm9pZCAwIT09biYmdC5ub2RlLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsbiksdm9pZCAwIT09aSYmdC5ub2RlLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLGkpLHQubm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZFwiLGUsITEpfSwhMSl9ZnVuY3Rpb24gRHIodCl7dC5ub2RlLmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNldFwiLExyLCExKX1mdW5jdGlvbiBJcih0KXt0Lm5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2V0XCIsTHIsITEpfWZ1bmN0aW9uIExyKCl7dmFyIHQ9dGhpcy5fcmFjdGl2ZS5wcm94eTttdS5zdGFydCgpLHQuZm9ybUJpbmRpbmdzLmZvckVhY2goVnIpLG11LmVuZCgpfWZ1bmN0aW9uIFZyKHQpe3Qucm9vdC52aWV3bW9kZWwuc2V0KHQua2V5cGF0aCx0LnJlc2V0VmFsdWUpfWZ1bmN0aW9uIE1yKHQsZSxuKXt2YXIgaSxyLHM7dGhpcy5lbGVtZW50PXQsdGhpcy5yb290PWk9dC5yb290LHRoaXMuaXNJbnRybz1uLHI9ZS5ufHxlLChcInN0cmluZ1wiPT10eXBlb2Ygcnx8KHM9bmV3IHliKHt0ZW1wbGF0ZTpyLHJvb3Q6aSxvd25lcjp0fSkscj1zLnRvU3RyaW5nKCkscy51bmJpbmQoKSxcIlwiIT09cikpJiYodGhpcy5uYW1lPXIsZS5hP3RoaXMucGFyYW1zPWUuYTplLmQmJihzPW5ldyB5Yih7dGVtcGxhdGU6ZS5kLHJvb3Q6aSxvd25lcjp0fSksdGhpcy5wYXJhbXM9cy5nZXRBcmdzTGlzdCgpLHMudW5iaW5kKCkpLHRoaXMuX2ZuPWcoXCJ0cmFuc2l0aW9uc1wiLGksciksdGhpcy5fZm58fHYoRGEocixcInRyYW5zaXRpb25cIikse3JhY3RpdmU6dGhpcy5yb290fSkpfWZ1bmN0aW9uIFVyKHQpe3JldHVybiB0fWZ1bmN0aW9uIFdyKCl7ZWcuaGlkZGVuPWRvY3VtZW50W1l2XX1mdW5jdGlvbiB6cigpe2VnLmhpZGRlbj0hMH1mdW5jdGlvbiBCcigpe2VnLmhpZGRlbj0hMX1mdW5jdGlvbiBxcigpe3ZhciB0LGUsbixpPXRoaXM7cmV0dXJuIHQ9dGhpcy5ub2RlPXRoaXMuZWxlbWVudC5ub2RlLGU9dC5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKSx0aGlzLmNvbXBsZXRlPWZ1bmN0aW9uKHIpe258fCghciYmaS5pc0ludHJvJiYkcih0LGUpLHQuX3JhY3RpdmUudHJhbnNpdGlvbj1udWxsLGkuX21hbmFnZXIucmVtb3ZlKGkpLG49ITApfSx0aGlzLl9mbj92b2lkIHRoaXMuX2ZuLmFwcGx5KHRoaXMucm9vdCxbdGhpc10uY29uY2F0KHRoaXMucGFyYW1zKSk6dm9pZCB0aGlzLmNvbXBsZXRlKCl9ZnVuY3Rpb24gJHIodCxlKXtlP3Quc2V0QXR0cmlidXRlKFwic3R5bGVcIixlKToodC5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKSx0LnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpKX1mdW5jdGlvbiBRcigpe3ZhciB0LGUsbixpPXRoaXMscj10aGlzLnJvb3Q7cmV0dXJuIHQ9WnIodGhpcyksZT10aGlzLm5vZGU9bGEodGhpcy5uYW1lLHQpLHRoaXMucGFyZW50RnJhZ21lbnQuY3NzSWRzJiZ0aGlzLm5vZGUuc2V0QXR0cmlidXRlKFwiZGF0YS1yYWN0aXZlLWNzc1wiLHRoaXMucGFyZW50RnJhZ21lbnQuY3NzSWRzLm1hcChmdW5jdGlvbih0KXtyZXR1cm5cIntcIit0K1wifVwifSkuam9pbihcIiBcIikpLHhhKHRoaXMubm9kZSxcIl9yYWN0aXZlXCIse3ZhbHVlOntwcm94eTp0aGlzLGtleXBhdGg6YXUodGhpcy5wYXJlbnRGcmFnbWVudCksZXZlbnRzOndhKG51bGwpLHJvb3Q6cn19KSx0aGlzLmF0dHJpYnV0ZXMuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gdC5yZW5kZXIoZSl9KSx0aGlzLmNvbmRpdGlvbmFsQXR0cmlidXRlcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnJlbmRlcihlKX0pLHRoaXMuZnJhZ21lbnQmJihcInNjcmlwdFwiPT09dGhpcy5uYW1lPyh0aGlzLmJ1YmJsZT1mZyx0aGlzLm5vZGUudGV4dD10aGlzLmZyYWdtZW50LnRvU3RyaW5nKCExKSx0aGlzLmZyYWdtZW50LnVucmVuZGVyPUZhKTpcInN0eWxlXCI9PT10aGlzLm5hbWU/KHRoaXMuYnViYmxlPWxnLHRoaXMuYnViYmxlKCksdGhpcy5mcmFnbWVudC51bnJlbmRlcj1GYSk6dGhpcy5iaW5kaW5nJiZ0aGlzLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKT90aGlzLmZyYWdtZW50LnVucmVuZGVyPUZhOnRoaXMubm9kZS5hcHBlbmRDaGlsZCh0aGlzLmZyYWdtZW50LnJlbmRlcigpKSksdGhpcy5iaW5kaW5nJiYodGhpcy5iaW5kaW5nLnJlbmRlcigpLHRoaXMubm9kZS5fcmFjdGl2ZS5iaW5kaW5nPXRoaXMuYmluZGluZyksdGhpcy5ldmVudEhhbmRsZXJzJiZ0aGlzLmV2ZW50SGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gdC5yZW5kZXIoKX0pLFwib3B0aW9uXCI9PT10aGlzLm5hbWUmJkhyKHRoaXMpLFwiaW1nXCI9PT10aGlzLm5hbWU/TnIodGhpcyk6XCJmb3JtXCI9PT10aGlzLm5hbWU/RHIodGhpcyk6XCJpbnB1dFwiPT09dGhpcy5uYW1lfHxcInRleHRhcmVhXCI9PT10aGlzLm5hbWU/dGhpcy5ub2RlLmRlZmF1bHRWYWx1ZT10aGlzLm5vZGUudmFsdWU6XCJvcHRpb25cIj09PXRoaXMubmFtZSYmKHRoaXMubm9kZS5kZWZhdWx0U2VsZWN0ZWQ9dGhpcy5ub2RlLnNlbGVjdGVkKSx0aGlzLmRlY29yYXRvciYmdGhpcy5kZWNvcmF0b3IuZm4mJm11LnNjaGVkdWxlVGFzayhmdW5jdGlvbigpe2kuZGVjb3JhdG9yLnRvcm5kb3dufHxpLmRlY29yYXRvci5pbml0KCl9LCEwKSxyLnRyYW5zaXRpb25zRW5hYmxlZCYmdGhpcy5pbnRybyYmKG49bmV3IGRnKHRoaXMsdGhpcy5pbnRybywhMCksbXUucmVnaXN0ZXJUcmFuc2l0aW9uKG4pLG11LnNjaGVkdWxlVGFzayhmdW5jdGlvbigpe3JldHVybiBuLnN0YXJ0KCl9LCEwKSx0aGlzLnRyYW5zaXRpb249biksdGhpcy5ub2RlLmF1dG9mb2N1cyYmbXUuc2NoZWR1bGVUYXNrKGZ1bmN0aW9uKCl7cmV0dXJuIGkubm9kZS5mb2N1cygpfSwhMCksS3IodGhpcyksdGhpcy5ub2RlfWZ1bmN0aW9uIFpyKHQpe3ZhciBlLG4saTtyZXR1cm4gZT0obj10LmdldEF0dHJpYnV0ZShcInhtbG5zXCIpKT9uOlwic3ZnXCI9PT10Lm5hbWU/aWEuc3ZnOihpPXQucGFyZW50KT9cImZvcmVpZ25PYmplY3RcIj09PWkubmFtZT9pYS5odG1sOmkubm9kZS5uYW1lc3BhY2VVUkk6dC5yb290LmVsLm5hbWVzcGFjZVVSSX1mdW5jdGlvbiBIcih0KXt2YXIgZSxuLGk7aWYodC5zZWxlY3QmJihuPXQuc2VsZWN0LmdldEF0dHJpYnV0ZShcInZhbHVlXCIpLHZvaWQgMCE9PW4pKWlmKGU9dC5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSx0LnNlbGVjdC5ub2RlLm11bHRpcGxlJiZzKG4pKXtmb3IoaT1uLmxlbmd0aDtpLS07KWlmKGU9PW5baV0pe3Qubm9kZS5zZWxlY3RlZD0hMDticmVha319ZWxzZSB0Lm5vZGUuc2VsZWN0ZWQ9ZT09bn1mdW5jdGlvbiBLcih0KXt2YXIgZSxuLGkscixzO2U9dC5yb290O2RvIGZvcihuPWUuX2xpdmVRdWVyaWVzLGk9bi5sZW5ndGg7aS0tOylyPW5baV0scz1uW1wiX1wiK3JdLHMuX3Rlc3QodCkmJih0LmxpdmVRdWVyaWVzfHwodC5saXZlUXVlcmllcz1bXSkpLnB1c2gocyk7d2hpbGUoZT1lLnBhcmVudCl9ZnVuY3Rpb24gR3IodCl7dmFyIGUsbixpO2lmKGU9dC5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSx2b2lkIDA9PT1lfHwhdC5zZWxlY3QpcmV0dXJuITE7aWYobj10LnNlbGVjdC5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSxuPT1lKXJldHVybiEwO2lmKHQuc2VsZWN0LmdldEF0dHJpYnV0ZShcIm11bHRpcGxlXCIpJiZzKG4pKWZvcihpPW4ubGVuZ3RoO2ktLTspaWYobltpXT09ZSlyZXR1cm4hMH1mdW5jdGlvbiBZcih0KXt2YXIgZSxuLGkscjtyZXR1cm4gZT10LmF0dHJpYnV0ZXMsbj1lLnR5cGUsaT1lLnZhbHVlLHI9ZS5uYW1lLG4mJlwicmFkaW9cIj09PW4udmFsdWUmJmkmJnIuaW50ZXJwb2xhdG9yJiZpLnZhbHVlPT09ci5pbnRlcnBvbGF0b3IudmFsdWU/ITA6dm9pZCAwfWZ1bmN0aW9uIEpyKHQpe3ZhciBlPXQudG9TdHJpbmcoKTtyZXR1cm4gZT9cIiBcIitlOlwiXCJ9ZnVuY3Rpb24gWHIoKXt0aGlzLmZyYWdtZW50JiZ0aGlzLmZyYWdtZW50LnVuYmluZCgpLHRoaXMuYmluZGluZyYmdGhpcy5iaW5kaW5nLnVuYmluZCgpLHRoaXMuZXZlbnRIYW5kbGVycyYmdGhpcy5ldmVudEhhbmRsZXJzLmZvckVhY2goWiksXCJvcHRpb25cIj09PXRoaXMubmFtZSYmVHIodGhpcyksdGhpcy5hdHRyaWJ1dGVzLmZvckVhY2goWiksdGhpcy5jb25kaXRpb25hbEF0dHJpYnV0ZXMuZm9yRWFjaChaKX1mdW5jdGlvbiB0cyh0KXt2YXIgZSxuLGk7KGk9dGhpcy50cmFuc2l0aW9uKSYmaS5jb21wbGV0ZSgpLFwib3B0aW9uXCI9PT10aGlzLm5hbWU/dGhpcy5kZXRhY2goKTp0JiZtdS5kZXRhY2hXaGVuUmVhZHkodGhpcyksdGhpcy5mcmFnbWVudCYmdGhpcy5mcmFnbWVudC51bnJlbmRlcighMSksKGU9dGhpcy5iaW5kaW5nKSYmKHRoaXMuYmluZGluZy51bnJlbmRlcigpLHRoaXMubm9kZS5fcmFjdGl2ZS5iaW5kaW5nPW51bGwsbj10aGlzLnJvb3QuX3R3b3dheUJpbmRpbmdzW2Uua2V5cGF0aC5zdHJdLG4uc3BsaWNlKG4uaW5kZXhPZihlKSwxKSksdGhpcy5ldmVudEhhbmRsZXJzJiZ0aGlzLmV2ZW50SGFuZGxlcnMuZm9yRWFjaChIKSx0aGlzLmRlY29yYXRvciYmbXUucmVnaXN0ZXJEZWNvcmF0b3IodGhpcy5kZWNvcmF0b3IpLHRoaXMucm9vdC50cmFuc2l0aW9uc0VuYWJsZWQmJnRoaXMub3V0cm8mJihpPW5ldyBkZyh0aGlzLHRoaXMub3V0cm8sITEpLG11LnJlZ2lzdGVyVHJhbnNpdGlvbihpKSxtdS5zY2hlZHVsZVRhc2soZnVuY3Rpb24oKXtyZXR1cm4gaS5zdGFydCgpfSkpLHRoaXMubGl2ZVF1ZXJpZXMmJmVzKHRoaXMpLFwiZm9ybVwiPT09dGhpcy5uYW1lJiZJcih0aGlzKX1mdW5jdGlvbiBlcyh0KXt2YXIgZSxuLGk7Zm9yKGk9dC5saXZlUXVlcmllcy5sZW5ndGg7aS0tOyllPXQubGl2ZVF1ZXJpZXNbaV0sbj1lLnNlbGVjdG9yLGUuX3JlbW92ZSh0Lm5vZGUpfWZ1bmN0aW9uIG5zKHQsZSl7dmFyIG49eGcuZXhlYyhlKVswXTtyZXR1cm4gbnVsbD09PXR8fG4ubGVuZ3RoPHQubGVuZ3RoP246dH1mdW5jdGlvbiBpcyh0LGUsbil7dmFyIGk7aWYoaT1ycyh0LGUsbnx8e30pKXJldHVybiBpO2lmKGk9YWQuZnJvbUlkKGUse25vVGhyb3c6ITB9KSl7aT1rZyhpKTt2YXIgcj1hZC5wYXJzZShpLGFkLmdldFBhcnNlT3B0aW9ucyh0KSk7cmV0dXJuIHQucGFydGlhbHNbZV09ci50O1xuXG59fWZ1bmN0aW9uIHJzKHQsZSxuKXt2YXIgaT12b2lkIDAscj1hcyhlLG4ub3duZXIpO2lmKHIpcmV0dXJuIHI7dmFyIHM9eShcInBhcnRpYWxzXCIsdCxlKTtpZihzKXtpZihyPXMucGFydGlhbHNbZV0sXCJmdW5jdGlvblwiPT10eXBlb2YgciYmKGk9ci5iaW5kKHMpLGkuaXNPd25lcj1zLnBhcnRpYWxzLmhhc093blByb3BlcnR5KGUpLHI9aS5jYWxsKHQsYWQpKSwhciYmXCJcIiE9PXIpcmV0dXJuIHZvaWQgbShOYSxlLFwicGFydGlhbFwiLFwicGFydGlhbFwiLHtyYWN0aXZlOnR9KTtpZighYWQuaXNQYXJzZWQocikpe3ZhciBvPWFkLnBhcnNlKHIsYWQuZ2V0UGFyc2VPcHRpb25zKHMpKTtvLnAmJm0oXCJQYXJ0aWFscyAoe3s+JXN9fSkgY2Fubm90IGNvbnRhaW4gbmVzdGVkIGlubGluZSBwYXJ0aWFsc1wiLGUse3JhY3RpdmU6dH0pO3ZhciBhPWk/czpzcyhzLGUpO2EucGFydGlhbHNbZV09cj1vLnR9cmV0dXJuIGkmJihyLl9mbj1pKSxyLnY/ci50OnJ9fWZ1bmN0aW9uIHNzKHQsZSl7cmV0dXJuIHQucGFydGlhbHMuaGFzT3duUHJvcGVydHkoZSk/dDpvcyh0LmNvbnN0cnVjdG9yLGUpfWZ1bmN0aW9uIG9zKHQsZSl7cmV0dXJuIHQ/dC5wYXJ0aWFscy5oYXNPd25Qcm9wZXJ0eShlKT90Om9zKHQuX1BhcmVudCxlKTp2b2lkIDB9ZnVuY3Rpb24gYXModCxlKXtpZihlKXtpZihlLnRlbXBsYXRlJiZlLnRlbXBsYXRlLnAmJmUudGVtcGxhdGUucFt0XSlyZXR1cm4gZS50ZW1wbGF0ZS5wW3RdO2lmKGUucGFyZW50RnJhZ21lbnQmJmUucGFyZW50RnJhZ21lbnQub3duZXIpcmV0dXJuIGFzKHQsZS5wYXJlbnRGcmFnbWVudC5vd25lcil9fWZ1bmN0aW9uIHVzKHQsZSl7dmFyIG4saT15KFwiY29tcG9uZW50c1wiLHQsZSk7aWYoaSYmKG49aS5jb21wb25lbnRzW2VdLCFuLl9QYXJlbnQpKXt2YXIgcj1uLmJpbmQoaSk7aWYoci5pc093bmVyPWkuY29tcG9uZW50cy5oYXNPd25Qcm9wZXJ0eShlKSxuPXIoKSwhbilyZXR1cm4gdm9pZCBtKE5hLGUsXCJjb21wb25lbnRcIixcImNvbXBvbmVudFwiLHtyYWN0aXZlOnR9KTtcInN0cmluZ1wiPT10eXBlb2YgbiYmKG49dXModCxuKSksbi5fZm49cixpLmNvbXBvbmVudHNbZV09bn1yZXR1cm4gbn1mdW5jdGlvbiBocygpe3ZhciB0PXRoaXMuaW5zdGFuY2UuZnJhZ21lbnQuZGV0YWNoKCk7cmV0dXJuIGpnLmZpcmUodGhpcy5pbnN0YW5jZSksdH1mdW5jdGlvbiBjcyh0KXtyZXR1cm4gdGhpcy5pbnN0YW5jZS5mcmFnbWVudC5maW5kKHQpfWZ1bmN0aW9uIGxzKHQsZSl7cmV0dXJuIHRoaXMuaW5zdGFuY2UuZnJhZ21lbnQuZmluZEFsbCh0LGUpfWZ1bmN0aW9uIGZzKHQsZSl7ZS5fdGVzdCh0aGlzLCEwKSx0aGlzLmluc3RhbmNlLmZyYWdtZW50JiZ0aGlzLmluc3RhbmNlLmZyYWdtZW50LmZpbmRBbGxDb21wb25lbnRzKHQsZSl9ZnVuY3Rpb24gZHModCl7cmV0dXJuIHQmJnQhPT10aGlzLm5hbWU/dGhpcy5pbnN0YW5jZS5mcmFnbWVudD90aGlzLmluc3RhbmNlLmZyYWdtZW50LmZpbmRDb21wb25lbnQodCk6bnVsbDp0aGlzLmluc3RhbmNlfWZ1bmN0aW9uIHBzKCl7cmV0dXJuIHRoaXMucGFyZW50RnJhZ21lbnQuZmluZE5leHROb2RlKHRoaXMpfWZ1bmN0aW9uIG1zKCl7cmV0dXJuIHRoaXMucmVuZGVyZWQ/dGhpcy5pbnN0YW5jZS5mcmFnbWVudC5maXJzdE5vZGUoKTpudWxsfWZ1bmN0aW9uIHZzKHQsZSxuKXtmdW5jdGlvbiBpKHQpe3ZhciBuLGk7dC52YWx1ZT1lLHQudXBkYXRpbmd8fChpPXQucmFjdGl2ZSxuPXQua2V5cGF0aCx0LnVwZGF0aW5nPSEwLG11LnN0YXJ0KGkpLGkudmlld21vZGVsLm1hcmsobiksbXUuZW5kKCksdC51cGRhdGluZz0hMSl9dmFyIHIscyxvLGEsdSxoO2lmKHI9dC5vYmoscz10LnByb3AsbiYmIW4uY29uZmlndXJhYmxlKXtpZihcImxlbmd0aFwiPT09cylyZXR1cm47dGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgdXNlIG1hZ2ljIG1vZGUgd2l0aCBwcm9wZXJ0eSBcIicrcysnXCIgLSBvYmplY3QgaXMgbm90IGNvbmZpZ3VyYWJsZScpfW4mJihvPW4uZ2V0LGE9bi5zZXQpLHU9b3x8ZnVuY3Rpb24oKXtyZXR1cm4gZX0saD1mdW5jdGlvbih0KXthJiZhKHQpLGU9bz9vKCk6dCxoLl9yYWN0aXZlV3JhcHBlcnMuZm9yRWFjaChpKX0saC5fcmFjdGl2ZVdyYXBwZXJzPVt0XSxPYmplY3QuZGVmaW5lUHJvcGVydHkocixzLHtnZXQ6dSxzZXQ6aCxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfWZ1bmN0aW9uIGdzKHQsZSl7dmFyIG4saSxyLHM7aWYodGhpcy5hZGFwdG9ycylmb3Iobj10aGlzLmFkYXB0b3JzLmxlbmd0aCxpPTA7bj5pO2krPTEpaWYocj10aGlzLmFkYXB0b3JzW2ldLHIuZmlsdGVyKGUsdCx0aGlzLnJhY3RpdmUpKXJldHVybiBzPXRoaXMud3JhcHBlZFt0XT1yLndyYXAodGhpcy5yYWN0aXZlLGUsdCxicyh0KSksdm9pZChzLnZhbHVlPWUpfWZ1bmN0aW9uIHlzKHQsZSl7dmFyIG4saT17fTtpZighZSlyZXR1cm4gdDtlKz1cIi5cIjtmb3IobiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihpW2Urbl09dFtuXSk7cmV0dXJuIGl9ZnVuY3Rpb24gYnModCl7dmFyIGU7cmV0dXJuIGl5W3RdfHwoZT10P3QrXCIuXCI6XCJcIixpeVt0XT1mdW5jdGlvbihuLGkpe3ZhciByO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBuPyhyPXt9LHJbZStuXT1pLHIpOlwib2JqZWN0XCI9PXR5cGVvZiBuP2U/eXMobix0KTpuOnZvaWQgMH0pLGl5W3RdfWZ1bmN0aW9uIHdzKHQpe3ZhciBlLG4saT1bWmFdO2ZvcihlPXQubGVuZ3RoO2UtLTspZm9yKG49dFtlXS5wYXJlbnQ7biYmIW4uaXNSb290OyktMT09PXQuaW5kZXhPZihuKSYmRihpLG4pLG49bi5wYXJlbnQ7cmV0dXJuIGl9ZnVuY3Rpb24geHModCxlLG4pe3ZhciBpO0VzKHQsZSksbnx8KGk9ZS53aWxkY2FyZE1hdGNoZXMoKSxpLmZvckVhY2goZnVuY3Rpb24obil7a3ModCxuLGUpfSkpfWZ1bmN0aW9uIGtzKHQsZSxuKXt2YXIgaSxyLHM7ZT1lLnN0cnx8ZSxpPXQuZGVwc01hcC5wYXR0ZXJuT2JzZXJ2ZXJzLHI9aSYmaVtlXSxyJiZyLmZvckVhY2goZnVuY3Rpb24oZSl7cz1uLmpvaW4oZS5sYXN0S2V5KSxFcyh0LHMpLGtzKHQsZSxzKX0pfWZ1bmN0aW9uIEVzKHQsZSl7dC5wYXR0ZXJuT2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24odCl7dC5yZWdleC50ZXN0KGUuc3RyKSYmdC51cGRhdGUoZSl9KX1mdW5jdGlvbiBfcygpe2Z1bmN0aW9uIHQodCl7dmFyIGk9dC5rZXk7dC52aWV3bW9kZWw9PT1vPyhvLmNsZWFyQ2FjaGUoaS5zdHIpLHQuaW52YWxpZGF0ZSgpLG4ucHVzaChpKSxlKGkpKTp0LnZpZXdtb2RlbC5tYXJrKGkpfWZ1bmN0aW9uIGUobil7dmFyIGkscjtvLm5vQ2FzY2FkZS5oYXNPd25Qcm9wZXJ0eShuLnN0cil8fCgocj1vLmRlcHMuY29tcHV0ZWRbbi5zdHJdKSYmci5mb3JFYWNoKHQpLChpPW8uZGVwc01hcC5jb21wdXRlZFtuLnN0cl0pJiZpLmZvckVhY2goZSkpfXZhciBuLGkscixzPXRoaXMsbz10aGlzLGE9e307cmV0dXJuIG49dGhpcy5jaGFuZ2VzLG4ubGVuZ3RoPyhuLnNsaWNlKCkuZm9yRWFjaChlKSxpPXJ5KG4pLGkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgaTstMT09PW4uaW5kZXhPZihlKSYmKGk9by5kZXBzLmNvbXB1dGVkW2Uuc3RyXSkmJmkuZm9yRWFjaCh0KX0pLHRoaXMuY2hhbmdlcz1bXSx0aGlzLnBhdHRlcm5PYnNlcnZlcnMubGVuZ3RoJiYoaS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBzeShzLHQsITApfSksbi5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBzeShzLHQpfSkpLHRoaXMuZGVwcy5vYnNlcnZlcnMmJihpLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIEFzKHMsbnVsbCx0LFwib2JzZXJ2ZXJzXCIpfSksQ3ModGhpcyxuLFwib2JzZXJ2ZXJzXCIpKSx0aGlzLmRlcHNbXCJkZWZhdWx0XCJdJiYocj1bXSxpLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIEFzKHMscix0LFwiZGVmYXVsdFwiKX0pLHIubGVuZ3RoJiZTcyh0aGlzLHIsbiksQ3ModGhpcyxuLFwiZGVmYXVsdFwiKSksbi5mb3JFYWNoKGZ1bmN0aW9uKHQpe2FbdC5zdHJdPXMuZ2V0KHQpfSksdGhpcy5pbXBsaWNpdENoYW5nZXM9e30sdGhpcy5ub0Nhc2NhZGU9e30sYSk6dm9pZCAwfWZ1bmN0aW9uIEFzKHQsZSxuLGkpe3ZhciByLHM7KHI9T3ModCxuLGkpKSYmKHM9dC5nZXQobiksci5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UmJnQucmVmaW5lVmFsdWU/ZS5wdXNoKHQpOnQuc2V0VmFsdWUocyl9KSl9ZnVuY3Rpb24gU3ModCxlLG4pe2UuZm9yRWFjaChmdW5jdGlvbihlKXtmb3IodmFyIGk9ITEscj0wLHM9bi5sZW5ndGgsbz1bXTtzPnI7KXt2YXIgYT1uW3JdO2lmKGE9PT1lLmtleXBhdGgpe2k9ITA7YnJlYWt9YS5zbGljZSgwLGUua2V5cGF0aC5sZW5ndGgpPT09ZS5rZXlwYXRoJiZvLnB1c2goYSkscisrfWkmJmUuc2V0VmFsdWUodC5nZXQoZS5rZXlwYXRoKSksby5sZW5ndGgmJmUucmVmaW5lVmFsdWUobyl9KX1mdW5jdGlvbiBDcyh0LGUsbil7ZnVuY3Rpb24gaSh0KXt0LmZvckVhY2gociksdC5mb3JFYWNoKHMpfWZ1bmN0aW9uIHIoZSl7dmFyIGk9T3ModCxlLG4pO2kmJmEucHVzaCh7a2V5cGF0aDplLGRlcHM6aX0pfWZ1bmN0aW9uIHMoZSl7dmFyIHI7KHI9dC5kZXBzTWFwW25dW2Uuc3RyXSkmJmkocil9ZnVuY3Rpb24gbyhlKXt2YXIgbj10LmdldChlLmtleXBhdGgpO2UuZGVwcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnNldFZhbHVlKG4pfSl9dmFyIGE9W107aShlKSxhLmZvckVhY2gobyl9ZnVuY3Rpb24gT3ModCxlLG4pe3ZhciBpPXQuZGVwc1tuXTtyZXR1cm4gaT9pW2Uuc3RyXTpudWxsfWZ1bmN0aW9uIFBzKCl7dGhpcy5jYXB0dXJlR3JvdXBzLnB1c2goW10pfWZ1bmN0aW9uIFRzKHQsZSl7dmFyIG4saTtpZihlfHwoaT10aGlzLndyYXBwZWRbdF0pJiZpLnRlYXJkb3duKCkhPT0hMSYmKHRoaXMud3JhcHBlZFt0XT1udWxsKSx0aGlzLmNhY2hlW3RdPXZvaWQgMCxuPXRoaXMuY2FjaGVNYXBbdF0pZm9yKDtuLmxlbmd0aDspdGhpcy5jbGVhckNhY2hlKG4ucG9wKCkpfWZ1bmN0aW9uIEZzKHQsZSl7dmFyIG49ZS5maXJzdEtleTtyZXR1cm4hKG4gaW4gdC5kYXRhfHxuIGluIHQuY29tcHV0YXRpb25zfHxuIGluIHQubWFwcGluZ3MpfWZ1bmN0aW9uIFJzKHQsZSl7dmFyIG49bmV3IGZ5KHQsZSk7cmV0dXJuIHRoaXMucmVhZHkmJm4uaW5pdCh0aGlzKSx0aGlzLmNvbXB1dGF0aW9uc1t0LnN0cl09bn1mdW5jdGlvbiBqcyh0LGUpe3ZhciBuLGkscixzLG8sYT10aGlzLmNhY2hlLHU9dC5zdHI7aWYoZT1lfHx2eSxlLmNhcHR1cmUmJihzPUQodGhpcy5jYXB0dXJlR3JvdXBzKSkmJih+cy5pbmRleE9mKHQpfHxzLnB1c2godCkpLE9hLmNhbGwodGhpcy5tYXBwaW5ncyx0LmZpcnN0S2V5KSlyZXR1cm4gdGhpcy5tYXBwaW5nc1t0LmZpcnN0S2V5XS5nZXQodCxlKTtpZih0LmlzU3BlY2lhbClyZXR1cm4gdC52YWx1ZTtpZih2b2lkIDA9PT1hW3VdPygoaT10aGlzLmNvbXB1dGF0aW9uc1t1XSkmJiFpLmJ5cGFzcz8obj1pLmdldCgpLHRoaXMuYWRhcHQodSxuKSk6KHI9dGhpcy53cmFwcGVkW3VdKT9uPXIudmFsdWU6dC5pc1Jvb3Q/KHRoaXMuYWRhcHQoXCJcIix0aGlzLmRhdGEpLG49dGhpcy5kYXRhKTpuPU5zKHRoaXMsdCksYVt1XT1uKTpuPWFbdV0sIWUubm9VbndyYXAmJihyPXRoaXMud3JhcHBlZFt1XSkmJihuPXIuZ2V0KCkpLHQuaXNSb290JiZlLmZ1bGxSb290R2V0KWZvcihvIGluIHRoaXMubWFwcGluZ3MpbltvXT10aGlzLm1hcHBpbmdzW29dLmdldFZhbHVlKCk7cmV0dXJuIG49PT1weT92b2lkIDA6bn1mdW5jdGlvbiBOcyh0LGUpe3ZhciBuLGkscixzO3JldHVybiBuPXQuZ2V0KGUucGFyZW50KSwocz10LndyYXBwZWRbZS5wYXJlbnQuc3RyXSkmJihuPXMuZ2V0KCkpLG51bGwhPT1uJiZ2b2lkIDAhPT1uPygoaT10LmNhY2hlTWFwW2UucGFyZW50LnN0cl0pPy0xPT09aS5pbmRleE9mKGUuc3RyKSYmaS5wdXNoKGUuc3RyKTp0LmNhY2hlTWFwW2UucGFyZW50LnN0cl09W2Uuc3RyXSxcIm9iamVjdFwiIT10eXBlb2Ygbnx8ZS5sYXN0S2V5IGluIG4/KHI9bltlLmxhc3RLZXldLHQuYWRhcHQoZS5zdHIsciwhMSksdC5jYWNoZVtlLnN0cl09cixyKTp0LmNhY2hlW2Uuc3RyXT1weSk6dm9pZCAwfWZ1bmN0aW9uIERzKCl7dmFyIHQ7Zm9yKHQgaW4gdGhpcy5jb21wdXRhdGlvbnMpdGhpcy5jb21wdXRhdGlvbnNbdF0uaW5pdCh0aGlzKX1mdW5jdGlvbiBJcyh0LGUpe3ZhciBuPXRoaXMubWFwcGluZ3NbdC5zdHJdPW5ldyBieSh0LGUpO3JldHVybiBuLmluaXRWaWV3bW9kZWwodGhpcyksbn1mdW5jdGlvbiBMcyh0LGUpe3ZhciBuLGk9dC5zdHI7ZSYmKGUuaW1wbGljaXQmJih0aGlzLmltcGxpY2l0Q2hhbmdlc1tpXT0hMCksZS5ub0Nhc2NhZGUmJih0aGlzLm5vQ2FzY2FkZVtpXT0hMCkpLChuPXRoaXMuY29tcHV0YXRpb25zW2ldKSYmbi5pbnZhbGlkYXRlKCksLTE9PT10aGlzLmNoYW5nZXMuaW5kZXhPZih0KSYmdGhpcy5jaGFuZ2VzLnB1c2godCk7dmFyIHI9ZT9lLmtlZXBFeGlzdGluZ1dyYXBwZXI6ITE7dGhpcy5jbGVhckNhY2hlKGksciksdGhpcy5yZWFkeSYmdGhpcy5vbmNoYW5nZSgpfWZ1bmN0aW9uIFZzKHQsZSxuLGkpe3ZhciByLHMsbyxhO2lmKHRoaXMubWFyayh0KSxpJiZpLmNvbXBhcmUpe289VXMoaS5jb21wYXJlKTt0cnl7cj1lLm1hcChvKSxzPW4ubWFwKG8pfWNhdGNoKHUpe20oJ21lcmdlKCk6IFwiJXNcIiBjb21wYXJpc29uIGZhaWxlZC4gRmFsbGluZyBiYWNrIHRvIGlkZW50aXR5IGNoZWNraW5nJyx0KSxyPWUscz1ufX1lbHNlIHI9ZSxzPW47YT14eShyLHMpLHRoaXMuc21hcnRVcGRhdGUodCxuLGEsZS5sZW5ndGghPT1uLmxlbmd0aCl9ZnVuY3Rpb24gTXModCl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHQpfWZ1bmN0aW9uIFVzKHQpe2lmKHQ9PT0hMClyZXR1cm4gTXM7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIEV5W3RdfHwoRXlbdF09ZnVuY3Rpb24oZSl7cmV0dXJuIGVbdF19KSxFeVt0XTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0KXJldHVybiB0O3Rocm93IG5ldyBFcnJvcihcIlRoZSBgY29tcGFyZWAgb3B0aW9uIG11c3QgYmUgYSBmdW5jdGlvbiwgb3IgYSBzdHJpbmcgcmVwcmVzZW50aW5nIGFuIGlkZW50aWZ5aW5nIGZpZWxkIChvciBgdHJ1ZWAgdG8gdXNlIEpTT04uc3RyaW5naWZ5KVwiKX1mdW5jdGlvbiBXcyh0LGUpe3ZhciBuLGkscixzPXZvaWQgMD09PWFyZ3VtZW50c1syXT9cImRlZmF1bHRcIjphcmd1bWVudHNbMl07ZS5pc1N0YXRpY3x8KChuPXRoaXMubWFwcGluZ3NbdC5maXJzdEtleV0pP24ucmVnaXN0ZXIodCxlLHMpOihpPXRoaXMuZGVwc1tzXXx8KHRoaXMuZGVwc1tzXT17fSkscj1pW3Quc3RyXXx8KGlbdC5zdHJdPVtdKSxyLnB1c2goZSksdGhpcy5kZXBzTWFwW3NdfHwodGhpcy5kZXBzTWFwW3NdPXt9KSx0LmlzUm9vdHx8enModGhpcyx0LHMpKSl9ZnVuY3Rpb24genModCxlLG4pe2Zvcih2YXIgaSxyLHM7IWUuaXNSb290OylpPXQuZGVwc01hcFtuXSxyPWlbZS5wYXJlbnQuc3RyXXx8KGlbZS5wYXJlbnQuc3RyXT1bXSkscz1lLnN0cix2b2lkIDA9PT1yW1wiX1wiK3NdJiYocltcIl9cIitzXT0wLHIucHVzaChlKSkscltcIl9cIitzXSs9MSxlPWUucGFyZW50fWZ1bmN0aW9uIEJzKCl7cmV0dXJuIHRoaXMuY2FwdHVyZUdyb3Vwcy5wb3AoKX1mdW5jdGlvbiBxcyh0KXt0aGlzLmRhdGE9dCx0aGlzLmNsZWFyQ2FjaGUoXCJcIil9ZnVuY3Rpb24gJHModCxlKXt2YXIgbixpLHIscyxvPXZvaWQgMD09PWFyZ3VtZW50c1syXT97fTphcmd1bWVudHNbMl07aWYoIW8ubm9NYXBwaW5nJiYobj10aGlzLm1hcHBpbmdzW3QuZmlyc3RLZXldKSlyZXR1cm4gbi5zZXQodCxlKTtpZihpPXRoaXMuY29tcHV0YXRpb25zW3Quc3RyXSl7aWYoaS5zZXR0aW5nKXJldHVybjtpLnNldChlKSxlPWkuZ2V0KCl9YSh0aGlzLmNhY2hlW3Quc3RyXSxlKXx8KHI9dGhpcy53cmFwcGVkW3Quc3RyXSxyJiZyLnJlc2V0JiYocz1yLnJlc2V0KGUpIT09ITEscyYmKGU9ci5nZXQoKSkpLGl8fHN8fFFzKHRoaXMsdCxlKSxvLnNpbGVudD90aGlzLmNsZWFyQ2FjaGUodC5zdHIpOnRoaXMubWFyayh0KSl9ZnVuY3Rpb24gUXModCxlLG4pe3ZhciBpLHIscyxvO3M9ZnVuY3Rpb24oKXtpLnNldD9pLnNldChlLmxhc3RLZXksbik6KHI9aS5nZXQoKSxvKCkpfSxvPWZ1bmN0aW9uKCl7cnx8KHI9WWcoZS5sYXN0S2V5KSx0LnNldChlLnBhcmVudCxyLHtzaWxlbnQ6ITB9KSkscltlLmxhc3RLZXldPW59LGk9dC53cmFwcGVkW2UucGFyZW50LnN0cl0saT9zKCk6KHI9dC5nZXQoZS5wYXJlbnQpLChpPXQud3JhcHBlZFtlLnBhcmVudC5zdHJdKT9zKCk6bygpKX1mdW5jdGlvbiBacyh0LGUsbil7dmFyIGkscixzLG89dGhpcztpZihyPW4ubGVuZ3RoLG4uZm9yRWFjaChmdW5jdGlvbihlLG4pey0xPT09ZSYmby5tYXJrKHQuam9pbihuKSxUeSl9KSx0aGlzLnNldCh0LGUse3NpbGVudDohMH0pLChpPXRoaXMuZGVwc1tcImRlZmF1bHRcIl1bdC5zdHJdKSYmaS5maWx0ZXIoSHMpLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQuc2h1ZmZsZShuLGUpfSksciE9PWUubGVuZ3RoKXtmb3IodGhpcy5tYXJrKHQuam9pbihcImxlbmd0aFwiKSxQeSkscz1uLnRvdWNoZWRGcm9tO3M8ZS5sZW5ndGg7cys9MSl0aGlzLm1hcmsodC5qb2luKHMpKTtmb3Iocz1lLmxlbmd0aDtyPnM7cys9MSl0aGlzLm1hcmsodC5qb2luKHMpLFR5KX19ZnVuY3Rpb24gSHModCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdC5zaHVmZmxlfWZ1bmN0aW9uIEtzKCl7dmFyIHQsZT10aGlzO2ZvcihPYmplY3Qua2V5cyh0aGlzLmNhY2hlKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBlLmNsZWFyQ2FjaGUodCl9KTt0PXRoaXMudW5yZXNvbHZlZEltcGxpY2l0RGVwZW5kZW5jaWVzLnBvcCgpOyl0LnRlYXJkb3duKCl9ZnVuY3Rpb24gR3ModCxlKXt2YXIgbixpLHIscz12b2lkIDA9PT1hcmd1bWVudHNbMl0/XCJkZWZhdWx0XCI6YXJndW1lbnRzWzJdO2lmKCFlLmlzU3RhdGljKXtpZihuPXRoaXMubWFwcGluZ3NbdC5maXJzdEtleV0pcmV0dXJuIG4udW5yZWdpc3Rlcih0LGUscyk7aWYoaT10aGlzLmRlcHNbc11bdC5zdHJdLHI9aS5pbmRleE9mKGUpLC0xPT09cil0aHJvdyBuZXcgRXJyb3IoXCJBdHRlbXB0ZWQgdG8gcmVtb3ZlIGEgZGVwZW5kYW50IHRoYXQgd2FzIG5vIGxvbmdlciByZWdpc3RlcmVkISBUaGlzIHNob3VsZCBub3QgaGFwcGVuLiBJZiB5b3UgYXJlIHNlZWluZyB0aGlzIGJ1ZyBpbiBkZXZlbG9wbWVudCBwbGVhc2UgcmFpc2UgYW4gaXNzdWUgYXQgaHR0cHM6Ly9naXRodWIuY29tL1JhY3RpdmVKUy9SYWN0aXZlL2lzc3VlcyAtIHRoYW5rc1wiKTtpLnNwbGljZShyLDEpLHQuaXNSb290fHxZcyh0aGlzLHQscyl9fWZ1bmN0aW9uIFlzKHQsZSxuKXtmb3IodmFyIGkscjshZS5pc1Jvb3Q7KWk9dC5kZXBzTWFwW25dLHI9aVtlLnBhcmVudC5zdHJdLHJbXCJfXCIrZS5zdHJdLT0xLHJbXCJfXCIrZS5zdHJdfHwoSShyLGUpLHJbXCJfXCIrZS5zdHJdPXZvaWQgMCksZT1lLnBhcmVudH1mdW5jdGlvbiBKcyh0KXt0aGlzLmhvb2s9bmV3IG51KHQpLHRoaXMuaW5Qcm9jZXNzPXt9LHRoaXMucXVldWU9e319ZnVuY3Rpb24gWHModCxlKXtyZXR1cm4gdFtlLl9ndWlkXXx8KHRbZS5fZ3VpZF09W10pfWZ1bmN0aW9uIHRvKHQsZSl7dmFyIG49WHModC5xdWV1ZSxlKTtmb3IodC5ob29rLmZpcmUoZSk7bi5sZW5ndGg7KXRvKHQsbi5zaGlmdCgpKTtkZWxldGUgdC5xdWV1ZVtlLl9ndWlkXX1mdW5jdGlvbiBlbyh0LGUpe3ZhciBuLGk9e307Zm9yKG4gaW4gZSlpW25dPW5vKHQsbixlW25dKTtyZXR1cm4gaX1mdW5jdGlvbiBubyh0LGUsbil7dmFyIGkscjtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiYoaT1ybyhuLHQpKSxcInN0cmluZ1wiPT10eXBlb2YgbiYmKGk9aW8odCxuKSksXCJvYmplY3RcIj09dHlwZW9mIG4mJihcInN0cmluZ1wiPT10eXBlb2Ygbi5nZXQ/aT1pbyh0LG4uZ2V0KTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLmdldD9pPXJvKG4uZ2V0LHQpOmwoXCJgJXNgIGNvbXB1dGF0aW9uIG11c3QgaGF2ZSBhIGBnZXQoKWAgbWV0aG9kXCIsZSksXCJmdW5jdGlvblwiPT10eXBlb2Ygbi5zZXQmJihyPXJvKG4uc2V0LHQpKSkse2dldHRlcjppLHNldHRlcjpyfX1mdW5jdGlvbiBpbyh0LGUpe3ZhciBuLGkscjtyZXR1cm4gbj1cInJldHVybiAoXCIrZS5yZXBsYWNlKEx5LGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGk9ITAsJ19fcmFjdGl2ZS5nZXQoXCInK2UrJ1wiKSd9KStcIik7XCIsaSYmKG49XCJ2YXIgX19yYWN0aXZlID0gdGhpczsgXCIrbikscj1uZXcgRnVuY3Rpb24obiksaT9yLmJpbmQodCk6cn1mdW5jdGlvbiBybyh0LGUpe3JldHVybi90aGlzLy50ZXN0KHQudG9TdHJpbmcoKSk/dC5iaW5kKGUpOnR9ZnVuY3Rpb24gc28oZSl7dmFyIG4scixzPXZvaWQgMD09PWFyZ3VtZW50c1sxXT97fTphcmd1bWVudHNbMV0sbz12b2lkIDA9PT1hcmd1bWVudHNbMl0/e306YXJndW1lbnRzWzJdO2lmKFFiLkRFQlVHJiZDYSgpLHVvKGUsbykseGEoZSxcImRhdGFcIix7Z2V0OmhvfSksVnkuZmlyZShlLHMpLHp5LmZvckVhY2goZnVuY3Rpb24odCl7ZVt0XT1pKHdhKGUuY29uc3RydWN0b3JbdF18fG51bGwpLHNbdF0pfSkscj1uZXcgTnkoe2FkYXB0Om9vKGUsZS5hZGFwdCxzKSxkYXRhOldoLmluaXQoZS5jb25zdHJ1Y3RvcixlLHMpLGNvbXB1dGVkOkl5KGUsaSh3YShlLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5jb21wdXRlZCkscy5jb21wdXRlZCkpLG1hcHBpbmdzOm8ubWFwcGluZ3MscmFjdGl2ZTplLG9uY2hhbmdlOmZ1bmN0aW9uKCl7cmV0dXJuIG11LmFkZFJhY3RpdmUoZSl9fSksZS52aWV3bW9kZWw9cixyLmluaXQoKSxiZC5pbml0KGUuY29uc3RydWN0b3IsZSxzKSxNeS5maXJlKGUpLFV5LmJlZ2luKGUpLGUudGVtcGxhdGUpe3ZhciBhPXZvaWQgMDsoby5jc3NJZHN8fGUuY3NzSWQpJiYoYT1vLmNzc0lkcz9vLmNzc0lkcy5zbGljZSgpOltdLGUuY3NzSWQmJmEucHVzaChlLmNzc0lkKSksZS5mcmFnbWVudD1uZXcgeWIoe3RlbXBsYXRlOmUudGVtcGxhdGUscm9vdDplLG93bmVyOmUsY3NzSWRzOmF9KX1pZihVeS5lbmQoZSksbj10KGUuZWwpKXt2YXIgdT1lLnJlbmRlcihuLGUuYXBwZW5kKTtRYi5ERUJVR19QUk9NSVNFUyYmdVtcImNhdGNoXCJdKGZ1bmN0aW9uKHQpe3Rocm93IHYoXCJQcm9taXNlIGRlYnVnZ2luZyBpcyBlbmFibGVkLCB0byBoZWxwIHNvbHZlIGVycm9ycyB0aGF0IGhhcHBlbiBhc3luY2hyb25vdXNseS4gU29tZSBicm93c2VycyB3aWxsIGxvZyB1bmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb25zLCBpbiB3aGljaCBjYXNlIHlvdSBjYW4gc2FmZWx5IGRpc2FibGUgcHJvbWlzZSBkZWJ1Z2dpbmc6XFxuICBSYWN0aXZlLkRFQlVHX1BST01JU0VTID0gZmFsc2U7XCIpLG0oXCJBbiBlcnJvciBoYXBwZW5lZCBkdXJpbmcgcmVuZGVyaW5nXCIse3JhY3RpdmU6ZX0pLHQuc3RhY2smJmYodC5zdGFjayksdH0pfX1mdW5jdGlvbiBvbyh0LGUsbil7ZnVuY3Rpb24gaShlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9ZyhcImFkYXB0b3JzXCIsdCxlKSxlfHxsKERhKGUsXCJhZGFwdG9yXCIpKSksZX12YXIgcixzLG87aWYoZT1lLm1hcChpKSxyPU4obi5hZGFwdCkubWFwKGkpLHI9YW8oZSxyKSxzPVwibWFnaWNcImluIG4/bi5tYWdpYzp0Lm1hZ2ljLG89XCJtb2RpZnlBcnJheXNcImluIG4/bi5tb2RpZnlBcnJheXM6dC5tb2RpZnlBcnJheXMscyl7aWYoIW5hKXRocm93IG5ldyBFcnJvcihcIkdldHRlcnMgYW5kIHNldHRlcnMgKG1hZ2ljIG1vZGUpIGFyZSBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtvJiZyLnB1c2goZXkpLHIucHVzaCh0eSl9cmV0dXJuIG8mJnIucHVzaChLZykscn1mdW5jdGlvbiBhbyh0LGUpe2Zvcih2YXIgbj10LnNsaWNlKCksaT1lLmxlbmd0aDtpLS07KX5uLmluZGV4T2YoZVtpXSl8fG4ucHVzaChlW2ldKTtyZXR1cm4gbn1mdW5jdGlvbiB1byh0LGUpe3QuX2d1aWQ9XCJyLVwiK1d5KyssdC5fc3Vicz13YShudWxsKSx0Ll9jb25maWc9e30sdC5fdHdvd2F5QmluZGluZ3M9d2EobnVsbCksdC5fYW5pbWF0aW9ucz1bXSx0Lm5vZGVzPXt9LHQuX2xpdmVRdWVyaWVzPVtdLHQuX2xpdmVDb21wb25lbnRRdWVyaWVzPVtdLHQuX2JvdW5kRnVuY3Rpb25zPVtdLHQuX29ic2VydmVycz1bXSxlLmNvbXBvbmVudD8odC5wYXJlbnQ9ZS5wYXJlbnQsdC5jb250YWluZXI9ZS5jb250YWluZXJ8fG51bGwsdC5yb290PXQucGFyZW50LnJvb3QsdC5jb21wb25lbnQ9ZS5jb21wb25lbnQsZS5jb21wb25lbnQuaW5zdGFuY2U9dCx0Ll9pbmxpbmVQYXJ0aWFscz1lLmlubGluZVBhcnRpYWxzKToodC5yb290PXQsdC5wYXJlbnQ9dC5jb250YWluZXI9bnVsbCl9ZnVuY3Rpb24gaG8oKXt0aHJvdyBuZXcgRXJyb3IoXCJVc2luZyBgcmFjdGl2ZS5kYXRhYCBpcyBubyBsb25nZXIgc3VwcG9ydGVkIC0geW91IG11c3QgdXNlIHRoZSBgcmFjdGl2ZS5nZXQoKWAgQVBJIGluc3RlYWRcIil9ZnVuY3Rpb24gY28odCxlLG4pe3RoaXMucGFyZW50RnJhZ21lbnQ9dC5wYXJlbnRGcmFnbWVudCx0aGlzLmNhbGxiYWNrPW4sdGhpcy5mcmFnbWVudD1uZXcgeWIoe3RlbXBsYXRlOmUscm9vdDp0LnJvb3Qsb3duZXI6dGhpc30pLHRoaXMudXBkYXRlKCl9ZnVuY3Rpb24gbG8odCxlLG4pe3ZhciBpO3JldHVybiBlLnI/aT1RZCh0LGUucixuKTplLng/aT1uZXcgR2QodCx0LnBhcmVudEZyYWdtZW50LGUueCxuKTplLnJ4JiYoaT1uZXcgdHAodCxlLnJ4LG4pKSxpfWZ1bmN0aW9uIGZvKHQpe3JldHVybiAxPT09dC5sZW5ndGgmJnRbMF0udD09PUhofWZ1bmN0aW9uIHBvKHQsZSl7dmFyIG47Zm9yKG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiZtbyh0Lmluc3RhbmNlLHQucm9vdCxuLGVbbl0pfWZ1bmN0aW9uIG1vKHQsZSxuLGkpe1wic3RyaW5nXCIhPXR5cGVvZiBpJiZsKFwiQ29tcG9uZW50cyBjdXJyZW50bHkgb25seSBzdXBwb3J0IHNpbXBsZSBldmVudHMgLSB5b3UgY2Fubm90IGluY2x1ZGUgYXJndW1lbnRzLiBTb3JyeSFcIiksdC5vbihuLGZ1bmN0aW9uKCl7dmFyIHQsbjtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCYmYXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF0ubm9kZSYmKHQ9QXJyYXkucHJvdG90eXBlLnNoaWZ0LmNhbGwoYXJndW1lbnRzKSksbj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLFd1KGUsaSx7ZXZlbnQ6dCxhcmdzOm59KSwhMX0pfWZ1bmN0aW9uIHZvKHQsZSl7dmFyIG4saTtpZighZSl0aHJvdyBuZXcgRXJyb3IoJ0NvbXBvbmVudCBcIicrdGhpcy5uYW1lKydcIiBub3QgZm91bmQnKTtuPXRoaXMucGFyZW50RnJhZ21lbnQ9dC5wYXJlbnRGcmFnbWVudCxpPW4ucm9vdCx0aGlzLnJvb3Q9aSx0aGlzLnR5cGU9c2MsdGhpcy5uYW1lPXQudGVtcGxhdGUuZSx0aGlzLmluZGV4PXQuaW5kZXgsdGhpcy5pbmRleFJlZkJpbmRpbmdzPXt9LHRoaXMueWllbGRlcnM9e30sdGhpcy5yZXNvbHZlcnM9W10sJHkodGhpcyxlLHQudGVtcGxhdGUuYSx0LnRlbXBsYXRlLmYsdC50ZW1wbGF0ZS5wKSxReSh0aGlzLHQudGVtcGxhdGUudiksKHQudGVtcGxhdGUudDB8fHQudGVtcGxhdGUudDF8fHQudGVtcGxhdGUudDJ8fHQudGVtcGxhdGUubykmJm0oJ1RoZSBcImludHJvXCIsIFwib3V0cm9cIiBhbmQgXCJkZWNvcmF0b3JcIiBkaXJlY3RpdmVzIGhhdmUgbm8gZWZmZWN0IG9uIGNvbXBvbmVudHMnLHtyYWN0aXZlOnRoaXMuaW5zdGFuY2V9KSxaeSh0aGlzKX1mdW5jdGlvbiBnbyh0LGUpe2Z1bmN0aW9uIG4obil7bi5yZWJpbmQodCxlKX12YXIgaTt0aGlzLnJlc29sdmVycy5mb3JFYWNoKG4pO2Zvcih2YXIgciBpbiB0aGlzLnlpZWxkZXJzKXRoaXMueWllbGRlcnNbcl1bMF0mJm4odGhpcy55aWVsZGVyc1tyXVswXSk7KGk9dGhpcy5yb290Ll9saXZlQ29tcG9uZW50UXVlcmllc1tcIl9cIit0aGlzLm5hbWVdKSYmaS5fbWFrZURpcnR5KCl9ZnVuY3Rpb24geW8oKXt2YXIgdD10aGlzLmluc3RhbmNlO3JldHVybiB0LnJlbmRlcih0aGlzLnBhcmVudEZyYWdtZW50LmdldE5vZGUoKSksdGhpcy5yZW5kZXJlZD0hMCx0LmZyYWdtZW50LmRldGFjaCgpfWZ1bmN0aW9uIGJvKCl7cmV0dXJuIHRoaXMuaW5zdGFuY2UuZnJhZ21lbnQudG9TdHJpbmcoKX1mdW5jdGlvbiB3bygpe3ZhciB0PXRoaXMuaW5zdGFuY2U7dGhpcy5yZXNvbHZlcnMuZm9yRWFjaChaKSx4byh0aGlzKSx0Ll9vYnNlcnZlcnMuZm9yRWFjaChLKSx0LmZyYWdtZW50LnVuYmluZCgpLHQudmlld21vZGVsLnRlYXJkb3duKCksdC5mcmFnbWVudC5yZW5kZXJlZCYmdC5lbC5fX3JhY3RpdmVfaW5zdGFuY2VzX18mJkkodC5lbC5fX3JhY3RpdmVfaW5zdGFuY2VzX18sdCksWHkuZmlyZSh0KX1mdW5jdGlvbiB4byh0KXt2YXIgZSxuO2U9dC5yb290O2RvKG49ZS5fbGl2ZUNvbXBvbmVudFF1ZXJpZXNbXCJfXCIrdC5uYW1lXSkmJm4uX3JlbW92ZSh0KTt3aGlsZShlPWUucGFyZW50KX1mdW5jdGlvbiBrbyh0KXt0aGlzLnNob3VsZERlc3Ryb3k9dCx0aGlzLmluc3RhbmNlLnVucmVuZGVyKCl9ZnVuY3Rpb24gRW8odCl7dmFyIGU9dGhpczt0aGlzLm93bmVyPXQub3duZXIsdGhpcy5wYXJlbnQ9dGhpcy5vd25lci5wYXJlbnRGcmFnbWVudCx0aGlzLnJvb3Q9dC5yb290LHRoaXMucEVsZW1lbnQ9dC5wRWxlbWVudCx0aGlzLmNvbnRleHQ9dC5jb250ZXh0LHRoaXMuaW5kZXg9dC5pbmRleCx0aGlzLmtleT10LmtleSx0aGlzLnJlZ2lzdGVyZWRJbmRleFJlZnM9W10sdGhpcy5jc3NJZHM9XCJjc3NJZHNcImluIHQ/dC5jc3NJZHM6dGhpcy5wYXJlbnQ/dGhpcy5wYXJlbnQuY3NzSWRzOm51bGwsdGhpcy5pdGVtcz10LnRlbXBsYXRlLm1hcChmdW5jdGlvbihuLGkpe3JldHVybiBfbyh7cGFyZW50RnJhZ21lbnQ6ZSxwRWxlbWVudDp0LnBFbGVtZW50LHRlbXBsYXRlOm4saW5kZXg6aX0pfSksdGhpcy52YWx1ZT10aGlzLmFyZ3NMaXN0PW51bGwsdGhpcy5kaXJ0eUFyZ3M9dGhpcy5kaXJ0eVZhbHVlPSEwLHRoaXMuYm91bmQ9ITB9ZnVuY3Rpb24gX28odCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQudGVtcGxhdGUpcmV0dXJuIG5ldyBOZCh0KTtzd2l0Y2godC50ZW1wbGF0ZS50KXtjYXNlIG9jOnJldHVybiBuZXcgb2IodCk7Y2FzZSBIaDpyZXR1cm4gbmV3IG9wKHQpO2Nhc2UgR2g6cmV0dXJuIG5ldyBTcCh0KTtjYXNlIEtoOnJldHVybiBuZXcgcXAodCk7Y2FzZSBYaDp2YXIgZT12b2lkIDA7cmV0dXJuKGU9RmcodC5wYXJlbnRGcmFnbWVudC5yb290LHQudGVtcGxhdGUuZSkpP25ldyBuYih0LGUpOm5ldyBiZyh0KTtjYXNlIHRjOnJldHVybiBuZXcgVGcodCk7Y2FzZSBlYzpyZXR1cm4gbmV3IHJiKHQpO2Nhc2UgdWM6cmV0dXJuIG5ldyB1Yih0KTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIlNvbWV0aGluZyB2ZXJ5IHN0cmFuZ2UgaGFwcGVuZWQuIFBsZWFzZSBmaWxlIGFuIGlzc3VlIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS9yYWN0aXZlanMvcmFjdGl2ZS9pc3N1ZXMuIFRoYW5rcyFcIil9fWZ1bmN0aW9uIEFvKHQsZSl7KCF0aGlzLm93bmVyfHx0aGlzLm93bmVyLmhhc0NvbnRleHQpJiZrKHRoaXMsXCJjb250ZXh0XCIsdCxlKSx0aGlzLml0ZW1zLmZvckVhY2goZnVuY3Rpb24obil7bi5yZWJpbmQmJm4ucmViaW5kKHQsZSl9KX1mdW5jdGlvbiBTbygpe3ZhciB0O3JldHVybiAxPT09dGhpcy5pdGVtcy5sZW5ndGg/dD10aGlzLml0ZW1zWzBdLnJlbmRlcigpOih0PWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSx0aGlzLml0ZW1zLmZvckVhY2goZnVuY3Rpb24oZSl7dC5hcHBlbmRDaGlsZChlLnJlbmRlcigpKX0pKSx0aGlzLnJlbmRlcmVkPSEwLHR9ZnVuY3Rpb24gQ28odCl7cmV0dXJuIHRoaXMuaXRlbXM/dGhpcy5pdGVtcy5tYXAodD9QbzpPbykuam9pbihcIlwiKTpcIlwifWZ1bmN0aW9uIE9vKHQpe3JldHVybiB0LnRvU3RyaW5nKCl9ZnVuY3Rpb24gUG8odCl7cmV0dXJuIHQudG9TdHJpbmcoITApfWZ1bmN0aW9uIFRvKCl7dGhpcy5ib3VuZCYmKHRoaXMuaXRlbXMuZm9yRWFjaChGbyksdGhpcy5ib3VuZD0hMSl9ZnVuY3Rpb24gRm8odCl7dC51bmJpbmQmJnQudW5iaW5kKCl9ZnVuY3Rpb24gUm8odCl7aWYoIXRoaXMucmVuZGVyZWQpdGhyb3cgbmV3IEVycm9yKFwiQXR0ZW1wdGVkIHRvIHVucmVuZGVyIGEgZnJhZ21lbnQgdGhhdCB3YXMgbm90IHJlbmRlcmVkXCIpO3RoaXMuaXRlbXMuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZS51bnJlbmRlcih0KX0pLHRoaXMucmVuZGVyZWQ9ITF9ZnVuY3Rpb24gam8odCl7dmFyIGUsbixpLHIscztpZih0PXR8fHt9LFwib2JqZWN0XCIhPXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcihcIlRoZSByZXNldCBtZXRob2QgdGFrZXMgZWl0aGVyIG5vIGFyZ3VtZW50cywgb3IgYW4gb2JqZWN0IGNvbnRhaW5pbmcgbmV3IGRhdGFcIik7Zm9yKChuPXRoaXMudmlld21vZGVsLndyYXBwZWRbXCJcIl0pJiZuLnJlc2V0P24ucmVzZXQodCk9PT0hMSYmdGhpcy52aWV3bW9kZWwucmVzZXQodCk6dGhpcy52aWV3bW9kZWwucmVzZXQodCksaT1iZC5yZXNldCh0aGlzKSxyPWkubGVuZ3RoO3ItLTspaWYod2IuaW5kZXhPZihpW3JdKT4tMSl7cz0hMDticmVha31pZihzKXt2YXIgbz12b2lkIDA7dGhpcy52aWV3bW9kZWwubWFyayhaYSksKG89dGhpcy5jb21wb25lbnQpJiYoby5zaG91bGREZXN0cm95PSEwKSx0aGlzLnVucmVuZGVyKCksbyYmKG8uc2hvdWxkRGVzdHJveT0hMSksdGhpcy5mcmFnbWVudC50ZW1wbGF0ZSE9PXRoaXMudGVtcGxhdGUmJih0aGlzLmZyYWdtZW50LnVuYmluZCgpLHRoaXMuZnJhZ21lbnQ9bmV3IHliKHt0ZW1wbGF0ZTp0aGlzLnRlbXBsYXRlLHJvb3Q6dGhpcyxvd25lcjp0aGlzfSkpLGU9dGhpcy5yZW5kZXIodGhpcy5lbCx0aGlzLmFuY2hvcil9ZWxzZSBlPW11LnN0YXJ0KHRoaXMsITApLHRoaXMudmlld21vZGVsLm1hcmsoWmEpLG11LmVuZCgpO3JldHVybiB4Yi5maXJlKHRoaXMsdCksZX1mdW5jdGlvbiBObyh0KXt2YXIgZSxuO2hkLmluaXQobnVsbCx0aGlzLHt0ZW1wbGF0ZTp0fSksZT10aGlzLnRyYW5zaXRpb25zRW5hYmxlZCx0aGlzLnRyYW5zaXRpb25zRW5hYmxlZD0hMSwobj10aGlzLmNvbXBvbmVudCkmJihuLnNob3VsZERlc3Ryb3k9ITApLHRoaXMudW5yZW5kZXIoKSxuJiYobi5zaG91bGREZXN0cm95PSExKSx0aGlzLmZyYWdtZW50LnVuYmluZCgpLHRoaXMuZnJhZ21lbnQ9bmV3IHliKHt0ZW1wbGF0ZTp0aGlzLnRlbXBsYXRlLHJvb3Q6dGhpcyxvd25lcjp0aGlzfSksdGhpcy5yZW5kZXIodGhpcy5lbCx0aGlzLmFuY2hvciksdGhpcy50cmFuc2l0aW9uc0VuYWJsZWQ9ZX1mdW5jdGlvbiBEbyh0LGUpe3ZhciBuLGk7aWYoaT1tdS5zdGFydCh0aGlzLCEwKSxoKHQpKXtuPXQ7Zm9yKHQgaW4gbiluLmhhc093blByb3BlcnR5KHQpJiYoZT1uW3RdLElvKHRoaXMsdCxlKSl9ZWxzZSBJbyh0aGlzLHQsZSk7cmV0dXJuIG11LmVuZCgpLGl9ZnVuY3Rpb24gSW8odCxlLG4pe2U9XyhDKGUpKSxlLmlzUGF0dGVybj9BKHQsZSkuZm9yRWFjaChmdW5jdGlvbihlKXt0LnZpZXdtb2RlbC5zZXQoZSxuKX0pOnQudmlld21vZGVsLnNldChlLG4pfWZ1bmN0aW9uIExvKHQsZSl7cmV0dXJuIEhhKHRoaXMsdCx2b2lkIDA9PT1lPy0xOi1lKX1mdW5jdGlvbiBWbygpe3ZhciB0O3JldHVybiB0aGlzLmZyYWdtZW50LnVuYmluZCgpLHRoaXMudmlld21vZGVsLnRlYXJkb3duKCksdGhpcy5fb2JzZXJ2ZXJzLmZvckVhY2goSyksdGhpcy5mcmFnbWVudC5yZW5kZXJlZCYmdGhpcy5lbC5fX3JhY3RpdmVfaW5zdGFuY2VzX18mJkkodGhpcy5lbC5fX3JhY3RpdmVfaW5zdGFuY2VzX18sdGhpcyksdGhpcy5zaG91bGREZXN0cm95PSEwLHQ9dGhpcy5mcmFnbWVudC5yZW5kZXJlZD90aGlzLnVucmVuZGVyKCk6b3UucmVzb2x2ZSgpLEZiLmZpcmUodGhpcyksdGhpcy5fYm91bmRGdW5jdGlvbnMuZm9yRWFjaChNbyksdH1mdW5jdGlvbiBNbyh0KXtkZWxldGUgdC5mblt0LnByb3BdfWZ1bmN0aW9uIFVvKHQpe3ZhciBlPXRoaXM7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcihqYSk7dmFyIG49dm9pZCAwO3JldHVybi9cXCovLnRlc3QodCk/KG49e30sQSh0aGlzLF8oQyh0KSkpLmZvckVhY2goZnVuY3Rpb24odCl7blt0LnN0cl09IWUudmlld21vZGVsLmdldCh0KX0pLHRoaXMuc2V0KG4pKTp0aGlzLnNldCh0LCF0aGlzLmdldCh0KSl9ZnVuY3Rpb24gV28oKXtyZXR1cm4gdGhpcy5mcmFnbWVudC50b1N0cmluZyghMCl9ZnVuY3Rpb24gem8oKXt2YXIgdCxlO2lmKCF0aGlzLmZyYWdtZW50LnJlbmRlcmVkKXJldHVybiBtKFwicmFjdGl2ZS51bnJlbmRlcigpIHdhcyBjYWxsZWQgb24gYSBSYWN0aXZlIGluc3RhbmNlIHRoYXQgd2FzIG5vdCByZW5kZXJlZFwiKSxvdS5yZXNvbHZlKCk7Zm9yKHQ9bXUuc3RhcnQodGhpcywhMCksZT0hdGhpcy5jb21wb25lbnR8fHRoaXMuY29tcG9uZW50LnNob3VsZERlc3Ryb3l8fHRoaXMuc2hvdWxkRGVzdHJveTt0aGlzLl9hbmltYXRpb25zWzBdOyl0aGlzLl9hbmltYXRpb25zWzBdLnN0b3AoKTtyZXR1cm4gdGhpcy5mcmFnbWVudC51bnJlbmRlcihlKSxJKHRoaXMuZWwuX19yYWN0aXZlX2luc3RhbmNlc19fLHRoaXMpLERiLmZpcmUodGhpcyksbXUuZW5kKCksdH1mdW5jdGlvbiBCbyh0KXt2YXIgZTtyZXR1cm4gdD1fKHQpfHxaYSxlPW11LnN0YXJ0KHRoaXMsITApLHRoaXMudmlld21vZGVsLm1hcmsodCksbXUuZW5kKCksVmIuZmlyZSh0aGlzLHQpLGV9ZnVuY3Rpb24gcW8odCxlKXt2YXIgbixpLHI7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHR8fGUpe3I9W107Zm9yKGkgaW4gdGhpcy5fdHdvd2F5QmluZGluZ3MpKCF0fHxfKGkpLmVxdWFsc09yU3RhcnRzV2l0aCh0KSkmJnIucHVzaC5hcHBseShyLHRoaXMuX3R3b3dheUJpbmRpbmdzW2ldKX1lbHNlIHI9dGhpcy5fdHdvd2F5QmluZGluZ3NbdF07cmV0dXJuIG49JG8odGhpcyxyKSx0aGlzLnNldChuKX1mdW5jdGlvbiAkbyh0LGUpe3ZhciBuPXt9LGk9W107cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZSxyO2lmKCF0LnJhZGlvTmFtZXx8dC5lbGVtZW50Lm5vZGUuY2hlY2tlZCl7aWYodC5jaGVja2JveE5hbWUpcmV0dXJuIHZvaWQoaVt0LmtleXBhdGguc3RyXXx8dC5jaGFuZ2VkKCl8fChpLnB1c2godC5rZXlwYXRoKSxpW3Qua2V5cGF0aC5zdHJdPXQpKTtlPXQuYXR0cmlidXRlLnZhbHVlLHI9dC5nZXRWYWx1ZSgpLGooZSxyKXx8YShlLHIpfHwoblt0LmtleXBhdGguc3RyXT1yKX19KSxpLmxlbmd0aCYmaS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlLHIscztlPWlbdC5zdHJdLHI9ZS5hdHRyaWJ1dGUudmFsdWUscz1lLmdldFZhbHVlKCksaihyLHMpfHwoblt0LnN0cl09cyl9KSxufWZ1bmN0aW9uIFFvKHQsZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmL19zdXBlci8udGVzdCh0KX1mdW5jdGlvbiBabyh0KXtmb3IodmFyIGU9e307dDspSG8odCxlKSxHbyh0LGUpLHQ9dC5fUGFyZW50IT09UWI/dC5fUGFyZW50OiExO3JldHVybiBlfWZ1bmN0aW9uIEhvKHQsZSl7dmQuZm9yRWFjaChmdW5jdGlvbihuKXtLbyhuLnVzZURlZmF1bHRzP3QucHJvdG90eXBlOnQsZSxuLm5hbWUpfSl9ZnVuY3Rpb24gS28odCxlLG4pe3ZhciBpLHI9T2JqZWN0LmtleXModFtuXSk7ci5sZW5ndGgmJigoaT1lW25dKXx8KGk9ZVtuXT17fSksci5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuISh0IGluIGkpfSkuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gaVtlXT10W25dW2VdfSkpfWZ1bmN0aW9uIEdvKHQsZSl7T2JqZWN0LmtleXModC5wcm90b3R5cGUpLmZvckVhY2goZnVuY3Rpb24obil7aWYoXCJjb21wdXRlZFwiIT09bil7dmFyIGk9dC5wcm90b3R5cGVbbl07aWYobiBpbiBlKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlW25dJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBpJiZlW25dLl9tZXRob2Qpe3ZhciByPXZvaWQgMCxzPWkuX21ldGhvZDtzJiYoaT1pLl9tZXRob2QpLHI9V2IoZVtuXS5fbWV0aG9kLGkpLHMmJihyLl9tZXRob2Q9ciksZVtuXT1yfX1lbHNlIGVbbl09aS5fbWV0aG9kP2kuX21ldGhvZDppfX0pfWZ1bmN0aW9uIFlvKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsZT1BcnJheSh0KSxuPTA7dD5uO24rKyllW25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gZS5sZW5ndGg/ZS5yZWR1Y2UoSm8sdGhpcyk6Sm8odGhpcyl9ZnVuY3Rpb24gSm8odCl7dmFyIGUsbixyPXZvaWQgMD09PWFyZ3VtZW50c1sxXT97fTphcmd1bWVudHNbMV07cmV0dXJuIHIucHJvdG90eXBlIGluc3RhbmNlb2YgUWImJihyPXpiKHIpKSxlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgZT92b2lkIEJ5KHRoaXMsdCk6bmV3IGUodCl9LG49d2EodC5wcm90b3R5cGUpLG4uY29uc3RydWN0b3I9ZSxrYShlLHtkZWZhdWx0czp7dmFsdWU6bn0sZXh0ZW5kOnt2YWx1ZTpZbyx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9LF9QYXJlbnQ6e3ZhbHVlOnR9fSksYmQuZXh0ZW5kKHQsbixyKSxXaC5leHRlbmQodCxuLHIpLHIuY29tcHV0ZWQmJihuLmNvbXB1dGVkPWkod2EodC5wcm90b3R5cGUuY29tcHV0ZWQpLHIuY29tcHV0ZWQpKSxlLnByb3RvdHlwZT1uLGV9dmFyIFhvLHRhLGVhLG5hLGlhLHJhLHNhLG9hPTMsYWE9e2VsOnZvaWQgMCxhcHBlbmQ6ITEsdGVtcGxhdGU6e3Y6b2EsdDpbXX0scHJlc2VydmVXaGl0ZXNwYWNlOiExLHNhbml0aXplOiExLHN0cmlwQ29tbWVudHM6ITAsZGVsaW1pdGVyczpbXCJ7e1wiLFwifX1cIl0sdHJpcGxlRGVsaW1pdGVyczpbXCJ7e3tcIixcIn19fVwiXSxpbnRlcnBvbGF0ZTohMSxkYXRhOnt9LGNvbXB1dGVkOnt9LG1hZ2ljOiExLG1vZGlmeUFycmF5czohMCxhZGFwdDpbXSxpc29sYXRlZDohMSx0d293YXk6ITAsbGF6eTohMSxub0ludHJvOiExLHRyYW5zaXRpb25zRW5hYmxlZDohMCxjb21wbGV0ZTp2b2lkIDAsY3NzOm51bGwsbm9Dc3NUcmFuc2Zvcm06ITF9LHVhPWFhLGhhPXtsaW5lYXI6ZnVuY3Rpb24odCl7cmV0dXJuIHR9LGVhc2VJbjpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5wb3codCwzKX0sZWFzZU91dDpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5wb3codC0xLDMpKzF9LGVhc2VJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4odC89LjUpPDE/LjUqTWF0aC5wb3codCwzKTouNSooTWF0aC5wb3codC0yLDMpKzIpfX07WG89XCJvYmplY3RcIj09dHlwZW9mIGRvY3VtZW50LHRhPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJi9qc0RvbS8udGVzdChuYXZpZ2F0b3IuYXBwTmFtZSksZWE9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGNvbnNvbGUud2FybiYmXCJmdW5jdGlvblwiPT10eXBlb2YgY29uc29sZS53YXJuLmFwcGx5O3RyeXtPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sXCJ0ZXN0XCIse3ZhbHVlOjB9KSxuYT0hMH1jYXRjaChjYSl7bmE9ITF9aWE9e2h0bWw6XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCIsbWF0aG1sOlwiaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTFwiLHN2ZzpcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIseGxpbms6XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIseG1sOlwiaHR0cDovL3d3dy53My5vcmcvWE1MLzE5OTgvbmFtZXNwYWNlXCIseG1sbnM6XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3htbG5zL1wifSxyYT1cInVuZGVmaW5lZFwiPT10eXBlb2YgZG9jdW1lbnQ/ITE6ZG9jdW1lbnQmJmRvY3VtZW50LmltcGxlbWVudGF0aW9uLmhhc0ZlYXR1cmUoXCJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0Jhc2ljU3RydWN0dXJlXCIsXCIxLjFcIiksc2E9W1wib1wiLFwibXNcIixcIm1velwiLFwid2Via2l0XCJdO3ZhciBsYSxmYSxkYSxwYSxtYSx2YSxnYSx5YSxiYTtpZihsYT1yYT9mdW5jdGlvbih0LGUpe3JldHVybiBlJiZlIT09aWEuaHRtbD9kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoZSx0KTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KHQpfTpmdW5jdGlvbih0LGUpe2lmKGUmJmUhPT1pYS5odG1sKXRocm93XCJUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBuYW1lc3BhY2VzIG90aGVyIHRoYW4gaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbC4gVGhlIG1vc3QgbGlrZWx5IGNhdXNlIG9mIHRoaXMgZXJyb3IgaXMgdGhhdCB5b3UncmUgdHJ5aW5nIHRvIHJlbmRlciBTVkcgaW4gYW4gb2xkZXIgYnJvd3Nlci4gU2VlIGh0dHA6Ly9kb2NzLnJhY3RpdmVqcy5vcmcvbGF0ZXN0L3N2Zy1hbmQtb2xkZXItYnJvd3NlcnMgZm9yIG1vcmUgaW5mb3JtYXRpb25cIjtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0KX0sWG8pe2ZvcihkYT1sYShcImRpdlwiKSxwYT1bXCJtYXRjaGVzXCIsXCJtYXRjaGVzU2VsZWN0b3JcIl0sYmE9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7cmV0dXJuIGVbdF0obil9fSxnYT1wYS5sZW5ndGg7Z2EtLSYmIWZhOylpZihtYT1wYVtnYV0sZGFbbWFdKWZhPWJhKG1hKTtlbHNlIGZvcih5YT1zYS5sZW5ndGg7eWEtLTspaWYodmE9c2FbZ2FdK21hLnN1YnN0cigwLDEpLnRvVXBwZXJDYXNlKCkrbWEuc3Vic3RyaW5nKDEpLGRhW3ZhXSl7ZmE9YmEodmEpO2JyZWFrfWZhfHwoZmE9ZnVuY3Rpb24odCxlKXt2YXIgbixpLHI7Zm9yKGk9dC5wYXJlbnROb2RlLGl8fChkYS5pbm5lckhUTUw9XCJcIixpPWRhLHQ9dC5jbG9uZU5vZGUoKSxkYS5hcHBlbmRDaGlsZCh0KSksbj1pLnF1ZXJ5U2VsZWN0b3JBbGwoZSkscj1uLmxlbmd0aDtyLS07KWlmKG5bcl09PT10KXJldHVybiEwO3JldHVybiExfSl9ZWxzZSBmYT1udWxsO3ZhciB3YSx4YSxrYSxFYT1udWxsO3RyeXtPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sXCJ0ZXN0XCIse3ZhbHVlOjB9KSxYbyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXCJ0ZXN0XCIse3ZhbHVlOjB9KSx4YT1PYmplY3QuZGVmaW5lUHJvcGVydHl9Y2F0Y2goX2Epe3hhPWZ1bmN0aW9uKHQsZSxuKXt0W2VdPW4udmFsdWV9fXRyeXt0cnl7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoe30se3Rlc3Q6e3ZhbHVlOjB9fSl9Y2F0Y2goX2Epe3Rocm93IF9hfVhvJiZPYmplY3QuZGVmaW5lUHJvcGVydGllcyhsYShcImRpdlwiKSx7dGVzdDp7dmFsdWU6MH19KSxrYT1PYmplY3QuZGVmaW5lUHJvcGVydGllc31jYXRjaChfYSl7a2E9ZnVuY3Rpb24odCxlKXt2YXIgbjtmb3IobiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJnhhKHQsbixlW25dKX19dHJ5e09iamVjdC5jcmVhdGUobnVsbCksd2E9T2JqZWN0LmNyZWF0ZX1jYXRjaChfYSl7d2E9ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbigpe307cmV0dXJuIGZ1bmN0aW9uKGUsbil7dmFyIGk7cmV0dXJuIG51bGw9PT1lP3t9Oih0LnByb3RvdHlwZT1lLGk9bmV3IHQsbiYmT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoaSxuKSxpKX19KCl9dmFyIEFhLFNhLENhLE9hPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksUGE9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxUYT0vXlxcW29iamVjdCAoPzpBcnJheXxGaWxlTGlzdClcXF0kLyxGYT1mdW5jdGlvbigpe30sUmE9e307ZWE/IWZ1bmN0aW9uKCl7dmFyIHQ9W1wiJWNSYWN0aXZlLmpzICVjMC43LjMgJWNpbiBkZWJ1ZyBtb2RlLCAlY21vcmUuLi5cIixcImNvbG9yOiByZ2IoMTE0LCAxNTcsIDUyKTsgZm9udC13ZWlnaHQ6IG5vcm1hbDtcIixcImNvbG9yOiByZ2IoODUsIDg1LCA4NSk7IGZvbnQtd2VpZ2h0OiBub3JtYWw7XCIsXCJjb2xvcjogcmdiKDg1LCA4NSwgODUpOyBmb250LXdlaWdodDogbm9ybWFsO1wiLFwiY29sb3I6IHJnYig4MiwgMTQwLCAyMjQpOyBmb250LXdlaWdodDogbm9ybWFsOyB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcIl0sZT1cIllvdSdyZSBydW5uaW5nIFJhY3RpdmUgMC43LjMgaW4gZGVidWcgbW9kZSAtIG1lc3NhZ2VzIHdpbGwgYmUgcHJpbnRlZCB0byB0aGUgY29uc29sZSB0byBoZWxwIHlvdSBmaXggcHJvYmxlbXMgYW5kIG9wdGltaXNlIHlvdXIgYXBwbGljYXRpb24uXFxuXFxuVG8gZGlzYWJsZSBkZWJ1ZyBtb2RlLCBhZGQgdGhpcyBsaW5lIGF0IHRoZSBzdGFydCBvZiB5b3VyIGFwcDpcXG4gIFJhY3RpdmUuREVCVUcgPSBmYWxzZTtcXG5cXG5UbyBkaXNhYmxlIGRlYnVnIG1vZGUgd2hlbiB5b3VyIGFwcCBpcyBtaW5pZmllZCwgYWRkIHRoaXMgc25pcHBldDpcXG4gIFJhY3RpdmUuREVCVUcgPSAvdW5taW5pZmllZC8udGVzdChmdW5jdGlvbigpey8qdW5taW5pZmllZCovfSk7XFxuXFxuR2V0IGhlbHAgYW5kIHN1cHBvcnQ6XFxuICBodHRwOi8vZG9jcy5yYWN0aXZlanMub3JnXFxuICBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zL3RhZ2dlZC9yYWN0aXZlanNcXG4gIGh0dHA6Ly9ncm91cHMuZ29vZ2xlLmNvbS9mb3J1bS8jIWZvcnVtL3JhY3RpdmUtanNcXG4gIGh0dHA6Ly90d2l0dGVyLmNvbS9yYWN0aXZlanNcXG5cXG5Gb3VuZCBhIGJ1Zz8gUmFpc2UgYW4gaXNzdWU6XFxuICBodHRwczovL2dpdGh1Yi5jb20vcmFjdGl2ZWpzL3JhY3RpdmUvaXNzdWVzXFxuXFxuXCI7Q2E9ZnVuY3Rpb24oKXt2YXIgbj0hIWNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQ7Y29uc29sZVtuP1wiZ3JvdXBDb2xsYXBzZWRcIjpcImxvZ1wiXS5hcHBseShjb25zb2xlLHQpLGNvbnNvbGUubG9nKGUpLG4mJmNvbnNvbGUuZ3JvdXBFbmQodCksQ2E9RmF9LFNhPWZ1bmN0aW9uKHQsZSl7aWYoQ2EoKSxcIm9iamVjdFwiPT10eXBlb2YgZVtlLmxlbmd0aC0xXSl7dmFyIG49ZS5wb3AoKSxpPW4/bi5yYWN0aXZlOm51bGw7aWYoaSl7dmFyIHI9dm9pZCAwO2kuY29tcG9uZW50JiYocj1pLmNvbXBvbmVudC5uYW1lKSYmKHQ9XCI8XCIrcitcIj4gXCIrdCk7dmFyIHM9dm9pZCAwOyhzPW4ubm9kZXx8aS5mcmFnbWVudCYmaS5mcmFnbWVudC5yZW5kZXJlZCYmaS5maW5kKFwiKlwiKSkmJmUucHVzaChzKX19Y29uc29sZS53YXJuLmFwcGx5KGNvbnNvbGUsW1wiJWNSYWN0aXZlLmpzOiAlY1wiK3QsXCJjb2xvcjogcmdiKDExNCwgMTU3LCA1Mik7XCIsXCJjb2xvcjogcmdiKDg1LCA4NSwgODUpO1wiXS5jb25jYXQoZSkpfSxBYT1mdW5jdGlvbigpe2NvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKX19KCk6U2E9QWE9Q2E9RmE7dmFyIGphPVwiQmFkIGFyZ3VtZW50c1wiLE5hPSdBIGZ1bmN0aW9uIHdhcyBzcGVjaWZpZWQgZm9yIFwiJXNcIiAlcywgYnV0IG5vICVzIHdhcyByZXR1cm5lZCcsRGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4nTWlzc2luZyBcIicrdCsnXCIgJytlK1wiIHBsdWdpbi4gWW91IG1heSBuZWVkIHRvIGRvd25sb2FkIGEgcGx1Z2luIHZpYSBodHRwOi8vZG9jcy5yYWN0aXZlanMub3JnL2xhdGVzdC9wbHVnaW5zI1wiK2UrXCJzXCJ9LElhPWZ1bmN0aW9uKHQsZSxuLGkpe2lmKHQ9PT1lKXJldHVybiBiKGUpO2lmKGkpe3ZhciByPWcoXCJpbnRlcnBvbGF0b3JzXCIsbixpKTtpZihyKXJldHVybiByKHQsZSl8fGIoZSk7bChEYShpLFwiaW50ZXJwb2xhdG9yXCIpKX1yZXR1cm4gTWEubnVtYmVyKHQsZSl8fE1hLmFycmF5KHQsZSl8fE1hLm9iamVjdCh0LGUpfHxiKGUpfSxMYT1JYSxWYT17bnVtYmVyOmZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIHUodCkmJnUoZSk/KHQ9K3QsZT0rZSxuPWUtdCxuP2Z1bmN0aW9uKGUpe3JldHVybiB0K2Uqbn06ZnVuY3Rpb24oKXtyZXR1cm4gdH0pOm51bGx9LGFycmF5OmZ1bmN0aW9uKHQsZSl7dmFyIG4saSxyLG87aWYoIXModCl8fCFzKGUpKXJldHVybiBudWxsO2ZvcihuPVtdLGk9W10sbz1yPU1hdGgubWluKHQubGVuZ3RoLGUubGVuZ3RoKTtvLS07KWlbb109TGEodFtvXSxlW29dKTtmb3Iobz1yO288dC5sZW5ndGg7bys9MSluW29dPXRbb107Zm9yKG89cjtvPGUubGVuZ3RoO28rPTEpbltvXT1lW29dO3JldHVybiBmdW5jdGlvbih0KXtmb3IodmFyIGU9cjtlLS07KW5bZV09aVtlXSh0KTtyZXR1cm4gbn19LG9iamVjdDpmdW5jdGlvbih0LGUpe3ZhciBuLGkscixzLG87aWYoIWgodCl8fCFoKGUpKXJldHVybiBudWxsO249W10scz17fSxyPXt9O2ZvcihvIGluIHQpT2EuY2FsbCh0LG8pJiYoT2EuY2FsbChlLG8pPyhuLnB1c2gobykscltvXT1MYSh0W29dLGVbb10pKTpzW29dPXRbb10pO2ZvcihvIGluIGUpT2EuY2FsbChlLG8pJiYhT2EuY2FsbCh0LG8pJiYoc1tvXT1lW29dKTtyZXR1cm4gaT1uLmxlbmd0aCxmdW5jdGlvbih0KXtmb3IodmFyIGUsbz1pO28tLTspZT1uW29dLHNbZV09cltlXSh0KTtyZXR1cm4gc319fSxNYT1WYSxVYT13LFdhPXt9LHphPS9cXFtcXHMqKFxcKnxbMC05XXxbMS05XVswLTldKylcXHMqXFxdL2csQmE9L1xcKi8scWE9e30sJGE9ZnVuY3Rpb24odCl7dmFyIGU9dC5zcGxpdChcIi5cIik7dGhpcy5zdHI9dCxcIkBcIj09PXRbMF0mJih0aGlzLmlzU3BlY2lhbD0hMCx0aGlzLnZhbHVlPUUodCkpLHRoaXMuZmlyc3RLZXk9ZVswXSx0aGlzLmxhc3RLZXk9ZS5wb3AoKSx0aGlzLmlzUGF0dGVybj1CYS50ZXN0KHQpLHRoaXMucGFyZW50PVwiXCI9PT10P251bGw6XyhlLmpvaW4oXCIuXCIpKSx0aGlzLmlzUm9vdD0hdH07JGEucHJvdG90eXBlPXtlcXVhbHNPclN0YXJ0c1dpdGg6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT10aGlzfHx0aGlzLnN0YXJ0c1dpdGgodCl9LGpvaW46ZnVuY3Rpb24odCl7cmV0dXJuIF8odGhpcy5pc1Jvb3Q/U3RyaW5nKHQpOnRoaXMuc3RyK1wiLlwiK3QpfSxyZXBsYWNlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXM9PT10P2U6dGhpcy5zdGFydHNXaXRoKHQpP251bGw9PT1lP2U6Xyh0aGlzLnN0ci5yZXBsYWNlKHQuc3RyK1wiLlwiLGUuc3RyK1wiLlwiKSk6dm9pZCAwfSxzdGFydHNXaXRoOmZ1bmN0aW9uKHQpe3JldHVybiB0P3QmJnRoaXMuc3RyLnN1YnN0cigwLHQuc3RyLmxlbmd0aCsxKT09PXQuc3RyK1wiLlwiOiExfSx0b1N0cmluZzpmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcIkJhZCBjb2VyY2lvblwiKX0sdmFsdWVPZjpmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcIkJhZCBjb2VyY2lvblwiKX0sd2lsZGNhcmRNYXRjaGVzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dpbGRjYXJkTWF0Y2hlc3x8KHRoaXMuX3dpbGRjYXJkTWF0Y2hlcz1VYSh0aGlzLnN0cikpfX07dmFyIFFhLFphPV8oXCJcIiksSGE9TyxLYT1cIkNhbm5vdCBhZGQgdG8gYSBub24tbnVtZXJpYyB2YWx1ZVwiLEdhPVA7XCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvdz9RYT1udWxsOighZnVuY3Rpb24odCxlLG4pe3ZhciBpLHI7aWYoIW4ucmVxdWVzdEFuaW1hdGlvbkZyYW1lKXtmb3IoaT0wO2k8dC5sZW5ndGgmJiFuLnJlcXVlc3RBbmltYXRpb25GcmFtZTsrK2kpbi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9blt0W2ldK1wiUmVxdWVzdEFuaW1hdGlvbkZyYW1lXCJdO24ucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHwocj1uLnNldFRpbWVvdXQsbi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24odCl7dmFyIG4saSxzO3JldHVybiBuPURhdGUubm93KCksaT1NYXRoLm1heCgwLDE2LShuLWUpKSxzPXIoZnVuY3Rpb24oKXt0KG4raSl9LGkpLGU9bitpLHN9KX19KHNhLDAsd2luZG93KSxRYT13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKTt2YXIgWWEsSmE9UWE7WWE9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LnBlcmZvcm1hbmNlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB3aW5kb3cucGVyZm9ybWFuY2Uubm93P2Z1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKX06ZnVuY3Rpb24oKXtyZXR1cm4gRGF0ZS5ub3coKX07dmFyIFhhPVlhLHR1PXtjb25zdHJ1Y3Q6e2RlcHJlY2F0ZWQ6XCJiZWZvcmVJbml0XCIscmVwbGFjZW1lbnQ6XCJvbmNvbnN0cnVjdFwifSxyZW5kZXI6e2RlcHJlY2F0ZWQ6XCJpbml0XCIsbWVzc2FnZTonVGhlIFwiaW5pdFwiIG1ldGhvZCBoYXMgYmVlbiBkZXByZWNhdGVkIGFuZCB3aWxsIGxpa2VseSBiZSByZW1vdmVkIGluIGEgZnV0dXJlIHJlbGVhc2UuIFlvdSBjYW4gZWl0aGVyIHVzZSB0aGUgXCJvbmluaXRcIiBtZXRob2Qgd2hpY2ggd2lsbCBmaXJlIG9ubHkgb25jZSBwcmlvciB0bywgYW5kIHJlZ2FyZGxlc3Mgb2YsIGFueSBldmVudHVhbCByYWN0aXZlIGluc3RhbmNlIGJlaW5nIHJlbmRlcmVkLCBvciBpZiB5b3UgbmVlZCB0byBhY2Nlc3MgdGhlIHJlbmRlcmVkIERPTSwgdXNlIFwib25yZW5kZXJcIiBpbnN0ZWFkLiBTZWUgaHR0cDovL2RvY3MucmFjdGl2ZWpzLm9yZy9sYXRlc3QvbWlncmF0aW5nIGZvciBtb3JlIGluZm9ybWF0aW9uLid9LGNvbXBsZXRlOntkZXByZWNhdGVkOlwiY29tcGxldGVcIixyZXBsYWNlbWVudDpcIm9uY29tcGxldGVcIn19O1QucHJvdG90eXBlLmZpcmU9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKG4pe3JldHVybiB0W25dPyhlP3Rbbl0oZSk6dFtuXSgpLCEwKTp2b2lkIDB9bih0aGlzLm1ldGhvZCksIXRbdGhpcy5tZXRob2RdJiZ0aGlzLmRlcHJlY2F0ZSYmbih0aGlzLmRlcHJlY2F0ZS5kZXByZWNhdGVkKSYmKHRoaXMuZGVwcmVjYXRlLm1lc3NhZ2U/bSh0aGlzLmRlcHJlY2F0ZS5tZXNzYWdlKTptKCdUaGUgbWV0aG9kIFwiJXNcIiBoYXMgYmVlbiBkZXByZWNhdGVkIGluIGZhdm9yIG9mIFwiJXNcIiBhbmQgd2lsbCBsaWtlbHkgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSByZWxlYXNlLiBTZWUgaHR0cDovL2RvY3MucmFjdGl2ZWpzLm9yZy9sYXRlc3QvbWlncmF0aW5nIGZvciBtb3JlIGluZm9ybWF0aW9uLicsdGhpcy5kZXByZWNhdGUuZGVwcmVjYXRlZCx0aGlzLmRlcHJlY2F0ZS5yZXBsYWNlbWVudCkpLGU/dC5maXJlKHRoaXMuZXZlbnQsZSk6dC5maXJlKHRoaXMuZXZlbnQpfTt2YXIgZXUsbnU9VCxpdT17fSxydT17fSxzdT17fTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm9taXNlP2V1PVByb21pc2U6KGV1PWZ1bmN0aW9uKHQpe3ZhciBlLG4saSxyLHMsbyxhPVtdLHU9W10saD1pdTtpPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihpKXtoPT09aXUmJihlPWksaD10LG49TShoPT09cnU/YTp1LGUpLFYobikpfX0scj1pKHJ1KSxzPWkoc3UpO3RyeXt0KHIscyl9Y2F0Y2goYyl7cyhjKX1yZXR1cm4gbz17dGhlbjpmdW5jdGlvbih0LGUpe3ZhciBpPW5ldyBldShmdW5jdGlvbihyLHMpe3ZhciBvPWZ1bmN0aW9uKHQsZSxuKXtlLnB1c2goXCJmdW5jdGlvblwiPT10eXBlb2YgdD9mdW5jdGlvbihlKXt2YXIgbjt0cnl7bj10KGUpLFUoaSxuLHIscyl9Y2F0Y2gobyl7cyhvKX19Om4pfTtvKHQsYSxyKSxvKGUsdSxzKSxoIT09aXUmJlYobil9KTtyZXR1cm4gaX19LG9bXCJjYXRjaFwiXT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aGVuKG51bGwsdCl9LG99LGV1LmFsbD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGV1KGZ1bmN0aW9uKGUsbil7dmFyIGkscixzLG89W107aWYoIXQubGVuZ3RoKXJldHVybiB2b2lkIGUobyk7Zm9yKHM9ZnVuY3Rpb24odCxyKXt0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnRoZW4/dC50aGVuKGZ1bmN0aW9uKHQpe29bcl09dCwtLWl8fGUobyl9LG4pOihvW3JdPXQsLS1pfHxlKG8pKX0saT1yPXQubGVuZ3RoO3ItLTspcyh0W3JdLHIpfSl9LGV1LnJlc29sdmU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBldShmdW5jdGlvbihlKXtlKHQpfSl9LGV1LnJlamVjdD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGV1KGZ1bmN0aW9uKGUsbil7bih0KX0pfSk7dmFyIG91PWV1LGF1PWZ1bmN0aW9uKHQpe2RvIGlmKHZvaWQgMCE9PXQuY29udGV4dClyZXR1cm4gdC5jb250ZXh0O3doaWxlKHQ9dC5wYXJlbnQpO3JldHVybiBaYX0sdXU9VyxodT1mdW5jdGlvbih0LGUpe3RoaXMuY2FsbGJhY2s9dCx0aGlzLnBhcmVudD1lLHRoaXMuaW50cm9zPVtdLHRoaXMub3V0cm9zPVtdLHRoaXMuY2hpbGRyZW49W10sdGhpcy50b3RhbENoaWxkcmVuPXRoaXMub3V0cm9DaGlsZHJlbj0wLHRoaXMuZGV0YWNoUXVldWU9W10sdGhpcy5kZWNvcmF0b3JRdWV1ZT1bXSx0aGlzLm91dHJvc0NvbXBsZXRlPSExLGUmJmUuYWRkQ2hpbGQodGhpcyl9O2h1LnByb3RvdHlwZT17YWRkQ2hpbGQ6ZnVuY3Rpb24odCl7dGhpcy5jaGlsZHJlbi5wdXNoKHQpLHRoaXMudG90YWxDaGlsZHJlbis9MSx0aGlzLm91dHJvQ2hpbGRyZW4rPTF9LGRlY3JlbWVudE91dHJvczpmdW5jdGlvbigpe3RoaXMub3V0cm9DaGlsZHJlbi09MSxKKHRoaXMpfSxkZWNyZW1lbnRUb3RhbDpmdW5jdGlvbigpe3RoaXMudG90YWxDaGlsZHJlbi09MSxKKHRoaXMpfSxhZGQ6ZnVuY3Rpb24odCl7dmFyIGU9dC5pc0ludHJvP3RoaXMuaW50cm9zOnRoaXMub3V0cm9zO2UucHVzaCh0KX0sYWRkRGVjb3JhdG9yOmZ1bmN0aW9uKHQpe3RoaXMuZGVjb3JhdG9yUXVldWUucHVzaCh0KX0scmVtb3ZlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuaXNJbnRybz90aGlzLmludHJvczp0aGlzLm91dHJvcztJKGUsdCksSih0aGlzKX0saW5pdDpmdW5jdGlvbigpe3RoaXMucmVhZHk9ITAsSih0aGlzKX0sZGV0YWNoTm9kZXM6ZnVuY3Rpb24oKXt0aGlzLmRlY29yYXRvclF1ZXVlLmZvckVhY2goUSksdGhpcy5kZXRhY2hRdWV1ZS5mb3JFYWNoKEcpLHRoaXMuY2hpbGRyZW4uZm9yRWFjaChZKX19O3ZhciBjdSxsdSxmdT1odSxkdT1bXSxwdT1uZXcgbnUoXCJjaGFuZ2VcIik7bHU9e3N0YXJ0OmZ1bmN0aW9uKHQsZSl7dmFyIG4saTtyZXR1cm4gZSYmKG49bmV3IG91KGZ1bmN0aW9uKHQpe3JldHVybiBpPXR9KSksY3U9e3ByZXZpb3VzQmF0Y2g6Y3UsdHJhbnNpdGlvbk1hbmFnZXI6bmV3IGZ1KGksY3UmJmN1LnRyYW5zaXRpb25NYW5hZ2VyKSx2aWV3czpbXSx0YXNrczpbXSxyYWN0aXZlczpbXSxpbnN0YW5jZTp0fSx0JiZjdS5yYWN0aXZlcy5wdXNoKHQpLG59LGVuZDpmdW5jdGlvbigpe1goKSxjdS50cmFuc2l0aW9uTWFuYWdlci5pbml0KCksIWN1LnByZXZpb3VzQmF0Y2gmJmN1Lmluc3RhbmNlJiYoY3UuaW5zdGFuY2Uudmlld21vZGVsLmNoYW5nZXM9W10pLGN1PWN1LnByZXZpb3VzQmF0Y2h9LGFkZFJhY3RpdmU6ZnVuY3Rpb24odCl7Y3UmJkYoY3UucmFjdGl2ZXMsdCl9LHJlZ2lzdGVyVHJhbnNpdGlvbjpmdW5jdGlvbih0KXt0Ll9tYW5hZ2VyPWN1LnRyYW5zaXRpb25NYW5hZ2VyLGN1LnRyYW5zaXRpb25NYW5hZ2VyLmFkZCh0KX0scmVnaXN0ZXJEZWNvcmF0b3I6ZnVuY3Rpb24odCl7Y3UudHJhbnNpdGlvbk1hbmFnZXIuYWRkRGVjb3JhdG9yKHQpfSxhZGRWaWV3OmZ1bmN0aW9uKHQpe2N1LnZpZXdzLnB1c2godCl9LGFkZFVucmVzb2x2ZWQ6ZnVuY3Rpb24odCl7ZHUucHVzaCh0KX0scmVtb3ZlVW5yZXNvbHZlZDpmdW5jdGlvbih0KXtJKGR1LHQpfSxkZXRhY2hXaGVuUmVhZHk6ZnVuY3Rpb24odCl7Y3UudHJhbnNpdGlvbk1hbmFnZXIuZGV0YWNoUXVldWUucHVzaCh0KX0sc2NoZWR1bGVUYXNrOmZ1bmN0aW9uKHQsZSl7dmFyIG47aWYoY3Upe2ZvcihuPWN1O2UmJm4ucHJldmlvdXNCYXRjaDspbj1uLnByZXZpb3VzQmF0Y2g7bi50YXNrcy5wdXNoKHQpfWVsc2UgdCgpfX07dmFyIG11PWx1LHZ1PVtdLGd1PXt0aWNrOmZ1bmN0aW9uKCl7dmFyIHQsZSxuO2ZvcihuPVhhKCksbXUuc3RhcnQoKSx0PTA7dDx2dS5sZW5ndGg7dCs9MSllPXZ1W3RdLGUudGljayhuKXx8dnUuc3BsaWNlKHQtLSwxKTttdS5lbmQoKSx2dS5sZW5ndGg/SmEoZ3UudGljayk6Z3UucnVubmluZz0hMX0sYWRkOmZ1bmN0aW9uKHQpe3Z1LnB1c2godCksZ3UucnVubmluZ3x8KGd1LnJ1bm5pbmc9ITAsSmEoZ3UudGljaykpfSxhYm9ydDpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbixpPXZ1Lmxlbmd0aDtpLS07KW49dnVbaV0sbi5yb290PT09ZSYmbi5rZXlwYXRoPT09dCYmbi5zdG9wKCl9fSx5dT1ndSxidT1mdW5jdGlvbih0KXt2YXIgZTt0aGlzLnN0YXJ0VGltZT1EYXRlLm5vdygpO2ZvcihlIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShlKSYmKHRoaXNbZV09dFtlXSk7dGhpcy5pbnRlcnBvbGF0b3I9TGEodGhpcy5mcm9tLHRoaXMudG8sdGhpcy5yb290LHRoaXMuaW50ZXJwb2xhdG9yKSx0aGlzLnJ1bm5pbmc9ITAsdGhpcy50aWNrKCl9O2J1LnByb3RvdHlwZT17dGljazpmdW5jdGlvbigpe3ZhciB0LGUsbixpLHIscztyZXR1cm4gcz10aGlzLmtleXBhdGgsdGhpcy5ydW5uaW5nPyhpPURhdGUubm93KCksdD1pLXRoaXMuc3RhcnRUaW1lLHQ+PXRoaXMuZHVyYXRpb24/KG51bGwhPT1zJiYobXUuc3RhcnQodGhpcy5yb290KSx0aGlzLnJvb3Qudmlld21vZGVsLnNldChzLHRoaXMudG8pLG11LmVuZCgpKSx0aGlzLnN0ZXAmJnRoaXMuc3RlcCgxLHRoaXMudG8pLHRoaXMuY29tcGxldGUodGhpcy50bykscj10aGlzLnJvb3QuX2FuaW1hdGlvbnMuaW5kZXhPZih0aGlzKSwtMT09PXImJm0oXCJBbmltYXRpb24gd2FzIG5vdCBmb3VuZFwiKSx0aGlzLnJvb3QuX2FuaW1hdGlvbnMuc3BsaWNlKHIsMSksdGhpcy5ydW5uaW5nPSExLCExKTooZT10aGlzLmVhc2luZz90aGlzLmVhc2luZyh0L3RoaXMuZHVyYXRpb24pOnQvdGhpcy5kdXJhdGlvbixcbm51bGwhPT1zJiYobj10aGlzLmludGVycG9sYXRvcihlKSxtdS5zdGFydCh0aGlzLnJvb3QpLHRoaXMucm9vdC52aWV3bW9kZWwuc2V0KHMsbiksbXUuZW5kKCkpLHRoaXMuc3RlcCYmdGhpcy5zdGVwKGUsbiksITApKTohMX0sc3RvcDpmdW5jdGlvbigpe3ZhciB0O3RoaXMucnVubmluZz0hMSx0PXRoaXMucm9vdC5fYW5pbWF0aW9ucy5pbmRleE9mKHRoaXMpLC0xPT09dCYmbShcIkFuaW1hdGlvbiB3YXMgbm90IGZvdW5kXCIpLHRoaXMucm9vdC5fYW5pbWF0aW9ucy5zcGxpY2UodCwxKX19O3ZhciB3dT1idSx4dT1udCxrdT17c3RvcDpGYX0sRXU9cnQsX3U9bmV3IG51KFwiZGV0YWNoXCIpLEF1PXN0LFN1PW90LEN1PWZ1bmN0aW9uKCl7dmFyIHQsZSxuO3Q9dGhpcy5fcm9vdFt0aGlzLl9pc0NvbXBvbmVudFF1ZXJ5P1wibGl2ZUNvbXBvbmVudFF1ZXJpZXNcIjpcImxpdmVRdWVyaWVzXCJdLGU9dGhpcy5zZWxlY3RvcixuPXQuaW5kZXhPZihlKSwtMSE9PW4mJih0LnNwbGljZShuLDEpLHRbZV09bnVsbCl9LE91PWZ1bmN0aW9uKHQsZSl7dmFyIG4saSxyLHMsbyxhLHUsaCxjLGw7Zm9yKG49dXQodC5jb21wb25lbnR8fHQuX3JhY3RpdmUucHJveHkpLGk9dXQoZS5jb21wb25lbnR8fGUuX3JhY3RpdmUucHJveHkpLHI9RChuKSxzPUQoaSk7ciYmcj09PXM7KW4ucG9wKCksaS5wb3AoKSxvPXIscj1EKG4pLHM9RChpKTtpZihyPXIuY29tcG9uZW50fHxyLHM9cy5jb21wb25lbnR8fHMsYz1yLnBhcmVudEZyYWdtZW50LGw9cy5wYXJlbnRGcmFnbWVudCxjPT09bClyZXR1cm4gYT1jLml0ZW1zLmluZGV4T2YociksdT1sLml0ZW1zLmluZGV4T2YocyksYS11fHxuLmxlbmd0aC1pLmxlbmd0aDtpZihoPW8uZnJhZ21lbnRzKXJldHVybiBhPWguaW5kZXhPZihjKSx1PWguaW5kZXhPZihsKSxhLXV8fG4ubGVuZ3RoLWkubGVuZ3RoO3Rocm93IG5ldyBFcnJvcihcIkFuIHVuZXhwZWN0ZWQgY29uZGl0aW9uIHdhcyBtZXQgd2hpbGUgY29tcGFyaW5nIHRoZSBwb3NpdGlvbiBvZiB0d28gY29tcG9uZW50cy4gUGxlYXNlIGZpbGUgYW4gaXNzdWUgYXQgaHR0cHM6Ly9naXRodWIuY29tL1JhY3RpdmVKUy9SYWN0aXZlL2lzc3VlcyAtIHRoYW5rcyFcIil9LFB1PWZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIHQuY29tcGFyZURvY3VtZW50UG9zaXRpb24/KG49dC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKSwyJm4/MTotMSk6T3UodCxlKX0sVHU9ZnVuY3Rpb24oKXt0aGlzLnNvcnQodGhpcy5faXNDb21wb25lbnRRdWVyeT9PdTpQdSksdGhpcy5fZGlydHk9ITF9LEZ1PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLl9kaXJ0eXx8KHRoaXMuX2RpcnR5PSEwLG11LnNjaGVkdWxlVGFzayhmdW5jdGlvbigpe3QuX3NvcnQoKX0pKX0sUnU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5pbmRleE9mKHRoaXMuX2lzQ29tcG9uZW50UXVlcnk/dC5pbnN0YW5jZTp0KTstMSE9PWUmJnRoaXMuc3BsaWNlKGUsMSl9LGp1PWh0LE51PWN0LER1PWx0LEl1PWZ0LEx1PWR0LFZ1PXB0LE11PXtlbnF1ZXVlOmZ1bmN0aW9uKHQsZSl7dC5ldmVudCYmKHQuX2V2ZW50UXVldWU9dC5fZXZlbnRRdWV1ZXx8W10sdC5fZXZlbnRRdWV1ZS5wdXNoKHQuZXZlbnQpKSx0LmV2ZW50PWV9LGRlcXVldWU6ZnVuY3Rpb24odCl7dC5fZXZlbnRRdWV1ZSYmdC5fZXZlbnRRdWV1ZS5sZW5ndGg/dC5ldmVudD10Ll9ldmVudFF1ZXVlLnBvcCgpOmRlbGV0ZSB0LmV2ZW50fX0sVXU9TXUsV3U9bXQsenU9eXQsQnU9YnQscXU9e2NhcHR1cmU6ITAsbm9VbndyYXA6ITAsZnVsbFJvb3RHZXQ6ITB9LCR1PXd0LFF1PW5ldyBudShcImluc2VydFwiKSxadT1rdCxIdT1mdW5jdGlvbih0LGUsbixpKXt0aGlzLnJvb3Q9dCx0aGlzLmtleXBhdGg9ZSx0aGlzLmNhbGxiYWNrPW4sdGhpcy5kZWZlcj1pLmRlZmVyLHRoaXMuY29udGV4dD1pJiZpLmNvbnRleHQ/aS5jb250ZXh0OnR9O0h1LnByb3RvdHlwZT17aW5pdDpmdW5jdGlvbih0KXt0aGlzLnZhbHVlPXRoaXMucm9vdC5nZXQodGhpcy5rZXlwYXRoLnN0ciksdCE9PSExP3RoaXMudXBkYXRlKCk6dGhpcy5vbGRWYWx1ZT10aGlzLnZhbHVlfSxzZXRWYWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzO2EodCx0aGlzLnZhbHVlKXx8KHRoaXMudmFsdWU9dCx0aGlzLmRlZmVyJiZ0aGlzLnJlYWR5P211LnNjaGVkdWxlVGFzayhmdW5jdGlvbigpe3JldHVybiBlLnVwZGF0ZSgpfSk6dGhpcy51cGRhdGUoKSl9LHVwZGF0ZTpmdW5jdGlvbigpe3RoaXMudXBkYXRpbmd8fCh0aGlzLnVwZGF0aW5nPSEwLHRoaXMuY2FsbGJhY2suY2FsbCh0aGlzLmNvbnRleHQsdGhpcy52YWx1ZSx0aGlzLm9sZFZhbHVlLHRoaXMua2V5cGF0aC5zdHIpLHRoaXMub2xkVmFsdWU9dGhpcy52YWx1ZSx0aGlzLnVwZGF0aW5nPSExKX19O3ZhciBLdSxHdT1IdSxZdT1FdCxKdT1BcnJheS5wcm90b3R5cGUuc2xpY2U7S3U9ZnVuY3Rpb24odCxlLG4saSl7dGhpcy5yb290PXQsdGhpcy5jYWxsYmFjaz1uLHRoaXMuZGVmZXI9aS5kZWZlcix0aGlzLmtleXBhdGg9ZSx0aGlzLnJlZ2V4PW5ldyBSZWdFeHAoXCJeXCIrZS5zdHIucmVwbGFjZSgvXFwuL2csXCJcXFxcLlwiKS5yZXBsYWNlKC9cXCovZyxcIihbXlxcXFwuXSspXCIpK1wiJFwiKSx0aGlzLnZhbHVlcz17fSx0aGlzLmRlZmVyJiYodGhpcy5wcm94aWVzPVtdKSx0aGlzLmNvbnRleHQ9aSYmaS5jb250ZXh0P2kuY29udGV4dDp0fSxLdS5wcm90b3R5cGU9e2luaXQ6ZnVuY3Rpb24odCl7dmFyIGUsbjtpZihlPVl1KHRoaXMucm9vdCx0aGlzLmtleXBhdGgpLHQhPT0hMSlmb3IobiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJnRoaXMudXBkYXRlKF8obikpO2Vsc2UgdGhpcy52YWx1ZXM9ZX0sdXBkYXRlOmZ1bmN0aW9uKHQpe3ZhciBlLG49dGhpcztpZih0LmlzUGF0dGVybil7ZT1ZdSh0aGlzLnJvb3QsdCk7Zm9yKHQgaW4gZSllLmhhc093blByb3BlcnR5KHQpJiZ0aGlzLnVwZGF0ZShfKHQpKX1lbHNlIGlmKCF0aGlzLnJvb3Qudmlld21vZGVsLmltcGxpY2l0Q2hhbmdlc1t0LnN0cl0pcmV0dXJuIHRoaXMuZGVmZXImJnRoaXMucmVhZHk/dm9pZCBtdS5zY2hlZHVsZVRhc2soZnVuY3Rpb24oKXtyZXR1cm4gbi5nZXRQcm94eSh0KS51cGRhdGUoKX0pOnZvaWQgdGhpcy5yZWFsbHlVcGRhdGUodCl9LHJlYWxseVVwZGF0ZTpmdW5jdGlvbih0KXt2YXIgZSxuLGkscjtyZXR1cm4gZT10LnN0cixuPXRoaXMucm9vdC52aWV3bW9kZWwuZ2V0KHQpLHRoaXMudXBkYXRpbmc/dm9pZCh0aGlzLnZhbHVlc1tlXT1uKToodGhpcy51cGRhdGluZz0hMCxhKG4sdGhpcy52YWx1ZXNbZV0pJiZ0aGlzLnJlYWR5fHwoaT1KdS5jYWxsKHRoaXMucmVnZXguZXhlYyhlKSwxKSxyPVtuLHRoaXMudmFsdWVzW2VdLGVdLmNvbmNhdChpKSx0aGlzLnZhbHVlc1tlXT1uLHRoaXMuY2FsbGJhY2suYXBwbHkodGhpcy5jb250ZXh0LHIpKSx2b2lkKHRoaXMudXBkYXRpbmc9ITEpKX0sZ2V0UHJveHk6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5wcm94aWVzW3Quc3RyXXx8KHRoaXMucHJveGllc1t0LnN0cl09e3VwZGF0ZTpmdW5jdGlvbigpe3JldHVybiBlLnJlYWxseVVwZGF0ZSh0KX19KSx0aGlzLnByb3hpZXNbdC5zdHJdfX07dmFyIFh1LHRoLGVoLG5oLGloLHJoLHNoPUt1LG9oPV90LGFoPXt9LHVoPUF0LGhoPVN0LGNoPWZ1bmN0aW9uKHQpe3JldHVybiB0LnRyaW0oKX0sbGg9ZnVuY3Rpb24odCl7cmV0dXJuXCJcIiE9PXR9LGZoPUN0LGRoPU90LHBoPVB0LG1oPVR0LHZoPUFycmF5LnByb3RvdHlwZSxnaD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7Zm9yKHZhciBuPWFyZ3VtZW50cy5sZW5ndGgsaT1BcnJheShuPjE/bi0xOjApLHI9MTtuPnI7cisrKWlbci0xXT1hcmd1bWVudHNbcl07dmFyIG8sYSx1LGgsYz1bXTtpZihlPV8oQyhlKSksbz10aGlzLnZpZXdtb2RlbC5nZXQoZSksYT1vLmxlbmd0aCwhcyhvKSl0aHJvdyBuZXcgRXJyb3IoXCJDYWxsZWQgcmFjdGl2ZS5cIit0K1wiKCdcIitlLnN0citcIicpLCBidXQgJ1wiK2Uuc3RyK1wiJyBkb2VzIG5vdCByZWZlciB0byBhbiBhcnJheVwiKTtyZXR1cm4gYz1taChvLHQsaSksaD12aFt0XS5hcHBseShvLGkpLHU9bXUuc3RhcnQodGhpcywhMCkudGhlbihmdW5jdGlvbigpe3JldHVybiBofSksYz90aGlzLnZpZXdtb2RlbC5zbWFydFVwZGF0ZShlLG8sYyk6dGhpcy52aWV3bW9kZWwubWFyayhlKSxtdS5lbmQoKSx1fX0seWg9Z2goXCJwb3BcIiksYmg9Z2goXCJwdXNoXCIpLHdoPVwiLyogUmFjdGl2ZS5qcyBjb21wb25lbnQgc3R5bGVzICovXFxuXCIseGg9W10sa2g9ITE7WG8/KGVoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKSxlaC50eXBlPVwidGV4dC9jc3NcIixuaD1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0scmg9ITEsaWg9ZWguc3R5bGVTaGVldCx0aD1mdW5jdGlvbigpe3ZhciB0PXdoK3hoLm1hcChmdW5jdGlvbih0KXtyZXR1cm5cIlxcbi8qIHtcIit0LmlkK1wifSAqL1xcblwiK3Quc3R5bGVzfSkuam9pbihcIlxcblwiKTtpaD9paC5jc3NUZXh0PXQ6ZWguaW5uZXJIVE1MPXQscmh8fChuaC5hcHBlbmRDaGlsZChlaCkscmg9ITApfSxYdT17YWRkOmZ1bmN0aW9uKHQpe3hoLnB1c2godCksa2g9ITB9LGFwcGx5OmZ1bmN0aW9uKCl7a2gmJih0aCgpLGtoPSExKX19KTpYdT17YWRkOkZhLGFwcGx5OkZhfTt2YXIgRWgsX2gsQWg9WHUsU2g9UnQsQ2g9bmV3IG51KFwicmVuZGVyXCIpLE9oPW5ldyBudShcImNvbXBsZXRlXCIpLFBoPXtleHRlbmQ6ZnVuY3Rpb24odCxlLG4pe2UuYWRhcHQ9TnQoZS5hZGFwdCxOKG4uYWRhcHQpKX0saW5pdDpmdW5jdGlvbigpe319LFRoPVBoLEZoPUR0LFJoPS8oPzpefFxcfSk/XFxzKihbXlxce1xcfV0rKVxccypcXHsvZyxqaD0vXFwvXFwqLio/XFwqXFwvL2csTmg9LygoPzooPzpcXFtbXlxcXStdXFxdKXwoPzpbXlxcc1xcK1xcPlxcfjpdKSkrKSgoPzo6W15cXHNcXCtcXD5cXH5cXChdKyg/OlxcKFteXFwpXStcXCkpPyk/XFxzKltcXHNcXCtcXD5cXH5dPylcXHMqL2csRGg9L15AbWVkaWEvLEloPS9cXFtkYXRhLXJhY3RpdmUtY3Nzfj1cIlxce1thLXowLTktXStcXH1cIl0vZyxMaD0xLFZoPXtuYW1lOlwiY3NzXCIsZXh0ZW5kOmZ1bmN0aW9uKHQsZSxuKXtpZihuLmNzcyl7dmFyIGk9TGgrKyxyPW4ubm9Dc3NUcmFuc2Zvcm0/bi5jc3M6Rmgobi5jc3MsaSk7ZS5jc3NJZD1pLEFoLmFkZCh7aWQ6aSxzdHlsZXM6cn0pfX0saW5pdDpmdW5jdGlvbigpe319LE1oPVZoLFVoPXtuYW1lOlwiZGF0YVwiLGV4dGVuZDpmdW5jdGlvbih0LGUsbil7dmFyIGk9dm9pZCAwLHI9dm9pZCAwO2lmKG4uZGF0YSYmaChuLmRhdGEpKWZvcihpIGluIG4uZGF0YSlyPW4uZGF0YVtpXSxyJiZcIm9iamVjdFwiPT10eXBlb2YgciYmKGgocil8fHMocikpJiZtKFwiUGFzc2luZyBhIGBkYXRhYCBvcHRpb24gd2l0aCBvYmplY3QgYW5kIGFycmF5IHByb3BlcnRpZXMgdG8gUmFjdGl2ZS5leHRlbmQoKSBpcyBkaXNjb3VyYWdlZCwgYXMgbXV0YXRpbmcgdGhlbSBpcyBsaWtlbHkgdG8gY2F1c2UgYnVncy4gQ29uc2lkZXIgdXNpbmcgYSBkYXRhIGZ1bmN0aW9uIGluc3RlYWQ6XFxuXFxuICAvLyB0aGlzLi4uXFxuICBkYXRhOiBmdW5jdGlvbiAoKSB7XFxuICAgIHJldHVybiB7XFxuICAgICAgbXlPYmplY3Q6IHt9XFxuICAgIH07XFxuICB9KVxcblxcbiAgLy8gaW5zdGVhZCBvZiB0aGlzOlxcbiAgZGF0YToge1xcbiAgICBteU9iamVjdDoge31cXG4gIH1cIik7ZS5kYXRhPU10KGUuZGF0YSxuLmRhdGEpfSxpbml0OmZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1NdCh0LnByb3RvdHlwZS5kYXRhLG4uZGF0YSk7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgaSYmKGk9aS5jYWxsKGUpKSxpfHx7fX0scmVzZXQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5pbml0KHQuY29uc3RydWN0b3IsdCx0LnZpZXdtb2RlbCk7cmV0dXJuIHQudmlld21vZGVsLnJlc2V0KGUpLCEwfX0sV2g9VWgsemg9L15cXHMrLztfaD1mdW5jdGlvbih0KXt0aGlzLm5hbWU9XCJQYXJzZUVycm9yXCIsdGhpcy5tZXNzYWdlPXQ7dHJ5e3Rocm93IG5ldyBFcnJvcih0KX1jYXRjaChlKXt0aGlzLnN0YWNrPWUuc3RhY2t9fSxfaC5wcm90b3R5cGU9RXJyb3IucHJvdG90eXBlLEVoPWZ1bmN0aW9uKHQsZSl7dmFyIG4saSxyPTA7Zm9yKHRoaXMuc3RyPXQsdGhpcy5vcHRpb25zPWV8fHt9LHRoaXMucG9zPTAsdGhpcy5saW5lcz10aGlzLnN0ci5zcGxpdChcIlxcblwiKSx0aGlzLmxpbmVFbmRzPXRoaXMubGluZXMubWFwKGZ1bmN0aW9uKHQpe3ZhciBlPXIrdC5sZW5ndGgrMTtyZXR1cm4gcj1lLGV9LDApLHRoaXMuaW5pdCYmdGhpcy5pbml0KHQsZSksbj1bXTt0aGlzLnBvczx0aGlzLnN0ci5sZW5ndGgmJihpPXRoaXMucmVhZCgpKTspbi5wdXNoKGkpO3RoaXMubGVmdG92ZXI9dGhpcy5yZW1haW5pbmcoKSx0aGlzLnJlc3VsdD10aGlzLnBvc3RQcm9jZXNzP3RoaXMucG9zdFByb2Nlc3MobixlKTpufSxFaC5wcm90b3R5cGU9e3JlYWQ6ZnVuY3Rpb24odCl7dmFyIGUsbixpLHI7Zm9yKHR8fCh0PXRoaXMuY29udmVydGVycyksZT10aGlzLnBvcyxpPXQubGVuZ3RoLG49MDtpPm47bis9MSlpZih0aGlzLnBvcz1lLHI9dFtuXSh0aGlzKSlyZXR1cm4gcjtyZXR1cm4gbnVsbH0sZ2V0TGluZVBvczpmdW5jdGlvbih0KXtmb3IodmFyIGUsbj0wLGk9MDt0Pj10aGlzLmxpbmVFbmRzW25dOylpPXRoaXMubGluZUVuZHNbbl0sbis9MTtyZXR1cm4gZT10LWksW24rMSxlKzEsdF19LGVycm9yOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0TGluZVBvcyh0aGlzLnBvcyksbj1lWzBdLGk9ZVsxXSxyPXRoaXMubGluZXNbZVswXS0xXSxzPTAsbz1yLnJlcGxhY2UoL1xcdC9nLGZ1bmN0aW9uKHQsbil7cmV0dXJuIG48ZVsxXSYmKHMrPTEpLFwiICBcIn0pK1wiXFxuXCIrbmV3IEFycmF5KGVbMV0rcykuam9pbihcIiBcIikrXCJeLS0tLVwiLGE9bmV3IF9oKFwiXCIrdCtcIiBhdCBsaW5lIFwiK24rXCIgY2hhcmFjdGVyIFwiK2krXCI6XFxuXCIrbyk7dGhyb3cgYS5saW5lPWVbMF0sYS5jaGFyYWN0ZXI9ZVsxXSxhLnNob3J0TWVzc2FnZT10LGF9LG1hdGNoU3RyaW5nOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0ci5zdWJzdHIodGhpcy5wb3MsdC5sZW5ndGgpPT09dD8odGhpcy5wb3MrPXQubGVuZ3RoLHQpOnZvaWQgMH0sbWF0Y2hQYXR0ZXJuOmZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybihlPXQuZXhlYyh0aGlzLnJlbWFpbmluZygpKSk/KHRoaXMucG9zKz1lWzBdLmxlbmd0aCxlWzFdfHxlWzBdKTp2b2lkIDB9LGFsbG93V2hpdGVzcGFjZTpmdW5jdGlvbigpe3RoaXMubWF0Y2hQYXR0ZXJuKHpoKX0scmVtYWluaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RyLnN1YnN0cmluZyh0aGlzLnBvcyl9LG5leHRDaGFyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RyLmNoYXJBdCh0aGlzLnBvcyl9fSxFaC5leHRlbmQ9ZnVuY3Rpb24odCl7dmFyIGUsbixpPXRoaXM7ZT1mdW5jdGlvbih0LGUpe0VoLmNhbGwodGhpcyx0LGUpfSxlLnByb3RvdHlwZT13YShpLnByb3RvdHlwZSk7Zm9yKG4gaW4gdClPYS5jYWxsKHQsbikmJihlLnByb3RvdHlwZVtuXT10W25dKTtyZXR1cm4gZS5leHRlbmQ9RWguZXh0ZW5kLGV9O3ZhciBCaCxxaCwkaCxRaD1FaCxaaD0xLEhoPTIsS2g9MyxHaD00LFloPTUsSmg9NixYaD03LHRjPTgsZWM9OSxuYz0xMCxpYz0xMyxyYz0xNCxzYz0xNSxvYz0xNixhYz0xNyx1Yz0xOCxoYz0yMCxjYz0yMSxsYz0yMixmYz0yMyxkYz0yNCxwYz0yNSxtYz0yNix2Yz0yNyxnYz0zMCx5Yz0zMSxiYz0zMix3Yz0zMyx4Yz0zNCxrYz0zNSxFYz0zNixfYz00MCxBYz01MCxTYz01MSxDYz01MixPYz01MyxQYz01NCxUYz02MCxGYz02MSxSYz16dCxqYz0vXlteXFxzPV0rLyxOYz0vXlxccysvLERjPUJ0LEljPS9eKFxcLyg/OlteXFxuXFxyXFx1MjAyOFxcdTIwMjlcXC9cXFxcW118XFxcXC58XFxbKD86W15cXG5cXHJcXHUyMDI4XFx1MjAyOVxcXVxcXFxdfFxcXFwuKSpdKStcXC8oPzooW2dpbXV5XSkoPyFbYS16XSpcXDIpKSooPyFbYS16QS1aXyQwLTldKSkvLExjPXF0LFZjPXt0Om5jLGV4Y2x1ZGU6ITB9LE1jPVwiRXhwZWN0ZWQgYSBKYXZhU2NyaXB0IGV4cHJlc3Npb25cIixVYz1cIkV4cGVjdGVkIGNsb3NpbmcgcGFyZW5cIixXYz1RdCx6Yz0vXig/OlsrLV0/KTAqKD86KD86KD86WzEtOV1cXGQqKT9cXC5cXGQrKXwoPzooPzowfFsxLTldXFxkKilcXC4pfCg/OjB8WzEtOV1cXGQqKSkoPzpbZUVdWystXT9cXGQrKT8vLEJjPVp0O0JoPS9eKD89LilbXlwiJ1xcXFxdKz8oPzooPyEuKXwoPz1bXCInXFxcXF0pKS8scWg9L15cXFxcKD86WydcIlxcXFxiZm5ydF18MCg/IVswLTldKXx4WzAtOWEtZkEtRl17Mn18dVswLTlhLWZBLUZdezR9fCg/PS4pW151eDAtOV0pLywkaD0vXlxcXFwoPzpcXHJcXG58W1xcdTAwMEFcXHUwMDBEXFx1MjAyOFxcdTIwMjldKS87dmFyIHFjLCRjLFFjPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbixpLHIscztmb3Iobj1lLnBvcyxpPSdcIicscj0hMTshcjspcz1lLm1hdGNoUGF0dGVybihCaCl8fGUubWF0Y2hQYXR0ZXJuKHFoKXx8ZS5tYXRjaFN0cmluZyh0KSxzP2krPSdcIic9PT1zPydcXFxcXCInOlwiXFxcXCdcIj09PXM/XCInXCI6czoocz1lLm1hdGNoUGF0dGVybigkaCkscz9pKz1cIlxcXFx1XCIrKFwiMDAwXCIrcy5jaGFyQ29kZUF0KDEpLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTQpOnI9ITApO3JldHVybiBpKz0nXCInLEpTT04ucGFyc2UoaSl9fSxaYz1RYygnXCInKSxIYz1RYyhcIidcIiksS2M9ZnVuY3Rpb24odCl7dmFyIGUsbjtyZXR1cm4gZT10LnBvcyx0Lm1hdGNoU3RyaW5nKCdcIicpPyhuPUhjKHQpLHQubWF0Y2hTdHJpbmcoJ1wiJyk/e3Q6Y2MsdjpufToodC5wb3M9ZSxudWxsKSk6dC5tYXRjaFN0cmluZyhcIidcIik/KG49WmModCksdC5tYXRjaFN0cmluZyhcIidcIik/e3Q6Y2MsdjpufToodC5wb3M9ZSxudWxsKSk6bnVsbH0sR2M9L15bYS16QS1aXyRdW2EtekEtWl8kMC05XSovLFljPUh0LEpjPS9eW2EtekEtWl8kXVthLXpBLVpfJDAtOV0qJC8sWGM9S3QsdGw9R3QsZWw9ZnVuY3Rpb24odCl7dmFyIGUsbjtyZXR1cm4gZT10LnBvcyx0LmFsbG93V2hpdGVzcGFjZSgpLHQubWF0Y2hTdHJpbmcoXCJ7XCIpPyhuPXRsKHQpLHQuYWxsb3dXaGl0ZXNwYWNlKCksdC5tYXRjaFN0cmluZyhcIn1cIik/e3Q6ZmMsbTpufToodC5wb3M9ZSxudWxsKSk6KHQucG9zPWUsbnVsbCl9LG5sPVl0LGlsPWZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuIGU9dC5wb3MsdC5hbGxvd1doaXRlc3BhY2UoKSx0Lm1hdGNoU3RyaW5nKFwiW1wiKT8obj1ubCh0KSx0Lm1hdGNoU3RyaW5nKFwiXVwiKT97dDpsYyxtOm59Oih0LnBvcz1lLG51bGwpKToodC5wb3M9ZSxudWxsKX0scmw9SnQsc2w9WHQsb2w9L14oPzp+XFwvfCg/OlxcLlxcLlxcLykrfFxcLlxcLyg/OlxcLlxcLlxcLykqfFxcLikvO3FjPS9eKD86QXJyYXl8Y29uc29sZXxEYXRlfFJlZ0V4cHxkZWNvZGVVUklDb21wb25lbnR8ZGVjb2RlVVJJfGVuY29kZVVSSUNvbXBvbmVudHxlbmNvZGVVUkl8aXNGaW5pdGV8aXNOYU58cGFyc2VGbG9hdHxwYXJzZUludHxKU09OfE1hdGh8TmFOfHVuZGVmaW5lZHxudWxsKVxcYi8sJGM9L14oPzpicmVha3xjYXNlfGNhdGNofGNvbnRpbnVlfGRlYnVnZ2VyfGRlZmF1bHR8ZGVsZXRlfGRvfGVsc2V8ZmluYWxseXxmb3J8ZnVuY3Rpb258aWZ8aW58aW5zdGFuY2VvZnxuZXd8cmV0dXJufHN3aXRjaHx0aHJvd3x0cnl8dHlwZW9mfHZhcnx2b2lkfHdoaWxlfHdpdGgpJC87dmFyIGFsLHVsLGhsPS9eW2EtekEtWiRfMC05XSsoPzooPzpcXC5bYS16QS1aJF8wLTldKyl8KD86XFxbWzAtOV0rXFxdKSkqLyxjbD0vXlthLXpBLVpfJF1bLWEtekEtWl8kMC05XSovLGxsPXRlLGZsPWZ1bmN0aW9uKHQpe3JldHVybiBybCh0KXx8c2wodCl8fGxsKHQpfSxkbD1lZSxwbD1mdW5jdGlvbih0KXt2YXIgZSxuLGkscjtpZihuPWZsKHQpLCFuKXJldHVybiBudWxsO2Zvcig7bjspaWYoZT10LnBvcyxpPWRsKHQpKW49e3Q6YmMseDpuLHI6aX07ZWxzZXtpZighdC5tYXRjaFN0cmluZyhcIihcIikpYnJlYWs7dC5hbGxvd1doaXRlc3BhY2UoKSxyPW5sKHQpLHQuYWxsb3dXaGl0ZXNwYWNlKCksdC5tYXRjaFN0cmluZyhcIilcIil8fHQuZXJyb3IoVWMpLG49e3Q6X2MseDpufSxyJiYobi5vPXIpfXJldHVybiBufTt1bD1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXt2YXIgaTtyZXR1cm4oaT1lKG4pKT9pOm4ubWF0Y2hTdHJpbmcodCk/KG4uYWxsb3dXaGl0ZXNwYWNlKCksaT1PbChuKSxpfHxuLmVycm9yKE1jKSx7czp0LG86aSx0OndjfSk6bnVsbH19LGZ1bmN0aW9uKCl7dmFyIHQsZSxuLGkscjtmb3IoaT1cIiEgfiArIC0gdHlwZW9mXCIuc3BsaXQoXCIgXCIpLHI9cGwsdD0wLGU9aS5sZW5ndGg7ZT50O3QrPTEpbj11bChpW3RdLHIpLHI9bjthbD1yfSgpO3ZhciBtbCx2bCxnbD1hbDt2bD1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXt2YXIgaSxyLHM7aWYocj1lKG4pLCFyKXJldHVybiBudWxsO2Zvcig7Oyl7aWYoaT1uLnBvcyxuLmFsbG93V2hpdGVzcGFjZSgpLCFuLm1hdGNoU3RyaW5nKHQpKXJldHVybiBuLnBvcz1pLHI7aWYoXCJpblwiPT09dCYmL1thLXpBLVpfJDAtOV0vLnRlc3Qobi5yZW1haW5pbmcoKS5jaGFyQXQoMCkpKXJldHVybiBuLnBvcz1pLHI7aWYobi5hbGxvd1doaXRlc3BhY2UoKSxzPWUobiksIXMpcmV0dXJuIG4ucG9zPWkscjtyPXt0OkVjLHM6dCxvOltyLHNdfX19fSxmdW5jdGlvbigpe3ZhciB0LGUsbixpLHI7Zm9yKGk9XCIqIC8gJSArIC0gPDwgPj4gPj4+IDwgPD0gPiA+PSBpbiBpbnN0YW5jZW9mID09ICE9ID09PSAhPT0gJiBeIHwgJiYgfHxcIi5zcGxpdChcIiBcIikscj1nbCx0PTAsZT1pLmxlbmd0aDtlPnQ7dCs9MSluPXZsKGlbdF0scikscj1uO21sPXJ9KCk7dmFyIHlsLGJsLHdsLHhsLGtsLEVsLF9sLEFsLFNsPW1sLENsPW5lLE9sPWllLFBsPXJlLFRsPW9lLEZsPS9eWzAtOV1bMS05XSokLyxSbD11ZSxqbD1oZSxObD1jZSxEbD1sZSxJbD1mZSxMbD1kZSxWbD1wZSxNbD0vXnlpZWxkXFxzKi8sVWw9bWUsV2w9dmUsemw9L15cXHMqZWxzZVxccyovLEJsPWdlLHFsPS9eXFxzKmVsc2VpZlxccysvLCRsPXtlYWNoOkNjLFwiaWZcIjpBYyxcImlmLXdpdGhcIjpQYyxcIndpdGhcIjpPYyx1bmxlc3M6U2N9LFFsPXllLFpsPS9eXFxzKjpcXHMqKFthLXpBLVpfJF1bYS16QS1aXyQwLTldKikvLEhsPS9eXFxzKixcXHMqKFthLXpBLVpfJF1bYS16QS1aXyQwLTldKikvLEtsPW5ldyBSZWdFeHAoXCJeKFwiK09iamVjdC5rZXlzKCRsKS5qb2luKFwifFwiKStcIilcXFxcYlwiKSxHbD1FZSxZbD1cIjwhLS1cIixKbD1cIi0tPlwiO3lsPS9eKGFsbG93RnVsbHNjcmVlbnxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y2hlY2tlZHxjb21wYWN0fGNvbnRyb2xzfGRlY2xhcmV8ZGVmYXVsdHxkZWZhdWx0Q2hlY2tlZHxkZWZhdWx0TXV0ZWR8ZGVmYXVsdFNlbGVjdGVkfGRlZmVyfGRpc2FibGVkfGVuYWJsZWR8Zm9ybU5vVmFsaWRhdGV8aGlkZGVufGluZGV0ZXJtaW5hdGV8aW5lcnR8aXNNYXB8aXRlbVNjb3BlfGxvb3B8bXVsdGlwbGV8bXV0ZWR8bm9IcmVmfG5vUmVzaXplfG5vU2hhZGV8bm9WYWxpZGF0ZXxub1dyYXB8b3BlbnxwYXVzZU9uRXhpdHxyZWFkT25seXxyZXF1aXJlZHxyZXZlcnNlZHxzY29wZWR8c2VhbWxlc3N8c2VsZWN0ZWR8c29ydGFibGV8dHJhbnNsYXRlfHRydWVTcGVlZHx0eXBlTXVzdE1hdGNofHZpc2libGUpJC9pLGJsPS9eKD86YXJlYXxiYXNlfGJyfGNvbHxjb21tYW5kfGRvY3R5cGV8ZW1iZWR8aHJ8aW1nfGlucHV0fGtleWdlbnxsaW5rfG1ldGF8cGFyYW18c291cmNlfHRyYWNrfHdicikkL2ksd2w9e3F1b3Q6MzQsYW1wOjM4LGFwb3M6MzksbHQ6NjAsZ3Q6NjIsbmJzcDoxNjAsaWV4Y2w6MTYxLGNlbnQ6MTYyLHBvdW5kOjE2MyxjdXJyZW46MTY0LHllbjoxNjUsYnJ2YmFyOjE2NixzZWN0OjE2Nyx1bWw6MTY4LGNvcHk6MTY5LG9yZGY6MTcwLGxhcXVvOjE3MSxub3Q6MTcyLHNoeToxNzMscmVnOjE3NCxtYWNyOjE3NSxkZWc6MTc2LHBsdXNtbjoxNzcsc3VwMjoxNzgsc3VwMzoxNzksYWN1dGU6MTgwLG1pY3JvOjE4MSxwYXJhOjE4MixtaWRkb3Q6MTgzLGNlZGlsOjE4NCxzdXAxOjE4NSxvcmRtOjE4NixyYXF1bzoxODcsZnJhYzE0OjE4OCxmcmFjMTI6MTg5LGZyYWMzNDoxOTAsaXF1ZXN0OjE5MSxBZ3JhdmU6MTkyLEFhY3V0ZToxOTMsQWNpcmM6MTk0LEF0aWxkZToxOTUsQXVtbDoxOTYsQXJpbmc6MTk3LEFFbGlnOjE5OCxDY2VkaWw6MTk5LEVncmF2ZToyMDAsRWFjdXRlOjIwMSxFY2lyYzoyMDIsRXVtbDoyMDMsSWdyYXZlOjIwNCxJYWN1dGU6MjA1LEljaXJjOjIwNixJdW1sOjIwNyxFVEg6MjA4LE50aWxkZToyMDksT2dyYXZlOjIxMCxPYWN1dGU6MjExLE9jaXJjOjIxMixPdGlsZGU6MjEzLE91bWw6MjE0LHRpbWVzOjIxNSxPc2xhc2g6MjE2LFVncmF2ZToyMTcsVWFjdXRlOjIxOCxVY2lyYzoyMTksVXVtbDoyMjAsWWFjdXRlOjIyMSxUSE9STjoyMjIsc3psaWc6MjIzLGFncmF2ZToyMjQsYWFjdXRlOjIyNSxhY2lyYzoyMjYsYXRpbGRlOjIyNyxhdW1sOjIyOCxhcmluZzoyMjksYWVsaWc6MjMwLGNjZWRpbDoyMzEsZWdyYXZlOjIzMixlYWN1dGU6MjMzLGVjaXJjOjIzNCxldW1sOjIzNSxpZ3JhdmU6MjM2LGlhY3V0ZToyMzcsaWNpcmM6MjM4LGl1bWw6MjM5LGV0aDoyNDAsbnRpbGRlOjI0MSxvZ3JhdmU6MjQyLG9hY3V0ZToyNDMsb2NpcmM6MjQ0LG90aWxkZToyNDUsb3VtbDoyNDYsZGl2aWRlOjI0Nyxvc2xhc2g6MjQ4LHVncmF2ZToyNDksdWFjdXRlOjI1MCx1Y2lyYzoyNTEsdXVtbDoyNTIseWFjdXRlOjI1Myx0aG9ybjoyNTQseXVtbDoyNTUsT0VsaWc6MzM4LG9lbGlnOjMzOSxTY2Fyb246MzUyLHNjYXJvbjozNTMsWXVtbDozNzYsZm5vZjo0MDIsY2lyYzo3MTAsdGlsZGU6NzMyLEFscGhhOjkxMyxCZXRhOjkxNCxHYW1tYTo5MTUsRGVsdGE6OTE2LEVwc2lsb246OTE3LFpldGE6OTE4LEV0YTo5MTksVGhldGE6OTIwLElvdGE6OTIxLEthcHBhOjkyMixMYW1iZGE6OTIzLE11OjkyNCxOdTo5MjUsWGk6OTI2LE9taWNyb246OTI3LFBpOjkyOCxSaG86OTI5LFNpZ21hOjkzMSxUYXU6OTMyLFVwc2lsb246OTMzLFBoaTo5MzQsQ2hpOjkzNSxQc2k6OTM2LE9tZWdhOjkzNyxhbHBoYTo5NDUsYmV0YTo5NDYsZ2FtbWE6OTQ3LGRlbHRhOjk0OCxlcHNpbG9uOjk0OSx6ZXRhOjk1MCxldGE6OTUxLHRoZXRhOjk1Mixpb3RhOjk1MyxrYXBwYTo5NTQsbGFtYmRhOjk1NSxtdTo5NTYsbnU6OTU3LHhpOjk1OCxvbWljcm9uOjk1OSxwaTo5NjAscmhvOjk2MSxzaWdtYWY6OTYyLHNpZ21hOjk2Myx0YXU6OTY0LHVwc2lsb246OTY1LHBoaTo5NjYsY2hpOjk2Nyxwc2k6OTY4LG9tZWdhOjk2OSx0aGV0YXN5bTo5NzcsdXBzaWg6OTc4LHBpdjo5ODIsZW5zcDo4MTk0LGVtc3A6ODE5NSx0aGluc3A6ODIwMSx6d25qOjgyMDQsendqOjgyMDUsbHJtOjgyMDYscmxtOjgyMDcsbmRhc2g6ODIxMSxtZGFzaDo4MjEyLGxzcXVvOjgyMTYscnNxdW86ODIxNyxzYnF1bzo4MjE4LGxkcXVvOjgyMjAscmRxdW86ODIyMSxiZHF1bzo4MjIyLGRhZ2dlcjo4MjI0LERhZ2dlcjo4MjI1LGJ1bGw6ODIyNixoZWxsaXA6ODIzMCxwZXJtaWw6ODI0MCxwcmltZTo4MjQyLFByaW1lOjgyNDMsbHNhcXVvOjgyNDkscnNhcXVvOjgyNTAsb2xpbmU6ODI1NCxmcmFzbDo4MjYwLGV1cm86ODM2NCxpbWFnZTo4NDY1LHdlaWVycDo4NDcyLHJlYWw6ODQ3Nix0cmFkZTo4NDgyLGFsZWZzeW06ODUwMSxsYXJyOjg1OTIsdWFycjo4NTkzLHJhcnI6ODU5NCxkYXJyOjg1OTUsaGFycjo4NTk2LGNyYXJyOjg2MjksbEFycjo4NjU2LHVBcnI6ODY1NyxyQXJyOjg2NTgsZEFycjo4NjU5LGhBcnI6ODY2MCxmb3JhbGw6ODcwNCxwYXJ0Ojg3MDYsZXhpc3Q6ODcwNyxlbXB0eTo4NzA5LG5hYmxhOjg3MTEsaXNpbjo4NzEyLG5vdGluOjg3MTMsbmk6ODcxNSxwcm9kOjg3MTksc3VtOjg3MjEsbWludXM6ODcyMixsb3dhc3Q6ODcyNyxyYWRpYzo4NzMwLHByb3A6ODczMyxpbmZpbjo4NzM0LGFuZzo4NzM2LGFuZDo4NzQzLG9yOjg3NDQsY2FwOjg3NDUsY3VwOjg3NDYsXCJpbnRcIjo4NzQ3LHRoZXJlNDo4NzU2LHNpbTo4NzY0LGNvbmc6ODc3Myxhc3ltcDo4Nzc2LG5lOjg4MDAsZXF1aXY6ODgwMSxsZTo4ODA0LGdlOjg4MDUsc3ViOjg4MzQsc3VwOjg4MzUsbnN1Yjo4ODM2LHN1YmU6ODgzOCxzdXBlOjg4Mzksb3BsdXM6ODg1MyxvdGltZXM6ODg1NSxwZXJwOjg4Njksc2RvdDo4OTAxLGxjZWlsOjg5NjgscmNlaWw6ODk2OSxsZmxvb3I6ODk3MCxyZmxvb3I6ODk3MSxsYW5nOjkwMDEscmFuZzo5MDAyLGxvejo5Njc0LHNwYWRlczo5ODI0LGNsdWJzOjk4MjcsaGVhcnRzOjk4MjksZGlhbXM6OTgzMH0seGw9WzgzNjQsMTI5LDgyMTgsNDAyLDgyMjIsODIzMCw4MjI0LDgyMjUsNzEwLDgyNDAsMzUyLDgyNDksMzM4LDE0MSwzODEsMTQzLDE0NCw4MjE2LDgyMTcsODIyMCw4MjIxLDgyMjYsODIxMSw4MjEyLDczMiw4NDgyLDM1Myw4MjUwLDMzOSwxNTcsMzgyLDM3Nl0sa2w9bmV3IFJlZ0V4cChcIiYoIz8oPzp4W1xcXFx3XFxcXGRdK3xcXFxcZCt8XCIrT2JqZWN0LmtleXMod2wpLmpvaW4oXCJ8XCIpK1wiKSk7P1wiLFwiZ1wiKSxFbD0vPC9nLF9sPS8+L2csQWw9LyYvZzt2YXIgWGwsdGYsZWYsbmYscmYsc2Ysb2YsYWY9L15cXHMqXFxyP1xcbi8sdWY9L1xccj9cXG5cXHMqJC8saGY9ZnVuY3Rpb24odCl7dmFyIGUsbixpLHIscztmb3IoZT0xO2U8dC5sZW5ndGg7ZSs9MSluPXRbZV0saT10W2UtMV0scj10W2UtMl0sQ2UobikmJk9lKGkpJiZDZShyKSYmdWYudGVzdChyKSYmYWYudGVzdChuKSYmKHRbZS0yXT1yLnJlcGxhY2UodWYsXCJcXG5cIiksdFtlXT1uLnJlcGxhY2UoYWYsXCJcIikpLFBlKG4pJiZDZShpKSYmdWYudGVzdChpKSYmQ2Uobi5mWzBdKSYmYWYudGVzdChuLmZbMF0pJiYodFtlLTFdPWkucmVwbGFjZSh1ZixcIlxcblwiKSxuLmZbMF09bi5mWzBdLnJlcGxhY2UoYWYsXCJcIikpLENlKG4pJiZQZShpKSYmKHM9RChpLmYpLENlKHMpJiZ1Zi50ZXN0KHMpJiZhZi50ZXN0KG4pJiYoaS5mW2kuZi5sZW5ndGgtMV09cy5yZXBsYWNlKHVmLFwiXFxuXCIpLHRbZV09bi5yZXBsYWNlKGFmLFwiXCIpKSk7cmV0dXJuIHR9LGNmPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaTtlJiYoaT10WzBdLFwic3RyaW5nXCI9PXR5cGVvZiBpJiYoaT1pLnJlcGxhY2UoZSxcIlwiKSxpP3RbMF09aTp0LnNoaWZ0KCkpKSxuJiYoaT1EKHQpLFwic3RyaW5nXCI9PXR5cGVvZiBpJiYoaT1pLnJlcGxhY2UobixcIlwiKSxpP3RbdC5sZW5ndGgtMV09aTp0LnBvcCgpKSl9LGxmPVRlLGZmPS9bIFxcdFxcZlxcclxcbl0rL2csZGY9L14oPzpwcmV8c2NyaXB0fHN0eWxlfHRleHRhcmVhKSQvaSxwZj0vXlsgXFx0XFxmXFxyXFxuXSsvLG1mPS9bIFxcdFxcZlxcclxcbl0rJC8sdmY9L14oPzpcXHJcXG58XFxyfFxcbikvLGdmPS8oPzpcXHJcXG58XFxyfFxcbikkLyx5Zj1GZSxiZj0vXihbYS16QS1aXXsxLH06P1thLXpBLVowLTlcXC1dKilcXHMqXFw+Lyx3Zj1mdW5jdGlvbih0LGUpe3ZhciBuLGkscjtmb3Iobj1lLmxlbmd0aDtuLS07KXtpZihpPXQuaW5kZXhPZihlW25dKSwhaSlyZXR1cm4gMDstMSE9PWkmJighcnx8cj5pKSYmKHI9aSl9cmV0dXJuIHJ8fC0xfSx4Zj1SZSxrZj0vXlteXFxzXCInPlxcLz1dKy8sRWY9L15bXlxcc1wiJz08PmBdKy87dGY9e1widHJ1ZVwiOiEwLFwiZmFsc2VcIjohMSx1bmRlZmluZWQ6dm9pZCAwLFwibnVsbFwiOm51bGx9LGVmPW5ldyBSZWdFeHAoXCJeKD86XCIrT2JqZWN0LmtleXModGYpLmpvaW4oXCJ8XCIpK1wiKVwiKSxuZj0vXig/OlsrLV0/KSg/Oig/Oig/OjB8WzEtOV1cXGQqKT9cXC5cXGQrKXwoPzooPzowfFsxLTldXFxkKilcXC4pfCg/OjB8WzEtOV1cXGQqKSkoPzpbZUVdWystXT9cXGQrKT8vLHJmPS9cXCRcXHsoW15cXH1dKylcXH0vZyxzZj0vXlxcJFxceyhbXlxcfV0rKVxcfS8sb2Y9L15cXHMqJC8sWGw9UWguZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKHQsZSl7dGhpcy52YWx1ZXM9ZS52YWx1ZXMsdGhpcy5hbGxvd1doaXRlc3BhY2UoKX0scG9zdFByb2Nlc3M6ZnVuY3Rpb24odCl7cmV0dXJuIDE9PT10Lmxlbmd0aCYmb2YudGVzdCh0aGlzLmxlZnRvdmVyKT97dmFsdWU6dFswXS52fTpudWxsfSxjb252ZXJ0ZXJzOltmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gdC52YWx1ZXM/KGU9dC5tYXRjaFBhdHRlcm4oc2YpLGUmJnQudmFsdWVzLmhhc093blByb3BlcnR5KGUpP3t2OnQudmFsdWVzW2VdfTp2b2lkIDApOm51bGx9LGZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybihlPXQubWF0Y2hQYXR0ZXJuKGVmKSk/e3Y6dGZbZV19OnZvaWQgMH0sZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuKGU9dC5tYXRjaFBhdHRlcm4obmYpKT97djorZX06dm9pZCAwfSxmdW5jdGlvbih0KXt2YXIgZSxuPUtjKHQpO3JldHVybiBuJiYoZT10LnZhbHVlcyk/e3Y6bi52LnJlcGxhY2UocmYsZnVuY3Rpb24odCxuKXtyZXR1cm4gbiBpbiBlP2Vbbl06bn0pfTpufSxmdW5jdGlvbih0KXt2YXIgZSxuO2lmKCF0Lm1hdGNoU3RyaW5nKFwie1wiKSlyZXR1cm4gbnVsbDtpZihlPXt9LHQuYWxsb3dXaGl0ZXNwYWNlKCksdC5tYXRjaFN0cmluZyhcIn1cIikpcmV0dXJue3Y6ZX07Zm9yKDtuPVZlKHQpOyl7aWYoZVtuLmtleV09bi52YWx1ZSx0LmFsbG93V2hpdGVzcGFjZSgpLHQubWF0Y2hTdHJpbmcoXCJ9XCIpKXJldHVybnt2OmV9O2lmKCF0Lm1hdGNoU3RyaW5nKFwiLFwiKSlyZXR1cm4gbnVsbH1yZXR1cm4gbnVsbH0sZnVuY3Rpb24odCl7dmFyIGUsbjtpZighdC5tYXRjaFN0cmluZyhcIltcIikpcmV0dXJuIG51bGw7aWYoZT1bXSx0LmFsbG93V2hpdGVzcGFjZSgpLHQubWF0Y2hTdHJpbmcoXCJdXCIpKXJldHVybnt2OmV9O2Zvcig7bj10LnJlYWQoKTspe2lmKGUucHVzaChuLnYpLHQuYWxsb3dXaGl0ZXNwYWNlKCksdC5tYXRjaFN0cmluZyhcIl1cIikpcmV0dXJue3Y6ZX07aWYoIXQubWF0Y2hTdHJpbmcoXCIsXCIpKXJldHVybiBudWxsO3QuYWxsb3dXaGl0ZXNwYWNlKCl9cmV0dXJuIG51bGx9XX0pO3ZhciBfZixBZj1mdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBYbCh0LHt2YWx1ZXM6ZX0pO3JldHVybiBuLnJlc3VsdH0sU2Y9TWUsQ2Y9L14oW2EtekEtWl8kXVthLXpBLVpfJDAtOV0qKVxcKC8sT2Y9L1xcKVxccyokLztfZj1RaC5leHRlbmQoe2NvbnZlcnRlcnM6W09sXX0pO3ZhciBQZixUZj0vXlthLXpBLVpdezEsfTo/W2EtekEtWjAtOVxcLV0qLyxGZj0vXltcXHNcXG5cXC8+XS8sUmY9L15vbi8samY9L15vbi0oW2EtekEtWlxcXFwqXFxcXC4kX11bYS16QS1aXFxcXCpcXFxcLiRfMC05XFwtXSspJC8sTmY9L14oPzpjaGFuZ2V8cmVzZXR8dGVhcmRvd258dXBkYXRlfGNvbnN0cnVjdHxjb25maWd8aW5pdHxyZW5kZXJ8dW5yZW5kZXJ8ZGV0YWNofGluc2VydCkkLyxEZj17XCJpbnRyby1vdXRyb1wiOlwidDBcIixpbnRybzpcInQxXCIsb3V0cm86XCJ0MlwiLGRlY29yYXRvcjpcIm9cIn0sSWY9e2V4Y2x1ZGU6ITB9O1BmPXtsaTpbXCJsaVwiXSxkdDpbXCJkdFwiLFwiZGRcIl0sZGQ6W1wiZHRcIixcImRkXCJdLHA6XCJhZGRyZXNzIGFydGljbGUgYXNpZGUgYmxvY2txdW90ZSBkaXYgZGwgZmllbGRzZXQgZm9vdGVyIGZvcm0gaDEgaDIgaDMgaDQgaDUgaDYgaGVhZGVyIGhncm91cCBociBtYWluIG1lbnUgbmF2IG9sIHAgcHJlIHNlY3Rpb24gdGFibGUgdWxcIi5zcGxpdChcIiBcIikscnQ6W1wicnRcIixcInJwXCJdLHJwOltcInJ0XCIsXCJycFwiXSxvcHRncm91cDpbXCJvcHRncm91cFwiXSxvcHRpb246W1wib3B0aW9uXCIsXCJvcHRncm91cFwiXSx0aGVhZDpbXCJ0Ym9keVwiLFwidGZvb3RcIl0sdGJvZHk6W1widGJvZHlcIixcInRmb290XCJdLHRmb290OltcInRib2R5XCJdLHRyOltcInRyXCIsXCJ0Ym9keVwiXSx0ZDpbXCJ0ZFwiLFwidGhcIixcInRyXCJdLHRoOltcInRkXCIsXCJ0aFwiLFwidHJcIl19O3ZhciBMZixWZj1VZSxNZj16ZSxVZj1CZSxXZj0vWy1cXC9cXFxcXiQqKz8uKCl8W1xcXXt9XS9nLHpmPXFlLEJmPS9ePCEtLVxccyovLHFmPS9zKj5cXHMqKFthLXpBLVpfJF1bLWEtekEtWl8kMC05XSopXFxzKi8sJGY9L1xccyotLT4vLFFmPSRlLFpmPS9eI1xccypwYXJ0aWFsXFxzKy8sSGY9UWUsS2Y9WmUsR2Y9W05sLGpsLFFsLFZsLExsLERsXSxZZj1bUmxdLEpmPVtqbCxRbCxMbF0sWGY9dm9pZCAwLHRkPVtMYyxHbCxWZixNZl0sZWQ9W3pmLFFmXTtYZj1RaC5leHRlbmQoe2luaXQ6ZnVuY3Rpb24odCxlKXt2YXIgbj1lLnRyaXBsZURlbGltaXRlcnN8fFtcInt7e1wiLFwifX19XCJdLGk9ZS5zdGF0aWNEZWxpbWl0ZXJzfHxbXCJbW1wiLFwiXV1cIl0scj1lLnN0YXRpY1RyaXBsZURlbGltaXRlcnN8fFtcIltbW1wiLFwiXV1dXCJdO3RoaXMuc3RhbmRhcmREZWxpbWl0ZXJzPWUuZGVsaW1pdGVyc3x8W1wie3tcIixcIn19XCJdLHRoaXMudGFncz1be2lzU3RhdGljOiExLGlzVHJpcGxlOiExLG9wZW46dGhpcy5zdGFuZGFyZERlbGltaXRlcnNbMF0sY2xvc2U6dGhpcy5zdGFuZGFyZERlbGltaXRlcnNbMV0scmVhZGVyczpHZn0se2lzU3RhdGljOiExLGlzVHJpcGxlOiEwLG9wZW46blswXSxjbG9zZTpuWzFdLHJlYWRlcnM6WWZ9LHtpc1N0YXRpYzohMCxpc1RyaXBsZTohMSxvcGVuOmlbMF0sY2xvc2U6aVsxXSxyZWFkZXJzOkpmfSx7aXNTdGF0aWM6ITAsaXNUcmlwbGU6ITAsb3BlbjpyWzBdLGNsb3NlOnJbMV0scmVhZGVyczpZZn1dLHRoaXMuc29ydE11c3RhY2hlVGFncygpLHRoaXMuc2VjdGlvbkRlcHRoPTAsdGhpcy5lbGVtZW50U3RhY2s9W10sdGhpcy5pbnRlcnBvbGF0ZT17c2NyaXB0OiFlLmludGVycG9sYXRlfHxlLmludGVycG9sYXRlLnNjcmlwdCE9PSExLHN0eWxlOiFlLmludGVycG9sYXRlfHxlLmludGVycG9sYXRlLnN0eWxlIT09ITF9LGUuc2FuaXRpemU9PT0hMCYmKGUuc2FuaXRpemU9e2VsZW1lbnRzOlwiYXBwbGV0IGJhc2UgYmFzZWZvbnQgYm9keSBmcmFtZSBmcmFtZXNldCBoZWFkIGh0bWwgaXNpbmRleCBsaW5rIG1ldGEgbm9mcmFtZXMgbm9zY3JpcHQgb2JqZWN0IHBhcmFtIHNjcmlwdCBzdHlsZSB0aXRsZVwiLnNwbGl0KFwiIFwiKSxldmVudEF0dHJpYnV0ZXM6ITB9KSx0aGlzLnN0cmlwQ29tbWVudHM9ZS5zdHJpcENvbW1lbnRzIT09ITEsdGhpcy5wcmVzZXJ2ZVdoaXRlc3BhY2U9ZS5wcmVzZXJ2ZVdoaXRlc3BhY2UsdGhpcy5zYW5pdGl6ZUVsZW1lbnRzPWUuc2FuaXRpemUmJmUuc2FuaXRpemUuZWxlbWVudHMsdGhpcy5zYW5pdGl6ZUV2ZW50QXR0cmlidXRlcz1lLnNhbml0aXplJiZlLnNhbml0aXplLmV2ZW50QXR0cmlidXRlcyx0aGlzLmluY2x1ZGVMaW5lUG9zaXRpb25zPWUuaW5jbHVkZUxpbmVQb3NpdGlvbnN9LHBvc3RQcm9jZXNzOmZ1bmN0aW9uKHQpe3JldHVybiB0Lmxlbmd0aD8odGhpcy5zZWN0aW9uRGVwdGg+MCYmdGhpcy5lcnJvcihcIkEgc2VjdGlvbiB3YXMgbGVmdCBvcGVuXCIpLGxmKHRbMF0udCx0aGlzLnN0cmlwQ29tbWVudHMsdGhpcy5wcmVzZXJ2ZVdoaXRlc3BhY2UsIXRoaXMucHJlc2VydmVXaGl0ZXNwYWNlLCF0aGlzLnByZXNlcnZlV2hpdGVzcGFjZSksdFswXSk6e3Q6W10sdjpvYX19LGNvbnZlcnRlcnM6W0hmXSxzb3J0TXVzdGFjaGVUYWdzOmZ1bmN0aW9uKCl7dGhpcy50YWdzLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5vcGVuLmxlbmd0aC10Lm9wZW4ubGVuZ3RofSl9fSk7dmFyIG5kLGlkLHJkLHNkPVtcInByZXNlcnZlV2hpdGVzcGFjZVwiLFwic2FuaXRpemVcIixcInN0cmlwQ29tbWVudHNcIixcImRlbGltaXRlcnNcIixcInRyaXBsZURlbGltaXRlcnNcIixcImludGVycG9sYXRlXCJdLG9kPXtmcm9tSWQ6R2UsaXNIYXNoZWRJZDpZZSxpc1BhcnNlZDpKZSxnZXRQYXJzZU9wdGlvbnM6WGUsY3JlYXRlSGVscGVyOkhlLHBhcnNlOktlfSxhZD1vZCx1ZD17bmFtZTpcInRlbXBsYXRlXCIsZXh0ZW5kOmZ1bmN0aW9uKHQsZSxuKXt2YXIgaTtcInRlbXBsYXRlXCJpbiBuJiYoaT1uLnRlbXBsYXRlLGUudGVtcGxhdGU9XCJmdW5jdGlvblwiPT10eXBlb2YgaT9pOnJuKGksZSkpfSxpbml0OmZ1bmN0aW9uKHQsZSxuKXt2YXIgaSxyO2k9XCJ0ZW1wbGF0ZVwiaW4gbj9uLnRlbXBsYXRlOnQucHJvdG90eXBlLnRlbXBsYXRlLFwiZnVuY3Rpb25cIj09dHlwZW9mIGkmJihyPWksaT1lbihlLHIpLGUuX2NvbmZpZy50ZW1wbGF0ZT17Zm46cixyZXN1bHQ6aX0pLGk9cm4oaSxlKSxlLnRlbXBsYXRlPWkudCxpLnAmJnNuKGUucGFydGlhbHMsaS5wKX0scmVzZXQ6ZnVuY3Rpb24odCl7dmFyIGUsbj10bih0KTtyZXR1cm4gbj8oZT1ybihuLHQpLHQudGVtcGxhdGU9ZS50LHNuKHQucGFydGlhbHMsZS5wLCEwKSwhMCk6dm9pZCAwfX0saGQ9dWQ7bmQ9W1wiYWRhcHRvcnNcIixcImNvbXBvbmVudHNcIixcImNvbXB1dGVkXCIsXCJkZWNvcmF0b3JzXCIsXCJlYXNpbmdcIixcImV2ZW50c1wiLFwiaW50ZXJwb2xhdG9yc1wiLFwicGFydGlhbHNcIixcInRyYW5zaXRpb25zXCJdLGlkPWZ1bmN0aW9uKHQsZSl7dGhpcy5uYW1lPXQsdGhpcy51c2VEZWZhdWx0cz1lfSxpZC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmlkLGV4dGVuZDpmdW5jdGlvbih0LGUsbil7dGhpcy5jb25maWd1cmUodGhpcy51c2VEZWZhdWx0cz90LmRlZmF1bHRzOnQsdGhpcy51c2VEZWZhdWx0cz9lOmUuY29uc3RydWN0b3Isbil9LGluaXQ6ZnVuY3Rpb24oKXt9LGNvbmZpZ3VyZTpmdW5jdGlvbih0LGUsbil7dmFyIGkscj10aGlzLm5hbWUscz1uW3JdO2k9d2EodFtyXSk7Zm9yKHZhciBvIGluIHMpaVtvXT1zW29dO2Vbcl09aX0scmVzZXQ6ZnVuY3Rpb24odCl7dmFyIGU9dFt0aGlzLm5hbWVdLG49ITE7cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGk9ZVt0XTtpLl9mbiYmKGkuX2ZuLmlzT3duZXI/ZVt0XT1pLl9mbjpkZWxldGUgZVt0XSxuPSEwKX0pLG59fSxyZD1uZC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBpZCh0LFwiY29tcHV0ZWRcIj09PXQpfSk7dmFyIGNkLGxkLGZkLGRkLHBkLG1kLHZkPXJkLGdkPW9uLHlkPWNuO2RkPXthZGFwdDpUaCxjc3M6TWgsZGF0YTpXaCx0ZW1wbGF0ZTpoZH0sZmQ9T2JqZWN0LmtleXModWEpLG1kPWRuKGZkLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4hZGRbdF19KSkscGQ9ZG4oZmQuY29uY2F0KHZkLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lfSkpKSxsZD1bXS5jb25jYXQoZmQuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiF2ZFt0XSYmIWRkW3RdfSksdmQsZGQuZGF0YSxkZC50ZW1wbGF0ZSxkZC5jc3MpLGNkPXtleHRlbmQ6ZnVuY3Rpb24odCxlLG4pe3JldHVybiBsbihcImV4dGVuZFwiLHQsZSxuKX0saW5pdDpmdW5jdGlvbih0LGUsbil7cmV0dXJuIGxuKFwiaW5pdFwiLHQsZSxuKX0scmVzZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIGxkLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXNldCYmZS5yZXNldCh0KX0pLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lfSl9LG9yZGVyOmxkfTt2YXIgYmQ9Y2Qsd2Q9cG4seGQ9bW4sa2Q9dm4sRWQ9Z24sX2Q9eW4sQWQ9Ym4sU2Q9d24sQ2Q9eG4sT2Q9a24sUGQ9RW4sVGQ9X24sRmQ9QW4sUmQ9ZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLm5vZGUpfSxqZD1mdW5jdGlvbih0KXt0aGlzLnR5cGU9WmgsdGhpcy50ZXh0PXQudGVtcGxhdGV9O2pkLnByb3RvdHlwZT17ZGV0YWNoOlJkLGZpcnN0Tm9kZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGV9LHJlbmRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGV8fCh0aGlzLm5vZGU9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGhpcy50ZXh0KSksdGhpcy5ub2RlfSx0b1N0cmluZzpmdW5jdGlvbih0KXtyZXR1cm4gdD9TZSh0aGlzLnRleHQpOnRoaXMudGV4dH0sdW5yZW5kZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ/dGhpcy5kZXRhY2goKTp2b2lkIDB9fTt2YXIgTmQ9amQsRGQ9U24sSWQ9Q24sTGQ9ZnVuY3Rpb24odCxlLG4pe3ZhciBpO3RoaXMucmVmPWUsdGhpcy5yZXNvbHZlZD0hMSx0aGlzLnJvb3Q9dC5yb290LHRoaXMucGFyZW50RnJhZ21lbnQ9dC5wYXJlbnRGcmFnbWVudCx0aGlzLmNhbGxiYWNrPW4saT11dSh0LnJvb3QsZSx0LnBhcmVudEZyYWdtZW50KSx2b2lkIDAhPWk/dGhpcy5yZXNvbHZlKGkpOm11LmFkZFVucmVzb2x2ZWQodGhpcyl9O0xkLnByb3RvdHlwZT17cmVzb2x2ZTpmdW5jdGlvbih0KXt0aGlzLmtleXBhdGgmJiF0JiZtdS5hZGRVbnJlc29sdmVkKHRoaXMpLHRoaXMucmVzb2x2ZWQ9ITAsdGhpcy5rZXlwYXRoPXQsdGhpcy5jYWxsYmFjayh0KX0sZm9yY2VSZXNvbHV0aW9uOmZ1bmN0aW9uKCl7dGhpcy5yZXNvbHZlKF8odGhpcy5yZWYpKX0scmViaW5kOmZ1bmN0aW9uKHQsZSl7dmFyIG47dm9pZCAwIT10aGlzLmtleXBhdGgmJihuPXRoaXMua2V5cGF0aC5yZXBsYWNlKHQsZSksdm9pZCAwIT09biYmdGhpcy5yZXNvbHZlKG4pKX0sdW5iaW5kOmZ1bmN0aW9uKCl7dGhpcy5yZXNvbHZlZHx8bXUucmVtb3ZlVW5yZXNvbHZlZCh0aGlzKX19O3ZhciBWZD1MZCxNZD1mdW5jdGlvbih0LGUsbil7dGhpcy5wYXJlbnRGcmFnbWVudD10LnBhcmVudEZyYWdtZW50LHRoaXMucmVmPWUsdGhpcy5jYWxsYmFjaz1uLHRoaXMucmViaW5kKCl9LFVkPXtcIkBrZXlwYXRoXCI6e3ByZWZpeDpcImNcIixwcm9wOltcImNvbnRleHRcIl19LFwiQGluZGV4XCI6e3ByZWZpeDpcImlcIixwcm9wOltcImluZGV4XCJdfSxcIkBrZXlcIjp7cHJlZml4Olwia1wiLHByb3A6W1wia2V5XCIsXCJpbmRleFwiXX19O01kLnByb3RvdHlwZT17cmViaW5kOmZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLnJlZixuPXRoaXMucGFyZW50RnJhZ21lbnQsaT1VZFtlXTtpZighaSl0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gc3BlY2lhbCByZWZlcmVuY2UgXCInK2UrJ1wiIC0gdmFsaWQgcmVmZXJlbmNlcyBhcmUgQGluZGV4LCBAa2V5IGFuZCBAa2V5cGF0aCcpO2lmKHRoaXMuY2FjaGVkKXJldHVybiB0aGlzLmNhbGxiYWNrKF8oXCJAXCIraS5wcmVmaXgrT24odGhpcy5jYWNoZWQsaSkpKTtpZigtMSE9PWkucHJvcC5pbmRleE9mKFwiaW5kZXhcIil8fC0xIT09aS5wcm9wLmluZGV4T2YoXCJrZXlcIikpZm9yKDtuOyl7aWYobi5vd25lci5jdXJyZW50U3VidHlwZT09PUNjJiZ2b2lkIDAhPT0odD1PbihuLGkpKSlyZXR1cm4gdGhpcy5jYWNoZWQ9bixuLnJlZ2lzdGVySW5kZXhSZWYodGhpcyksdGhpcy5jYWxsYmFjayhfKFwiQFwiK2kucHJlZml4K3QpKTtuPSFuLnBhcmVudCYmbi5vd25lciYmbi5vd25lci5jb21wb25lbnQmJm4ub3duZXIuY29tcG9uZW50LnBhcmVudEZyYWdtZW50JiYhbi5vd25lci5jb21wb25lbnQuaW5zdGFuY2UuaXNvbGF0ZWQ/bi5vd25lci5jb21wb25lbnQucGFyZW50RnJhZ21lbnQ6bi5wYXJlbnR9ZWxzZSBmb3IoO247KXtpZih2b2lkIDAhPT0odD1PbihuLGkpKSlyZXR1cm4gdGhpcy5jYWxsYmFjayhfKFwiQFwiK2kucHJlZml4K3Quc3RyKSk7bj1uLnBhcmVudH19LHVuYmluZDpmdW5jdGlvbigpe3RoaXMuY2FjaGVkJiZ0aGlzLmNhY2hlZC51bnJlZ2lzdGVySW5kZXhSZWYodGhpcyl9fTt2YXIgV2Q9TWQsemQ9ZnVuY3Rpb24odCxlLG4pe3RoaXMucGFyZW50RnJhZ21lbnQ9dC5wYXJlbnRGcmFnbWVudCx0aGlzLnJlZj1lLHRoaXMuY2FsbGJhY2s9bixlLnJlZi5mcmFnbWVudC5yZWdpc3RlckluZGV4UmVmKHRoaXMpLHRoaXMucmViaW5kKCl9O3pkLnByb3RvdHlwZT17cmViaW5kOmZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLnJlZi5yZWY7dD1cImtcIj09PWUucmVmLnQ/XCJrXCIrZS5mcmFnbWVudC5rZXk6XCJpXCIrZS5mcmFnbWVudC5pbmRleCx2b2lkIDAhPT10JiZ0aGlzLmNhbGxiYWNrKF8oXCJAXCIrdCkpfSx1bmJpbmQ6ZnVuY3Rpb24oKXt0aGlzLnJlZi5yZWYuZnJhZ21lbnQudW5yZWdpc3RlckluZGV4UmVmKHRoaXMpfX07dmFyIEJkPXpkLHFkPVBuO1BuLnJlc29sdmU9ZnVuY3Rpb24odCl7dmFyIGUsbixpPXt9O2ZvcihlIGluIHQucmVmcyluPXQucmVmc1tlXSxpW24ucmVmLm5dPVwia1wiPT09bi5yZWYudD9uLmZyYWdtZW50LmtleTpuLmZyYWdtZW50LmluZGV4O3JldHVybiBpfTt2YXIgJGQsUWQ9VG4sWmQ9Rm4sSGQ9e30sS2Q9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ7JGQ9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHIscz10aGlzO3I9dC5yb290LHRoaXMucm9vdD1yLHRoaXMucGFyZW50RnJhZ21lbnQ9ZSx0aGlzLmNhbGxiYWNrPWksdGhpcy5vd25lcj10LHRoaXMuc3RyPW4ucyx0aGlzLmtleXBhdGhzPVtdLHRoaXMucGVuZGluZz1uLnIubGVuZ3RoLHRoaXMucmVmUmVzb2x2ZXJzPW4uci5tYXAoZnVuY3Rpb24odCxlKXtyZXR1cm4gUWQocyx0LGZ1bmN0aW9uKHQpe3MucmVzb2x2ZShlLHQpfSl9KSx0aGlzLnJlYWR5PSEwLHRoaXMuYnViYmxlKCl9LCRkLnByb3RvdHlwZT17YnViYmxlOmZ1bmN0aW9uKCl7dGhpcy5yZWFkeSYmKHRoaXMudW5pcXVlU3RyaW5nPWpuKHRoaXMuc3RyLHRoaXMua2V5cGF0aHMpLHRoaXMua2V5cGF0aD1Obih0aGlzLnVuaXF1ZVN0cmluZyksdGhpcy5jcmVhdGVFdmFsdWF0b3IoKSx0aGlzLmNhbGxiYWNrKHRoaXMua2V5cGF0aCkpfSx1bmJpbmQ6ZnVuY3Rpb24oKXtmb3IodmFyIHQ7dD10aGlzLnJlZlJlc29sdmVycy5wb3AoKTspdC51bmJpbmQoKX0scmVzb2x2ZTpmdW5jdGlvbih0LGUpe3RoaXMua2V5cGF0aHNbdF09ZSx0aGlzLmJ1YmJsZSgpfSxjcmVhdGVFdmFsdWF0b3I6ZnVuY3Rpb24oKXt2YXIgdCxlLG4saSxyLHM9dGhpcztpPXRoaXMua2V5cGF0aCx0PXRoaXMucm9vdC52aWV3bW9kZWwuY29tcHV0YXRpb25zW2kuc3RyXSx0P3RoaXMucm9vdC52aWV3bW9kZWwubWFyayhpKToocj1aZCh0aGlzLnN0cix0aGlzLnJlZlJlc29sdmVycy5sZW5ndGgpLGU9dGhpcy5rZXlwYXRocy5tYXAoZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuXCJ1bmRlZmluZWRcIj09PXQ/ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwfTp0LmlzU3BlY2lhbD8oZT10LnZhbHVlLGZ1bmN0aW9uKCl7cmV0dXJuIGV9KTpmdW5jdGlvbigpe3ZhciBlPXMucm9vdC52aWV3bW9kZWwuZ2V0KHQse25vVW53cmFwOiEwLGZ1bGxSb290R2V0OiEwfSk7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKGU9SW4oZSxzLnJvb3QpKSxlfX0pLG49e2RlcHM6dGhpcy5rZXlwYXRocy5maWx0ZXIoRG4pLGdldHRlcjpmdW5jdGlvbigpe3ZhciB0PWUubWFwKFJuKTtyZXR1cm4gci5hcHBseShudWxsLHQpfX0sdD10aGlzLnJvb3Qudmlld21vZGVsLmNvbXB1dGUoaSxuKSl9LHJlYmluZDpmdW5jdGlvbih0LGUpe3RoaXMucmVmUmVzb2x2ZXJzLmZvckVhY2goZnVuY3Rpb24obil7cmV0dXJuIG4ucmViaW5kKHQsZSl9KX19O3ZhciBHZD0kZCxZZD1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpczt0aGlzLnJlc29sdmVyPWUsdGhpcy5yb290PWUucm9vdCx0aGlzLnBhcmVudEZyYWdtZW50PW4sdGhpcy52aWV3bW9kZWw9ZS5yb290LnZpZXdtb2RlbCxcInN0cmluZ1wiPT10eXBlb2YgdD90aGlzLnZhbHVlPXQ6dC50PT09Z2M/dGhpcy5yZWZSZXNvbHZlcj1RZCh0aGlzLHQubixmdW5jdGlvbih0KXtpLnJlc29sdmUodCl9KTpuZXcgR2QoZSxuLHQsZnVuY3Rpb24odCl7aS5yZXNvbHZlKHQpfSl9O1lkLnByb3RvdHlwZT17cmVzb2x2ZTpmdW5jdGlvbih0KXt0aGlzLmtleXBhdGgmJnRoaXMudmlld21vZGVsLnVucmVnaXN0ZXIodGhpcy5rZXlwYXRoLHRoaXMpLHRoaXMua2V5cGF0aD10LHRoaXMudmFsdWU9dGhpcy52aWV3bW9kZWwuZ2V0KHQpLHRoaXMuYmluZCgpLHRoaXMucmVzb2x2ZXIuYnViYmxlKCl9LGJpbmQ6ZnVuY3Rpb24oKXt0aGlzLnZpZXdtb2RlbC5yZWdpc3Rlcih0aGlzLmtleXBhdGgsdGhpcyl9LHJlYmluZDpmdW5jdGlvbih0LGUpe3RoaXMucmVmUmVzb2x2ZXImJnRoaXMucmVmUmVzb2x2ZXIucmViaW5kKHQsZSl9LHNldFZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMudmFsdWU9dCx0aGlzLnJlc29sdmVyLmJ1YmJsZSgpfSx1bmJpbmQ6ZnVuY3Rpb24oKXt0aGlzLmtleXBhdGgmJnRoaXMudmlld21vZGVsLnVucmVnaXN0ZXIodGhpcy5rZXlwYXRoLHRoaXMpLHRoaXMucmVmUmVzb2x2ZXImJnRoaXMucmVmUmVzb2x2ZXIudW5iaW5kKCl9LGZvcmNlUmVzb2x1dGlvbjpmdW5jdGlvbigpe3RoaXMucmVmUmVzb2x2ZXImJnRoaXMucmVmUmVzb2x2ZXIuZm9yY2VSZXNvbHV0aW9uKCl9fTt2YXIgSmQ9WWQsWGQ9ZnVuY3Rpb24odCxlLG4pe3ZhciBpLHIscyxvLGE9dGhpczt0aGlzLnBhcmVudEZyYWdtZW50PW89dC5wYXJlbnRGcmFnbWVudCx0aGlzLnJvb3Q9aT10LnJvb3QsdGhpcy5tdXN0YWNoZT10LHRoaXMucmVmPXI9ZS5yLHRoaXMuY2FsbGJhY2s9bix0aGlzLnVucmVzb2x2ZWQ9W10sKHM9dXUoaSxyLG8pKT90aGlzLmJhc2U9czp0aGlzLmJhc2VSZXNvbHZlcj1uZXcgVmQodGhpcyxyLGZ1bmN0aW9uKHQpe2EuYmFzZT10LGEuYmFzZVJlc29sdmVyPW51bGwsYS5idWJibGUoKX0pLHRoaXMubWVtYmVycz1lLm0ubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgSmQodCxhLG8pfSksdGhpcy5yZWFkeT0hMCx0aGlzLmJ1YmJsZSgpfTtYZC5wcm90b3R5cGU9e2dldEtleXBhdGg6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm1lbWJlcnMubWFwKExuKTtyZXR1cm4hdC5ldmVyeShWbil8fHRoaXMuYmFzZVJlc29sdmVyP251bGw6dGhpcy5iYXNlLmpvaW4odC5qb2luKFwiLlwiKSl9LGJ1YmJsZTpmdW5jdGlvbigpe3RoaXMucmVhZHkmJiF0aGlzLmJhc2VSZXNvbHZlciYmdGhpcy5jYWxsYmFjayh0aGlzLmdldEtleXBhdGgoKSl9LHVuYmluZDpmdW5jdGlvbigpe3RoaXMubWVtYmVycy5mb3JFYWNoKFopfSxyZWJpbmQ6ZnVuY3Rpb24odCxlKXt2YXIgbjtpZih0aGlzLmJhc2Upe3ZhciBpPXRoaXMuYmFzZS5yZXBsYWNlKHQsZSk7aSYmaSE9PXRoaXMuYmFzZSYmKHRoaXMuYmFzZT1pLG49ITApfXRoaXMubWVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKGkpe2kucmViaW5kKHQsZSkmJihuPSEwKX0pLG4mJnRoaXMuYnViYmxlKCl9LGZvcmNlUmVzb2x1dGlvbjpmdW5jdGlvbigpe3RoaXMuYmFzZVJlc29sdmVyJiYodGhpcy5iYXNlPV8odGhpcy5yZWYpLHRoaXMuYmFzZVJlc29sdmVyLnVuYmluZCgpLHRoaXMuYmFzZVJlc29sdmVyPW51bGwpLHRoaXMubWVtYmVycy5mb3JFYWNoKE1uKSx0aGlzLmJ1YmJsZSgpfX07dmFyIHRwPVhkLGVwPVVuLG5wPVduLGlwPXpuLHJwPXtnZXRWYWx1ZTpJZCxpbml0OmVwLHJlc29sdmU6bnAscmViaW5kOmlwfSxzcD1mdW5jdGlvbih0KXt0aGlzLnR5cGU9SGgscnAuaW5pdCh0aGlzLHQpfTtzcC5wcm90b3R5cGU9e3VwZGF0ZTpmdW5jdGlvbigpe3RoaXMubm9kZS5kYXRhPXZvaWQgMD09dGhpcy52YWx1ZT9cIlwiOnRoaXMudmFsdWV9LHJlc29sdmU6cnAucmVzb2x2ZSxyZWJpbmQ6cnAucmViaW5kLGRldGFjaDpSZCx1bmJpbmQ6RGQscmVuZGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZXx8KHRoaXMubm9kZT1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShuKHRoaXMudmFsdWUpKSksdGhpcy5ub2RlfSx1bnJlbmRlcjpmdW5jdGlvbih0KXt0JiZlKHRoaXMubm9kZSl9LGdldFZhbHVlOnJwLmdldFZhbHVlLHNldFZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlO3RoaXMua2V5cGF0aCYmKGU9dGhpcy5yb290LnZpZXdtb2RlbC53cmFwcGVkW3RoaXMua2V5cGF0aC5zdHJdKSYmKHQ9ZS5nZXQoKSksYSh0LHRoaXMudmFsdWUpfHwodGhpcy52YWx1ZT10LHRoaXMucGFyZW50RnJhZ21lbnQuYnViYmxlKCksdGhpcy5ub2RlJiZtdS5hZGRWaWV3KHRoaXMpKX0sZmlyc3ROb2RlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZX0sdG9TdHJpbmc6ZnVuY3Rpb24odCl7dmFyIGU9XCJcIituKHRoaXMudmFsdWUpO3JldHVybiB0P1NlKGUpOmV9fTt2YXIgb3A9c3AsYXA9Qm4sdXA9cW4saHA9JG4sY3A9UW4sbHA9Wm4sZnA9SG4sZHA9S24scHA9R24sbXA9WW4sdnA9ZnVuY3Rpb24odCxlKXtycC5yZWJpbmQuY2FsbCh0aGlzLHQsZSl9LGdwPVhuLHlwPXRpLGJwPWxpLHdwPWZpLHhwPWRpLGtwPXZpLEVwPWZ1bmN0aW9uKHQpe3RoaXMudHlwZT1HaCx0aGlzLnN1YnR5cGU9dGhpcy5jdXJyZW50U3VidHlwZT10LnRlbXBsYXRlLm4sdGhpcy5pbnZlcnRlZD10aGlzLnN1YnR5cGU9PT1TYyx0aGlzLnBFbGVtZW50PXQucEVsZW1lbnQsdGhpcy5mcmFnbWVudHM9W10sdGhpcy5mcmFnbWVudHNUb0NyZWF0ZT1bXSx0aGlzLmZyYWdtZW50c1RvUmVuZGVyPVtdLHRoaXMuZnJhZ21lbnRzVG9VbnJlbmRlcj1bXSx0LnRlbXBsYXRlLmkmJih0aGlzLmluZGV4UmVmcz10LnRlbXBsYXRlLmkuc3BsaXQoXCIsXCIpLm1hcChmdW5jdGlvbih0LGUpe3JldHVybntuOnQsdDowPT09ZT9cImtcIjpcImlcIn19KSksdGhpcy5yZW5kZXJlZEZyYWdtZW50cz1bXSx0aGlzLmxlbmd0aD0wLHJwLmluaXQodGhpcyx0KX07RXAucHJvdG90eXBlPXtidWJibGU6YXAsZGV0YWNoOnVwLGZpbmQ6aHAsZmluZEFsbDpjcCxmaW5kQWxsQ29tcG9uZW50czpscCxmaW5kQ29tcG9uZW50OmZwLGZpbmROZXh0Tm9kZTpkcCxmaXJzdE5vZGU6cHAsZ2V0SW5kZXhSZWY6ZnVuY3Rpb24odCl7aWYodGhpcy5pbmRleFJlZnMpZm9yKHZhciBlPXRoaXMuaW5kZXhSZWZzLmxlbmd0aDtlLS07KXt2YXIgbj10aGlzLmluZGV4UmVmc1tlXTtpZihuLm49PT10KXJldHVybiBufX0sZ2V0VmFsdWU6cnAuZ2V0VmFsdWUsc2h1ZmZsZTptcCxyZWJpbmQ6dnAscmVuZGVyOmdwLHJlc29sdmU6cnAucmVzb2x2ZSxzZXRWYWx1ZTp5cCx0b1N0cmluZzpicCx1bmJpbmQ6d3AsdW5yZW5kZXI6eHAsdXBkYXRlOmtwfTt2YXIgX3AsQXAsU3A9RXAsQ3A9Z2ksT3A9eWksUHA9YmksVHA9d2ksRnA9e307dHJ5e2xhKFwidGFibGVcIikuaW5uZXJIVE1MPVwiZm9vXCJ9Y2F0Y2goX2Epe19wPSEwLEFwPXtUQUJMRTpbJzx0YWJsZSBjbGFzcz1cInhcIj4nLFwiPC90YWJsZT5cIl0sVEhFQUQ6Wyc8dGFibGU+PHRoZWFkIGNsYXNzPVwieFwiPicsXCI8L3RoZWFkPjwvdGFibGU+XCJdLFRCT0RZOlsnPHRhYmxlPjx0Ym9keSBjbGFzcz1cInhcIj4nLFwiPC90Ym9keT48L3RhYmxlPlwiXSxUUjpbJzx0YWJsZT48dHIgY2xhc3M9XCJ4XCI+JyxcIjwvdHI+PC90YWJsZT5cIl0sU0VMRUNUOlsnPHNlbGVjdCBjbGFzcz1cInhcIj4nLFwiPC9zZWxlY3Q+XCJdfX12YXIgUnA9ZnVuY3Rpb24odCxlLG4pe3ZhciBpLHIscyxvLGEsdT1bXTtpZihudWxsIT10JiZcIlwiIT09dCl7Zm9yKF9wJiYocj1BcFtlLnRhZ05hbWVdKT8oaT14aShcIkRJVlwiKSxpLmlubmVySFRNTD1yWzBdK3QrclsxXSxpPWkucXVlcnlTZWxlY3RvcihcIi54XCIpLFwiU0VMRUNUXCI9PT1pLnRhZ05hbWUmJihzPWkub3B0aW9uc1tpLnNlbGVjdGVkSW5kZXhdKSk6ZS5uYW1lc3BhY2VVUkk9PT1pYS5zdmc/KGk9eGkoXCJESVZcIiksaS5pbm5lckhUTUw9JzxzdmcgY2xhc3M9XCJ4XCI+Jyt0K1wiPC9zdmc+XCIsaT1pLnF1ZXJ5U2VsZWN0b3IoXCIueFwiKSk6KGk9eGkoZS50YWdOYW1lKSxpLmlubmVySFRNTD10LFwiU0VMRUNUXCI9PT1pLnRhZ05hbWUmJihzPWkub3B0aW9uc1tpLnNlbGVjdGVkSW5kZXhdKSk7bz1pLmZpcnN0Q2hpbGQ7KXUucHVzaChvKSxuLmFwcGVuZENoaWxkKG8pO2lmKFwiU0VMRUNUXCI9PT1lLnRhZ05hbWUpZm9yKGE9dS5sZW5ndGg7YS0tOyl1W2FdIT09cyYmKHVbYV0uc2VsZWN0ZWQ9ITEpfXJldHVybiB1fSxqcD1raSxOcD1faSxEcD1BaSxJcD1TaSxMcD1DaSxWcD1PaSxNcD1mdW5jdGlvbih0KXt0aGlzLnR5cGU9S2gscnAuaW5pdCh0aGlzLHQpfTtNcC5wcm90b3R5cGU9e2RldGFjaDpDcCxmaW5kOk9wLGZpbmRBbGw6UHAsZmlyc3ROb2RlOlRwLGdldFZhbHVlOnJwLmdldFZhbHVlLHJlYmluZDpycC5yZWJpbmQscmVuZGVyOk5wLHJlc29sdmU6cnAucmVzb2x2ZSxzZXRWYWx1ZTpEcCx0b1N0cmluZzpJcCx1bmJpbmQ6RGQsdW5yZW5kZXI6THAsdXBkYXRlOlZwfTt2YXIgVXAsV3AsenAsQnAscXA9TXAsJHA9ZnVuY3Rpb24oKXt0aGlzLnBhcmVudEZyYWdtZW50LmJ1YmJsZSgpfSxRcD1QaSxacD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5ub2RlP2ZhKHRoaXMubm9kZSx0KT90aGlzLm5vZGU6dGhpcy5mcmFnbWVudCYmdGhpcy5mcmFnbWVudC5maW5kP3RoaXMuZnJhZ21lbnQuZmluZCh0KTp2b2lkIDA6bnVsbH0sSHA9ZnVuY3Rpb24odCxlKXtlLl90ZXN0KHRoaXMsITApJiZlLmxpdmUmJih0aGlzLmxpdmVRdWVyaWVzfHwodGhpcy5saXZlUXVlcmllcz1bXSkpLnB1c2goZSksdGhpcy5mcmFnbWVudCYmdGhpcy5mcmFnbWVudC5maW5kQWxsKHQsZSl9LEtwPWZ1bmN0aW9uKHQsZSl7dGhpcy5mcmFnbWVudCYmdGhpcy5mcmFnbWVudC5maW5kQWxsQ29tcG9uZW50cyh0LGUpfSxHcD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5mcmFnbWVudD90aGlzLmZyYWdtZW50LmZpbmRDb21wb25lbnQodCk6dm9pZCAwfSxZcD1UaSxKcD1GaSxYcD1SaSx0bT0vXnRydWV8b258eWVzfDEkL2ksZW09L15bMC05XSskLyxubT1mdW5jdGlvbih0LGUpe3ZhciBuLGkscjtyZXR1cm4gcj1lLmF8fHt9LGk9e30sbj1yLnR3b3dheSx2b2lkIDAhPT1uJiYoaS50d293YXk9MD09PW58fHRtLnRlc3QobikpLG49ci5sYXp5LHZvaWQgMCE9PW4mJihpLmxhenk9MCE9PW4mJmVtLnRlc3Qobik/cGFyc2VJbnQobik6MD09PW58fHRtLnRlc3QobikpLGl9LGltPWppO1VwPVwiYWx0R2x5cGggYWx0R2x5cGhEZWYgYWx0R2x5cGhJdGVtIGFuaW1hdGVDb2xvciBhbmltYXRlTW90aW9uIGFuaW1hdGVUcmFuc2Zvcm0gY2xpcFBhdGggZmVCbGVuZCBmZUNvbG9yTWF0cml4IGZlQ29tcG9uZW50VHJhbnNmZXIgZmVDb21wb3NpdGUgZmVDb252b2x2ZU1hdHJpeCBmZURpZmZ1c2VMaWdodGluZyBmZURpc3BsYWNlbWVudE1hcCBmZURpc3RhbnRMaWdodCBmZUZsb29kIGZlRnVuY0EgZmVGdW5jQiBmZUZ1bmNHIGZlRnVuY1IgZmVHYXVzc2lhbkJsdXIgZmVJbWFnZSBmZU1lcmdlIGZlTWVyZ2VOb2RlIGZlTW9ycGhvbG9neSBmZU9mZnNldCBmZVBvaW50TGlnaHQgZmVTcGVjdWxhckxpZ2h0aW5nIGZlU3BvdExpZ2h0IGZlVGlsZSBmZVR1cmJ1bGVuY2UgZm9yZWlnbk9iamVjdCBnbHlwaFJlZiBsaW5lYXJHcmFkaWVudCByYWRpYWxHcmFkaWVudCB0ZXh0UGF0aCB2a2VyblwiLnNwbGl0KFwiIFwiKSxXcD1cImF0dHJpYnV0ZU5hbWUgYXR0cmlidXRlVHlwZSBiYXNlRnJlcXVlbmN5IGJhc2VQcm9maWxlIGNhbGNNb2RlIGNsaXBQYXRoVW5pdHMgY29udGVudFNjcmlwdFR5cGUgY29udGVudFN0eWxlVHlwZSBkaWZmdXNlQ29uc3RhbnQgZWRnZU1vZGUgZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZCBmaWx0ZXJSZXMgZmlsdGVyVW5pdHMgZ2x5cGhSZWYgZ3JhZGllbnRUcmFuc2Zvcm0gZ3JhZGllbnRVbml0cyBrZXJuZWxNYXRyaXgga2VybmVsVW5pdExlbmd0aCBrZXlQb2ludHMga2V5U3BsaW5lcyBrZXlUaW1lcyBsZW5ndGhBZGp1c3QgbGltaXRpbmdDb25lQW5nbGUgbWFya2VySGVpZ2h0IG1hcmtlclVuaXRzIG1hcmtlcldpZHRoIG1hc2tDb250ZW50VW5pdHMgbWFza1VuaXRzIG51bU9jdGF2ZXMgcGF0aExlbmd0aCBwYXR0ZXJuQ29udGVudFVuaXRzIHBhdHRlcm5UcmFuc2Zvcm0gcGF0dGVyblVuaXRzIHBvaW50c0F0WCBwb2ludHNBdFkgcG9pbnRzQXRaIHByZXNlcnZlQWxwaGEgcHJlc2VydmVBc3BlY3RSYXRpbyBwcmltaXRpdmVVbml0cyByZWZYIHJlZlkgcmVwZWF0Q291bnQgcmVwZWF0RHVyIHJlcXVpcmVkRXh0ZW5zaW9ucyByZXF1aXJlZEZlYXR1cmVzIHNwZWN1bGFyQ29uc3RhbnQgc3BlY3VsYXJFeHBvbmVudCBzcHJlYWRNZXRob2Qgc3RhcnRPZmZzZXQgc3RkRGV2aWF0aW9uIHN0aXRjaFRpbGVzIHN1cmZhY2VTY2FsZSBzeXN0ZW1MYW5ndWFnZSB0YWJsZVZhbHVlcyB0YXJnZXRYIHRhcmdldFkgdGV4dExlbmd0aCB2aWV3Qm94IHZpZXdUYXJnZXQgeENoYW5uZWxTZWxlY3RvciB5Q2hhbm5lbFNlbGVjdG9yIHpvb21BbmRQYW5cIi5zcGxpdChcIiBcIiksenA9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXt9LG49dC5sZW5ndGg7bi0tOyllW3Rbbl0udG9Mb3dlckNhc2UoKV09dFtuXTtyZXR1cm4gZX0sQnA9enAoVXAuY29uY2F0KFdwKSk7dmFyIHJtPWZ1bmN0aW9uKHQpe3ZhciBlPXQudG9Mb3dlckNhc2UoKTtyZXR1cm4gQnBbZV18fGV9LHNtPWZ1bmN0aW9uKHQsZSl7dmFyIG4saTtpZihuPWUuaW5kZXhPZihcIjpcIiksLTE9PT1ufHwoaT1lLnN1YnN0cigwLG4pLFwieG1sbnNcIj09PWkpKXQubmFtZT10LmVsZW1lbnQubmFtZXNwYWNlIT09aWEuaHRtbD9ybShlKTplO2Vsc2UgaWYoZT1lLnN1YnN0cmluZyhuKzEpLHQubmFtZT1ybShlKSx0Lm5hbWVzcGFjZT1pYVtpLnRvTG93ZXJDYXNlKCldLHQubmFtZXNwYWNlUHJlZml4PWksIXQubmFtZXNwYWNlKXRocm93J1Vua25vd24gbmFtZXNwYWNlIChcIicraSsnXCIpJ30sb209TmksYW09RGksdW09SWksaG09TGksY209e1wiYWNjZXB0LWNoYXJzZXRcIjpcImFjY2VwdENoYXJzZXRcIixhY2Nlc3NrZXk6XCJhY2Nlc3NLZXlcIixiZ2NvbG9yOlwiYmdDb2xvclwiLFwiY2xhc3NcIjpcImNsYXNzTmFtZVwiLGNvZGViYXNlOlwiY29kZUJhc2VcIixjb2xzcGFuOlwiY29sU3BhblwiLGNvbnRlbnRlZGl0YWJsZTpcImNvbnRlbnRFZGl0YWJsZVwiLGRhdGV0aW1lOlwiZGF0ZVRpbWVcIixkaXJuYW1lOlwiZGlyTmFtZVwiLFwiZm9yXCI6XCJodG1sRm9yXCIsXCJodHRwLWVxdWl2XCI6XCJodHRwRXF1aXZcIixpc21hcDpcImlzTWFwXCIsbWF4bGVuZ3RoOlwibWF4TGVuZ3RoXCIsXG5ub3ZhbGlkYXRlOlwibm9WYWxpZGF0ZVwiLHB1YmRhdGU6XCJwdWJEYXRlXCIscmVhZG9ubHk6XCJyZWFkT25seVwiLHJvd3NwYW46XCJyb3dTcGFuXCIsdGFiaW5kZXg6XCJ0YWJJbmRleFwiLHVzZW1hcDpcInVzZU1hcFwifSxsbT1WaSxmbT1VaSxkbT1XaSxwbT16aSxtbT1CaSx2bT1xaSxnbT0kaSx5bT1RaSxibT1aaSx3bT1IaSx4bT1LaSxrbT1HaSxFbT1ZaSxfbT1KaSxBbT1YaSxTbT1mdW5jdGlvbih0KXt0aGlzLmluaXQodCl9O1NtLnByb3RvdHlwZT17YnViYmxlOmltLGluaXQ6YW0scmViaW5kOnVtLHJlbmRlcjpobSx0b1N0cmluZzpsbSx1bmJpbmQ6Zm0sdXBkYXRlOkFtfTt2YXIgQ20sT209U20sUG09ZnVuY3Rpb24odCxlKXt2YXIgbixpLHI9W107Zm9yKG4gaW4gZSlcInR3b3dheVwiIT09biYmXCJsYXp5XCIhPT1uJiZlLmhhc093blByb3BlcnR5KG4pJiYoaT1uZXcgT20oe2VsZW1lbnQ6dCxuYW1lOm4sdmFsdWU6ZVtuXSxyb290OnQucm9vdH0pLHJbbl09aSxcInZhbHVlXCIhPT1uJiZyLnB1c2goaSkpO3JldHVybihpPXIudmFsdWUpJiZyLnB1c2goaSkscn07XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50JiYoQ209bGEoXCJkaXZcIikpO3ZhciBUbT1mdW5jdGlvbih0LGUpe3RoaXMuZWxlbWVudD10LHRoaXMucm9vdD10LnJvb3QsdGhpcy5wYXJlbnRGcmFnbWVudD10LnBhcmVudEZyYWdtZW50LHRoaXMuYXR0cmlidXRlcz1bXSx0aGlzLmZyYWdtZW50PW5ldyB5Yih7cm9vdDp0LnJvb3Qsb3duZXI6dGhpcyx0ZW1wbGF0ZTpbZV19KX07VG0ucHJvdG90eXBlPXtidWJibGU6ZnVuY3Rpb24oKXt0aGlzLm5vZGUmJnRoaXMudXBkYXRlKCksdGhpcy5lbGVtZW50LmJ1YmJsZSgpfSxyZWJpbmQ6ZnVuY3Rpb24odCxlKXt0aGlzLmZyYWdtZW50LnJlYmluZCh0LGUpfSxyZW5kZXI6ZnVuY3Rpb24odCl7dGhpcy5ub2RlPXQsdGhpcy5pc1N2Zz10Lm5hbWVzcGFjZVVSST09PWlhLnN2Zyx0aGlzLnVwZGF0ZSgpfSx1bmJpbmQ6ZnVuY3Rpb24oKXt0aGlzLmZyYWdtZW50LnVuYmluZCgpfSx1cGRhdGU6ZnVuY3Rpb24oKXt2YXIgdCxlLG49dGhpczt0PXRoaXMuZnJhZ21lbnQudG9TdHJpbmcoKSxlPXRyKHQsdGhpcy5pc1N2ZyksdGhpcy5hdHRyaWJ1dGVzLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gZXIoZSx0KX0pLmZvckVhY2goZnVuY3Rpb24odCl7bi5ub2RlLnJlbW92ZUF0dHJpYnV0ZSh0Lm5hbWUpfSksZS5mb3JFYWNoKGZ1bmN0aW9uKHQpe24ubm9kZS5zZXRBdHRyaWJ1dGUodC5uYW1lLHQudmFsdWUpfSksdGhpcy5hdHRyaWJ1dGVzPWV9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZnJhZ21lbnQudG9TdHJpbmcoKX19O3ZhciBGbT1UbSxSbT1mdW5jdGlvbih0LGUpe3JldHVybiBlP2UubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBuZXcgRm0odCxlKX0pOltdfSxqbT1mdW5jdGlvbih0KXt2YXIgZSxuLGkscjtpZih0aGlzLmVsZW1lbnQ9dCx0aGlzLnJvb3Q9dC5yb290LHRoaXMuYXR0cmlidXRlPXQuYXR0cmlidXRlc1t0aGlzLm5hbWV8fFwidmFsdWVcIl0sZT10aGlzLmF0dHJpYnV0ZS5pbnRlcnBvbGF0b3IsZS50d293YXlCaW5kaW5nPXRoaXMsbj1lLmtleXBhdGgpe2lmKFwifVwiPT09bi5zdHIuc2xpY2UoLTEpKXJldHVybiB2KFwiVHdvLXdheSBiaW5kaW5nIGRvZXMgbm90IHdvcmsgd2l0aCBleHByZXNzaW9ucyAoYCVzYCBvbiA8JXM+KVwiLGUucmVzb2x2ZXIudW5pcXVlU3RyaW5nLHQubmFtZSx7cmFjdGl2ZTp0aGlzLnJvb3R9KSwhMTtpZihuLmlzU3BlY2lhbClyZXR1cm4gdihcIlR3by13YXkgYmluZGluZyBkb2VzIG5vdCB3b3JrIHdpdGggJXNcIixlLnJlc29sdmVyLnJlZix7cmFjdGl2ZTp0aGlzLnJvb3R9KSwhMX1lbHNle3ZhciBzPWUudGVtcGxhdGUucj9cIidcIitlLnRlbXBsYXRlLnIrXCInIHJlZmVyZW5jZVwiOlwiZXhwcmVzc2lvblwiO20oXCJUaGUgJXMgYmVpbmcgdXNlZCBmb3IgdHdvLXdheSBiaW5kaW5nIGlzIGFtYmlndW91cywgYW5kIG1heSBjYXVzZSB1bmV4cGVjdGVkIHJlc3VsdHMuIENvbnNpZGVyIGluaXRpYWxpc2luZyB5b3VyIGRhdGEgdG8gZWxpbWluYXRlIHRoZSBhbWJpZ3VpdHlcIixzLHtyYWN0aXZlOnRoaXMucm9vdH0pLGUucmVzb2x2ZXIuZm9yY2VSZXNvbHV0aW9uKCksbj1lLmtleXBhdGh9dGhpcy5hdHRyaWJ1dGUuaXNUd293YXk9ITAsdGhpcy5rZXlwYXRoPW4saT10aGlzLnJvb3Qudmlld21vZGVsLmdldChuKSx2b2lkIDA9PT1pJiZ0aGlzLmdldEluaXRpYWxWYWx1ZSYmKGk9dGhpcy5nZXRJbml0aWFsVmFsdWUoKSx2b2lkIDAhPT1pJiZ0aGlzLnJvb3Qudmlld21vZGVsLnNldChuLGkpKSwocj1ucih0KSkmJih0aGlzLnJlc2V0VmFsdWU9aSxyLmZvcm1CaW5kaW5ncy5wdXNoKHRoaXMpKX07am0ucHJvdG90eXBlPXtoYW5kbGVDaGFuZ2U6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO211LnN0YXJ0KHRoaXMucm9vdCksdGhpcy5hdHRyaWJ1dGUubG9ja2VkPSEwLHRoaXMucm9vdC52aWV3bW9kZWwuc2V0KHRoaXMua2V5cGF0aCx0aGlzLmdldFZhbHVlKCkpLG11LnNjaGVkdWxlVGFzayhmdW5jdGlvbigpe3JldHVybiB0LmF0dHJpYnV0ZS5sb2NrZWQ9ITF9KSxtdS5lbmQoKX0scmVib3VuZDpmdW5jdGlvbigpe3ZhciB0LGUsbjtlPXRoaXMua2V5cGF0aCxuPXRoaXMuYXR0cmlidXRlLmludGVycG9sYXRvci5rZXlwYXRoLGUhPT1uJiYoSSh0aGlzLnJvb3QuX3R3b3dheUJpbmRpbmdzW2Uuc3RyXSx0aGlzKSx0aGlzLmtleXBhdGg9bix0PXRoaXMucm9vdC5fdHdvd2F5QmluZGluZ3Nbbi5zdHJdfHwodGhpcy5yb290Ll90d293YXlCaW5kaW5nc1tuLnN0cl09W10pLHQucHVzaCh0aGlzKSl9LHVuYmluZDpmdW5jdGlvbigpe319LGptLmV4dGVuZD1mdW5jdGlvbih0KXt2YXIgZSxuPXRoaXM7cmV0dXJuIGU9ZnVuY3Rpb24odCl7am0uY2FsbCh0aGlzLHQpLHRoaXMuaW5pdCYmdGhpcy5pbml0KCl9LGUucHJvdG90eXBlPXdhKG4ucHJvdG90eXBlKSxpKGUucHJvdG90eXBlLHQpLGUuZXh0ZW5kPWptLmV4dGVuZCxlfTt2YXIgTm0sRG09am0sSW09aXI7Tm09RG0uZXh0ZW5kKHtnZXRJbml0aWFsVmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cIlwifSxnZXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQubm9kZS52YWx1ZX0scmVuZGVyOmZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLmVsZW1lbnQubm9kZSxuPSExO3RoaXMucmVuZGVyZWQ9ITAsdD10aGlzLnJvb3QubGF6eSx0aGlzLmVsZW1lbnQubGF6eT09PSEwP3Q9ITA6dGhpcy5lbGVtZW50Lmxhenk9PT0hMT90PSExOnUodGhpcy5lbGVtZW50LmxhenkpPyh0PSExLG49K3RoaXMuZWxlbWVudC5sYXp5KTp1KHR8fFwiXCIpJiYobj0rdCx0PSExLHRoaXMuZWxlbWVudC5sYXp5PW4pLHRoaXMuaGFuZGxlcj1uP3NyOkltLGUuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLEltLCExKSx0fHwoZS5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIix0aGlzLmhhbmRsZXIsITEpLGUuYXR0YWNoRXZlbnQmJmUuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsdGhpcy5oYW5kbGVyLCExKSksZS5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLHJyLCExKX0sdW5yZW5kZXI6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnQubm9kZTt0aGlzLnJlbmRlcmVkPSExLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLEltLCExKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLHRoaXMuaGFuZGxlciwhMSksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIix0aGlzLmhhbmRsZXIsITEpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJsdXJcIixyciwhMSl9fSk7dmFyIExtPU5tLFZtPUxtLmV4dGVuZCh7Z2V0SW5pdGlhbFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudC5mcmFnbWVudD90aGlzLmVsZW1lbnQuZnJhZ21lbnQudG9TdHJpbmcoKTpcIlwifSxnZXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQubm9kZS5pbm5lckhUTUx9fSksTW09Vm0sVW09b3IsV209e30sem09RG0uZXh0ZW5kKHtuYW1lOlwiY2hlY2tlZFwiLGluaXQ6ZnVuY3Rpb24oKXt0aGlzLnNpYmxpbmdzPVVtKHRoaXMucm9vdC5fZ3VpZCxcInJhZGlvXCIsdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcIm5hbWVcIikpLHRoaXMuc2libGluZ3MucHVzaCh0aGlzKX0scmVuZGVyOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50Lm5vZGU7dC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsSW0sITEpLHQuYXR0YWNoRXZlbnQmJnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsSW0sITEpfSx1bnJlbmRlcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudC5ub2RlO3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLEltLCExKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLEltLCExKX0saGFuZGxlQ2hhbmdlOmZ1bmN0aW9uKCl7bXUuc3RhcnQodGhpcy5yb290KSx0aGlzLnNpYmxpbmdzLmZvckVhY2goZnVuY3Rpb24odCl7dC5yb290LnZpZXdtb2RlbC5zZXQodC5rZXlwYXRoLHQuZ2V0VmFsdWUoKSl9KSxtdS5lbmQoKX0sZ2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50Lm5vZGUuY2hlY2tlZH0sdW5iaW5kOmZ1bmN0aW9uKCl7SSh0aGlzLnNpYmxpbmdzLHRoaXMpfX0pLEJtPXptLHFtPURtLmV4dGVuZCh7bmFtZTpcIm5hbWVcIixpbml0OmZ1bmN0aW9uKCl7dGhpcy5zaWJsaW5ncz1VbSh0aGlzLnJvb3QuX2d1aWQsXCJyYWRpb25hbWVcIix0aGlzLmtleXBhdGguc3RyKSx0aGlzLnNpYmxpbmdzLnB1c2godGhpcyksdGhpcy5yYWRpb05hbWU9ITB9LGdldEluaXRpYWxWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiY2hlY2tlZFwiKT90aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwidmFsdWVcIik6dm9pZCAwfSxyZW5kZXI6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnQubm9kZTt0Lm5hbWU9XCJ7e1wiK3RoaXMua2V5cGF0aC5zdHIrXCJ9fVwiLHQuY2hlY2tlZD10aGlzLnJvb3Qudmlld21vZGVsLmdldCh0aGlzLmtleXBhdGgpPT10aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwidmFsdWVcIiksdC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsSW0sITEpLHQuYXR0YWNoRXZlbnQmJnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsSW0sITEpfSx1bnJlbmRlcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudC5ub2RlO3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLEltLCExKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLEltLCExKX0sZ2V0VmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnQubm9kZTtyZXR1cm4gdC5fcmFjdGl2ZT90Ll9yYWN0aXZlLnZhbHVlOnQudmFsdWV9LGhhbmRsZUNoYW5nZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5ub2RlLmNoZWNrZWQmJkRtLnByb3RvdHlwZS5oYW5kbGVDaGFuZ2UuY2FsbCh0aGlzKX0scmVib3VuZDpmdW5jdGlvbih0LGUpe3ZhciBuO0RtLnByb3RvdHlwZS5yZWJvdW5kLmNhbGwodGhpcyx0LGUpLChuPXRoaXMuZWxlbWVudC5ub2RlKSYmKG4ubmFtZT1cInt7XCIrdGhpcy5rZXlwYXRoLnN0citcIn19XCIpfSx1bmJpbmQ6ZnVuY3Rpb24oKXtJKHRoaXMuc2libGluZ3MsdGhpcyl9fSksJG09cW0sUW09RG0uZXh0ZW5kKHtuYW1lOlwibmFtZVwiLGdldEluaXRpYWxWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5vSW5pdGlhbFZhbHVlPSEwLFtdfSxpbml0OmZ1bmN0aW9uKCl7dmFyIHQsZTt0aGlzLmNoZWNrYm94TmFtZT0hMCx0aGlzLnNpYmxpbmdzPVVtKHRoaXMucm9vdC5fZ3VpZCxcImNoZWNrYm94ZXNcIix0aGlzLmtleXBhdGguc3RyKSx0aGlzLnNpYmxpbmdzLnB1c2godGhpcyksdGhpcy5ub0luaXRpYWxWYWx1ZSYmKHRoaXMuc2libGluZ3Mubm9Jbml0aWFsVmFsdWU9ITApLHRoaXMuc2libGluZ3Mubm9Jbml0aWFsVmFsdWUmJnRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJjaGVja2VkXCIpJiYodD10aGlzLnJvb3Qudmlld21vZGVsLmdldCh0aGlzLmtleXBhdGgpLGU9dGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcInZhbHVlXCIpLHQucHVzaChlKSl9LHVuYmluZDpmdW5jdGlvbigpe0kodGhpcy5zaWJsaW5ncyx0aGlzKX0scmVuZGVyOmZ1bmN0aW9uKCl7dmFyIHQsZSxuPXRoaXMuZWxlbWVudC5ub2RlO3Q9dGhpcy5yb290LnZpZXdtb2RlbC5nZXQodGhpcy5rZXlwYXRoKSxlPXRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSx0aGlzLmlzQ2hlY2tlZD1zKHQpP1IodCxlKTp0PT1lLG4ubmFtZT1cInt7XCIrdGhpcy5rZXlwYXRoLnN0citcIn19XCIsbi5jaGVja2VkPXRoaXMuaXNDaGVja2VkLG4uYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLEltLCExKSxuLmF0dGFjaEV2ZW50JiZuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLEltLCExKX0sdW5yZW5kZXI6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnQubm9kZTt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixJbSwhMSksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIixJbSwhMSl9LGNoYW5nZWQ6ZnVuY3Rpb24oKXt2YXIgdD0hIXRoaXMuaXNDaGVja2VkO3JldHVybiB0aGlzLmlzQ2hlY2tlZD10aGlzLmVsZW1lbnQubm9kZS5jaGVja2VkLHRoaXMuaXNDaGVja2VkPT09dH0saGFuZGxlQ2hhbmdlOmZ1bmN0aW9uKCl7dGhpcy5pc0NoZWNrZWQ9dGhpcy5lbGVtZW50Lm5vZGUuY2hlY2tlZCxEbS5wcm90b3R5cGUuaGFuZGxlQ2hhbmdlLmNhbGwodGhpcyl9LGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2libGluZ3MuZmlsdGVyKGFyKS5tYXAodXIpfX0pLFptPVFtLEhtPURtLmV4dGVuZCh7bmFtZTpcImNoZWNrZWRcIixyZW5kZXI6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnQubm9kZTt0LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixJbSwhMSksdC5hdHRhY2hFdmVudCYmdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixJbSwhMSl9LHVucmVuZGVyOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50Lm5vZGU7dC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsSW0sITEpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsSW0sITEpfSxnZXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQubm9kZS5jaGVja2VkfX0pLEttPUhtLEdtPURtLmV4dGVuZCh7Z2V0SW5pdGlhbFZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsZSxuLGkscj10aGlzLmVsZW1lbnQub3B0aW9ucztpZih2b2lkIDA9PT10aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwidmFsdWVcIikmJihlPXQ9ci5sZW5ndGgsdCkpe2Zvcig7ZS0tOylpZihyW2VdLmdldEF0dHJpYnV0ZShcInNlbGVjdGVkXCIpKXtuPXJbZV0uZ2V0QXR0cmlidXRlKFwidmFsdWVcIiksaT0hMDticmVha31pZighaSlmb3IoOysrZTx0OylpZighcltlXS5nZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSl7bj1yW2VdLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpO2JyZWFrfXJldHVybiB2b2lkIDAhPT1uJiYodGhpcy5lbGVtZW50LmF0dHJpYnV0ZXMudmFsdWUudmFsdWU9biksbn19LHJlbmRlcjpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5ub2RlLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixJbSwhMSl9LHVucmVuZGVyOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50Lm5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLEltLCExKX0sc2V0VmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5yb290LnZpZXdtb2RlbC5zZXQodGhpcy5rZXlwYXRoLHQpfSxnZXRWYWx1ZTpmdW5jdGlvbigpe3ZhciB0LGUsbixpLHI7Zm9yKHQ9dGhpcy5lbGVtZW50Lm5vZGUub3B0aW9ucyxuPXQubGVuZ3RoLGU9MDtuPmU7ZSs9MSlpZihpPXRbZV0sdFtlXS5zZWxlY3RlZClyZXR1cm4gcj1pLl9yYWN0aXZlP2kuX3JhY3RpdmUudmFsdWU6aS52YWx1ZX0sZm9yY2VVcGRhdGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dGhpcy5nZXRWYWx1ZSgpO3ZvaWQgMCE9PWUmJih0aGlzLmF0dHJpYnV0ZS5sb2NrZWQ9ITAsbXUuc2NoZWR1bGVUYXNrKGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXR0cmlidXRlLmxvY2tlZD0hMX0pLHRoaXMucm9vdC52aWV3bW9kZWwuc2V0KHRoaXMua2V5cGF0aCxlKSl9fSksWW09R20sSm09WW0uZXh0ZW5kKHtnZXRJbml0aWFsVmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50Lm9wdGlvbnMuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldEF0dHJpYnV0ZShcInNlbGVjdGVkXCIpfSkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldEF0dHJpYnV0ZShcInZhbHVlXCIpfSl9LHJlbmRlcjpmdW5jdGlvbigpe3ZhciB0O3RoaXMuZWxlbWVudC5ub2RlLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixJbSwhMSksdD10aGlzLnJvb3Qudmlld21vZGVsLmdldCh0aGlzLmtleXBhdGgpLHZvaWQgMD09PXQmJnRoaXMuaGFuZGxlQ2hhbmdlKCl9LHVucmVuZGVyOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50Lm5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLEltLCExKX0sc2V0VmFsdWU6ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJUT0RPIG5vdCBpbXBsZW1lbnRlZCB5ZXRcIil9LGdldFZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsZSxuLGkscixzO2Zvcih0PVtdLGU9dGhpcy5lbGVtZW50Lm5vZGUub3B0aW9ucyxpPWUubGVuZ3RoLG49MDtpPm47bis9MSlyPWVbbl0sci5zZWxlY3RlZCYmKHM9ci5fcmFjdGl2ZT9yLl9yYWN0aXZlLnZhbHVlOnIudmFsdWUsdC5wdXNoKHMpKTtyZXR1cm4gdH0saGFuZGxlQ2hhbmdlOmZ1bmN0aW9uKCl7dmFyIHQsZSxuO3JldHVybiB0PXRoaXMuYXR0cmlidXRlLGU9dC52YWx1ZSxuPXRoaXMuZ2V0VmFsdWUoKSx2b2lkIDAhPT1lJiZqKG4sZSl8fFltLnByb3RvdHlwZS5oYW5kbGVDaGFuZ2UuY2FsbCh0aGlzKSx0aGlzfSxmb3JjZVVwZGF0ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLmdldFZhbHVlKCk7dm9pZCAwIT09ZSYmKHRoaXMuYXR0cmlidXRlLmxvY2tlZD0hMCxtdS5zY2hlZHVsZVRhc2soZnVuY3Rpb24oKXtyZXR1cm4gdC5hdHRyaWJ1dGUubG9ja2VkPSExfSksdGhpcy5yb290LnZpZXdtb2RlbC5zZXQodGhpcy5rZXlwYXRoLGUpKX0sdXBkYXRlTW9kZWw6ZnVuY3Rpb24oKXt2b2lkIDAhPT10aGlzLmF0dHJpYnV0ZS52YWx1ZSYmdGhpcy5hdHRyaWJ1dGUudmFsdWUubGVuZ3RofHx0aGlzLnJvb3Qudmlld21vZGVsLnNldCh0aGlzLmtleXBhdGgsdGhpcy5pbml0aWFsVmFsdWUpfX0pLFhtPUptLHR2PURtLmV4dGVuZCh7cmVuZGVyOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50Lm5vZGUuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLEltLCExKX0sdW5yZW5kZXI6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQubm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsSW0sITEpfSxnZXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQubm9kZS5maWxlc319KSxldj10dixudj1MbS5leHRlbmQoe2dldEluaXRpYWxWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB2b2lkIDB9LGdldFZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9cGFyc2VGbG9hdCh0aGlzLmVsZW1lbnQubm9kZS52YWx1ZSk7cmV0dXJuIGlzTmFOKHQpP3ZvaWQgMDp0fX0pLGl2PWhyLHJ2PWxyLHN2PWZyLG92PWRyLGF2PXByLHV2PS9eZXZlbnQoPzpcXC4oLispKT8vLGh2PXlyLGN2PWJyLGx2PXt9LGZ2PXt0b3VjaHN0YXJ0OiEwLHRvdWNobW92ZTohMCx0b3VjaGVuZDohMCx0b3VjaGNhbmNlbDohMCx0b3VjaGxlYXZlOiEwfSxkdj14cixwdj1rcixtdj1Fcix2dj1fcixndj1Bcix5dj1mdW5jdGlvbih0LGUsbil7dGhpcy5pbml0KHQsZSxuKX07eXYucHJvdG90eXBlPXtidWJibGU6cnYsZmlyZTpzdixnZXRBY3Rpb246b3YsaW5pdDphdixsaXN0ZW46Y3YscmViaW5kOmR2LHJlbmRlcjpwdixyZXNvbHZlOm12LHVuYmluZDp2dix1bnJlbmRlcjpndn07dmFyIGJ2PXl2LHd2PWZ1bmN0aW9uKHQsZSl7dmFyIG4saSxyLHMsbz1bXTtmb3IoaSBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkoaSkpZm9yKHI9aS5zcGxpdChcIi1cIiksbj1yLmxlbmd0aDtuLS07KXM9bmV3IGJ2KHQscltuXSxlW2ldKSxvLnB1c2gocyk7cmV0dXJuIG99LHh2PWZ1bmN0aW9uKHQsZSl7dmFyIG4saSxyLHM9dGhpczt0aGlzLmVsZW1lbnQ9dCx0aGlzLnJvb3Q9bj10LnJvb3QsaT1lLm58fGUsKFwic3RyaW5nXCI9PXR5cGVvZiBpfHwocj1uZXcgeWIoe3RlbXBsYXRlOmkscm9vdDpuLG93bmVyOnR9KSxpPXIudG9TdHJpbmcoKSxyLnVuYmluZCgpLFwiXCIhPT1pKSkmJihlLmE/dGhpcy5wYXJhbXM9ZS5hOmUuZCYmKHRoaXMuZnJhZ21lbnQ9bmV3IHliKHt0ZW1wbGF0ZTplLmQscm9vdDpuLG93bmVyOnR9KSx0aGlzLnBhcmFtcz10aGlzLmZyYWdtZW50LmdldEFyZ3NMaXN0KCksdGhpcy5mcmFnbWVudC5idWJibGU9ZnVuY3Rpb24oKXt0aGlzLmRpcnR5QXJncz10aGlzLmRpcnR5VmFsdWU9ITAscy5wYXJhbXM9dGhpcy5nZXRBcmdzTGlzdCgpLHMucmVhZHkmJnMudXBkYXRlKCl9KSx0aGlzLmZuPWcoXCJkZWNvcmF0b3JzXCIsbixpKSx0aGlzLmZufHxsKERhKGksXCJkZWNvcmF0b3JcIikpKX07eHYucHJvdG90eXBlPXtpbml0OmZ1bmN0aW9uKCl7dmFyIHQsZSxuO2lmKHQ9dGhpcy5lbGVtZW50Lm5vZGUsdGhpcy5wYXJhbXM/KG49W3RdLmNvbmNhdCh0aGlzLnBhcmFtcyksZT10aGlzLmZuLmFwcGx5KHRoaXMucm9vdCxuKSk6ZT10aGlzLmZuLmNhbGwodGhpcy5yb290LHQpLCFlfHwhZS50ZWFyZG93bil0aHJvdyBuZXcgRXJyb3IoXCJEZWNvcmF0b3IgZGVmaW5pdGlvbiBtdXN0IHJldHVybiBhbiBvYmplY3Qgd2l0aCBhIHRlYXJkb3duIG1ldGhvZFwiKTt0aGlzLmFjdHVhbD1lLHRoaXMucmVhZHk9ITB9LHVwZGF0ZTpmdW5jdGlvbigpe3RoaXMuYWN0dWFsLnVwZGF0ZT90aGlzLmFjdHVhbC51cGRhdGUuYXBwbHkodGhpcy5yb290LHRoaXMucGFyYW1zKToodGhpcy5hY3R1YWwudGVhcmRvd24oITApLHRoaXMuaW5pdCgpKX0scmViaW5kOmZ1bmN0aW9uKHQsZSl7dGhpcy5mcmFnbWVudCYmdGhpcy5mcmFnbWVudC5yZWJpbmQodCxlKX0sdGVhcmRvd246ZnVuY3Rpb24odCl7dGhpcy50b3JuZG93bj0hMCx0aGlzLnJlYWR5JiZ0aGlzLmFjdHVhbC50ZWFyZG93bigpLCF0JiZ0aGlzLmZyYWdtZW50JiZ0aGlzLmZyYWdtZW50LnVuYmluZCgpfX07dmFyIGt2LEV2LF92LEF2PXh2LFN2PVJyLEN2PWpyLE92PU1yLFB2PWZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoLy0oW2EtekEtWl0pL2csZnVuY3Rpb24odCxlKXtyZXR1cm4gZS50b1VwcGVyQ2FzZSgpfSl9O1hvPyhFdj17fSxfdj1sYShcImRpdlwiKS5zdHlsZSxrdj1mdW5jdGlvbih0KXt2YXIgZSxuLGk7aWYodD1Qdih0KSwhRXZbdF0paWYodm9pZCAwIT09X3ZbdF0pRXZbdF09dDtlbHNlIGZvcihpPXQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrdC5zdWJzdHJpbmcoMSksZT1zYS5sZW5ndGg7ZS0tOylpZihuPXNhW2VdLHZvaWQgMCE9PV92W24raV0pe0V2W3RdPW4raTticmVha31yZXR1cm4gRXZbdF19KTprdj1udWxsO3ZhciBUdixGdixSdj1rdjtYbz8oRnY9d2luZG93LmdldENvbXB1dGVkU3R5bGV8fEVhLmdldENvbXB1dGVkU3R5bGUsVHY9ZnVuY3Rpb24odCl7dmFyIGUsbixpLHIsbztpZihlPUZ2KHRoaXMubm9kZSksXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIG89ZVtSdih0KV0sXCIwcHhcIj09PW8mJihvPTApLG87aWYoIXModCkpdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNpdGlvbiRnZXRTdHlsZSBtdXN0IGJlIHBhc3NlZCBhIHN0cmluZywgb3IgYW4gYXJyYXkgb2Ygc3RyaW5ncyByZXByZXNlbnRpbmcgQ1NTIHByb3BlcnRpZXNcIik7Zm9yKG49e30saT10Lmxlbmd0aDtpLS07KXI9dFtpXSxvPWVbUnYocildLFwiMHB4XCI9PT1vJiYobz0wKSxuW3JdPW87cmV0dXJuIG59KTpUdj1udWxsO3ZhciBqdj1UdixOdj1mdW5jdGlvbih0LGUpe3ZhciBuO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXRoaXMubm9kZS5zdHlsZVtSdih0KV09ZTtlbHNlIGZvcihuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKHRoaXMubm9kZS5zdHlsZVtSdihuKV09dFtuXSk7cmV0dXJuIHRoaXN9LER2PWZ1bmN0aW9uKHQpe3ZhciBlO3RoaXMuZHVyYXRpb249dC5kdXJhdGlvbix0aGlzLnN0ZXA9dC5zdGVwLHRoaXMuY29tcGxldGU9dC5jb21wbGV0ZSxcInN0cmluZ1wiPT10eXBlb2YgdC5lYXNpbmc/KGU9dC5yb290LmVhc2luZ1t0LmVhc2luZ10sZXx8KHYoRGEodC5lYXNpbmcsXCJlYXNpbmdcIikpLGU9VXIpKTplPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQuZWFzaW5nP3QuZWFzaW5nOlVyLHRoaXMuZWFzaW5nPWUsdGhpcy5zdGFydD1YYSgpLHRoaXMuZW5kPXRoaXMuc3RhcnQrdGhpcy5kdXJhdGlvbix0aGlzLnJ1bm5pbmc9ITAseXUuYWRkKHRoaXMpfTtEdi5wcm90b3R5cGU9e3RpY2s6ZnVuY3Rpb24odCl7dmFyIGUsbjtyZXR1cm4gdGhpcy5ydW5uaW5nP3Q+dGhpcy5lbmQ/KHRoaXMuc3RlcCYmdGhpcy5zdGVwKDEpLHRoaXMuY29tcGxldGUmJnRoaXMuY29tcGxldGUoMSksITEpOihlPXQtdGhpcy5zdGFydCxuPXRoaXMuZWFzaW5nKGUvdGhpcy5kdXJhdGlvbiksdGhpcy5zdGVwJiZ0aGlzLnN0ZXAobiksITApOiExfSxzdG9wOmZ1bmN0aW9uKCl7dGhpcy5hYm9ydCYmdGhpcy5hYm9ydCgpLHRoaXMucnVubmluZz0hMX19O3ZhciBJdixMdixWdixNdixVdixXdix6dixCdixxdj1Ediwkdj1uZXcgUmVnRXhwKFwiXi0oPzpcIitzYS5qb2luKFwifFwiKStcIiktXCIpLFF2PWZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoJHYsXCJcIil9LFp2PW5ldyBSZWdFeHAoXCJeKD86XCIrc2Euam9pbihcInxcIikrXCIpKFtBLVpdKVwiKSxIdj1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gdD8oWnYudGVzdCh0KSYmKHQ9XCItXCIrdCksZT10LnJlcGxhY2UoL1tBLVpdL2csZnVuY3Rpb24odCl7cmV0dXJuXCItXCIrdC50b0xvd2VyQ2FzZSgpfSkpOlwiXCJ9LEt2PXt9LEd2PXt9O1hvPyhMdj1sYShcImRpdlwiKS5zdHlsZSxmdW5jdGlvbigpe3ZvaWQgMCE9PUx2LnRyYW5zaXRpb24/KFZ2PVwidHJhbnNpdGlvblwiLE12PVwidHJhbnNpdGlvbmVuZFwiLFV2PSEwKTp2b2lkIDAhPT1Mdi53ZWJraXRUcmFuc2l0aW9uPyhWdj1cIndlYmtpdFRyYW5zaXRpb25cIixNdj1cIndlYmtpdFRyYW5zaXRpb25FbmRcIixVdj0hMCk6VXY9ITF9KCksVnYmJihXdj1WditcIkR1cmF0aW9uXCIsenY9VnYrXCJQcm9wZXJ0eVwiLEJ2PVZ2K1wiVGltaW5nRnVuY3Rpb25cIiksSXY9ZnVuY3Rpb24odCxlLG4saSxyKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIHMsbyxhLHUsaDt1PWZ1bmN0aW9uKCl7byYmYSYmKHQucm9vdC5maXJlKHQubmFtZStcIjplbmRcIix0Lm5vZGUsdC5pc0ludHJvKSxyKCkpfSxzPSh0Lm5vZGUubmFtZXNwYWNlVVJJfHxcIlwiKSt0Lm5vZGUudGFnTmFtZSx0Lm5vZGUuc3R5bGVbenZdPWkubWFwKFJ2KS5tYXAoSHYpLmpvaW4oXCIsXCIpLHQubm9kZS5zdHlsZVtCdl09SHYobi5lYXNpbmd8fFwibGluZWFyXCIpLHQubm9kZS5zdHlsZVtXdl09bi5kdXJhdGlvbi8xZTMrXCJzXCIsaD1mdW5jdGlvbihlKXt2YXIgbjtuPWkuaW5kZXhPZihQdihRdihlLnByb3BlcnR5TmFtZSkpKSwtMSE9PW4mJmkuc3BsaWNlKG4sMSksaS5sZW5ndGh8fCh0Lm5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihNdixoLCExKSxhPSEwLHUoKSl9LHQubm9kZS5hZGRFdmVudExpc3RlbmVyKE12LGgsITEpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtmb3IodmFyIHIsYyxsLGYsZCxwPWkubGVuZ3RoLHY9W107cC0tOylmPWlbcF0scj1zK2YsVXYmJiFHdltyXSYmKHQubm9kZS5zdHlsZVtSdihmKV09ZVtmXSxLdltyXXx8KGM9dC5nZXRTdHlsZShmKSxLdltyXT10LmdldFN0eWxlKGYpIT1lW2ZdLEd2W3JdPSFLdltyXSxHdltyXSYmKHQubm9kZS5zdHlsZVtSdihmKV09YykpKSwoIVV2fHxHdltyXSkmJih2b2lkIDA9PT1jJiYoYz10LmdldFN0eWxlKGYpKSxsPWkuaW5kZXhPZihmKSwtMT09PWw/bShcIlNvbWV0aGluZyB2ZXJ5IHN0cmFuZ2UgaGFwcGVuZWQgd2l0aCB0cmFuc2l0aW9ucy4gUGxlYXNlIHJhaXNlIGFuIGlzc3VlIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS9yYWN0aXZlanMvcmFjdGl2ZS9pc3N1ZXMgLSB0aGFua3MhXCIse25vZGU6dC5ub2RlfSk6aS5zcGxpY2UobCwxKSxkPS9bXlxcZF0qJC8uZXhlYyhlW2ZdKVswXSx2LnB1c2goe25hbWU6UnYoZiksaW50ZXJwb2xhdG9yOkxhKHBhcnNlRmxvYXQoYykscGFyc2VGbG9hdChlW2ZdKSksc3VmZml4OmR9KSk7di5sZW5ndGg/bmV3IHF2KHtyb290OnQucm9vdCxkdXJhdGlvbjpuLmR1cmF0aW9uLGVhc2luZzpQdihuLmVhc2luZ3x8XCJcIiksc3RlcDpmdW5jdGlvbihlKXt2YXIgbixpO2ZvcihpPXYubGVuZ3RoO2ktLTspbj12W2ldLHQubm9kZS5zdHlsZVtuLm5hbWVdPW4uaW50ZXJwb2xhdG9yKGUpK24uc3VmZml4fSxjb21wbGV0ZTpmdW5jdGlvbigpe289ITAsdSgpfX0pOm89ITAsaS5sZW5ndGh8fCh0Lm5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihNdixoLCExKSxhPSEwLHUoKSl9LDApfSxuLmRlbGF5fHwwKX0pOkl2PW51bGw7dmFyIFl2LEp2LFh2LHRnLGVnLG5nPUl2O2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudCl7aWYoWXY9XCJoaWRkZW5cIixlZz17fSxZdiBpbiBkb2N1bWVudClYdj1cIlwiO2Vsc2UgZm9yKHRnPXNhLmxlbmd0aDt0Zy0tOylKdj1zYVt0Z10sWXY9SnYrXCJIaWRkZW5cIixZdiBpbiBkb2N1bWVudCYmKFh2PUp2KTt2b2lkIDAhPT1Ydj8oZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihYditcInZpc2liaWxpdHljaGFuZ2VcIixXciksV3IoKSk6KFwib25mb2N1c291dFwiaW4gZG9jdW1lbnQ/KGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c291dFwiLHpyKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNpblwiLEJyKSk6KHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicGFnZWhpZGVcIix6ciksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsenIpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicGFnZXNob3dcIixCciksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLEJyKSksZWcuaGlkZGVuPSExKX12YXIgaWcscmcsc2csb2c9ZWc7WG8/KHJnPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlfHxFYS5nZXRDb21wdXRlZFN0eWxlLGlnPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaSxyPXRoaXM7aWYoND09PWFyZ3VtZW50cy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwidC5hbmltYXRlU3R5bGUoKSByZXR1cm5zIGEgcHJvbWlzZSAtIHVzZSAudGhlbigpIGluc3RlYWQgb2YgcGFzc2luZyBhIGNhbGxiYWNrXCIpO2lmKG9nLmhpZGRlbilyZXR1cm4gdGhpcy5zZXRTdHlsZSh0LGUpLHNnfHwoc2c9b3UucmVzb2x2ZSgpKTtcInN0cmluZ1wiPT10eXBlb2YgdD8oaT17fSxpW3RdPWUpOihpPXQsbj1lKSxufHwodignVGhlIFwiJXNcIiB0cmFuc2l0aW9uIGRvZXMgbm90IHN1cHBseSBhbiBvcHRpb25zIG9iamVjdCB0byBgdC5hbmltYXRlU3R5bGUoKWAuIFRoaXMgd2lsbCBicmVhayBpbiBhIGZ1dHVyZSB2ZXJzaW9uIG9mIFJhY3RpdmUuIEZvciBtb3JlIGluZm8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9SYWN0aXZlSlMvUmFjdGl2ZS9pc3N1ZXMvMzQwJyx0aGlzLm5hbWUpLG49dGhpcyk7dmFyIHM9bmV3IG91KGZ1bmN0aW9uKHQpe3ZhciBlLHMsbyxhLHUsaCxjO2lmKCFuLmR1cmF0aW9uKXJldHVybiByLnNldFN0eWxlKGkpLHZvaWQgdCgpO2ZvcihlPU9iamVjdC5rZXlzKGkpLHM9W10sbz1yZyhyLm5vZGUpLHU9e30saD1lLmxlbmd0aDtoLS07KWM9ZVtoXSxhPW9bUnYoYyldLFwiMHB4XCI9PT1hJiYoYT0wKSxhIT1pW2NdJiYocy5wdXNoKGMpLHIubm9kZS5zdHlsZVtSdihjKV09YSk7cmV0dXJuIHMubGVuZ3RoP3ZvaWQgbmcocixpLG4scyx0KTp2b2lkIHQoKX0pO3JldHVybiBzfSk6aWc9bnVsbDt2YXIgYWc9aWcsdWc9ZnVuY3Rpb24odCxlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdD90PXtkdXJhdGlvbjp0fTpcInN0cmluZ1wiPT10eXBlb2YgdD90PVwic2xvd1wiPT09dD97ZHVyYXRpb246NjAwfTpcImZhc3RcIj09PXQ/e2R1cmF0aW9uOjIwMH06e2R1cmF0aW9uOjQwMH06dHx8KHQ9e30pLHIoe30sdCxlKX0saGc9cXIsY2c9ZnVuY3Rpb24odCxlLG4pe3RoaXMuaW5pdCh0LGUsbil9O2NnLnByb3RvdHlwZT17aW5pdDpPdixzdGFydDpoZyxnZXRTdHlsZTpqdixzZXRTdHlsZTpOdixhbmltYXRlU3R5bGU6YWcscHJvY2Vzc1BhcmFtczp1Z307dmFyIGxnLGZnLGRnPWNnLHBnPVFyO2xnPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5ub2RlLGU9dGhpcy5mcmFnbWVudC50b1N0cmluZyghMSk7aWYod2luZG93JiZ3aW5kb3cuYXBwZWFyc1RvQmVJRUxlc3NFcXVhbDgmJih0LnR5cGU9XCJ0ZXh0L2Nzc1wiKSx0LnN0eWxlU2hlZXQpdC5zdHlsZVNoZWV0LmNzc1RleHQ9ZTtlbHNle2Zvcig7dC5oYXNDaGlsZE5vZGVzKCk7KXQucmVtb3ZlQ2hpbGQodC5maXJzdENoaWxkKTt0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGUpKX19LGZnPWZ1bmN0aW9uKCl7dGhpcy5ub2RlLnR5cGUmJlwidGV4dC9qYXZhc2NyaXB0XCIhPT10aGlzLm5vZGUudHlwZXx8bShcIlNjcmlwdCB0YWcgd2FzIHVwZGF0ZWQuIFRoaXMgZG9lcyBub3QgY2F1c2UgdGhlIGNvZGUgdG8gYmUgcmUtZXZhbHVhdGVkIVwiLHtyYWN0aXZlOnRoaXMucm9vdH0pLHRoaXMubm9kZS50ZXh0PXRoaXMuZnJhZ21lbnQudG9TdHJpbmcoITEpfTt2YXIgbWc9ZnVuY3Rpb24oKXt2YXIgdCxlO3JldHVybiB0aGlzLnRlbXBsYXRlLnk/XCI8IURPQ1RZUEVcIit0aGlzLnRlbXBsYXRlLmRkK1wiPlwiOih0PVwiPFwiK3RoaXMudGVtcGxhdGUuZSx0Kz10aGlzLmF0dHJpYnV0ZXMubWFwKEpyKS5qb2luKFwiXCIpK3RoaXMuY29uZGl0aW9uYWxBdHRyaWJ1dGVzLm1hcChKcikuam9pbihcIlwiKSxcIm9wdGlvblwiPT09dGhpcy5uYW1lJiZHcih0aGlzKSYmKHQrPVwiIHNlbGVjdGVkXCIpLFwiaW5wdXRcIj09PXRoaXMubmFtZSYmWXIodGhpcykmJih0Kz1cIiBjaGVja2VkXCIpLHQrPVwiPlwiLFwidGV4dGFyZWFcIj09PXRoaXMubmFtZSYmdm9pZCAwIT09dGhpcy5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKT90Kz1TZSh0aGlzLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpKTp2b2lkIDAhPT10aGlzLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSYmKHQrPXRoaXMuZ2V0QXR0cmlidXRlKFwidmFsdWVcIil8fFwiXCIpLHRoaXMuZnJhZ21lbnQmJihlPVwic2NyaXB0XCIhPT10aGlzLm5hbWUmJlwic3R5bGVcIiE9PXRoaXMubmFtZSx0Kz10aGlzLmZyYWdtZW50LnRvU3RyaW5nKGUpKSxibC50ZXN0KHRoaXMudGVtcGxhdGUuZSl8fCh0Kz1cIjwvXCIrdGhpcy50ZW1wbGF0ZS5lK1wiPlwiKSx0KX0sdmc9WHIsZ2c9dHMseWc9ZnVuY3Rpb24odCl7dGhpcy5pbml0KHQpfTt5Zy5wcm90b3R5cGU9e2J1YmJsZTokcCxkZXRhY2g6UXAsZmluZDpacCxmaW5kQWxsOkhwLGZpbmRBbGxDb21wb25lbnRzOktwLGZpbmRDb21wb25lbnQ6R3AsZmluZE5leHROb2RlOllwLGZpcnN0Tm9kZTpKcCxnZXRBdHRyaWJ1dGU6WHAsaW5pdDpTdixyZWJpbmQ6Q3YscmVuZGVyOnBnLHRvU3RyaW5nOm1nLHVuYmluZDp2Zyx1bnJlbmRlcjpnZ307dmFyIGJnPXlnLHdnPS9eXFxzKiQvLHhnPS9eXFxzKi8sa2c9ZnVuY3Rpb24odCl7dmFyIGUsbixpLHI7cmV0dXJuIGU9dC5zcGxpdChcIlxcblwiKSxuPWVbMF0sdm9pZCAwIT09biYmd2cudGVzdChuKSYmZS5zaGlmdCgpLGk9RChlKSx2b2lkIDAhPT1pJiZ3Zy50ZXN0KGkpJiZlLnBvcCgpLHI9ZS5yZWR1Y2UobnMsbnVsbCksciYmKHQ9ZS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZShyLFwiXCIpfSkuam9pbihcIlxcblwiKSksdH0sRWc9aXMsX2c9ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gZT9uPXQuc3BsaXQoXCJcXG5cIikubWFwKGZ1bmN0aW9uKHQsbil7cmV0dXJuIG4/ZSt0OnR9KS5qb2luKFwiXFxuXCIpOnR9LEFnPSdDb3VsZCBub3QgZmluZCB0ZW1wbGF0ZSBmb3IgcGFydGlhbCBcIiVzXCInLFNnPWZ1bmN0aW9uKHQpe3ZhciBlLG47ZT10aGlzLnBhcmVudEZyYWdtZW50PXQucGFyZW50RnJhZ21lbnQsdGhpcy5yb290PWUucm9vdCx0aGlzLnR5cGU9dGMsdGhpcy5pbmRleD10LmluZGV4LHRoaXMubmFtZT10LnRlbXBsYXRlLnIsdGhpcy5yZW5kZXJlZD0hMSx0aGlzLmZyYWdtZW50PXRoaXMuZnJhZ21lbnRUb1JlbmRlcj10aGlzLmZyYWdtZW50VG9VbnJlbmRlcj1udWxsLHJwLmluaXQodGhpcyx0KSx0aGlzLmtleXBhdGh8fCgobj1FZyh0aGlzLnJvb3QsdGhpcy5uYW1lLGUpKT8oRGQuY2FsbCh0aGlzKSx0aGlzLmlzTmFtZWQ9ITAsdGhpcy5zZXRUZW1wbGF0ZShuKSk6dihBZyx0aGlzLm5hbWUpKX07U2cucHJvdG90eXBlPXtidWJibGU6ZnVuY3Rpb24oKXt0aGlzLnBhcmVudEZyYWdtZW50LmJ1YmJsZSgpfSxkZXRhY2g6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mcmFnbWVudC5kZXRhY2goKX0sZmluZDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5mcmFnbWVudC5maW5kKHQpfSxmaW5kQWxsOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZnJhZ21lbnQuZmluZEFsbCh0LGUpfSxmaW5kQ29tcG9uZW50OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmZyYWdtZW50LmZpbmRDb21wb25lbnQodCl9LGZpbmRBbGxDb21wb25lbnRzOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZnJhZ21lbnQuZmluZEFsbENvbXBvbmVudHModCxlKX0sZmlyc3ROb2RlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZnJhZ21lbnQuZmlyc3ROb2RlKCl9LGZpbmROZXh0Tm9kZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudEZyYWdtZW50LmZpbmROZXh0Tm9kZSh0aGlzKX0sZ2V0UGFydGlhbE5hbWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc05hbWVkJiZ0aGlzLm5hbWU/dGhpcy5uYW1lOnZvaWQgMD09PXRoaXMudmFsdWU/dGhpcy5uYW1lOnRoaXMudmFsdWV9LGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZnJhZ21lbnQuZ2V0VmFsdWUoKX0scmViaW5kOmZ1bmN0aW9uKHQsZSl7dGhpcy5pc05hbWVkfHxpcC5jYWxsKHRoaXMsdCxlKSx0aGlzLmZyYWdtZW50JiZ0aGlzLmZyYWdtZW50LnJlYmluZCh0LGUpfSxyZW5kZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb2NGcmFnPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSx0aGlzLnVwZGF0ZSgpLHRoaXMucmVuZGVyZWQ9ITAsdGhpcy5kb2NGcmFnfSxyZXNvbHZlOnJwLnJlc29sdmUsc2V0VmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU7KHZvaWQgMD09PXR8fHQhPT10aGlzLnZhbHVlKSYmKHZvaWQgMCE9PXQmJihlPUVnKHRoaXMucm9vdCxcIlwiK3QsdGhpcy5wYXJlbnRGcmFnbWVudCkpLCFlJiZ0aGlzLm5hbWUmJihlPUVnKHRoaXMucm9vdCx0aGlzLm5hbWUsdGhpcy5wYXJlbnRGcmFnbWVudCkpJiYoRGQuY2FsbCh0aGlzKSx0aGlzLmlzTmFtZWQ9ITApLGV8fHYoQWcsdGhpcy5uYW1lLHtyYWN0aXZlOnRoaXMucm9vdH0pLHRoaXMudmFsdWU9dCx0aGlzLnNldFRlbXBsYXRlKGV8fFtdKSx0aGlzLmJ1YmJsZSgpLHRoaXMucmVuZGVyZWQmJm11LmFkZFZpZXcodGhpcykpfSxzZXRUZW1wbGF0ZTpmdW5jdGlvbih0KXt0aGlzLmZyYWdtZW50JiYodGhpcy5mcmFnbWVudC51bmJpbmQoKSx0aGlzLnJlbmRlcmVkJiYodGhpcy5mcmFnbWVudFRvVW5yZW5kZXI9dGhpcy5mcmFnbWVudCkpLHRoaXMuZnJhZ21lbnQ9bmV3IHliKHt0ZW1wbGF0ZTp0LHJvb3Q6dGhpcy5yb290LG93bmVyOnRoaXMscEVsZW1lbnQ6dGhpcy5wYXJlbnRGcmFnbWVudC5wRWxlbWVudH0pLHRoaXMuZnJhZ21lbnRUb1JlbmRlcj10aGlzLmZyYWdtZW50fSx0b1N0cmluZzpmdW5jdGlvbih0KXt2YXIgZSxuLGkscjtyZXR1cm4gZT10aGlzLmZyYWdtZW50LnRvU3RyaW5nKHQpLG49dGhpcy5wYXJlbnRGcmFnbWVudC5pdGVtc1t0aGlzLmluZGV4LTFdLG4mJm4udHlwZT09PVpoPyhpPW4udGV4dC5zcGxpdChcIlxcblwiKS5wb3AoKSwocj0vXlxccyskLy5leGVjKGkpKT9fZyhlLHJbMF0pOmUpOmV9LHVuYmluZDpmdW5jdGlvbigpe3RoaXMuaXNOYW1lZHx8RGQuY2FsbCh0aGlzKSx0aGlzLmZyYWdtZW50JiZ0aGlzLmZyYWdtZW50LnVuYmluZCgpfSx1bnJlbmRlcjpmdW5jdGlvbih0KXt0aGlzLnJlbmRlcmVkJiYodGhpcy5mcmFnbWVudCYmdGhpcy5mcmFnbWVudC51bnJlbmRlcih0KSx0aGlzLnJlbmRlcmVkPSExKX0sdXBkYXRlOmZ1bmN0aW9uKCl7dmFyIHQsZTt0aGlzLmZyYWdtZW50VG9VbnJlbmRlciYmKHRoaXMuZnJhZ21lbnRUb1VucmVuZGVyLnVucmVuZGVyKCEwKSx0aGlzLmZyYWdtZW50VG9VbnJlbmRlcj1udWxsKSx0aGlzLmZyYWdtZW50VG9SZW5kZXImJih0aGlzLmRvY0ZyYWcuYXBwZW5kQ2hpbGQodGhpcy5mcmFnbWVudFRvUmVuZGVyLnJlbmRlcigpKSx0aGlzLmZyYWdtZW50VG9SZW5kZXI9bnVsbCksdGhpcy5yZW5kZXJlZCYmKHQ9dGhpcy5wYXJlbnRGcmFnbWVudC5nZXROb2RlKCksZT10aGlzLnBhcmVudEZyYWdtZW50LmZpbmROZXh0Tm9kZSh0aGlzKSx0Lmluc2VydEJlZm9yZSh0aGlzLmRvY0ZyYWcsZSkpfX07dmFyIENnLE9nLFBnLFRnPVNnLEZnPXVzLFJnPWhzLGpnPW5ldyBudShcImRldGFjaFwiKSxOZz1jcyxEZz1scyxJZz1mcyxMZz1kcyxWZz1wcyxNZz1tcyxVZz1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10LnJvb3Qscz10LmtleXBhdGg7aT9yLnZpZXdtb2RlbC5zbWFydFVwZGF0ZShzLGUsaSk6ci52aWV3bW9kZWwubWFyayhzKX0sV2c9W10semc9W1wicG9wXCIsXCJwdXNoXCIsXCJyZXZlcnNlXCIsXCJzaGlmdFwiLFwic29ydFwiLFwic3BsaWNlXCIsXCJ1bnNoaWZ0XCJdO3pnLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxuPUFycmF5KGUpLGk9MDtlPmk7aSsrKW5baV09YXJndW1lbnRzW2ldO3ZhciByLHMsbyxhO2ZvcihyPW1oKHRoaXMsdCxuKSxzPUFycmF5LnByb3RvdHlwZVt0XS5hcHBseSh0aGlzLGFyZ3VtZW50cyksbXUuc3RhcnQoKSx0aGlzLl9yYWN0aXZlLnNldHRpbmc9ITAsYT10aGlzLl9yYWN0aXZlLndyYXBwZXJzLmxlbmd0aDthLS07KW89dGhpcy5fcmFjdGl2ZS53cmFwcGVyc1thXSxtdS5hZGRSYWN0aXZlKG8ucm9vdCksVWcobyx0aGlzLHQscik7cmV0dXJuIG11LmVuZCgpLHRoaXMuX3JhY3RpdmUuc2V0dGluZz0hMSxzfTt4YShXZyx0LHt2YWx1ZTplfSl9KSxDZz17fSxDZy5fX3Byb3RvX18/KE9nPWZ1bmN0aW9uKHQpe3QuX19wcm90b19fPVdnfSxQZz1mdW5jdGlvbih0KXt0Ll9fcHJvdG9fXz1BcnJheS5wcm90b3R5cGV9KTooT2c9ZnVuY3Rpb24odCl7dmFyIGUsbjtmb3IoZT16Zy5sZW5ndGg7ZS0tOyluPXpnW2VdLHhhKHQsbix7dmFsdWU6V2dbbl0sY29uZmlndXJhYmxlOiEwfSl9LFBnPWZ1bmN0aW9uKHQpe3ZhciBlO2ZvcihlPXpnLmxlbmd0aDtlLS07KWRlbGV0ZSB0W3pnW2VdXX0pLE9nLnVucGF0Y2g9UGc7dmFyIEJnLHFnLCRnLFFnPU9nO0JnPXtmaWx0ZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHModCkmJighdC5fcmFjdGl2ZXx8IXQuX3JhY3RpdmUuc2V0dGluZyl9LHdyYXA6ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuZXcgcWcodCxlLG4pfX0scWc9ZnVuY3Rpb24odCxlLG4pe3RoaXMucm9vdD10LHRoaXMudmFsdWU9ZSx0aGlzLmtleXBhdGg9XyhuKSxlLl9yYWN0aXZlfHwoeGEoZSxcIl9yYWN0aXZlXCIse3ZhbHVlOnt3cmFwcGVyczpbXSxpbnN0YW5jZXM6W10sc2V0dGluZzohMX0sY29uZmlndXJhYmxlOiEwfSksUWcoZSkpLGUuX3JhY3RpdmUuaW5zdGFuY2VzW3QuX2d1aWRdfHwoZS5fcmFjdGl2ZS5pbnN0YW5jZXNbdC5fZ3VpZF09MCxlLl9yYWN0aXZlLmluc3RhbmNlcy5wdXNoKHQpKSxlLl9yYWN0aXZlLmluc3RhbmNlc1t0Ll9ndWlkXSs9MSxlLl9yYWN0aXZlLndyYXBwZXJzLnB1c2godGhpcyl9LHFnLnByb3RvdHlwZT17Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWV9LHRlYXJkb3duOmZ1bmN0aW9uKCl7dmFyIHQsZSxuLGkscjtpZih0PXRoaXMudmFsdWUsZT10Ll9yYWN0aXZlLG49ZS53cmFwcGVycyxpPWUuaW5zdGFuY2VzLGUuc2V0dGluZylyZXR1cm4hMTtpZihyPW4uaW5kZXhPZih0aGlzKSwtMT09PXIpdGhyb3cgbmV3IEVycm9yKCRnKTtpZihuLnNwbGljZShyLDEpLG4ubGVuZ3RoKXtpZihpW3RoaXMucm9vdC5fZ3VpZF0tPTEsIWlbdGhpcy5yb290Ll9ndWlkXSl7aWYocj1pLmluZGV4T2YodGhpcy5yb290KSwtMT09PXIpdGhyb3cgbmV3IEVycm9yKCRnKTtpLnNwbGljZShyLDEpfX1lbHNlIGRlbGV0ZSB0Ll9yYWN0aXZlLFFnLnVucGF0Y2godGhpcy52YWx1ZSl9fSwkZz1cIlNvbWV0aGluZyB3ZW50IHdyb25nIGluIGEgcmF0aGVyIGludGVyZXN0aW5nIHdheVwiO3ZhciBaZyxIZyxLZz1CZyxHZz0vXlxccypbMC05XStcXHMqJC8sWWc9ZnVuY3Rpb24odCl7cmV0dXJuIEdnLnRlc3QodCk/W106e319O3RyeXtPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sXCJ0ZXN0XCIse3ZhbHVlOjB9KSxaZz17ZmlsdGVyOmZ1bmN0aW9uKHQsZSxuKXt2YXIgaSxyO3JldHVybiBlPyhlPV8oZSksKGk9bi52aWV3bW9kZWwud3JhcHBlZFtlLnBhcmVudC5zdHJdKSYmIWkubWFnaWM/ITE6KHI9bi52aWV3bW9kZWwuZ2V0KGUucGFyZW50KSxzKHIpJiYvXlswLTldKyQvLnRlc3QoZS5sYXN0S2V5KT8hMTpyJiYoXCJvYmplY3RcIj09dHlwZW9mIHJ8fFwiZnVuY3Rpb25cIj09dHlwZW9mIHIpKSk6ITF9LHdyYXA6ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuZXcgSGcodCxlLG4pfX0sSGc9ZnVuY3Rpb24odCxlLG4pe3ZhciBpLHIscztyZXR1cm4gbj1fKG4pLHRoaXMubWFnaWM9ITAsdGhpcy5yYWN0aXZlPXQsdGhpcy5rZXlwYXRoPW4sdGhpcy52YWx1ZT1lLHRoaXMucHJvcD1uLmxhc3RLZXksaT1uLnBhcmVudCx0aGlzLm9iaj1pLmlzUm9vdD90LnZpZXdtb2RlbC5kYXRhOnQudmlld21vZGVsLmdldChpKSxyPXRoaXMub3JpZ2luYWxEZXNjcmlwdG9yPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGhpcy5vYmosdGhpcy5wcm9wKSxyJiZyLnNldCYmKHM9ci5zZXQuX3JhY3RpdmVXcmFwcGVycyk/dm9pZCgtMT09PXMuaW5kZXhPZih0aGlzKSYmcy5wdXNoKHRoaXMpKTp2b2lkIHZzKHRoaXMsZSxyKX0sSGcucHJvdG90eXBlPXtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZX0scmVzZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudXBkYXRpbmc/dm9pZCAwOih0aGlzLnVwZGF0aW5nPSEwLHRoaXMub2JqW3RoaXMucHJvcF09dCxtdS5hZGRSYWN0aXZlKHRoaXMucmFjdGl2ZSksdGhpcy5yYWN0aXZlLnZpZXdtb2RlbC5tYXJrKHRoaXMua2V5cGF0aCx7a2VlcEV4aXN0aW5nV3JhcHBlcjohMH0pLHRoaXMudXBkYXRpbmc9ITEsITApfSxzZXQ6ZnVuY3Rpb24odCxlKXt0aGlzLnVwZGF0aW5nfHwodGhpcy5vYmpbdGhpcy5wcm9wXXx8KHRoaXMudXBkYXRpbmc9ITAsdGhpcy5vYmpbdGhpcy5wcm9wXT1ZZyh0KSx0aGlzLnVwZGF0aW5nPSExKSx0aGlzLm9ialt0aGlzLnByb3BdW3RdPWUpfSx0ZWFyZG93bjpmdW5jdGlvbigpe3ZhciB0LGUsbixpLHI7cmV0dXJuIHRoaXMudXBkYXRpbmc/ITE6KHQ9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0aGlzLm9iaix0aGlzLnByb3ApLGU9dCYmdC5zZXQsdm9pZChlJiYoaT1lLl9yYWN0aXZlV3JhcHBlcnMscj1pLmluZGV4T2YodGhpcyksLTEhPT1yJiZpLnNwbGljZShyLDEpLGkubGVuZ3RofHwobj10aGlzLm9ialt0aGlzLnByb3BdLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLm9iaix0aGlzLnByb3AsdGhpcy5vcmlnaW5hbERlc2NyaXB0b3J8fHt3cml0YWJsZTohMCxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHRoaXMub2JqW3RoaXMucHJvcF09bikpKSl9fX1jYXRjaChfYSl7Wmc9ITF9dmFyIEpnLFhnLHR5PVpnO3R5JiYoSmc9e2ZpbHRlcjpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHR5LmZpbHRlcih0LGUsbikmJktnLmZpbHRlcih0KX0sd3JhcDpmdW5jdGlvbih0LGUsbil7cmV0dXJuIG5ldyBYZyh0LGUsbil9fSxYZz1mdW5jdGlvbih0LGUsbil7dGhpcy52YWx1ZT1lLHRoaXMubWFnaWM9ITAsdGhpcy5tYWdpY1dyYXBwZXI9dHkud3JhcCh0LGUsbiksdGhpcy5hcnJheVdyYXBwZXI9S2cud3JhcCh0LGUsbil9LFhnLnByb3RvdHlwZT17Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWV9LHRlYXJkb3duOmZ1bmN0aW9uKCl7dGhpcy5hcnJheVdyYXBwZXIudGVhcmRvd24oKSx0aGlzLm1hZ2ljV3JhcHBlci50ZWFyZG93bigpfSxyZXNldDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5tYWdpY1dyYXBwZXIucmVzZXQodCl9fSk7dmFyIGV5PUpnLG55PWdzLGl5PXt9LHJ5PXdzLHN5PXhzLG95PV9zLGF5PVBzLHV5PVRzLGh5PWZ1bmN0aW9uKHQsZSl7dGhpcy5jb21wdXRhdGlvbj10LHRoaXMudmlld21vZGVsPXQudmlld21vZGVsLHRoaXMucmVmPWUsdGhpcy5yb290PXRoaXMudmlld21vZGVsLnJhY3RpdmUsdGhpcy5wYXJlbnRGcmFnbWVudD10aGlzLnJvb3QuY29tcG9uZW50JiZ0aGlzLnJvb3QuY29tcG9uZW50LnBhcmVudEZyYWdtZW50fTtoeS5wcm90b3R5cGU9e3Jlc29sdmU6ZnVuY3Rpb24odCl7dGhpcy5jb21wdXRhdGlvbi5zb2Z0RGVwcy5wdXNoKHQpLHRoaXMuY29tcHV0YXRpb24udW5yZXNvbHZlZERlcHNbdC5zdHJdPW51bGwsdGhpcy52aWV3bW9kZWwucmVnaXN0ZXIodCx0aGlzLmNvbXB1dGF0aW9uLFwiY29tcHV0ZWRcIil9fTt2YXIgY3k9aHksbHk9ZnVuY3Rpb24odCxlKXt0aGlzLmtleT10LHRoaXMuZ2V0dGVyPWUuZ2V0dGVyLHRoaXMuc2V0dGVyPWUuc2V0dGVyLHRoaXMuaGFyZERlcHM9ZS5kZXBzfHxbXSx0aGlzLnNvZnREZXBzPVtdLHRoaXMudW5yZXNvbHZlZERlcHM9e30sdGhpcy5kZXBWYWx1ZXM9e30sdGhpcy5fZGlydHk9dGhpcy5fZmlyc3RSdW49ITB9O2x5LnByb3RvdHlwZT17Y29uc3RydWN0b3I6bHksaW5pdDpmdW5jdGlvbih0KXt2YXIgZSxuPXRoaXM7dGhpcy52aWV3bW9kZWw9dCx0aGlzLmJ5cGFzcz0hMCxlPXQuZ2V0KHRoaXMua2V5KSx0LmNsZWFyQ2FjaGUodGhpcy5rZXkuc3RyKSx0aGlzLmJ5cGFzcz0hMSx0aGlzLnNldHRlciYmdm9pZCAwIT09ZSYmdGhpcy5zZXQoZSksdGhpcy5oYXJkRGVwcyYmdGhpcy5oYXJkRGVwcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiB0LnJlZ2lzdGVyKGUsbixcImNvbXB1dGVkXCIpfSl9LGludmFsaWRhdGU6ZnVuY3Rpb24oKXt0aGlzLl9kaXJ0eT0hMH0sZ2V0OmZ1bmN0aW9uKCl7dmFyIHQsZSxuPXRoaXMsaT0hMTtpZih0aGlzLmdldHRpbmcpe3ZhciByPVwiVGhlIFwiK3RoaXMua2V5LnN0citcIiBjb21wdXRhdGlvbiBpbmRpcmVjdGx5IGNhbGxlZCBpdHNlbGYuIFRoaXMgcHJvYmFibHkgaW5kaWNhdGVzIGEgYnVnIGluIHRoZSBjb21wdXRhdGlvbi4gSXQgaXMgY29tbW9ubHkgY2F1c2VkIGJ5IGBhcnJheS5zb3J0KC4uLilgIC0gaWYgdGhhdCdzIHRoZSBjYXNlLCBjbG9uZSB0aGUgYXJyYXkgZmlyc3Qgd2l0aCBgYXJyYXkuc2xpY2UoKS5zb3J0KC4uLilgXCI7cmV0dXJuIHAociksdGhpcy52YWx1ZX1pZih0aGlzLmdldHRpbmc9ITAsdGhpcy5fZGlydHkpe2lmKHRoaXMuX2ZpcnN0UnVufHwhdGhpcy5oYXJkRGVwcy5sZW5ndGgmJiF0aGlzLnNvZnREZXBzLmxlbmd0aD9pPSEwOlt0aGlzLmhhcmREZXBzLHRoaXMuc29mdERlcHNdLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGUscixzO2lmKCFpKWZvcihzPXQubGVuZ3RoO3MtLTspaWYoZT10W3NdLHI9bi52aWV3bW9kZWwuZ2V0KGUpLCFhKHIsbi5kZXBWYWx1ZXNbZS5zdHJdKSlyZXR1cm4gbi5kZXBWYWx1ZXNbZS5zdHJdPXIsdm9pZChpPSEwKX0pLGkpe3RoaXMudmlld21vZGVsLmNhcHR1cmUoKTt0cnl7dGhpcy52YWx1ZT10aGlzLmdldHRlcigpfWNhdGNoKHMpe20oJ0ZhaWxlZCB0byBjb21wdXRlIFwiJXNcIicsdGhpcy5rZXkuc3RyKSxmKHMuc3RhY2t8fHMpLHRoaXMudmFsdWU9dm9pZCAwfXQ9dGhpcy52aWV3bW9kZWwucmVsZWFzZSgpLGU9dGhpcy51cGRhdGVEZXBlbmRlbmNpZXModCksZSYmW3RoaXMuaGFyZERlcHMsdGhpcy5zb2Z0RGVwc10uZm9yRWFjaChmdW5jdGlvbih0KXt0LmZvckVhY2goZnVuY3Rpb24odCl7bi5kZXBWYWx1ZXNbdC5zdHJdPW4udmlld21vZGVsLmdldCh0KX0pfSl9dGhpcy5fZGlydHk9ITF9cmV0dXJuIHRoaXMuZ2V0dGluZz10aGlzLl9maXJzdFJ1bj0hMSx0aGlzLnZhbHVlfSxzZXQ6ZnVuY3Rpb24odCl7aWYodGhpcy5zZXR0aW5nKXJldHVybiB2b2lkKHRoaXMudmFsdWU9dCk7aWYoIXRoaXMuc2V0dGVyKXRocm93IG5ldyBFcnJvcihcIkNvbXB1dGVkIHByb3BlcnRpZXMgd2l0aG91dCBzZXR0ZXJzIGFyZSByZWFkLW9ubHkuIChUaGlzIG1heSBjaGFuZ2UgaW4gYSBmdXR1cmUgdmVyc2lvbiBvZiBSYWN0aXZlISlcIik7dGhpcy5zZXR0ZXIodCl9LHVwZGF0ZURlcGVuZGVuY2llczpmdW5jdGlvbih0KXt2YXIgZSxuLGkscixzO2ZvcihuPXRoaXMuc29mdERlcHMsZT1uLmxlbmd0aDtlLS07KWk9bltlXSwtMT09PXQuaW5kZXhPZihpKSYmKHI9ITAsdGhpcy52aWV3bW9kZWwudW5yZWdpc3RlcihpLHRoaXMsXCJjb21wdXRlZFwiKSk7Zm9yKGU9dC5sZW5ndGg7ZS0tOylpPXRbZV0sLTEhPT1uLmluZGV4T2YoaSl8fHRoaXMuaGFyZERlcHMmJi0xIT09dGhpcy5oYXJkRGVwcy5pbmRleE9mKGkpfHwocj0hMCxGcyh0aGlzLnZpZXdtb2RlbCxpKSYmIXRoaXMudW5yZXNvbHZlZERlcHNbaS5zdHJdPyhzPW5ldyBjeSh0aGlzLGkuc3RyKSx0LnNwbGljZShlLDEpLHRoaXMudW5yZXNvbHZlZERlcHNbaS5zdHJdPXMsbXUuYWRkVW5yZXNvbHZlZChzKSk6dGhpcy52aWV3bW9kZWwucmVnaXN0ZXIoaSx0aGlzLFwiY29tcHV0ZWRcIikpO3JldHVybiByJiYodGhpcy5zb2Z0RGVwcz10LnNsaWNlKCkpLHJ9fTt2YXIgZnk9bHksZHk9UnMscHk9e0ZBSUxFRF9MT09LVVA6ITB9LG15PWpzLHZ5PXt9LGd5PURzLHl5PUlzLGJ5PWZ1bmN0aW9uKHQsZSl7dGhpcy5sb2NhbEtleT10LHRoaXMua2V5cGF0aD1lLmtleXBhdGgsdGhpcy5vcmlnaW49ZS5vcmlnaW4sdGhpcy5kZXBzPVtdLHRoaXMudW5yZXNvbHZlZD1bXSx0aGlzLnJlc29sdmVkPSExfTtieS5wcm90b3R5cGU9e2ZvcmNlUmVzb2x1dGlvbjpmdW5jdGlvbigpe3RoaXMua2V5cGF0aD10aGlzLmxvY2FsS2V5LHRoaXMuc2V0dXAoKX0sZ2V0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucmVzb2x2ZWQ/dGhpcy5vcmlnaW4uZ2V0KHRoaXMubWFwKHQpLGUpOnZvaWQgMH0sZ2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5rZXlwYXRoP3RoaXMub3JpZ2luLmdldCh0aGlzLmtleXBhdGgpOnZvaWQgMH0saW5pdFZpZXdtb2RlbDpmdW5jdGlvbih0KXt0aGlzLmxvY2FsPXQsdGhpcy5zZXR1cCgpfSxtYXA6ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXR5cGVvZiB0aGlzLmtleXBhdGg/dGhpcy5sb2NhbEtleTp0LnJlcGxhY2UodGhpcy5sb2NhbEtleSx0aGlzLmtleXBhdGgpfSxyZWdpc3RlcjpmdW5jdGlvbih0LGUsbil7dGhpcy5kZXBzLnB1c2goe2tleXBhdGg6dCxkZXA6ZSxncm91cDpufSksdGhpcy5yZXNvbHZlZCYmdGhpcy5vcmlnaW4ucmVnaXN0ZXIodGhpcy5tYXAodCksZSxuKX0scmVzb2x2ZTpmdW5jdGlvbih0KXt2b2lkIDAhPT10aGlzLmtleXBhdGgmJnRoaXMudW5iaW5kKCEwKSx0aGlzLmtleXBhdGg9dCx0aGlzLnNldHVwKCl9LHNldDpmdW5jdGlvbih0LGUpe3RoaXMucmVzb2x2ZWR8fHRoaXMuZm9yY2VSZXNvbHV0aW9uKCksdGhpcy5vcmlnaW4uc2V0KHRoaXMubWFwKHQpLGUpfSxzZXR1cDpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dm9pZCAwIT09dGhpcy5rZXlwYXRoJiYodGhpcy5yZXNvbHZlZD0hMCx0aGlzLmRlcHMubGVuZ3RoJiYodGhpcy5kZXBzLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIG49dC5tYXAoZS5rZXlwYXRoKTtpZih0Lm9yaWdpbi5yZWdpc3RlcihuLGUuZGVwLGUuZ3JvdXApLGUuZGVwLnNldFZhbHVlKWUuZGVwLnNldFZhbHVlKHQub3JpZ2luLmdldChuKSk7ZWxzZXtpZighZS5kZXAuaW52YWxpZGF0ZSl0aHJvdyBuZXcgRXJyb3IoXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkLiBQbGVhc2UgcmFpc2UgYW4gaXNzdWUgYXQgaHR0cHM6Ly9naXRodWIuY29tL3JhY3RpdmVqcy9yYWN0aXZlL2lzc3VlcyAtIHRoYW5rcyFcIik7ZS5kZXAuaW52YWxpZGF0ZSgpfX0pLHRoaXMub3JpZ2luLm1hcmsodGhpcy5rZXlwYXRoKSkpfSxzZXRWYWx1ZTpmdW5jdGlvbih0KXtpZighdGhpcy5rZXlwYXRoKXRocm93IG5ldyBFcnJvcihcIk1hcHBpbmcgZG9lcyBub3QgaGF2ZSBrZXlwYXRoLCBjYW5ub3Qgc2V0IHZhbHVlLiBQbGVhc2UgcmFpc2UgYW4gaXNzdWUgYXQgaHR0cHM6Ly9naXRodWIuY29tL3JhY3RpdmVqcy9yYWN0aXZlL2lzc3VlcyAtIHRoYW5rcyFcIik7dGhpcy5vcmlnaW4uc2V0KHRoaXMua2V5cGF0aCx0KX0sdW5iaW5kOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dHx8ZGVsZXRlIHRoaXMubG9jYWwubWFwcGluZ3NbdGhpcy5sb2NhbEtleV0sdGhpcy5yZXNvbHZlZCYmKHRoaXMuZGVwcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe2Uub3JpZ2luLnVucmVnaXN0ZXIoZS5tYXAodC5rZXlwYXRoKSx0LmRlcCx0Lmdyb3VwKX0pLHRoaXMudHJhY2tlciYmdGhpcy5vcmlnaW4udW5yZWdpc3Rlcih0aGlzLmtleXBhdGgsdGhpcy50cmFja2VyKSl9LHVucmVnaXN0ZXI6ZnVuY3Rpb24odCxlLG4pe3ZhciBpLHI7aWYodGhpcy5yZXNvbHZlZCl7Zm9yKGk9dGhpcy5kZXBzLHI9aS5sZW5ndGg7ci0tOylpZihpW3JdLmRlcD09PWUpe2kuc3BsaWNlKHIsMSk7YnJlYWt9dGhpcy5vcmlnaW4udW5yZWdpc3Rlcih0aGlzLm1hcCh0KSxlLG4pfX19O3ZhciB3eT1Mcyx4eT1mdW5jdGlvbih0LGUpe3ZhciBuLGkscixzO3JldHVybiBuPXt9LGk9MCxyPXQubWFwKGZ1bmN0aW9uKHQscil7dmFyIG8sYSx1O2E9aSx1PWUubGVuZ3RoO2Rve2lmKG89ZS5pbmRleE9mKHQsYSksLTE9PT1vKXJldHVybiBzPSEwLC0xO2E9bysxfXdoaWxlKG5bb10mJnU+YSk7cmV0dXJuIG89PT1pJiYoaSs9MSksbyE9PXImJihzPSEwKSxuW29dPSEwLG99KX0sa3k9VnMsRXk9e30sX3k9V3MsQXk9QnMsU3k9cXMsQ3k9JHMsT3k9WnMsUHk9e2ltcGxpY2l0OiEwfSxUeT17bm9DYXNjYWRlOiEwfSxGeT1LcyxSeT1HcyxqeT1mdW5jdGlvbih0KXt2YXIgZSxuLGk9dC5hZGFwdCxyPXQuZGF0YSxzPXQucmFjdGl2ZSxvPXQuY29tcHV0ZWQsYT10Lm1hcHBpbmdzO3RoaXMucmFjdGl2ZT1zLHRoaXMuYWRhcHRvcnM9aSx0aGlzLm9uY2hhbmdlPXQub25jaGFuZ2UsdGhpcy5jYWNoZT17fSx0aGlzLmNhY2hlTWFwPXdhKG51bGwpLHRoaXMuZGVwcz17Y29tcHV0ZWQ6d2EobnVsbCksXCJkZWZhdWx0XCI6d2EobnVsbCl9LHRoaXMuZGVwc01hcD17Y29tcHV0ZWQ6d2EobnVsbCksXCJkZWZhdWx0XCI6d2EobnVsbCl9LHRoaXMucGF0dGVybk9ic2VydmVycz1bXSx0aGlzLnNwZWNpYWxzPXdhKG51bGwpLHRoaXMud3JhcHBlZD13YShudWxsKSx0aGlzLmNvbXB1dGF0aW9ucz13YShudWxsKSx0aGlzLmNhcHR1cmVHcm91cHM9W10sdGhpcy51bnJlc29sdmVkSW1wbGljaXREZXBlbmRlbmNpZXM9W10sdGhpcy5jaGFuZ2VzPVtdLHRoaXMuaW1wbGljaXRDaGFuZ2VzPXt9LHRoaXMubm9DYXNjYWRlPXt9LHRoaXMuZGF0YT1yLHRoaXMubWFwcGluZ3M9d2EobnVsbCk7Zm9yKGUgaW4gYSl0aGlzLm1hcChfKGUpLGFbZV0pO2lmKHIpZm9yKGUgaW4gcikobj10aGlzLm1hcHBpbmdzW2VdKSYmdm9pZCAwPT09bi5nZXRWYWx1ZSgpJiZuLnNldFZhbHVlKHJbZV0pO2ZvcihlIGluIG8pYSYmZSBpbiBhJiZsKFwiQ2Fubm90IG1hcCB0byBhIGNvbXB1dGVkIHByb3BlcnR5ICgnJXMnKVwiLGUpLHRoaXMuY29tcHV0ZShfKGUpLG9bZV0pO3RoaXMucmVhZHk9ITB9O2p5LnByb3RvdHlwZT17YWRhcHQ6bnksYXBwbHlDaGFuZ2VzOm95LGNhcHR1cmU6YXksY2xlYXJDYWNoZTp1eSxjb21wdXRlOmR5LGdldDpteSxpbml0Omd5LG1hcDp5eSxtYXJrOnd5LG1lcmdlOmt5LHJlZ2lzdGVyOl95LHJlbGVhc2U6QXkscmVzZXQ6U3ksc2V0OkN5LHNtYXJ0VXBkYXRlOk95LHRlYXJkb3duOkZ5LHVucmVnaXN0ZXI6Unl9O3ZhciBOeT1qeTtKcy5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkpzLGJlZ2luOmZ1bmN0aW9uKHQpe3RoaXMuaW5Qcm9jZXNzW3QuX2d1aWRdPSEwfSxlbmQ6ZnVuY3Rpb24odCl7dmFyIGU9dC5wYXJlbnQ7ZSYmdGhpcy5pblByb2Nlc3NbZS5fZ3VpZF0/WHModGhpcy5xdWV1ZSxlKS5wdXNoKHQpOnRvKHRoaXMsdCksZGVsZXRlIHRoaXMuaW5Qcm9jZXNzW3QuX2d1aWRdfX07dmFyIER5PUpzLEl5PWVvLEx5PS9cXCRcXHsoW15cXH1dKylcXH0vZyxWeT1uZXcgbnUoXCJjb25zdHJ1Y3RcIiksTXk9bmV3IG51KFwiY29uZmlnXCIpLFV5PW5ldyBEeShcImluaXRcIiksV3k9MCx6eT1bXCJhZGFwdG9yc1wiLFwiY29tcG9uZW50c1wiLFwiZGVjb3JhdG9yc1wiLFwiZWFzaW5nXCIsXCJldmVudHNcIixcImludGVycG9sYXRvcnNcIixcInBhcnRpYWxzXCIsXCJ0cmFuc2l0aW9uc1wiXSxCeT1zbyxxeT1jbztjby5wcm90b3R5cGU9e2J1YmJsZTpmdW5jdGlvbigpe3RoaXMuZGlydHl8fCh0aGlzLmRpcnR5PSEwLG11LmFkZFZpZXcodGhpcykpfSx1cGRhdGU6ZnVuY3Rpb24oKXt0aGlzLmNhbGxiYWNrKHRoaXMuZnJhZ21lbnQuZ2V0VmFsdWUoKSksdGhpcy5kaXJ0eT0hMX0scmViaW5kOmZ1bmN0aW9uKHQsZSl7dGhpcy5mcmFnbWVudC5yZWJpbmQodCxlKX0sdW5iaW5kOmZ1bmN0aW9uKCl7dGhpcy5mcmFnbWVudC51bmJpbmQoKX19O3ZhciAkeT1mdW5jdGlvbih0LGUsbixyLG8pe3ZhciBhLHUsaCxjLGwsZixkPXt9LHA9e30sdj17fSxnPVtdO2Zvcih1PXQucGFyZW50RnJhZ21lbnQsaD10LnJvb3Qsbz1vfHx7fSxpKGQsbyksby5jb250ZW50PXJ8fFtdLGRbXCJcIl09by5jb250ZW50LGUuZGVmYXVsdHMuZWwmJm0oXCJUaGUgPCVzLz4gY29tcG9uZW50IGhhcyBhIGRlZmF1bHQgYGVsYCBwcm9wZXJ0eTsgaXQgaGFzIGJlZW4gZGlzcmVnYXJkZWRcIix0Lm5hbWUpLGM9dTtjOyl7aWYoYy5vd25lci50eXBlPT09b2Mpe2w9Yy5vd25lci5jb250YWluZXI7YnJlYWt9Yz1jLnBhcmVudH1yZXR1cm4gbiYmT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgaSxyLG89bltlXTtpZihcInN0cmluZ1wiPT10eXBlb2YgbylpPUFmKG8pLHBbZV09aT9pLnZhbHVlOm87ZWxzZSBpZigwPT09bylwW2VdPSEwO2Vsc2V7aWYoIXMobykpdGhyb3cgbmV3IEVycm9yKFwiZXJtIHd1dFwiKTtmbyhvKT8odltlXT17b3JpZ2luOnQucm9vdC52aWV3bW9kZWwsa2V5cGF0aDp2b2lkIDB9LHI9bG8odCxvWzBdLGZ1bmN0aW9uKHQpe3QuaXNTcGVjaWFsP2Y/YS5zZXQoZSx0LnZhbHVlKToocFtlXT10LnZhbHVlLGRlbGV0ZSB2W2VdKTpmP2Eudmlld21vZGVsLm1hcHBpbmdzW2VdLnJlc29sdmUodCk6dltlXS5rZXlwYXRoPXR9KSk6cj1uZXcgcXkodCxvLGZ1bmN0aW9uKHQpe2Y/YS5zZXQoZSx0KTpwW2VdPXR9KSxnLnB1c2gocil9fSksYT13YShlLnByb3RvdHlwZSksQnkoYSx7ZWw6bnVsbCxhcHBlbmQ6ITAsZGF0YTpwLHBhcnRpYWxzOm8sbWFnaWM6aC5tYWdpY3x8ZS5kZWZhdWx0cy5tYWdpYyxtb2RpZnlBcnJheXM6aC5tb2RpZnlBcnJheXMsYWRhcHQ6aC5hZGFwdH0se3BhcmVudDpoLGNvbXBvbmVudDp0LGNvbnRhaW5lcjpsLG1hcHBpbmdzOnYsaW5saW5lUGFydGlhbHM6ZCxjc3NJZHM6dS5jc3NJZHN9KSxmPSEwLHQucmVzb2x2ZXJzPWcsYX0sUXk9cG8sWnk9ZnVuY3Rpb24odCl7dmFyIGUsbjtmb3IoZT10LnJvb3Q7ZTspKG49ZS5fbGl2ZUNvbXBvbmVudFF1ZXJpZXNbXCJfXCIrdC5uYW1lXSkmJm4ucHVzaCh0Lmluc3RhbmNlKSxlPWUucGFyZW50fSxIeT12byxLeT1nbyxHeT15byxZeT1ibyxKeT13byxYeT1uZXcgbnUoXCJ0ZWFyZG93blwiKSx0Yj1rbyxlYj1mdW5jdGlvbih0LGUpe3RoaXMuaW5pdCh0LGUpfTtlYi5wcm90b3R5cGU9e2RldGFjaDpSZyxmaW5kOk5nLGZpbmRBbGw6RGcsZmluZEFsbENvbXBvbmVudHM6SWcsZmluZENvbXBvbmVudDpMZyxmaW5kTmV4dE5vZGU6VmcsZmlyc3ROb2RlOk1nLGluaXQ6SHkscmViaW5kOkt5LHJlbmRlcjpHeSx0b1N0cmluZzpZeSx1bmJpbmQ6SnksdW5yZW5kZXI6dGJ9O3ZhciBuYj1lYixpYj1mdW5jdGlvbih0KXt0aGlzLnR5cGU9ZWMsdGhpcy52YWx1ZT10LnRlbXBsYXRlLmN9O2liLnByb3RvdHlwZT17ZGV0YWNoOlJkLGZpcnN0Tm9kZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGV9LHJlbmRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGV8fCh0aGlzLm5vZGU9ZG9jdW1lbnQuY3JlYXRlQ29tbWVudCh0aGlzLnZhbHVlKSksXG50aGlzLm5vZGV9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuXCI8IS0tXCIrdGhpcy52YWx1ZStcIi0tPlwifSx1bnJlbmRlcjpmdW5jdGlvbih0KXt0JiZ0aGlzLm5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLm5vZGUpfX07dmFyIHJiPWliLHNiPWZ1bmN0aW9uKHQpe3ZhciBlLG47dGhpcy50eXBlPW9jLHRoaXMuY29udGFpbmVyPWU9dC5wYXJlbnRGcmFnbWVudC5yb290LHRoaXMuY29tcG9uZW50PW49ZS5jb21wb25lbnQsdGhpcy5jb250YWluZXI9ZSx0aGlzLmNvbnRhaW5lckZyYWdtZW50PXQucGFyZW50RnJhZ21lbnQsdGhpcy5wYXJlbnRGcmFnbWVudD1uLnBhcmVudEZyYWdtZW50O3ZhciBpPXRoaXMubmFtZT10LnRlbXBsYXRlLm58fFwiXCIscj1lLl9pbmxpbmVQYXJ0aWFsc1tpXTtyfHwobSgnQ291bGQgbm90IGZpbmQgdGVtcGxhdGUgZm9yIHBhcnRpYWwgXCInK2krJ1wiJyx7cmFjdGl2ZTp0LnJvb3R9KSxyPVtdKSx0aGlzLmZyYWdtZW50PW5ldyB5Yih7b3duZXI6dGhpcyxyb290OmUucGFyZW50LHRlbXBsYXRlOnIscEVsZW1lbnQ6dGhpcy5jb250YWluZXJGcmFnbWVudC5wRWxlbWVudH0pLHMobi55aWVsZGVyc1tpXSk/bi55aWVsZGVyc1tpXS5wdXNoKHRoaXMpOm4ueWllbGRlcnNbaV09W3RoaXNdLG11LnNjaGVkdWxlVGFzayhmdW5jdGlvbigpe2lmKG4ueWllbGRlcnNbaV0ubGVuZ3RoPjEpdGhyb3cgbmV3IEVycm9yKFwiQSBjb21wb25lbnQgdGVtcGxhdGUgY2FuIG9ubHkgaGF2ZSBvbmUge3t5aWVsZFwiKyhpP1wiIFwiK2k6XCJcIikrXCJ9fSBkZWNsYXJhdGlvbiBhdCBhIHRpbWVcIil9KX07c2IucHJvdG90eXBlPXtkZXRhY2g6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mcmFnbWVudC5kZXRhY2goKX0sZmluZDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5mcmFnbWVudC5maW5kKHQpfSxmaW5kQWxsOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZnJhZ21lbnQuZmluZEFsbCh0LGUpfSxmaW5kQ29tcG9uZW50OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmZyYWdtZW50LmZpbmRDb21wb25lbnQodCl9LGZpbmRBbGxDb21wb25lbnRzOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZnJhZ21lbnQuZmluZEFsbENvbXBvbmVudHModCxlKX0sZmluZE5leHROb2RlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGFpbmVyRnJhZ21lbnQuZmluZE5leHROb2RlKHRoaXMpfSxmaXJzdE5vZGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mcmFnbWVudC5maXJzdE5vZGUoKX0sZ2V0VmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZnJhZ21lbnQuZ2V0VmFsdWUodCl9LHJlbmRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZyYWdtZW50LnJlbmRlcigpfSx1bmJpbmQ6ZnVuY3Rpb24oKXt0aGlzLmZyYWdtZW50LnVuYmluZCgpfSx1bnJlbmRlcjpmdW5jdGlvbih0KXt0aGlzLmZyYWdtZW50LnVucmVuZGVyKHQpLEkodGhpcy5jb21wb25lbnQueWllbGRlcnNbdGhpcy5uYW1lXSx0aGlzKX0scmViaW5kOmZ1bmN0aW9uKHQsZSl7dGhpcy5mcmFnbWVudC5yZWJpbmQodCxlKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mcmFnbWVudC50b1N0cmluZygpfX07dmFyIG9iPXNiLGFiPWZ1bmN0aW9uKHQpe3RoaXMuZGVjbGFyYXRpb249dC50ZW1wbGF0ZS5hfTthYi5wcm90b3R5cGU9e2luaXQ6RmEscmVuZGVyOkZhLHVucmVuZGVyOkZhLHRlYXJkb3duOkZhLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuXCI8IURPQ1RZUEVcIit0aGlzLmRlY2xhcmF0aW9uK1wiPlwifX07dmFyIHViPWFiLGhiPUVvLGNiPUFvLGxiPVNvLGZiPUNvLGRiPVRvLHBiPVJvLG1iPWZ1bmN0aW9uKHQpe3RoaXMuaW5pdCh0KX07bWIucHJvdG90eXBlPXtidWJibGU6d2QsZGV0YWNoOnhkLGZpbmQ6a2QsZmluZEFsbDpFZCxmaW5kQWxsQ29tcG9uZW50czpfZCxmaW5kQ29tcG9uZW50OkFkLGZpbmROZXh0Tm9kZTpTZCxmaXJzdE5vZGU6Q2QsZ2V0QXJnc0xpc3Q6UGQsZ2V0Tm9kZTpUZCxnZXRWYWx1ZTpGZCxpbml0OmhiLHJlYmluZDpjYixyZWdpc3RlckluZGV4UmVmOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucmVnaXN0ZXJlZEluZGV4UmVmczstMT09PWUuaW5kZXhPZih0KSYmZS5wdXNoKHQpfSxyZW5kZXI6bGIsdG9TdHJpbmc6ZmIsdW5iaW5kOmRiLHVucmVnaXN0ZXJJbmRleFJlZjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnJlZ2lzdGVyZWRJbmRleFJlZnM7ZS5zcGxpY2UoZS5pbmRleE9mKHQpLDEpfSx1bnJlbmRlcjpwYn07dmFyIHZiLGdiLHliPW1iLGJiPWpvLHdiPVtcInRlbXBsYXRlXCIsXCJwYXJ0aWFsc1wiLFwiY29tcG9uZW50c1wiLFwiZGVjb3JhdG9yc1wiLFwiZXZlbnRzXCJdLHhiPW5ldyBudShcInJlc2V0XCIpLGtiPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbihlLGkscil7ciYmci5wYXJ0aWFsc1t0XXx8ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UudHlwZT09PXRjJiZlLmdldFBhcnRpYWxOYW1lKCk9PT10JiZpLnB1c2goZSksZS5mcmFnbWVudCYmbihlLmZyYWdtZW50Lml0ZW1zLGkscikscyhlLmZyYWdtZW50cyk/bihlLmZyYWdtZW50cyxpLHIpOnMoZS5pdGVtcyk/bihlLml0ZW1zLGkscik6ZS50eXBlPT09c2MmJmUuaW5zdGFuY2UmJm4oZS5pbnN0YW5jZS5mcmFnbWVudC5pdGVtcyxpLGUuaW5zdGFuY2UpLGUudHlwZT09PVhoJiYocyhlLmF0dHJpYnV0ZXMpJiZuKGUuYXR0cmlidXRlcyxpLHIpLHMoZS5jb25kaXRpb25hbEF0dHJpYnV0ZXMpJiZuKGUuY29uZGl0aW9uYWxBdHRyaWJ1dGVzLGkscikpfSl9dmFyIGkscj1bXTtyZXR1cm4gbih0aGlzLmZyYWdtZW50Lml0ZW1zLHIpLHRoaXMucGFydGlhbHNbdF09ZSxpPW11LnN0YXJ0KHRoaXMsITApLHIuZm9yRWFjaChmdW5jdGlvbihlKXtlLnZhbHVlPXZvaWQgMCxlLnNldFZhbHVlKHQpfSksbXUuZW5kKCksaX0sRWI9Tm8sX2I9Z2goXCJyZXZlcnNlXCIpLEFiPURvLFNiPWdoKFwic2hpZnRcIiksQ2I9Z2goXCJzb3J0XCIpLE9iPWdoKFwic3BsaWNlXCIpLFBiPUxvLFRiPVZvLEZiPW5ldyBudShcInRlYXJkb3duXCIpLFJiPVVvLGpiPVdvLE5iPXpvLERiPW5ldyBudShcInVucmVuZGVyXCIpLEliPWdoKFwidW5zaGlmdFwiKSxMYj1CbyxWYj1uZXcgbnUoXCJ1cGRhdGVcIiksTWI9cW8sVWI9e2FkZDpHYSxhbmltYXRlOnh1LGRldGFjaDpFdSxmaW5kOkF1LGZpbmRBbGw6TnUsZmluZEFsbENvbXBvbmVudHM6RHUsZmluZENvbXBvbmVudDpJdSxmaW5kQ29udGFpbmVyOkx1LGZpbmRQYXJlbnQ6VnUsZmlyZTp6dSxnZXQ6QnUsaW5zZXJ0OiR1LG1lcmdlOlp1LG9ic2VydmU6dWgsb2JzZXJ2ZU9uY2U6aGgsb2ZmOmZoLG9uOmRoLG9uY2U6cGgscG9wOnloLHB1c2g6YmgscmVuZGVyOlNoLHJlc2V0OmJiLHJlc2V0UGFydGlhbDprYixyZXNldFRlbXBsYXRlOkViLHJldmVyc2U6X2Isc2V0OkFiLHNoaWZ0OlNiLHNvcnQ6Q2Isc3BsaWNlOk9iLHN1YnRyYWN0OlBiLHRlYXJkb3duOlRiLHRvZ2dsZTpSYix0b0hUTUw6amIsdG9IdG1sOmpiLHVucmVuZGVyOk5iLHVuc2hpZnQ6SWIsdXBkYXRlOkxiLHVwZGF0ZU1vZGVsOk1ifSxXYj1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG58fFFvKHQsZSk/ZnVuY3Rpb24oKXt2YXIgbixpPVwiX3N1cGVyXCJpbiB0aGlzLHI9dGhpcy5fc3VwZXI7cmV0dXJuIHRoaXMuX3N1cGVyPWUsbj10LmFwcGx5KHRoaXMsYXJndW1lbnRzKSxpJiYodGhpcy5fc3VwZXI9ciksbn06dH0semI9Wm8sQmI9WW8scWI9ZnVuY3Rpb24odCl7dmFyIGUsbixpPXt9O3JldHVybiB0JiYoZT10Ll9yYWN0aXZlKT8oaS5yYWN0aXZlPWUucm9vdCxpLmtleXBhdGg9ZS5rZXlwYXRoLnN0cixpLmluZGV4PXt9LChuPXFkKGUucHJveHkucGFyZW50RnJhZ21lbnQpKSYmKGkuaW5kZXg9cWQucmVzb2x2ZShuKSksaSk6aX07dmI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiB2Yj92b2lkIEJ5KHRoaXMsdCk6bmV3IHZiKHQpfSxnYj17REVCVUc6e3dyaXRhYmxlOiEwLHZhbHVlOiEwfSxERUJVR19QUk9NSVNFUzp7d3JpdGFibGU6ITAsdmFsdWU6ITB9LGV4dGVuZDp7dmFsdWU6QmJ9LGdldE5vZGVJbmZvOnt2YWx1ZTpxYn0scGFyc2U6e3ZhbHVlOktmfSxQcm9taXNlOnt2YWx1ZTpvdX0sc3ZnOnt2YWx1ZTpyYX0sbWFnaWM6e3ZhbHVlOm5hfSxWRVJTSU9OOnt2YWx1ZTpcIjAuNy4zXCJ9LGFkYXB0b3JzOnt3cml0YWJsZTohMCx2YWx1ZTp7fX0sY29tcG9uZW50czp7d3JpdGFibGU6ITAsdmFsdWU6e319LGRlY29yYXRvcnM6e3dyaXRhYmxlOiEwLHZhbHVlOnt9fSxlYXNpbmc6e3dyaXRhYmxlOiEwLHZhbHVlOmhhfSxldmVudHM6e3dyaXRhYmxlOiEwLHZhbHVlOnt9fSxpbnRlcnBvbGF0b3JzOnt3cml0YWJsZTohMCx2YWx1ZTpNYX0scGFydGlhbHM6e3dyaXRhYmxlOiEwLHZhbHVlOnt9fSx0cmFuc2l0aW9uczp7d3JpdGFibGU6ITAsdmFsdWU6e319fSxrYSh2YixnYiksdmIucHJvdG90eXBlPWkoVWIsdWEpLHZiLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj12Yix2Yi5kZWZhdWx0cz12Yi5wcm90b3R5cGU7dmFyICRiPVwiZnVuY3Rpb25cIjtpZih0eXBlb2YgRGF0ZS5ub3chPT0kYnx8dHlwZW9mIFN0cmluZy5wcm90b3R5cGUudHJpbSE9PSRifHx0eXBlb2YgT2JqZWN0LmtleXMhPT0kYnx8dHlwZW9mIEFycmF5LnByb3RvdHlwZS5pbmRleE9mIT09JGJ8fHR5cGVvZiBBcnJheS5wcm90b3R5cGUuZm9yRWFjaCE9PSRifHx0eXBlb2YgQXJyYXkucHJvdG90eXBlLm1hcCE9PSRifHx0eXBlb2YgQXJyYXkucHJvdG90eXBlLmZpbHRlciE9PSRifHxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ0eXBlb2Ygd2luZG93LmFkZEV2ZW50TGlzdGVuZXIhPT0kYil0aHJvdyBuZXcgRXJyb3IoXCJJdCBsb29rcyBsaWtlIHlvdSdyZSBhdHRlbXB0aW5nIHRvIHVzZSBSYWN0aXZlLmpzIGluIGFuIG9sZGVyIGJyb3dzZXIuIFlvdSdsbCBuZWVkIHRvIHVzZSBvbmUgb2YgdGhlICdsZWdhY3kgYnVpbGRzJyBpbiBvcmRlciB0byBjb250aW51ZSAtIHNlZSBodHRwOi8vZG9jcy5yYWN0aXZlanMub3JnL2xhdGVzdC9sZWdhY3ktYnVpbGRzIGZvciBtb3JlIGluZm9ybWF0aW9uLlwiKTt2YXIgUWI9dmI7cmV0dXJuIFFifSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yYWN0aXZlLm1pbi5qcy5tYXBcbiJdfQ==
