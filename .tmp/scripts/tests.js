(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

var Ract = require('ractive/ractive.min'),
    howWide = require('how-wide-is-it');
howWide.truncate = 3;
window.main = new Ract({
    template: require('./mainView.ract').template,
    el: '.hook',
    oncomplete: function oncomplete() {
        var _this = this;

        console.log('we good in the hood');
        this.on('setMode', function (event, modeToSetTo) {
            _this.set('currentMode', modeToSetTo);
            _this.calculate();
        });
        this.on('other', function () {
            _this.set('commonRatios', !_this.get('commonRatios'));
        });
        this.on('setRatio', function (event, width) {
            _this.set('toSub.width', Number(width.split(':')[0]));
            _this.set('toSub.height', Number(width.split(':')[1]));
            _this.calculate();
        });
        this.on('submitAll', function () {
            _this.calculate();
        });
        this.calculate();
        window.onresize = debounce(function () {
            var temp = _this.get('toSub.length');
            console.log(temp);
            _this.set('toSub.length', temp - 0.1).then(function () {
                _this.calculate(true).then(function () {
                    _this.set('toSub.length', temp).then(function () {
                        _this.calculate(true);
                    });
                });
            });
        }, 50);
    },
    calculate: function calculate(quick) {
        var a = this.get('toSub'),
            val = 0,
            currentMode = this.get('currentMode');
        if (currentMode == 0) {
            val = howWide(a.width, a.height, a.length);
        } else if (currentMode == 1) {
            val = howWide.diag(a.width, a.height, a.length, a.lengthIsOnWideSide);
        }
        return quick ? this.set('resp', val) : this.animate('resp', val);
    },
    data: function data() {
        return {
            toSub: {
                width: 16,
                height: 9,
                length: 21,
                lengthIsOnWideSide: true
            },
            currentMode: 0,
            allModes: ['calculateWithDiagonal', 'calculateWithSide'],
            resp: {
                height: 11.8125,
                width: 21,
                aspRatio: '16:9',
                diagonal: 24.0942971727751392
            },
            isSet: function isSet(w, h) {
                return w == this.get('toSub.width') && h == this.get('toSub.height') ? 'isSet' : '';
            },
            isActive: function isActive(cur) {
                var val = cur == 'diag' ? 0 : 1;
                return this.get('currentMode') == val ? 'isActive' : '';
            },
            commonRatios: true
        };
    },
    components: {
        displayresults: Ract.extend(require('./results.ract'))
    }
});

function debounce(func, wait, immediate) {
    var timeout;
    return function () {
        var context = this,
            args = arguments;
        var later = function later() {
            timeout = null;
            if (!immediate) func.apply(context, args);
        };
        var callNow = immediate && !timeout;
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
        if (callNow) func.apply(context, args);
    };
};

},{"./mainView.ract":2,"./results.ract":3,"how-wide-is-it":4,"ractive/ractive.min":5}],2:[function(require,module,exports){
exports.template = { v:3,
  t:[ { p:[ 1,
        1,
        0 ],
      t:7,
      e:"div",
      a:{ "class":"header" },
      f:[ { p:[ 2,
            2,
            22 ],
          t:7,
          e:"h1",
          f:[ "How Wide is Your Monitor?" ] } ] },
    " ",
    { p:[ 4,
        1,
        64 ],
      t:7,
      e:"div",
      a:{ "class":"modes" },
      f:[ { p:[ 5,
            2,
            85 ],
          t:7,
          e:"div",
          a:{ "class":[ "half ",
              { t:2,
                x:{ r:[ "isActive" ],
                  s:"_0(\"diag\")" },
                p:[ 5,
                  19,
                  102 ] } ] },
          v:{ click:{ n:"setMode",
              a:[ 0 ] } },
          f:[ { p:[ 6,
                3,
                148 ],
              t:7,
              e:"h3",
              f:[ "You have a Diagonal Measurement" ] },
            " ",
            { p:[ 7,
                3,
                191 ],
              t:7,
              e:"p",
              f:[ "You have a diagonal measurement and are looking to see the true dimensions of the monitor or TV." ] } ] },
        " ",
        { p:[ 9,
            2,
            304 ],
          t:7,
          e:"div",
          a:{ "class":[ "half ",
              { t:2,
                x:{ r:[ "isActive" ],
                  s:"_0(\"side\")" },
                p:[ 9,
                  19,
                  321 ] } ] },
          v:{ click:{ n:"setMode",
              a:[ 1 ] } },
          f:[ { p:[ 10,
                3,
                367 ],
              t:7,
              e:"h3",
              f:[ "You have a Side Measurement" ] },
            " ",
            { p:[ 11,
                3,
                406 ],
              t:7,
              e:"p",
              f:[ "If you have a certain width or height that you would like to fill up with screen space this is the mode for you." ] } ] } ] },
    " ",
    { p:[ 14,
        1,
        541 ],
      t:7,
      e:"div",
      a:{ "class":"inps" },
      f:[ { t:4,
          f:[ { p:[ 16,
                2,
                573 ],
              t:7,
              e:"div",
              a:{ "class":"half" },
              f:[ { p:[ 18,
                    3,
                    595 ],
                  t:7,
                  e:"h4",
                  f:[ "Aspect Ratio: ",
                    { p:[ 18,
                        21,
                        613 ],
                      t:7,
                      e:"span",
                      a:{ "class":"info hint--large hint--top hint--rounded",
                        "aria-label":"Aspect Ratio is the ratio of the width of a screen to it's height, it's what makes newer screens so wide compared to old TVs which used to be square-ish. If you don't know you should probably just stick to 16:9 as that is the standard nowadays." },
                      f:[ "ⓘ" ] } ] },
                " ",
                { t:4,
                  f:[ { p:[ 21,
                        3,
                        966 ],
                      t:7,
                      e:"div",
                      a:{ "class":"container" },
                      f:[ { p:[ 22,
                            4,
                            993 ],
                          t:7,
                          e:"button",
                          a:{ "class":[ "quarter ",
                              { t:2,
                                x:{ r:[ "isSet" ],
                                  s:"_0(16,9)" },
                                p:[ 22,
                                  27,
                                  1016 ] } ] },
                          v:{ click:{ n:"setRatio",
                              a:"16:9" } },
                          f:[ "16:9" ] },
                        " ",
                        { p:[ 24,
                            4,
                            1076 ],
                          t:7,
                          e:"button",
                          a:{ "class":[ "quarter ",
                              { t:2,
                                x:{ r:[ "isSet" ],
                                  s:"_0(4,3)" },
                                p:[ 24,
                                  27,
                                  1099 ] } ] },
                          v:{ click:{ n:"setRatio",
                              a:"4:3" } },
                          f:[ "4:3" ] },
                        " ",
                        { p:[ 26,
                            4,
                            1156 ],
                          t:7,
                          e:"button",
                          a:{ "class":[ "quarter ",
                              { t:2,
                                x:{ r:[ "isSet" ],
                                  s:"_0(21,9)" },
                                p:[ 26,
                                  27,
                                  1179 ] } ] },
                          v:{ click:{ n:"setRatio",
                              a:"21:9" } },
                          f:[ "21:9" ] },
                        " ",
                        { p:[ 28,
                            4,
                            1239 ],
                          t:7,
                          e:"button",
                          a:{ "class":[ "quarter ",
                              { t:2,
                                x:{ r:[ "isSet" ],
                                  s:"_0(21,10)" },
                                p:[ 28,
                                  27,
                                  1262 ] } ] },
                          v:{ click:{ n:"setRatio",
                              a:"21:10" } },
                          f:[ "21:10" ] } ] } ],
                  n:50,
                  r:"commonRatios",
                  p:[ 20,
                    3,
                    943 ] },
                { t:4,
                  n:51,
                  f:[ { p:[ 34,
                        3,
                        1346 ],
                      t:7,
                      e:"div",
                      a:{ "class":"container" },
                      f:[ { p:[ 35,
                            4,
                            1373 ],
                          t:7,
                          e:"div",
                          a:{ "class":"item" },
                          f:[ { p:[ 36,
                                5,
                                1396 ],
                              t:7,
                              e:"label",
                              a:{ "for":"width" },
                              f:[ "Aspect Ratio Width:" ] },
                            " ",
                            { p:[ 37,
                                5,
                                1447 ],
                              t:7,
                              e:"input",
                              a:{ type:"number",
                                value:[ { t:2,
                                    r:"width",
                                    p:[ 37,
                                      33,
                                      1475 ] } ],
                                id:"width" } } ] },
                        " ",
                        { p:[ 39,
                            4,
                            1511 ],
                          t:7,
                          e:"div",
                          a:{ "class":"item" },
                          f:[ { p:[ 40,
                                5,
                                1534 ],
                              t:7,
                              e:"label",
                              a:{ "for":"height" },
                              f:[ "Aspect Ratio height:" ] },
                            " ",
                            { p:[ 41,
                                5,
                                1587 ],
                              t:7,
                              e:"input",
                              a:{ type:"number",
                                value:[ { t:2,
                                    r:"height",
                                    p:[ 41,
                                      33,
                                      1615 ] } ],
                                id:"height" } } ] } ] } ],
                  r:"commonRatios" },
                " ",
                { p:[ 46,
                    3,
                    1672 ],
                  t:7,
                  e:"button",
                  a:{ "class":"other" },
                  v:{ click:"other" },
                  f:[ { t:2,
                      x:{ r:[ "commonRatios" ],
                        s:"_0?\"Other Ratio\":\"Common Ratios\"" },
                      p:[ 46,
                        42,
                        1711 ] } ] } ] },
            " ",
            { p:[ 49,
                2,
                1777 ],
              t:7,
              e:"div",
              a:{ "class":"half" },
              f:[ { p:[ 51,
                    3,
                    1799 ],
                  t:7,
                  e:"h4",
                  f:[ { t:2,
                      x:{ r:[ "currentMode" ],
                        s:"_0==0?\"Diagonal Length\":\"Length on Side\"" },
                      p:[ 51,
                        7,
                        1803 ] },
                    ": ",
                    { p:[ 51,
                        62,
                        1858 ],
                      t:7,
                      e:"span",
                      a:{ "class":"info hint--large hint--top hint--rounded",
                        "aria-label":[ { t:2,
                            x:{ r:[ "currentMode" ],
                              s:"_0==0?\"Screens are typically measured diagonally which makes it hard to figure out it's actual dimensions before buying.\":\"Just enter the length and select whether this is for the width of the screen or the height.\"" },
                            p:[ 51,
                              129,
                              1925 ] } ] },
                      f:[ "ⓘ" ] } ] },
                " ",
                { p:[ 52,
                    3,
                    2175 ],
                  t:7,
                  e:"div",
                  a:{ "class":"container" },
                  f:[ { p:[ 53,
                        4,
                        2202 ],
                      t:7,
                      e:"div",
                      a:{ "class":"item" },
                      f:[ { p:[ 54,
                            5,
                            2225 ],
                          t:7,
                          e:"label",
                          a:{ "for":"length" },
                          f:[ "Length:" ] },
                        " ",
                        { p:[ 55,
                            5,
                            2265 ],
                          t:7,
                          e:"input",
                          a:{ type:"number",
                            value:[ { t:2,
                                r:"length",
                                p:[ 55,
                                  33,
                                  2293 ] } ],
                            id:"length" } } ] },
                    " ",
                    { p:[ 57,
                        4,
                        2331 ],
                      t:7,
                      e:"div",
                      a:{ "class":"item" },
                      f:[ { t:4,
                          f:[ { p:[ 59,
                                6,
                                2382 ],
                              t:7,
                              e:"label",
                              a:{ "for":"whichSide" },
                              f:[ "Is length for Widest side of the screen?" ] },
                            " ",
                            { p:[ 60,
                                6,
                                2459 ],
                              t:7,
                              e:"input",
                              a:{ type:"checkbox",
                                id:"whichSide",
                                checked:[ { t:2,
                                    r:"lengthIsOnWideSide",
                                    p:[ 60,
                                      53,
                                      2506 ] } ] } } ],
                          n:50,
                          x:{ r:[ "currentMode" ],
                            s:"_0==1" },
                          p:[ 58,
                            5,
                            2354 ] } ] } ] },
                " ",
                { p:[ 66,
                    3,
                    2570 ],
                  t:7,
                  e:"button",
                  v:{ click:"submitAll" },
                  a:{ "class":"other" },
                  f:[ "Submit" ] } ] } ],
          r:"toSub",
          p:[ 15,
            2,
            561 ] } ] },
    " ",
    { p:[ 70,
        1,
        2656 ],
      t:7,
      e:"div",
      a:{ "class":"response" },
      f:[ { t:4,
          f:[ { p:[ 72,
                2,
                2691 ],
              t:7,
              e:"displayresults",
              a:{ height:[ { t:2,
                    r:"height",
                    p:[ 72,
                      26,
                      2715 ] } ],
                width:[ { t:2,
                    r:"width",
                    p:[ 72,
                      45,
                      2734 ] } ],
                aspectRatio:[ { t:2,
                    r:"aspRatio",
                    p:[ 72,
                      69,
                      2758 ] } ],
                diagonal:[ { t:2,
                    r:"diagonal",
                    p:[ 72,
                      93,
                      2782 ] } ],
                mode:[ { t:2,
                    r:"currentMode",
                    p:[ 72,
                      113,
                      2802 ] } ] } } ],
          r:"resp",
          p:[ 71,
            2,
            2680 ] } ] } ] }
},{}],3:[function(require,module,exports){
var component = module

function getWidth(){
	return document.body.clientWidth-100;
}//neede to somehow scale with screen
function getHeight(){
	return document.body.clientHeight-100;
}
component.exports =  {

    isolated: false,
    data: {
    	width:0,
    	height:0,
    	aspectRatio:'0',
    	diagonal:0,
    	offset:50
    },
    computed: {
    	widthOfScreen:{get:function(){
			return getWidth(this.get('width'))>getHeight()?getHeight():getWidth();
    	}},
    	heightOfScreen:{get:function(){
    		return getWidth(this.get('width'))>getHeight()?Math.round(this.get('height')*getHeight()/this.get('width')):Math.round(this.get('height')*getWidth()/this.get('width'))
    	}}
    },
    oncomplete: function () {
        console.log('ok');
    }
};

component.exports.template = { v:3,
  t:[ { p:[ 8,
        1,
        144 ],
      t:7,
      e:"svg",
      a:{ width:[ { t:2,
            r:"widthOfScreen",
            p:[ 8,
              13,
              156 ] },
          "px" ],
        height:[ { t:2,
            r:"heightOfScreen",
            p:[ 8,
              42,
              185 ] },
          "px" ] },
      f:[ { p:[ 9,
            2,
            210 ],
          t:7,
          e:"g",
          f:[ { p:[ 10,
                3,
                216 ],
              t:7,
              e:"rect",
              a:{ width:[ { t:2,
                    r:"widthOfScreen",
                    p:[ 10,
                      16,
                      229 ] },
                  "px" ],
                height:[ { t:2,
                    r:"heightOfScreen",
                    p:[ 10,
                      45,
                      258 ] },
                  "px" ] } },
            " ",
            { p:[ 12,
                3,
                293 ],
              t:7,
              e:"text",
              a:{ transform:[ "translate(",
                  { t:2,
                    x:{ r:[ "widthOfScreen" ],
                      s:"_0/2" },
                    p:[ 12,
                      30,
                      320 ] },
                  ",",
                  { t:2,
                    x:{ r:[ "heightOfScreen" ],
                      s:"_0-10" },
                    p:[ 12,
                      50,
                      340 ] },
                  ")" ],
                "class":"label" },
              f:[ { t:2,
                  r:"width",
                  p:[ 13,
                    4,
                    382 ] },
                "\"" ] },
            " ",
            { p:[ 16,
                3,
                406 ],
              t:7,
              e:"text",
              a:{ transform:[ "translate(",
                  { t:2,
                    x:{ r:[ "widthOfScreen" ],
                      s:"_0-10" },
                    p:[ 16,
                      30,
                      433 ] },
                  ",",
                  { t:2,
                    x:{ r:[ "heightOfScreen" ],
                      s:"_0/2" },
                    p:[ 16,
                      51,
                      454 ] },
                  "),rotate(-90)" ],
                "class":"label" },
              f:[ { t:2,
                  r:"height",
                  p:[ 17,
                    4,
                    507 ] },
                "\"" ] },
            " ",
            { p:[ 20,
                3,
                532 ],
              t:7,
              e:"text",
              a:{ transform:"translate(10,22)",
                "class":"aspRatio" },
              f:[ { t:2,
                  r:"aspectRatio",
                  p:[ 21,
                    4,
                    588 ] },
                " Monitor" ] },
            " ",
            { p:[ 24,
                3,
                625 ],
              t:7,
              e:"text",
              a:{ transform:[ "translate(",
                  { t:2,
                    x:{ r:[ "widthOfScreen",
                        "diagonal" ],
                      s:"(_0/2)-(10*Math.floor(_1.toString().length/2))" },
                    p:[ 24,
                      30,
                      652 ] },
                  ",",
                  { t:2,
                    x:{ r:[ "heightOfScreen" ],
                      s:"_0/2+5" },
                    p:[ 24,
                      98,
                      720 ] },
                  ")" ],
                "class":"aspRatio" },
              f:[ { t:2,
                  r:"diagonal",
                  p:[ 25,
                    4,
                    766 ] },
                "\"" ] },
            " ",
            { p:[ 28,
                3,
                795 ],
              t:7,
              e:"line",
              a:{ y1:"0",
                x1:[ { t:2,
                    r:"widthOfScreen",
                    p:[ 28,
                      20,
                      812 ] } ],
                x2:[ { t:2,
                    x:{ r:[ "widthOfScreen",
                        "offset" ],
                      s:"(_0+_1)/2" },
                    p:[ 28,
                      43,
                      835 ] } ],
                y2:[ { t:2,
                    x:{ r:[ "heightOfScreen",
                        "offset" ],
                      s:"((_0-_1)/2)+11" },
                    p:[ 28,
                      77,
                      869 ] } ] },
              f:[  ] },
            " ",
            { p:[ 30,
                3,
                926 ],
              t:7,
              e:"line",
              a:{ x1:"0",
                y1:[ { t:2,
                    r:"heightOfScreen",
                    p:[ 30,
                      20,
                      943 ] } ],
                x2:[ { t:2,
                    x:{ r:[ "widthOfScreen",
                        "offset" ],
                      s:"(_0-_1)/2" },
                    p:[ 30,
                      44,
                      967 ] } ],
                y2:[ { t:2,
                    x:{ r:[ "heightOfScreen",
                        "offset" ],
                      s:"((_0+_1)/2)-11" },
                    p:[ 30,
                      78,
                      1001 ] } ] },
              f:[  ] } ] } ] } ] }
},{}],4:[function(require,module,exports){
function computeUnit( aspWidth, aspHeight, lengthDiag ) {
    var c = Math.pow( lengthDiag, 2 ),
        b = Math.pow( aspHeight, 2 ),
        a = Math.pow( aspWidth, 2 );
    return Math.sqrt( c / ( a + b ) );
}

function computeWidth( aspWidth, aspHeight, lengthDiag ) {
    return computeUnit( aspWidth, aspHeight, lengthDiag ) * aspWidth;
}

function computeHeight( aspWidth, aspHeight, lengthDiag ) {
    return computeUnit( aspWidth, aspHeight, lengthDiag ) * aspHeight;
}

function computeDiag( aspW, aspH, length, bool ) {
    var val = length,
        multiplier = aspW / aspH;
    if ( bool ) {
        multiplier = 1 / multiplier;
    }
    return Math.sqrt( Math.pow( length, 2 ) + Math.pow( val * multiplier, 2 ) );
}

function preReqsNoGood( arr ) {
    return arr.reduce( function ( a, cur ) {
        return a || Number( cur ) !== cur;
    }, false );
}

module.exports = function ( aspWidth, aspHeight, lengthDiag ) {
    var aspWidth = aspWidth,
        aspHeight = aspHeight,
        lengthDiag = lengthDiag;
    if ( aspHeight === undefined && lengthDiag === undefined ) {
        aspHeight = aspWidth.height;
        lengthDiag = aspWidth.diag;
        aspWidth = aspWidth.width;
    }
    if ( preReqsNoGood( [ aspWidth, lengthDiag, aspHeight ] ) ) {
        return undefined;
    }
    return {
        height: parseNum( computeHeight( aspWidth, aspHeight, lengthDiag ) ),
        width: parseNum( computeWidth( aspWidth, aspHeight, lengthDiag ) ),
        aspRatio: aspWidth + ':' + aspHeight,
        diagonal: parseNum( lengthDiag )
    }
}

module.exports.diag = function ( aspWidth, aspHeight, length, isWidth ) {
    var isWidth = isWidth === undefined ? true : isWidth;
    if ( aspHeight === undefined && length === undefined ) {
        aspHeight = aspWidth.height;
        length = aspWidth.length;
        isWidth = 'lengthIsOnWideSide' in aspWidth ? aspWidth.lengthIsOnWideSide : isWidth;
        aspWidth = aspWidth.width;

    }
    var lengthDiag = computeDiag( aspWidth, aspHeight || 0, length || 0, isWidth );

    if ( preReqsNoGood( [ aspWidth, length, aspHeight ] ) ) {
        console.warn( 'Values inputted are not correct, if first value is an object check documentation for proper object input.', [ aspWidth, length, aspHeight ] );

        return undefined;
    }
    return {
        height: parseNum( isWidth ? aspHeight * length / aspWidth : length ),
        width: parseNum( isWidth ? length : aspWidth * length / aspHeight ),
        aspRatio: aspWidth + ':' + aspHeight,
        diagonal: parseNum( lengthDiag )
    }
}

function parseNum( num ) {
    return Number( num.toFixed( module.exports.truncate ) );
}

module.exports.truncate = 16;

},{}],5:[function(require,module,exports){
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Ractive=e()}(this,function(){"use strict";function t(t){var e;if(t&&"boolean"!=typeof t)return"undefined"!=typeof window&&document&&t?t.nodeType?t:"string"==typeof t&&(e=document.getElementById(t),!e&&document.querySelector&&(e=document.querySelector(t)),e&&e.nodeType)?e:t[0]&&t[0].nodeType?t[0]:null:null}function e(t){return t&&"unknown"!=typeof t.parentNode&&t.parentNode&&t.parentNode.removeChild(t),t}function n(t){return null!=t&&t.toString?t:""}function i(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;e>i;i++)n[i-1]=arguments[i];for(var r,s;s=n.shift();)for(r in s)Oa.call(s,r)&&(t[r]=s[r]);return t}function r(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;e>i;i++)n[i-1]=arguments[i];return n.forEach(function(e){for(var n in e)!e.hasOwnProperty(n)||n in t||(t[n]=e[n])}),t}function s(t){return"[object Array]"===Pa.call(t)}function o(t){return Ta.test(Pa.call(t))}function a(t,e){return null===t&&null===e?!0:"object"==typeof t||"object"==typeof e?!1:t===e}function u(t){return!isNaN(parseFloat(t))&&isFinite(t)}function h(t){return t&&"[object Object]"===Pa.call(t)}function c(t,e){return t.replace(/%s/g,function(){return e.shift()})}function l(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;e>i;i++)n[i-1]=arguments[i];throw t=c(t,n),new Error(t)}function f(){Qb.DEBUG&&Aa.apply(null,arguments)}function d(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;e>i;i++)n[i-1]=arguments[i];t=c(t,n),Sa(t,n)}function p(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;e>i;i++)n[i-1]=arguments[i];t=c(t,n),Ra[t]||(Ra[t]=!0,Sa(t,n))}function m(){Qb.DEBUG&&d.apply(null,arguments)}function v(){Qb.DEBUG&&p.apply(null,arguments)}function g(t,e,n){var i=y(t,e,n);return i?i[t][n]:null}function y(t,e,n){for(;e;){if(n in e[t])return e;if(e.isolated)return null;e=e.parent}}function b(t){return function(){return t}}function w(t){var e,n,i,r,s,o;for(e=t.split("."),(n=Wa[e.length])||(n=x(e.length)),s=[],i=function(t,n){return t?"*":e[n]},r=n.length;r--;)o=n[r].map(i).join("."),s.hasOwnProperty(o)||(s.push(o),s[o]=!0);return s}function x(t){var e,n,i,r,s,o,a,u,h="";if(!Wa[t]){for(i=[];h.length<t;)h+=1;for(e=parseInt(h,2),r=function(t){return"1"===t},s=0;e>=s;s+=1){for(n=s.toString(2);n.length<t;)n="0"+n;for(u=[],a=n.length,o=0;a>o;o++)u.push(r(n[o]));i[s]=u}Wa[t]=i}return Wa[t]}function k(t,e,n,i){var r=t[e];if(!r||!r.equalsOrStartsWith(i)&&r.equalsOrStartsWith(n))return t[e]=r?r.replace(n,i):i,!0}function E(t){var e=t.slice(2);return"i"===t[1]&&u(e)?+e:e}function _(t){return null==t?t:(qa.hasOwnProperty(t)||(qa[t]=new $a(t)),qa[t])}function A(t,e){function n(e,n){var i,r,o;return n.isRoot?o=[].concat(Object.keys(t.viewmodel.data),Object.keys(t.viewmodel.mappings),Object.keys(t.viewmodel.computations)):(i=t.viewmodel.wrapped[n.str],r=i?i.get():t.viewmodel.get(n),o=r?Object.keys(r):null),o&&o.forEach(function(t){"_ractive"===t&&s(r)||e.push(n.join(t))}),e}var i,r,o;for(i=e.str.split("."),o=[Za];r=i.shift();)"*"===r?o=o.reduce(n,[]):o[0]===Za?o[0]=_(r):o=o.map(S(r));return o}function S(t){return function(e){return e.join(t)}}function C(t){return t?t.replace(za,".$1"):""}function O(t,e,n){if("string"!=typeof e||!u(n))throw new Error("Bad arguments");var i=void 0,r=void 0;if(/\*/.test(e))return r={},A(t,_(C(e))).forEach(function(e){var i=t.viewmodel.get(e);if(!u(i))throw new Error(Ka);r[e.str]=i+n}),t.set(r);if(i=t.get(e),!u(i))throw new Error(Ka);return t.set(e,+i+n)}function P(t,e){return Ha(this,t,void 0===e?1:+e)}function T(t){this.event=t,this.method="on"+t,this.deprecate=tu[t]}function F(t,e){var n=t.indexOf(e);-1===n&&t.push(e)}function R(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]==e)return!0;return!1}function j(t,e){var n;if(!s(t)||!s(e))return!1;if(t.length!==e.length)return!1;for(n=t.length;n--;)if(t[n]!==e[n])return!1;return!0}function N(t){return"string"==typeof t?[t]:void 0===t?[]:t}function D(t){return t[t.length-1]}function I(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}function L(t){for(var e=[],n=t.length;n--;)e[n]=t[n];return e}function V(t){setTimeout(t,0)}function M(t,e){return function(){for(var n;n=t.shift();)n(e)}}function U(t,e,n,i){var r;if(e===t)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(e instanceof eu)e.then(n,i);else if(!e||"object"!=typeof e&&"function"!=typeof e)n(e);else{try{r=e.then}catch(s){return void i(s)}if("function"==typeof r){var o,a,u;a=function(e){o||(o=!0,U(t,e,n,i))},u=function(t){o||(o=!0,i(t))};try{r.call(e,a,u)}catch(s){if(!o)return i(s),void(o=!0)}}else n(e)}}function W(t,e,n){var i;return e=C(e),"~/"===e.substr(0,2)?(i=_(e.substring(2)),q(t,i.firstKey,n)):"."===e[0]?(i=z(au(n),e),i&&q(t,i.firstKey,n)):i=B(t,_(e),n),i}function z(t,e){var n;if(void 0!=t&&"string"!=typeof t&&(t=t.str),"."===e)return _(t);if(n=t?t.split("."):[],"../"===e.substr(0,3)){for(;"../"===e.substr(0,3);){if(!n.length)throw new Error('Could not resolve reference - too many "../" prefixes');n.pop(),e=e.substring(3)}return n.push(e),_(n.join("."))}return _(t?t+e.replace(/^\.\//,"."):e.replace(/^\.\/?/,""))}function B(t,e,n,i){var r,s,o,a,u;if(e.isRoot)return e;for(s=e.firstKey;n;)if(r=n.context,n=n.parent,r&&(a=!0,o=t.viewmodel.get(r),o&&("object"==typeof o||"function"==typeof o)&&s in o))return r.join(e.str);return $(t.viewmodel,s)?e:t.parent&&!t.isolated&&(a=!0,n=t.component.parentFragment,s=_(s),u=B(t.parent,s,n,!0))?(t.viewmodel.map(s,{origin:t.parent.viewmodel,keypath:u}),e):i||a?void 0:(t.viewmodel.set(e,void 0),e)}function q(t,e){var n;!t.parent||t.isolated||$(t.viewmodel,e)||(e=_(e),(n=B(t.parent,e,t.component.parentFragment,!0))&&t.viewmodel.map(e,{origin:t.parent.viewmodel,keypath:n}))}function $(t,e){return""===e||e in t.data||e in t.computations||e in t.mappings}function Q(t){t.teardown()}function Z(t){t.unbind()}function H(t){t.unrender()}function K(t){t.cancel()}function G(t){t.detach()}function Y(t){t.detachNodes()}function J(t){!t.ready||t.outros.length||t.outroChildren||(t.outrosComplete||(t.parent?t.parent.decrementOutros(t):t.detachNodes(),t.outrosComplete=!0),t.intros.length||t.totalChildren||("function"==typeof t.callback&&t.callback(),t.parent&&t.parent.decrementTotal()))}function X(){for(var t,e,n;cu.ractives.length;)e=cu.ractives.pop(),n=e.viewmodel.applyChanges(),n&&pu.fire(e,n);for(tt(),t=0;t<cu.views.length;t+=1)cu.views[t].update();for(cu.views.length=0,t=0;t<cu.tasks.length;t+=1)cu.tasks[t]();return cu.tasks.length=0,cu.ractives.length?X():void 0}function tt(){var t,e,n,i;for(t=du.length;t--;)e=du[t],e.keypath?du.splice(t,1):(n=uu(e.root,e.ref,e.parentFragment))&&((i||(i=[])).push({item:e,keypath:n}),du.splice(t,1));i&&i.forEach(et)}function et(t){t.item.resolve(t.keypath)}function nt(t,e,n){var i,r,s,o,a,u,h,c,l,f,d,p,m,v;if(i=new ou(function(t){return r=t}),"object"==typeof t){n=e||{},u=n.easing,h=n.duration,a=[],c=n.step,l=n.complete,(c||l)&&(d={},n.step=null,n.complete=null,f=function(t){return function(e,n){d[t]=n}});for(s in t)t.hasOwnProperty(s)&&((c||l)&&(p=f(s),n={easing:u,duration:h},c&&(n.step=p)),n.complete=l?p:Fa,a.push(it(this,s,t[s],n)));return v={easing:u,duration:h},c&&(v.step=function(t){return c(t,d)}),l&&i.then(function(t){return l(t,d)}),v.complete=r,m=it(this,null,null,v),a.push(m),i.stop=function(){for(var t;t=a.pop();)t.stop();m&&m.stop()},i}return n=n||{},n.complete&&i.then(n.complete),n.complete=r,o=it(this,t,e,n),i.stop=function(){return o.stop()},i}function it(t,e,n,i){var r,s,o,u;return e&&(e=_(C(e))),null!==e&&(u=t.viewmodel.get(e)),yu.abort(e,t),a(u,n)?(i.complete&&i.complete(i.to),ku):(i.easing&&(r="function"==typeof i.easing?i.easing:t.easing[i.easing],"function"!=typeof r&&(r=null)),s=void 0===i.duration?400:i.duration,o=new wu({keypath:e,from:u,to:n,root:t,duration:s,easing:r,interpolator:i.interpolator,step:i.step,complete:i.complete}),yu.add(o),t._animations.push(o),o)}function rt(){return this.detached?this.detached:(this.el&&I(this.el.__ractive_instances__,this),this.detached=this.fragment.detach(),_u.fire(this),this.detached)}function st(t){return this.el?this.fragment.find(t):null}function ot(t,e){var n;return n=this._isComponentQuery?!this.selector||t.name===this.selector:t.node?fa(t.node,this.selector):null,n?(this.push(t.node||t.instance),e||this._makeDirty(),!0):void 0}function at(t){var e;return(e=t.parentFragment)?e.owner:t.component&&(e=t.component.parentFragment)?e.owner:void 0}function ut(t){var e,n;for(e=[t],n=at(t);n;)e.push(n),n=at(n);return e}function ht(t,e,n,i){var r=[];return ka(r,{selector:{value:e},live:{value:n},_isComponentQuery:{value:i},_test:{value:Su}}),n?(ka(r,{cancel:{value:Cu},_root:{value:t},_sort:{value:Tu},_makeDirty:{value:Fu},_remove:{value:Ru},_dirty:{value:!1,writable:!0}}),r):r}function ct(t,e){var n,i;return this.el?(e=e||{},n=this._liveQueries,(i=n[t])?e&&e.live?i:i.slice():(i=ju(this,t,!!e.live,!1),i.live&&(n.push(t),n["_"+t]=i),this.fragment.findAll(t,i),i)):[]}function lt(t,e){var n,i;return e=e||{},n=this._liveComponentQueries,(i=n[t])?e&&e.live?i:i.slice():(i=ju(this,t,!!e.live,!0),i.live&&(n.push(t),n["_"+t]=i),this.fragment.findAllComponents(t,i),i)}function ft(t){return this.fragment.findComponent(t)}function dt(t){return this.container?this.container.component&&this.container.component.name===t?this.container:this.container.findContainer(t):null}function pt(t){return this.parent?this.parent.component&&this.parent.component.name===t?this.parent:this.parent.findParent(t):null}function mt(t,e){var n=void 0===arguments[2]?{}:arguments[2];if(e){n.event?n.event.name=e:n.event={name:e,_noArg:!0};var i=_(e).wildcardMatches();vt(t,i,n.event,n.args,!0)}}function vt(t,e,n,i){var r,s,o=void 0===arguments[4]?!1:arguments[4],a=!0;for(Uu.enqueue(t,n),s=e.length;s>=0;s--)r=t._subs[e[s]],r&&(a=gt(t,r,n,i)&&a);if(Uu.dequeue(t),t.parent&&a){if(o&&t.component){var u=t.component.name+"."+e[e.length-1];e=_(u).wildcardMatches(),n&&(n.component=t)}vt(t.parent,e,n,i)}}function gt(t,e,n,i){var r=null,s=!1;n&&!n._noArg&&(i=[n].concat(i)),e=e.slice();for(var o=0,a=e.length;a>o;o+=1)e[o].apply(t,i)===!1&&(s=!0);return n&&!n._noArg&&s&&(r=n.original)&&(r.preventDefault&&r.preventDefault(),r.stopPropagation&&r.stopPropagation()),!s}function yt(t){var e={args:Array.prototype.slice.call(arguments,1)};Wu(this,t,e)}function bt(t){var e;return t=_(C(t)),e=this.viewmodel.get(t,qu),void 0===e&&this.parent&&!this.isolated&&uu(this,t.str,this.component.parentFragment)&&(e=this.viewmodel.get(t)),e}function wt(e,n){if(!this.fragment.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(e=t(e),n=t(n)||null,!e)throw new Error("You must specify a valid target to insert into");e.insertBefore(this.detach(),n),this.el=e,(e.__ractive_instances__||(e.__ractive_instances__=[])).push(this),this.detached=null,xt(this)}function xt(t){Qu.fire(t),t.findAllComponents("*").forEach(function(t){xt(t.instance)})}function kt(t,e,n){var i,r;return t=_(C(t)),i=this.viewmodel.get(t),s(i)&&s(e)?(r=mu.start(this,!0),this.viewmodel.merge(t,i,e,n),mu.end(),r):this.set(t,e,n&&n.complete)}function Et(t,e){var n,i;return n=A(t,e),i={},n.forEach(function(e){i[e.str]=t.get(e.str)}),i}function _t(t,e,n,i){var r,s,o;e=_(C(e)),i=i||ah,e.isPattern?(r=new sh(t,e,n,i),t.viewmodel.patternObservers.push(r),s=!0):r=new Gu(t,e,n,i),r.init(i.init),t.viewmodel.register(e,r,s?"patternObservers":"observers"),r.ready=!0;var a={cancel:function(){var n;o||(s?(n=t.viewmodel.patternObservers.indexOf(r),t.viewmodel.patternObservers.splice(n,1),t.viewmodel.unregister(e,r,"patternObservers")):t.viewmodel.unregister(e,r,"observers"),o=!0)}};return t._observers.push(a),a}function At(t,e,n){var i,r,s,o;if(h(t)){n=e,r=t,i=[];for(t in r)r.hasOwnProperty(t)&&(e=r[t],i.push(this.observe(t,e,n)));return{cancel:function(){for(;i.length;)i.pop().cancel()}}}if("function"==typeof t)return n=e,e=t,t="",oh(this,t,e,n);if(s=t.split(" "),1===s.length)return oh(this,t,e,n);for(i=[],o=s.length;o--;)t=s[o],t&&i.push(oh(this,t,e,n));return{cancel:function(){for(;i.length;)i.pop().cancel()}}}function St(t,e,n){var i=this.observe(t,function(){e.apply(this,arguments),i.cancel()},{init:!1,defer:n&&n.defer});return i}function Ct(t,e){var n,i=this;if(t)n=t.split(" ").map(ch).filter(lh),n.forEach(function(t){var n,r;(n=i._subs[t])&&(e?(r=n.indexOf(e),-1!==r&&n.splice(r,1)):i._subs[t]=[])});else for(t in this._subs)delete this._subs[t];return this}function Ot(t,e){var n,i,r,s=this;if("object"==typeof t){n=[];for(i in t)t.hasOwnProperty(i)&&n.push(this.on(i,t[i]));return{cancel:function(){for(var t;t=n.pop();)t.cancel()}}}return r=t.split(" ").map(ch).filter(lh),r.forEach(function(t){(s._subs[t]||(s._subs[t]=[])).push(e)}),{cancel:function(){return s.off(t,e)}}}function Pt(t,e){var n=this.on(t,function(){e.apply(this,arguments),n.cancel()});return n}function Tt(t,e,n){var i,r,s,o,a,u,h=[];if(i=Ft(t,e,n),!i)return null;for(r=t.length,a=i.length-2-i[1],s=Math.min(r,i[0]),o=s+i[1],u=0;s>u;u+=1)h.push(u);for(;o>u;u+=1)h.push(-1);for(;r>u;u+=1)h.push(u+a);return h.touchedFrom=0!==a?i[0]:t.length,h}function Ft(t,e,n){switch(e){case"splice":for(void 0!==n[0]&&n[0]<0&&(n[0]=t.length+Math.max(n[0],-t.length));n.length<2;)n.push(0);return n[1]=Math.min(n[1],t.length-n[0]),n;case"sort":case"reverse":return null;case"pop":return t.length?[t.length-1,1]:[0,0];case"push":return[t.length,0].concat(n);case"shift":return[0,t.length?1:0];case"unshift":return[0,0].concat(n)}}function Rt(e,n){var i,r,s,o=this;if(s=this.transitionsEnabled,this.noIntro&&(this.transitionsEnabled=!1),i=mu.start(this,!0),mu.scheduleTask(function(){return Ch.fire(o)},!0),this.fragment.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");if(e=t(e)||this.el,n=t(n)||this.anchor,this.el=e,this.anchor=n,!this.append&&e){var a=e.__ractive_instances__;a&&a.length&&jt(a),e.innerHTML=""}return this.cssId&&Ah.apply(),e&&((r=e.__ractive_instances__)?r.push(this):e.__ractive_instances__=[this],n?e.insertBefore(this.fragment.render(),n):e.appendChild(this.fragment.render())),mu.end(),this.transitionsEnabled=s,i.then(function(){return Oh.fire(o)})}function jt(t){t.splice(0,t.length).forEach(Q)}function Nt(t,e){for(var n=t.slice(),i=e.length;i--;)~n.indexOf(e[i])||n.push(e[i]);return n}function Dt(t,e){var n,i,r;return i='[data-ractive-css~="{'+e+'}"]',r=function(t){var e,n,r,s,o,a,u,h=[];for(e=[];n=Nh.exec(t);)e.push({str:n[0],base:n[1],modifiers:n[2]});for(s=e.map(Lt),u=e.length;u--;)a=s.slice(),r=e[u],a[u]=r.base+i+r.modifiers||"",o=s.slice(),o[u]=i+" "+o[u],h.push(a.join(" "),o.join(" "));return h.join(", ")},n=Ih.test(t)?t.replace(Ih,i):t.replace(jh,"").replace(Rh,function(t,e){var n,i;return Dh.test(e)?t:(n=e.split(",").map(It),i=n.map(r).join(", ")+" ",t.replace(e,i))})}function It(t){return t.trim?t.trim():t.replace(/^\s+/,"").replace(/\s+$/,"")}function Lt(t){return t.str}function Vt(t){t&&t.constructor!==Object&&("function"==typeof t||("object"!=typeof t?l("data option must be an object or a function, `"+t+"` is not valid"):m("If supplied, options.data should be a plain JavaScript object - using a non-POJO as the root object may work, but is discouraged")))}function Mt(t,e){Vt(e);var n="function"==typeof t,i="function"==typeof e;return e||n||(e={}),n||i?function(){var r=i?Ut(e,this):e,s=n?Ut(t,this):t;return Wt(r,s)}:Wt(e,t)}function Ut(t,e){var n=t.call(e);if(n)return"object"!=typeof n&&l("Data function must return an object"),n.constructor!==Object&&v("Data function returned something other than a plain JavaScript object. This might work, but is strongly discouraged"),n}function Wt(t,e){if(t&&e){for(var n in e)n in t||(t[n]=e[n]);return t}return t||e}function zt(t){var e,n,i;return t.matchString("=")?(e=t.pos,t.allowWhitespace(),(n=t.matchPattern(jc))?t.matchPattern(Nc)?(i=t.matchPattern(jc))?(t.allowWhitespace(),t.matchString("=")?[n,i]:(t.pos=e,null)):(t.pos=e,null):null:(t.pos=e,null)):null}function Bt(t){var e;return(e=t.matchPattern(Ic))?{t:pc,v:e}:null}function qt(t){var e,n;if(t.interpolate[t.inside]===!1)return null;for(n=0;n<t.tags.length;n+=1)if(e=$t(t,t.tags[n]))return e}function $t(t,e){var n,i,r,s;if(n=t.pos,t.matchString("\\"+e.open)){if(0===n||"\\"!==t.str[n-1])return e.open}else if(!t.matchString(e.open))return null;if(i=Rc(t))return t.matchString(e.close)?(e.open=i[0],e.close=i[1],t.sortMustacheTags(),Vc):null;if(t.allowWhitespace(),t.matchString("/")){t.pos-=1;var o=t.pos;Dc(t)?t.pos=o:(t.pos=o-e.close.length,t.error("Attempted to close a section that wasn't open"))}for(s=0;s<e.readers.length;s+=1)if(r=e.readers[s],i=r(t,e))return e.isStatic&&(i.s=!0),t.includeLinePositions&&(i.p=t.getLinePos(n)),i;return t.pos=n,null}function Qt(t){var e;return(e=t.matchPattern(zc))?{t:hc,v:e}:null}function Zt(t){var e=t.remaining();return"true"===e.substr(0,4)?(t.pos+=4,{t:dc,v:"true"}):"false"===e.substr(0,5)?(t.pos+=5,{t:dc,v:"false"}):null}function Ht(t){var e;return(e=Kc(t))?Jc.test(e.v)?e.v:'"'+e.v.replace(/"/g,'\\"')+'"':(e=Wc(t))?e.v:(e=t.matchPattern(Gc))?e:void 0}function Kt(t){var e,n,i;return e=t.pos,t.allowWhitespace(),n=Yc(t),null===n?(t.pos=e,null):(t.allowWhitespace(),t.matchString(":")?(t.allowWhitespace(),i=Ol(t),null===i?(t.pos=e,null):{t:vc,k:n,v:i}):(t.pos=e,null))}function Gt(t){var e,n,i,r;return e=t.pos,i=Xc(t),null===i?null:(n=[i],t.matchString(",")?(r=Gt(t),r?n.concat(r):(t.pos=e,null)):n)}function Yt(t){function e(t){i.push(t)}var n,i,r,s;return n=t.pos,t.allowWhitespace(),r=Ol(t),null===r?null:(i=[r],t.allowWhitespace(),t.matchString(",")&&(s=Yt(t),null===s&&t.error(Mc),s.forEach(e)),i)}function Jt(t){return Wc(t)||Bc(t)||Kc(t)||el(t)||il(t)||Dc(t)}function Xt(t){var e,n,i,r,s,o;return e=t.pos,i=t.matchPattern(/^@(?:keypath|index|key)/),i||(n=t.matchPattern(ol)||"",i=!n&&t.relaxedNames&&t.matchPattern(cl)||t.matchPattern(hl),i||"."!==n||(n="",i=".")),i?n||t.relaxedNames||!$c.test(i)?!n&&qc.test(i)?(r=qc.exec(i)[0],t.pos=e+r.length,{t:mc,v:r}):(s=(n||"")+C(i),t.matchString("(")&&(o=s.lastIndexOf("."),-1!==o?(s=s.substr(0,o),t.pos=e+s.length):t.pos-=1),{t:gc,n:s.replace(/^this\./,"./").replace(/^this$/,".")}):(t.pos=e,null):null}function te(t){var e,n;return e=t.pos,t.matchString("(")?(t.allowWhitespace(),n=Ol(t),n||t.error(Mc),t.allowWhitespace(),t.matchString(")")||t.error(Uc),{t:xc,x:n}):null}function ee(t){var e,n,i;if(e=t.pos,t.allowWhitespace(),t.matchString(".")){if(t.allowWhitespace(),n=t.matchPattern(Gc))return{t:yc,n:n};t.error("Expected a property name")}return t.matchString("[")?(t.allowWhitespace(),i=Ol(t),i||t.error(Mc),t.allowWhitespace(),t.matchString("]")||t.error("Expected ']'"),{t:yc,x:i}):null}function ne(t){var e,n,i,r;return(n=Sl(t))?(e=t.pos,t.allowWhitespace(),t.matchString("?")?(t.allowWhitespace(),i=Ol(t),i||t.error(Mc),t.allowWhitespace(),t.matchString(":")||t.error('Expected ":"'),t.allowWhitespace(),r=Ol(t),r||t.error(Mc),{t:kc,o:[n,i,r]}):(t.pos=e,n)):null}function ie(t){return Cl(t)}function re(t){function e(t){switch(t.t){case dc:case mc:case hc:case pc:return t.v;case cc:return JSON.stringify(String(t.v));case lc:return"["+(t.m?t.m.map(e).join(","):"")+"]";case fc:return"{"+(t.m?t.m.map(e).join(","):"")+"}";case vc:return t.k+":"+e(t.v);case wc:return("typeof"===t.s?"typeof ":t.s)+e(t.o);case Ec:return e(t.o[0])+("in"===t.s.substr(0,2)?" "+t.s+" ":t.s)+e(t.o[1]);case _c:return e(t.x)+"("+(t.o?t.o.map(e).join(","):"")+")";case xc:return"("+e(t.x)+")";case bc:return e(t.x)+e(t.r);case yc:return t.n?"."+t.n:"["+e(t.x)+"]";case kc:return e(t.o[0])+"?"+e(t.o[1])+":"+e(t.o[2]);case gc:return"_"+n.indexOf(t.n);default:throw new Error("Expected legal JavaScript")}}var n;return se(t,n=[]),{r:n,s:e(t)}}function se(t,e){var n,i;if(t.t===gc&&-1===e.indexOf(t.n)&&e.unshift(t.n),i=t.o||t.m)if(h(i))se(i,e);else for(n=i.length;n--;)se(i[n],e);t.x&&se(t.x,e),t.r&&se(t.r,e),t.v&&se(t.v,e)}function oe(t,e){var n;if(t){for(;t.t===xc&&t.x;)t=t.x;return t.t===gc?e.r=t.n:t.t===hc&&Fl.test(t.v)?e.r=t.v:(n=ae(t))?e.rx=n:e.x=Pl(t),e}}function ae(t){for(var e,n=[];t.t===bc&&t.r.t===yc;)e=t.r,n.unshift(e.x?e.x.t===gc?e.x:Pl(e.x):e.n),t=t.x;return t.t!==gc?null:{r:t.n,m:n}}function ue(t,e){var n,i=Ol(t);return i?(t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),n={t:Kh},Tl(i,n),n):null}function he(t,e){var n,i;return t.matchString("&")?(t.allowWhitespace(),(n=Ol(t))?(t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),i={t:Kh},Tl(n,i),i):null):null}function ce(t,e){var n,i,r,s,o;return n=t.pos,t.matchString(">")?(t.allowWhitespace(),i=t.pos,t.relaxedNames=!0,r=Ol(t),t.relaxedNames=!1,t.allowWhitespace(),s=Ol(t),t.allowWhitespace(),r?(o={t:tc},Tl(r,o),t.allowWhitespace(),s&&(o={t:Gh,n:Oc,f:[o]},Tl(s,o)),t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),o):null):null}function le(t,e){var n;return t.matchString("!")?(n=t.remaining().indexOf(e.close),-1!==n?(t.pos+=n+e.close.length,{t:ec}):void 0):null}function fe(t,e){var n,i,r;if(n=t.pos,i=Ol(t),!i)return null;for(r=0;r<e.length;r+=1)if(t.remaining().substr(0,e[r].length)===e[r])return i;return t.pos=n,sl(t)}function de(t,e){var n,i,r,s;n=t.pos;try{i=Il(t,[e.close])}catch(o){s=o}if(!i){if("!"===t.str.charAt(n))return t.pos=n,null;if(s)throw s}if(!t.matchString(e.close)&&(t.error("Expected closing delimiter '"+e.close+"' after reference"),!i)){if("!"===t.nextChar())return null;t.error("Expected expression or legal reference")}return r={t:Hh},Tl(i,r),r}function pe(t,e){var n,i,r;return t.matchPattern(Ml)?(n=t.pos,i=t.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/),t.allowWhitespace(),t.matchString(e.close)||t.error("expected legal partial name"),r={t:oc},i&&(r.n=i),r):null}function me(t,e){var n,i,r,s;return n=t.pos,t.matchString(e.open)?(t.allowWhitespace(),t.matchString("/")?(t.allowWhitespace(),i=t.remaining(),r=i.indexOf(e.close),-1!==r?(s={t:Jh,r:i.substr(0,r).split(" ")[0]},t.pos+=r,t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),s):(t.pos=n,null)):(t.pos=n,null)):null}function ve(t,e){var n=t.pos;return t.matchString(e.open)?t.matchPattern(zl)?(t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),{t:Tc}):(t.pos=n,null):null}function ge(t,e){var n,i=t.pos;return t.matchString(e.open)?t.matchPattern(ql)?(n=Ol(t),t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),{t:Fc,x:n}):(t.pos=i,null):null}function ye(t,e){var n,i,r,s,o,a,u,h,c,l,f,d;if(n=t.pos,t.matchString("^"))r={t:Gh,f:[],n:Sc};else{if(!t.matchString("#"))return null;r={t:Gh,f:[]},t.matchString("partial")&&(t.pos=n-t.standardDelimiters[0].length,t.error("Partial definitions can only be at the top level of the template, or immediately inside components")),(u=t.matchPattern(Kl))&&(d=u,r.n=$l[u])}if(t.allowWhitespace(),i=Ol(t),i||t.error("Expected expression"),f=t.matchPattern(Zl)){var p=void 0;r.i=(p=t.matchPattern(Hl))?f+","+p:f}t.allowWhitespace(),t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),t.sectionDepth+=1,o=r.f,c=[];do if(s=Ul(t,e))d&&s.r!==d&&t.error("Expected "+e.open+"/"+d+e.close),t.sectionDepth-=1,l=!0;else if(s=Bl(t,e))r.n===Sc&&t.error("{{else}} not allowed in {{#unless}}"),a&&t.error("illegal {{elseif...}} after {{else}}"),h||(h=be(i,r.n)),h.f.push({t:Gh,n:Ac,x:Pl(xe(c.concat(s.x))),f:o=[]}),c.push(we(s.x));else if(s=Wl(t,e))r.n===Sc&&t.error("{{else}} not allowed in {{#unless}}"),a&&t.error("there can only be one {{else}} block, at the end of a section"),a=!0,h?h.f.push({t:Gh,n:Ac,x:Pl(xe(c)),f:o=[]}):(h=be(i,r.n),o=h.f);else{if(s=t.read(td),!s)break;o.push(s)}while(!l);return h&&(r.n===Oc&&(r.n=Pc),r.l=h),Tl(i,r),r.f.length||delete r.f,r}function be(t,e){var n;return e===Oc?(n={t:Gh,n:Ac,f:[]},Tl(we(t),n)):(n={t:Gh,n:Sc,f:[]},Tl(t,n)),n}function we(t){return t.t===wc&&"!"===t.s?t.o:{t:wc,s:"!",o:ke(t)}}function xe(t){return 1===t.length?t[0]:{t:Ec,s:"&&",o:[ke(t[0]),ke(xe(t.slice(1)))]}}function ke(t){return{t:xc,x:t}}function Ee(t){var e,n,i,r,s;return e=t.pos,t.matchString(Yl)?(i=t.remaining(),r=i.indexOf(Jl),-1===r&&t.error("Illegal HTML - expected closing comment sequence ('-->')"),n=i.substr(0,r),t.pos+=r+3,s={t:ec,c:n},t.includeLinePositions&&(s.p=t.getLinePos(e)),s):null}function _e(t){return t.replace(kl,function(t,e){var n;return n="#"!==e[0]?wl[e]:"x"===e[1]?parseInt(e.substring(2),16):parseInt(e.substring(1),10),n?String.fromCharCode(Ae(n)):t})}function Ae(t){return t?10===t?32:128>t?t:159>=t?xl[t-128]:55296>t?t:57343>=t?65533:65535>=t?t:65533:65533}function Se(t){return t.replace(Al,"&amp;").replace(El,"&lt;").replace(_l,"&gt;")}function Ce(t){return"string"==typeof t}function Oe(t){return t.t===ec||t.t===nc}function Pe(t){return(t.t===Gh||t.t===Yh)&&t.f}function Te(t,e,n,i,r){var o,a,u,h,c,l,f,d;for(hf(t),o=t.length;o--;)a=t[o],a.exclude?t.splice(o,1):e&&a.t===ec&&t.splice(o,1);for(cf(t,i?pf:null,r?mf:null),o=t.length;o--;){if(a=t[o],a.f){var p=a.t===Xh&&df.test(a.e);c=n||p,!n&&p&&cf(a.f,vf,gf),c||(u=t[o-1],h=t[o+1],(!u||"string"==typeof u&&mf.test(u))&&(l=!0),(!h||"string"==typeof h&&pf.test(h))&&(f=!0)),Te(a.f,e,c,l,f)}if(a.l&&(Te(a.l.f,e,n,l,f),t.splice(o+1,0,a.l),delete a.l),a.a)for(d in a.a)a.a.hasOwnProperty(d)&&"string"!=typeof a.a[d]&&Te(a.a[d],e,n,l,f);if(a.m&&Te(a.m,e,n,l,f),a.v)for(d in a.v)a.v.hasOwnProperty(d)&&(s(a.v[d].n)&&Te(a.v[d].n,e,n,l,f),s(a.v[d].d)&&Te(a.v[d].d,e,n,l,f))}for(o=t.length;o--;)"string"==typeof t[o]&&("string"==typeof t[o+1]&&(t[o]=t[o]+t[o+1],t.splice(o+1,1)),n||(t[o]=t[o].replace(ff," ")),""===t[o]&&t.splice(o,1))}function Fe(t){var e,n;return e=t.pos,t.matchString("</")?(n=t.matchPattern(bf))?t.inside&&n!==t.inside?(t.pos=e,null):{t:rc,e:n}:(t.pos-=2,void t.error("Illegal closing tag")):null}function Re(t){var e,n,i;return t.allowWhitespace(),(n=t.matchPattern(kf))?(e={name:n},i=je(t),null!=i&&(e.value=i),e):null}function je(t){var e,n,i,r;return e=t.pos,/[=\/>\s]/.test(t.nextChar())||t.error("Expected `=`, `/`, `>` or whitespace"),t.allowWhitespace(),t.matchString("=")?(t.allowWhitespace(),n=t.pos,i=t.sectionDepth,r=Ie(t,"'")||Ie(t,'"')||De(t),null===r&&t.error("Expected valid attribute value"),t.sectionDepth!==i&&(t.pos=n,t.error("An attribute value must contain as many opening section tags as closing section tags")),r.length?1===r.length&&"string"==typeof r[0]?_e(r[0]):r:""):(t.pos=e,null)}function Ne(t){var e,n,i,r,s;return e=t.pos,(n=t.matchPattern(Ef))?(i=n,r=t.tags.map(function(t){return t.open}),-1!==(s=wf(i,r))&&(n=n.substr(0,s),t.pos=e+n.length),n):null}function De(t){var e,n;for(t.inAttribute=!0,e=[],n=Lc(t)||Ne(t);null!==n;)e.push(n),n=Lc(t)||Ne(t);return e.length?(t.inAttribute=!1,e):null}function Ie(t,e){var n,i,r;if(n=t.pos,!t.matchString(e))return null;for(t.inAttribute=e,i=[],r=Lc(t)||Le(t,e);null!==r;)i.push(r),r=Lc(t)||Le(t,e);return t.matchString(e)?(t.inAttribute=!1,i):(t.pos=n,null)}function Le(t,e){var n,i,r,s;return n=t.pos,r=t.remaining(),s=t.tags.map(function(t){return t.open}),s.push(e),i=wf(r,s),-1===i&&t.error("Quoted attribute value must have a closing quote"),i?(t.pos+=i,r.substr(0,i)):null}function Ve(t){var e,n,i;return t.allowWhitespace(),(e=Yc(t))?(i={key:e},t.allowWhitespace(),t.matchString(":")?(t.allowWhitespace(),(n=t.read())?(i.value=n.v,i):null):null):null}function Me(t,e){var n,i,r,s,o,a,u,h,c;if("string"==typeof t){if(i=Cf.exec(t)){var l=t.lastIndexOf(")");return Of.test(t)||e.error("Invalid input after method call expression '"+t.slice(l+1)+"'"),n={m:i[1]},s="["+t.slice(n.m.length+1,l)+"]",r=new _f(s),n.a=Pl(r.result[0]),n}if(-1===t.indexOf(":"))return t.trim();t=[t]}if(n={},u=[],h=[],t){for(;t.length;)if(o=t.shift(),"string"==typeof o){if(a=o.indexOf(":"),-1!==a){a&&u.push(o.substr(0,a)),o.length>a+1&&(h[0]=o.substring(a+1));break}u.push(o)}else u.push(o);h=h.concat(t)}return u.length?h.length||"string"!=typeof u?(n={n:1===u.length&&"string"==typeof u[0]?u[0]:u},1===h.length&&"string"==typeof h[0]?(c=Af("["+h[0]+"]"),n.a=c?c.value:h[0].trim()):n.d=h):n=u:n="",n}function Ue(t){var e,n,i,r,s,o,a,u,h,c,l,f,d,p,m,v;if(e=t.pos,t.inside||t.inAttribute)return null;if(!t.matchString("<"))return null;if("/"===t.nextChar())return null;if(n={},t.includeLinePositions&&(n.p=t.getLinePos(e)),t.matchString("!"))return n.t=uc,t.matchPattern(/^doctype/i)||t.error("Expected DOCTYPE declaration"),n.a=t.matchPattern(/^(.+?)>/),n;if(n.t=Xh,n.e=t.matchPattern(Tf),!n.e)return null;for(Ff.test(t.nextChar())||t.error("Illegal tag name"),s=function(e,i){var r=i.n||i;Nf.test(r)&&(t.pos-=r.length,t.error("Cannot use reserved event names (change, reset, teardown, update, construct, config, init, render, unrender, detach, insert)")),n.v[e]=i},t.allowWhitespace();o=Lc(t)||xf(t);)o.name?(i=Df[o.name])?n[i]=Sf(o.value,t):(r=jf.exec(o.name))?(n.v||(n.v={}),a=Sf(o.value,t),s(r[1],a)):t.sanitizeEventAttributes&&Rf.test(o.name)||(n.a||(n.a={}),n.a[o.name]=o.value||(""===o.value?"":0)):(n.m||(n.m=[]),n.m.push(o)),t.allowWhitespace();if(t.allowWhitespace(),t.matchString("/")&&(u=!0),!t.matchString(">"))return null;var g=n.e.toLowerCase(),y=t.preserveWhitespace;if(!u&&!bl.test(n.e)){t.elementStack.push(g),("script"===g||"style"===g)&&(t.inside=g),h=[],c=wa(null);do if(p=t.pos,m=t.remaining(),We(g,m))if(v=yf(t)){d=!0;var b=v.e.toLowerCase();if(b!==g&&(t.pos=p,!~t.elementStack.indexOf(b))){var w="Unexpected closing tag";bl.test(b)&&(w+=" (<"+b+"> is a void element - it cannot contain children)"),t.error(w)}}else(f=Ul(t,{open:t.standardDelimiters[0],close:t.standardDelimiters[1]}))?(d=!0,t.pos=p):(f=t.read(ed))?(c[f.n]&&(t.pos=p,t.error("Duplicate partial definition")),lf(f.f,t.stripComments,y,!y,!y),c[f.n]=f.f,l=!0):(f=t.read(td))?h.push(f):d=!0;else d=!0;while(!d);h.length&&(n.f=h),l&&(n.p=c),t.elementStack.pop()}return t.inside=null,t.sanitizeElements&&-1!==t.sanitizeElements.indexOf(g)?If:n}function We(t,e){var n,i;return n=/^<([a-zA-Z][a-zA-Z0-9]*)/.exec(e),i=Pf[t],n&&i?!~i.indexOf(n[1].toLowerCase()):!0}function ze(t){var e,n,i,r;return n=t.remaining(),r=t.inside?"</"+t.inside:"<",t.inside&&!t.interpolate[t.inside]?e=n.indexOf(r):(i=t.tags.map(function(t){return t.open}),i=i.concat(t.tags.map(function(t){return"\\"+t.open})),t.inAttribute===!0?i.push('"',"'","=","<",">","`"):i.push(t.inAttribute?t.inAttribute:r),e=wf(n,i)),e?(-1===e&&(e=n.length),t.pos+=e,t.inside?n.substr(0,e):_e(n.substr(0,e))):null}function Be(t){return t.replace(Wf,"\\$&")}function qe(t){var e=t.pos,n=t.standardDelimiters[0],i=t.standardDelimiters[1],r=void 0,s=void 0;if(!t.matchPattern(Bf)||!t.matchString(n))return t.pos=e,null;var o=t.matchPattern(qf);if(v("Inline partial comments are deprecated.\nUse this...\n  {{#partial "+o+"}} ... {{/partial}}\n\n...instead of this:\n  <!-- {{>"+o+"}} --> ... <!-- {{/"+o+"}} -->'"),!t.matchString(i)||!t.matchPattern($f))return t.pos=e,null;r=[];var a=new RegExp("^<!--\\s*"+Uf(n)+"\\s*\\/\\s*"+o+"\\s*"+Uf(i)+"\\s*-->");do t.matchPattern(a)?s=!0:(Lf=t.read(td),Lf||t.error("expected closing comment ('<!-- "+n+"/"+o+i+" -->')"),r.push(Lf));while(!s);return{t:ac,f:r,n:o}}function $e(t){var e,n,i,r,s;e=t.pos;var o=t.standardDelimiters;if(!t.matchString(o[0]))return null;if(!t.matchPattern(Zf))return t.pos=e,null;n=t.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/),n||t.error("expected legal partial name"),t.matchString(o[1])||t.error("Expected closing delimiter '"+o[1]+"'"),i=[];do(r=Ul(t,{open:t.standardDelimiters[0],close:t.standardDelimiters[1]}))?("partial"===!r.r&&t.error("Expected "+o[0]+"/partial"+o[1]),s=!0):(r=t.read(td),r||t.error("Expected "+o[0]+"/partial"+o[1]),i.push(r));while(!s);return{t:ac,n:n,f:i}}function Qe(t){for(var e=[],n=wa(null),i=!1,r=t.preserveWhitespace;t.pos<t.str.length;){var s=t.pos,o=void 0,a=void 0;(a=t.read(ed))?(n[a.n]&&(t.pos=s,t.error("Duplicated partial definition")),lf(a.f,t.stripComments,r,!r,!r),n[a.n]=a.f,i=!0):(o=t.read(td))?e.push(o):t.error("Unexpected template content");

}var u={v:oa,t:e};return i&&(u.p=n),u}function Ze(t,e){return new Xf(t,e||{}).result}function He(t){var e=wa(od);return e.parse=function(e,n){return Ke(e,n||t)},e}function Ke(t,e){if(!Kf)throw new Error("Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser");return Kf(t,e||this.options)}function Ge(t,e){var n;if(!Xo){if(e&&e.noThrow)return;throw new Error("Cannot retrieve template #"+t+" as Ractive is not running in a browser.")}if(Ye(t)&&(t=t.substring(1)),!(n=document.getElementById(t))){if(e&&e.noThrow)return;throw new Error("Could not find template element with id #"+t)}if("SCRIPT"!==n.tagName.toUpperCase()){if(e&&e.noThrow)return;throw new Error("Template element with id #"+t+", must be a <script> element")}return"textContent"in n?n.textContent:n.innerHTML}function Ye(t){return t&&"#"===t[0]}function Je(t){return!("string"==typeof t)}function Xe(t){return t.defaults&&(t=t.defaults),sd.reduce(function(e,n){return e[n]=t[n],e},{})}function tn(t){var e,n=t._config.template;if(n&&n.fn)return e=en(t,n.fn),e!==n.result?(n.result=e,e=rn(e,t)):void 0}function en(t,e){var n=nn(ad.getParseOptions(t));return e.call(t,n)}function nn(t){var e=wa(ad);return e.parse=function(e,n){return ad.parse(e,n||t)},e}function rn(t,e){if("string"==typeof t)"#"===t[0]&&(t=ad.fromId(t)),t=Kf(t,ad.getParseOptions(e));else{if(void 0==t)throw new Error("The template cannot be "+t+".");if("number"!=typeof t.v)throw new Error("The template parser was passed a non-string template, but the template doesn't have a version.  Make sure you're passing in the template you think you are.");if(t.v!==oa)throw new Error("Mismatched template version (expected "+oa+", got "+t.v+") Please ensure you are using the latest version of Ractive.js in your build process as well as in your app")}return t}function sn(t,e,n){if(e)for(var i in e)(n||!t.hasOwnProperty(i))&&(t[i]=e[i])}function on(t,e,n){if(!/_super/.test(n))return n;var i=function(){var t,r=an(i._parent,e),s="_super"in this,o=this._super;return this._super=r,t=n.apply(this,arguments),s?this._super=o:delete this._super,t};return i._parent=t,i._method=n,i}function an(t,e){var n,i;return e in t?(n=t[e],i="function"==typeof n?n:function(){return n}):i=Fa,i}function un(t,e,n){return"options."+t+" has been deprecated in favour of options."+e+"."+(n?" You cannot specify both options, please use options."+e+".":"")}function hn(t,e,n){if(e in t){if(n in t)throw new Error(un(e,n,!0));m(un(e,n)),t[n]=t[e]}}function cn(t){hn(t,"beforeInit","onconstruct"),hn(t,"init","onrender"),hn(t,"complete","oncomplete"),hn(t,"eventDefinitions","events"),s(t.adaptors)&&hn(t,"adaptors","adapt")}function ln(t,e,n,i){yd(i);for(var r in i)if(md.hasOwnProperty(r)){var s=i[r];"el"!==r&&"function"==typeof s?m(""+r+" is a Ractive option that does not expect a function and will be ignored","init"===t?n:null):n[r]=s}vd.forEach(function(r){r[t](e,n,i)}),Th[t](e,n,i),hd[t](e,n,i),Mh[t](e,n,i),fn(e.prototype,n,i)}function fn(t,e,n){for(var i in n)if(!pd[i]&&n.hasOwnProperty(i)){var r=n[i];"function"==typeof r&&(r=gd(t,i,r)),e[i]=r}}function dn(t){var e={};return t.forEach(function(t){return e[t]=!0}),e}function pn(){this.dirtyValue=this.dirtyArgs=!0,this.bound&&"function"==typeof this.owner.bubble&&this.owner.bubble()}function mn(){var t;return 1===this.items.length?this.items[0].detach():(t=document.createDocumentFragment(),this.items.forEach(function(e){var n=e.detach();n&&t.appendChild(n)}),t)}function vn(t){var e,n,i,r;if(this.items){for(n=this.items.length,e=0;n>e;e+=1)if(i=this.items[e],i.find&&(r=i.find(t)))return r;return null}}function gn(t,e){var n,i,r;if(this.items)for(i=this.items.length,n=0;i>n;n+=1)r=this.items[n],r.findAll&&r.findAll(t,e);return e}function yn(t,e){var n,i,r;if(this.items)for(i=this.items.length,n=0;i>n;n+=1)r=this.items[n],r.findAllComponents&&r.findAllComponents(t,e);return e}function bn(t){var e,n,i,r;if(this.items){for(e=this.items.length,n=0;e>n;n+=1)if(i=this.items[n],i.findComponent&&(r=i.findComponent(t)))return r;return null}}function wn(t){var e,n=t.index;return e=this.items[n+1]?this.items[n+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)}function xn(){return this.items&&this.items[0]?this.items[0].firstNode():null}function kn(t,e,n,i){return i=i||0,t.map(function(t){var r,s,o;return t.text?t.text:t.fragments?t.fragments.map(function(t){return kn(t.items,e,n,i)}).join(""):(r=n+"-"+i++,o=t.keypath&&(s=t.root.viewmodel.wrapped[t.keypath.str])?s.value:t.getValue(),e[r]=o,"${"+r+"}")}).join("")}function En(){var t,e,n,i;return this.dirtyArgs&&(e=Od(this.items,t={},this.root._guid),n=Af("["+e+"]",t),i=n?n.value:[this.toString()],this.argsList=i,this.dirtyArgs=!1),this.argsList}function _n(){var t=this;do if(t.pElement)return t.pElement.node;while(t=t.parent);return this.root.detached||this.root.el}function An(){var t,e,n,i;return this.dirtyValue&&(e=Od(this.items,t={},this.root._guid),n=Af(e,t),i=n?n.value:this.toString(),this.value=i,this.dirtyValue=!1),this.value}function Sn(){this.registered&&this.root.viewmodel.unregister(this.keypath,this),this.resolver&&this.resolver.unbind()}function Cn(){return this.value}function On(t,e){for(var n,i=0;i<e.prop.length;i++)if(void 0!==(n=t[e.prop[i]]))return n}function Pn(t,e){var n,i,r,s,o,a={},u=!1;for(e||(a.refs=n={});t;){if((o=t.owner)&&(i=o.indexRefs)){if(e&&(r=o.getIndexRef(e)))return a.ref={fragment:t,ref:r},a;if(!e)for(s in i)r=i[s],n[r.n]||(u=!0,n[r.n]={fragment:t,ref:r})}!t.parent&&t.owner&&t.owner.component&&t.owner.component.parentFragment&&!t.owner.component.instance.isolated?(a.componentBoundary=!0,t=t.owner.component.parentFragment):t=t.parent}return u?a:void 0}function Tn(t,e,n){var i;return"@"===e.charAt(0)?new Wd(t,e,n):(i=qd(t.parentFragment,e))?new Bd(t,i,n):new Vd(t,e,n)}function Fn(t,e){var n,i;if(Hd[t])return Hd[t];for(i=[];e--;)i[e]="_"+e;return n=new Function(i.join(","),"return("+t+")"),Hd[t]=n,n}function Rn(t){return t.call()}function jn(t,e){return t.replace(/_([0-9]+)/g,function(t,n){var i,r;return+n>=e.length?"_"+n:(i=e[n],void 0===i?"undefined":i.isSpecial?(r=i.value,"number"==typeof r?r:'"'+r+'"'):i.str)})}function Nn(t){return _("${"+t.replace(/[\.\[\]]/g,"-").replace(/\*/,"#MUL#")+"}")}function Dn(t){return void 0!==t&&"@"!==t[0]}function In(t,e){var n,i,r;if(t.__ractive_nowrap)return t;if(i="__ractive_"+e._guid,n=t[i])return n;if(/this/.test(t.toString())){xa(t,i,{value:Kd.call(t,e),configurable:!0});for(r in t)t.hasOwnProperty(r)&&(t[i][r]=t[r]);return e._boundFunctions.push({fn:t,prop:i}),t[i]}return xa(t,"__ractive_nowrap",{value:t}),t.__ractive_nowrap}function Ln(t){return t.value}function Vn(t){return void 0!=t}function Mn(t){t.forceResolution()}function Un(t,e){function n(e){t.resolve(e)}function i(e){var n=t.keypath;e!=n&&(t.resolve(e),void 0!==n&&t.fragments&&t.fragments.forEach(function(t){t.rebind(n,e)}))}var r,s,o;s=e.parentFragment,o=e.template,t.root=s.root,t.parentFragment=s,t.pElement=s.pElement,t.template=e.template,t.index=e.index||0,t.isStatic=e.template.s,t.type=e.template.t,t.registered=!1,(r=o.r)&&(t.resolver=Qd(t,r,n)),e.template.x&&(t.resolver=new Gd(t,s,e.template.x,i)),e.template.rx&&(t.resolver=new tp(t,e.template.rx,i)),t.template.n!==Sc||t.hasOwnProperty("value")||t.setValue(void 0)}function Wn(t){var e,n,i;return t&&t.isSpecial?(this.keypath=t,void this.setValue(t.value)):(this.registered&&(this.root.viewmodel.unregister(this.keypath,this),this.registered=!1,e=!0),this.keypath=t,void 0!=t&&(n=this.root.viewmodel.get(t),this.root.viewmodel.register(t,this),this.registered=!0),this.setValue(n),void(e&&(i=this.twowayBinding)&&i.rebound()))}function zn(t,e){this.fragments&&this.fragments.forEach(function(n){return n.rebind(t,e)}),this.resolver&&this.resolver.rebind(t,e)}function Bn(){this.parentFragment.bubble()}function qn(){var t;return 1===this.fragments.length?this.fragments[0].detach():(t=document.createDocumentFragment(),this.fragments.forEach(function(e){t.appendChild(e.detach())}),t)}function $n(t){var e,n,i;for(n=this.fragments.length,e=0;n>e;e+=1)if(i=this.fragments[e].find(t))return i;return null}function Qn(t,e){var n,i;for(i=this.fragments.length,n=0;i>n;n+=1)this.fragments[n].findAll(t,e)}function Zn(t,e){var n,i;for(i=this.fragments.length,n=0;i>n;n+=1)this.fragments[n].findAllComponents(t,e)}function Hn(t){var e,n,i;for(n=this.fragments.length,e=0;n>e;e+=1)if(i=this.fragments[e].findComponent(t))return i;return null}function Kn(t){return this.fragments[t.index+1]?this.fragments[t.index+1].firstNode():this.parentFragment.findNextNode(this)}function Gn(){var t,e,n;if(t=this.fragments.length)for(e=0;t>e;e+=1)if(n=this.fragments[e].firstNode())return n;return this.parentFragment.findNextNode(this)}function Yn(t){var e,n,i,r,s,o,a,u=this;if(!this.shuffling&&!this.unbound&&this.currentSubtype===Cc){if(this.shuffling=!0,mu.scheduleTask(function(){return u.shuffling=!1}),e=this.parentFragment,s=[],t.forEach(function(t,e){var i,r,o,a,h;return t===e?void(s[t]=u.fragments[e]):(i=u.fragments[e],void 0===n&&(n=e),-1===t?(u.fragmentsToUnrender.push(i),void i.unbind()):(r=t-e,o=u.keypath.join(e),a=u.keypath.join(t),i.index=t,(h=i.registeredIndexRefs)&&h.forEach(Jn),i.rebind(o,a),void(s[t]=i)))}),r=this.root.viewmodel.get(this.keypath).length,void 0===n){if(this.length===r)return;n=this.length}for(this.length=this.fragments.length=r,this.rendered&&mu.addView(this),o={template:this.template.f,root:this.root,owner:this},i=n;r>i;i+=1)a=s[i],a||this.fragmentsToCreate.push(i),this.fragments[i]=a}}function Jn(t){t.rebind("","")}function Xn(){var t=this;return this.docFrag=document.createDocumentFragment(),this.fragments.forEach(function(e){return t.docFrag.appendChild(e.render())}),this.renderedFragments=this.fragments.slice(),this.fragmentsToRender=[],this.rendered=!0,this.docFrag}function ti(t){var e,n,i=this;this.updating||(this.updating=!0,this.keypath&&(e=this.root.viewmodel.wrapped[this.keypath.str])&&(t=e.get()),this.fragmentsToCreate.length?(n={template:this.template.f||[],root:this.root,pElement:this.pElement,owner:this},this.fragmentsToCreate.forEach(function(t){var e;n.context=i.keypath.join(t),n.index=t,e=new yb(n),i.fragmentsToRender.push(i.fragments[t]=e)}),this.fragmentsToCreate.length=0):ni(this,t)&&(this.bubble(),this.rendered&&mu.addView(this)),this.value=t,this.updating=!1)}function ei(t,e,n){if(e===Cc&&t.indexRefs&&t.indexRefs[0]){var i=t.indexRefs[0];(n&&"i"===i.t||!n&&"k"===i.t)&&(n||(t.length=0,t.fragmentsToUnrender=t.fragments.slice(0),t.fragmentsToUnrender.forEach(function(t){return t.unbind()}))),i.t=n?"k":"i"}t.currentSubtype=e}function ni(t,e){var n={template:t.template.f||[],root:t.root,pElement:t.parentFragment.pElement,owner:t};if(t.hasContext=!0,t.subtype)switch(t.subtype){case Ac:return t.hasContext=!1,ai(t,e,!1,n);case Sc:return t.hasContext=!1,ai(t,e,!0,n);case Oc:return oi(t,n);case Pc:return si(t,e,n);case Cc:if(h(e))return ei(t,t.subtype,!0),ri(t,e,n)}return t.ordered=!!o(e),t.ordered?(ei(t,Cc,!1),ii(t,e,n)):h(e)||"function"==typeof e?t.template.i?(ei(t,Cc,!0),ri(t,e,n)):(ei(t,Oc,!1),oi(t,n)):(ei(t,Ac,!1),t.hasContext=!1,ai(t,e,!1,n))}function ii(t,e,n){var i,r,s;if(r=e.length,r===t.length)return!1;if(r<t.length)t.fragmentsToUnrender=t.fragments.splice(r,t.length-r),t.fragmentsToUnrender.forEach(Z);else if(r>t.length)for(i=t.length;r>i;i+=1)n.context=t.keypath.join(i),n.index=i,s=new yb(n),t.fragmentsToRender.push(t.fragments[i]=s);return t.length=r,!0}function ri(t,e,n){var i,r,s,o,a,u;for(s=t.hasKey||(t.hasKey={}),r=t.fragments.length;r--;)o=t.fragments[r],o.key in e||(a=!0,o.unbind(),t.fragmentsToUnrender.push(o),t.fragments.splice(r,1),s[o.key]=!1);for(r=t.fragments.length;r--;)o=t.fragments[r],o.index!==r&&(o.index=r,(u=o.registeredIndexRefs)&&u.forEach(ci));r=t.fragments.length;for(i in e)s[i]||(a=!0,n.context=t.keypath.join(i),n.key=i,n.index=r++,o=new yb(n),t.fragmentsToRender.push(o),t.fragments.push(o),s[i]=!0);return t.length=t.fragments.length,a}function si(t,e,n){return e?oi(t,n):ui(t)}function oi(t,e){var n;return t.length?void 0:(e.context=t.keypath,e.index=0,n=new yb(e),t.fragmentsToRender.push(t.fragments[0]=n),t.length=1,!0)}function ai(t,e,n,i){var r,s,a,u,c;if(s=o(e)&&0===e.length,a=!1,!o(e)&&h(e)){a=!0;for(c in e){a=!1;break}}return r=n?s||a||!e:e&&!s&&!a,r?t.length?t.length>1?(t.fragmentsToUnrender=t.fragments.splice(1),t.fragmentsToUnrender.forEach(Z),!0):void 0:(i.index=0,u=new yb(i),t.fragmentsToRender.push(t.fragments[0]=u),t.length=1,!0):ui(t)}function ui(t){return t.length?(t.fragmentsToUnrender=t.fragments.splice(0,t.fragments.length).filter(hi),t.fragmentsToUnrender.forEach(Z),t.length=t.fragmentsToRender.length=0,!0):void 0}function hi(t){return t.rendered}function ci(t){t.rebind("","")}function li(t){var e,n,i;for(e="",n=0,i=this.length,n=0;i>n;n+=1)e+=this.fragments[n].toString(t);return e}function fi(){var t=this;this.fragments.forEach(Z),this.fragmentsToRender.forEach(function(e){return I(t.fragments,e)}),this.fragmentsToRender=[],Dd.call(this),this.length=0,this.unbound=!0}function di(t){this.fragments.forEach(t?pi:mi),this.renderedFragments=[],this.rendered=!1}function pi(t){t.unrender(!0)}function mi(t){t.unrender(!1)}function vi(){var t,e,n,i,r,s,o;for(n=this.renderedFragments;t=this.fragmentsToUnrender.pop();)t.unrender(!0),n.splice(n.indexOf(t),1);for(;t=this.fragmentsToRender.shift();)t.render();for(this.rendered&&(r=this.parentFragment.getNode()),o=this.fragments.length,s=0;o>s;s+=1)t=this.fragments[s],e=n.indexOf(t,s),e!==s?(this.docFrag.appendChild(t.detach()),-1!==e&&n.splice(e,1),n.splice(s,0,t)):this.docFrag.childNodes.length&&(i=t.firstNode(),r.insertBefore(this.docFrag,i));this.rendered&&this.docFrag.childNodes.length&&(i=this.parentFragment.findNextNode(this),r.insertBefore(this.docFrag,i)),this.renderedFragments=this.fragments.slice()}function gi(){var t,e;if(this.docFrag){for(t=this.nodes.length,e=0;t>e;e+=1)this.docFrag.appendChild(this.nodes[e]);return this.docFrag}}function yi(t){var e,n,i,r;for(n=this.nodes.length,e=0;n>e;e+=1)if(i=this.nodes[e],1===i.nodeType){if(fa(i,t))return i;if(r=i.querySelector(t))return r}return null}function bi(t,e){var n,i,r,s,o,a;for(i=this.nodes.length,n=0;i>n;n+=1)if(r=this.nodes[n],1===r.nodeType&&(fa(r,t)&&e.push(r),s=r.querySelectorAll(t)))for(o=s.length,a=0;o>a;a+=1)e.push(s[a])}function wi(){return this.rendered&&this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)}function xi(t){return Fp[t]||(Fp[t]=la(t))}function ki(t){var e,n,i;t&&"select"===t.name&&t.binding&&(e=L(t.node.options).filter(Ei),t.getAttribute("multiple")?i=e.map(function(t){return t.value}):(n=e[0])&&(i=n.value),void 0!==i&&t.binding.setValue(i),t.bubble())}function Ei(t){return t.selected}function _i(){if(this.rendered)throw new Error("Attempted to render an item that was already rendered");return this.docFrag=document.createDocumentFragment(),this.nodes=Rp(this.value,this.parentFragment.getNode(),this.docFrag),jp(this.pElement),this.rendered=!0,this.docFrag}function Ai(t){var e;(e=this.root.viewmodel.wrapped[this.keypath.str])&&(t=e.get()),t!==this.value&&(this.value=t,this.parentFragment.bubble(),this.rendered&&mu.addView(this))}function Si(){return void 0!=this.value?_e(""+this.value):""}function Ci(t){this.rendered&&t&&(this.nodes.forEach(e),this.rendered=!1)}function Oi(){var t,e;if(this.rendered){for(;this.nodes&&this.nodes.length;)t=this.nodes.pop(),t.parentNode.removeChild(t);e=this.parentFragment.getNode(),this.nodes=Rp(this.value,e,this.docFrag),e.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),jp(this.pElement)}}function Pi(){var t,e=this.node;return e?((t=e.parentNode)&&t.removeChild(e),e):void 0}function Ti(){return null}function Fi(){return this.node}function Ri(t){return this.attributes&&this.attributes[t]?this.attributes[t].value:void 0}function ji(){var t=this.useProperty||!this.rendered?this.fragment.getValue():this.fragment.toString();a(t,this.value)||("id"===this.name&&this.value&&delete this.root.nodes[this.value],this.value=t,"value"===this.name&&this.node&&(this.node._ractive.value=t),this.rendered&&mu.addView(this))}function Ni(t){var e=t.fragment.items;if(1===e.length)return e[0].type===Hh?e[0]:void 0}function Di(t){return this.type=ic,this.element=t.element,this.root=t.root,sm(this,t.name),this.isBoolean=yl.test(this.name),t.value&&"string"!=typeof t.value?(this.parentFragment=this.element.parentFragment,this.fragment=new yb({template:t.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),this.interpolator=om(this),this.isBindable=!!this.interpolator&&!this.interpolator.isStatic,void(this.ready=!0)):void(this.value=this.isBoolean?!0:t.value||"")}function Ii(t,e){this.fragment&&this.fragment.rebind(t,e)}function Li(t){var e;this.node=t,t.namespaceURI&&t.namespaceURI!==ia.html||(e=cm[this.name]||this.name,void 0!==t[e]&&(this.propertyName=e),(this.isBoolean||this.isTwoway)&&(this.useProperty=!0),"value"===e&&(t._ractive.value=this.value)),this.rendered=!0,this.update()}function Vi(){var t=this,e=t.name,n=t.namespacePrefix,i=t.value,r=t.interpolator,s=t.fragment;if(("value"!==e||"select"!==this.element.name&&"textarea"!==this.element.name)&&("value"!==e||void 0===this.element.getAttribute("contenteditable"))){if("name"===e&&"input"===this.element.name&&r)return"name={{"+(r.keypath.str||r.ref)+"}}";if(this.isBoolean)return i?e:"";if(s){if(1===s.items.length&&null==s.items[0].value)return"";i=s.toString()}return n&&(e=n+":"+e),i?e+'="'+Mi(i)+'"':e}}function Mi(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function Ui(){this.fragment&&this.fragment.unbind(),"id"===this.name&&delete this.root.nodes[this.value]}function Wi(){var t,e,n,i,r=this.value;if(!this.locked)for(this.node._ractive.value=r,t=this.node.options,i=t.length;i--;)if(e=t[i],n=e._ractive?e._ractive.value:e.value,n==r){e.selected=!0;break}}function zi(){var t,e,n,i,r=this.value;for(s(r)||(r=[r]),t=this.node.options,e=t.length;e--;)n=t[e],i=n._ractive?n._ractive.value:n.value,n.selected=R(r,i)}function Bi(){var t=this,e=t.node,n=t.value;e.checked=n==e._ractive.value}function qi(){var t,e,n,i,r=this.node;if(t=r.checked,r.value=this.element.getAttribute("value"),r.checked=this.element.getAttribute("value")===this.element.getAttribute("name"),t&&!r.checked&&this.element.binding&&(n=this.element.binding.siblings,i=n.length)){for(;i--;){if(e=n[i],!e.element.node)return;if(e.element.node.checked)return mu.addRactive(e.root),e.handleChange()}this.root.viewmodel.set(e.keypath,void 0)}}function $i(){var t,e,n=this,i=n.element,r=n.node,o=n.value,a=i.binding;if(t=i.getAttribute("value"),s(o)){for(e=o.length;e--;)if(t==o[e])return void(a.isChecked=r.checked=!0);a.isChecked=r.checked=!1}else a.isChecked=r.checked=o==t}function Qi(){this.node.className=n(this.value)}function Zi(){var t=this,e=t.node,n=t.value;this.root.nodes[n]=e,e.id=n}function Hi(){var t,e;t=this.node,e=this.value,void 0===e&&(e=""),t.style.setAttribute("cssText",e)}function Ki(){var t=this.value;void 0===t&&(t=""),this.locked||(this.node.innerHTML=t)}function Gi(){var t=this,e=t.node,n=t.value;e._ractive.value=n,this.locked||(e.value=void 0==n?"":n)}function Yi(){this.locked||(this.node[this.propertyName]=this.value)}function Ji(){var t=this,e=t.node,n=t.namespace,i=t.name,r=t.value,s=t.fragment;n?e.setAttributeNS(n,i,(s||r).toString()):this.isBoolean?r?e.setAttribute(i,""):e.removeAttribute(i):null==r?e.removeAttribute(i):e.setAttribute(i,(s||r).toString())}function Xi(){var t,e,n=this,i=n.name,r=n.element,s=n.node;"id"===i?e=bm:"value"===i?"select"===r.name&&"value"===i?e=r.getAttribute("multiple")?pm:dm:"textarea"===r.name?e=km:null!=r.getAttribute("contenteditable")?e=xm:"input"===r.name&&(t=r.getAttribute("type"),e="file"===t?Fa:"radio"===t&&r.binding&&"name"===r.binding.name?vm:km):this.isTwoway&&"name"===i?"radio"===s.type?e=mm:"checkbox"===s.type&&(e=gm):"style"===i&&s.style.setAttribute?e=wm:"class"!==i||s.namespaceURI&&s.namespaceURI!==ia.html?this.useProperty&&(e=Em):e=ym,e||(e=_m),this.update=e,this.update()}function tr(t,e){var n=e?"svg":"div";return Cm.innerHTML="<"+n+" "+t+"></"+n+">",L(Cm.childNodes[0].attributes)}function er(t,e){for(var n=t.length;n--;)if(t[n].name===e.name)return!1;return!0}function nr(t){for(;t=t.parent;)if("form"===t.name)return t}function ir(){this._ractive.binding.handleChange()}function rr(){var t;Im.call(this),t=this._ractive.root.viewmodel.get(this._ractive.binding.keypath),this.value=void 0==t?"":t}function sr(){var t=this._ractive.binding,e=this;t._timeout&&clearTimeout(t._timeout),t._timeout=setTimeout(function(){t.rendered&&Im.call(e),t._timeout=void 0},t.element.lazy)}function or(t,e,n){var i=t+e+n;return Wm[i]||(Wm[i]=[])}function ar(t){return t.isChecked}function ur(t){return t.element.getAttribute("value")}function hr(t){var e,n,i,r,s,o=t.attributes;return t.binding&&(t.binding.teardown(),t.binding=null),(t.getAttribute("contenteditable")||o.contenteditable&&cr(o.contenteditable))&&cr(o.value)?n=Mm:"input"===t.name?(e=t.getAttribute("type"),"radio"===e||"checkbox"===e?(i=cr(o.name),r=cr(o.checked),i&&r&&m("A radio input can have two-way binding on its name attribute, or its checked attribute - not both",{ractive:t.root}),i?n="radio"===e?$m:Zm:r&&(n="radio"===e?Bm:Km)):"file"===e&&cr(o.value)?n=ev:cr(o.value)&&(n="number"===e||"range"===e?nv:Lm)):"select"===t.name&&cr(o.value)?n=t.getAttribute("multiple")?Xm:Ym:"textarea"===t.name&&cr(o.value)&&(n=Lm),n&&(s=new n(t))&&s.keypath?s:void 0}function cr(t){return t&&t.isBindable}function lr(){var t=this.getAction();t&&!this.hasListener?this.listen():!t&&this.hasListener&&this.unrender()}function fr(t){Wu(this.root,this.getAction(),{event:t})}function dr(){return this.action.toString().trim()}function pr(t,e,n){var i,r,s,o=this;this.element=t,this.root=t.root,this.parentFragment=t.parentFragment,this.name=e,-1!==e.indexOf("*")&&(l('Only component proxy-events may contain "*" wildcards, <%s on-%s="..."/> is not valid',t.name,e),this.invalid=!0),n.m?(r=n.a.r,this.method=n.m,this.keypaths=[],this.fn=Zd(n.a.s,r.length),this.parentFragment=t.parentFragment,s=this.root,this.refResolvers=[],r.forEach(function(t,e){var n=void 0;(n=uv.exec(t))?o.keypaths[e]={eventObject:!0,refinements:n[1]?n[1].split("."):[]}:o.refResolvers.push(Qd(o,t,function(t){return o.resolve(e,t)}))}),this.fire=mr):(i=n.n||n,"string"!=typeof i&&(i=new yb({template:i,root:this.root,owner:this})),this.action=i,n.d?(this.dynamicParams=new yb({template:n.d,root:this.root,owner:this.element}),this.fire=gr):n.a&&(this.params=n.a,this.fire=vr))}function mr(t){var e,n,i;if(e=this.root,"function"!=typeof e[this.method])throw new Error('Attempted to call a non-existent method ("'+this.method+'")');n=this.keypaths.map(function(n){var i,r,s;if(void 0===n)return void 0;if(n.eventObject){if(i=t,r=n.refinements.length)for(s=0;r>s;s+=1)i=i[n.refinements[s]]}else i=e.viewmodel.get(n);return i}),Uu.enqueue(e,t),i=this.fn.apply(null,n),e[this.method].apply(e,i),Uu.dequeue(e)}function vr(t){Wu(this.root,this.getAction(),{event:t,args:this.params})}function gr(t){var e=this.dynamicParams.getArgsList();"string"==typeof e&&(e=e.substr(1,e.length-2)),Wu(this.root,this.getAction(),{event:t,args:e})}function yr(t){var e,n,i,r={};e=this._ractive,n=e.events[t.type],(i=qd(n.element.parentFragment))&&(r=qd.resolve(i)),n.fire({node:this,original:t,index:r,keypath:e.keypath.str,context:e.root.viewmodel.get(e.keypath)})}function br(){var t,e=this.name;if(!this.invalid){if(t=g("events",this.root,e))this.custom=t(this.node,wr(e));else{if(!("on"+e in this.node||window&&"on"+e in window||ta))return void(fv[e]||v(Da(e,"event"),{node:this.node}));this.node.addEventListener(e,hv,!1)}this.hasListener=!0}}function wr(t){return lv[t]||(lv[t]=function(e){var n=e.node._ractive;e.index=n.index,e.keypath=n.keypath.str,e.context=n.root.viewmodel.get(n.keypath),n.events[t].fire(e)}),lv[t]}function xr(t,e){function n(n){n&&n.rebind(t,e)}var i;return this.method?(i=this.element.parentFragment,void this.refResolvers.forEach(n)):("string"!=typeof this.action&&n(this.action),void(this.dynamicParams&&n(this.dynamicParams)))}function kr(){this.node=this.element.node,this.node._ractive.events[this.name]=this,(this.method||this.getAction())&&this.listen()}function Er(t,e){this.keypaths[t]=e}function _r(){return this.method?void this.refResolvers.forEach(Z):("string"!=typeof this.action&&this.action.unbind(),void(this.dynamicParams&&this.dynamicParams.unbind()))}function Ar(){this.custom?this.custom.teardown():this.node.removeEventListener(this.name,hv,!1),this.hasListener=!1}function Sr(){var t=this;this.dirty||(this.dirty=!0,mu.scheduleTask(function(){Cr(t),t.dirty=!1})),this.parentFragment.bubble()}function Cr(t){var e,n,i,r,s;e=t.node,e&&(r=L(e.options),n=t.getAttribute("value"),i=t.getAttribute("multiple"),void 0!==n?(r.forEach(function(t){var e,r;e=t._ractive?t._ractive.value:t.value,r=i?Or(n,e):n==e,r&&(s=!0),t.selected=r}),s||(r[0]&&(r[0].selected=!0),t.binding&&t.binding.forceUpdate())):t.binding&&t.binding.forceUpdate())}function Or(t,e){for(var n=t.length;n--;)if(t[n]==e)return!0}function Pr(t,e){t.select=Fr(t.parent),t.select&&(t.select.options.push(t),e.a||(e.a={}),void 0!==e.a.value||e.a.hasOwnProperty("disabled")||(e.a.value=e.f),"selected"in e.a&&void 0!==t.select.getAttribute("value")&&delete e.a.selected)}function Tr(t){t.select&&I(t.select.options,t)}function Fr(t){if(t)do if("select"===t.name)return t;while(t=t.parent)}function Rr(t){var e,n,i,r,s,o,a;this.type=Xh,e=this.parentFragment=t.parentFragment,n=this.template=t.template,this.parent=t.pElement||e.pElement,this.root=i=e.root,this.index=t.index,this.key=t.key,this.name=rm(n.e),"option"===this.name&&Pr(this,n),"select"===this.name&&(this.options=[],this.bubble=Sr),"form"===this.name&&(this.formBindings=[]),a=nm(this,n),this.attributes=Pm(this,n.a),this.conditionalAttributes=Rm(this,n.m),n.f&&(this.fragment=new yb({template:n.f,root:i,owner:this,pElement:this,cssIds:null})),o=i.twoway,a.twoway===!1?o=!1:a.twoway===!0&&(o=!0),this.twoway=o,this.lazy=a.lazy,o&&(r=iv(this,n.a))&&(this.binding=r,s=this.root._twowayBindings[r.keypath.str]||(this.root._twowayBindings[r.keypath.str]=[]),s.push(r)),n.v&&(this.eventHandlers=wv(this,n.v)),n.o&&(this.decorator=new Av(this,n.o)),this.intro=n.t0||n.t1,this.outro=n.t0||n.t2}function jr(t,e){function n(n){n.rebind(t,e)}var i,r,s,o;if(this.attributes&&this.attributes.forEach(n),this.conditionalAttributes&&this.conditionalAttributes.forEach(n),this.eventHandlers&&this.eventHandlers.forEach(n),this.decorator&&n(this.decorator),this.fragment&&n(this.fragment),s=this.liveQueries)for(o=this.root,i=s.length;i--;)s[i]._makeDirty();this.node&&(r=this.node._ractive)&&k(r,"keypath",t,e)}function Nr(t){var e;(t.attributes.width||t.attributes.height)&&t.node.addEventListener("load",e=function(){var n=t.getAttribute("width"),i=t.getAttribute("height");void 0!==n&&t.node.setAttribute("width",n),void 0!==i&&t.node.setAttribute("height",i),t.node.removeEventListener("load",e,!1)},!1)}function Dr(t){t.node.addEventListener("reset",Lr,!1)}function Ir(t){t.node.removeEventListener("reset",Lr,!1)}function Lr(){var t=this._ractive.proxy;mu.start(),t.formBindings.forEach(Vr),mu.end()}function Vr(t){t.root.viewmodel.set(t.keypath,t.resetValue)}function Mr(t,e,n){var i,r,s;this.element=t,this.root=i=t.root,this.isIntro=n,r=e.n||e,("string"==typeof r||(s=new yb({template:r,root:i,owner:t}),r=s.toString(),s.unbind(),""!==r))&&(this.name=r,e.a?this.params=e.a:e.d&&(s=new yb({template:e.d,root:i,owner:t}),this.params=s.getArgsList(),s.unbind()),this._fn=g("transitions",i,r),this._fn||v(Da(r,"transition"),{ractive:this.root}))}function Ur(t){return t}function Wr(){eg.hidden=document[Yv]}function zr(){eg.hidden=!0}function Br(){eg.hidden=!1}function qr(){var t,e,n,i=this;return t=this.node=this.element.node,e=t.getAttribute("style"),this.complete=function(r){n||(!r&&i.isIntro&&$r(t,e),t._ractive.transition=null,i._manager.remove(i),n=!0)},this._fn?void this._fn.apply(this.root,[this].concat(this.params)):void this.complete()}function $r(t,e){e?t.setAttribute("style",e):(t.getAttribute("style"),t.removeAttribute("style"))}function Qr(){var t,e,n,i=this,r=this.root;return t=Zr(this),e=this.node=la(this.name,t),this.parentFragment.cssIds&&this.node.setAttribute("data-ractive-css",this.parentFragment.cssIds.map(function(t){return"{"+t+"}"}).join(" ")),xa(this.node,"_ractive",{value:{proxy:this,keypath:au(this.parentFragment),events:wa(null),root:r}}),this.attributes.forEach(function(t){return t.render(e)}),this.conditionalAttributes.forEach(function(t){return t.render(e)}),this.fragment&&("script"===this.name?(this.bubble=fg,this.node.text=this.fragment.toString(!1),this.fragment.unrender=Fa):"style"===this.name?(this.bubble=lg,this.bubble(),this.fragment.unrender=Fa):this.binding&&this.getAttribute("contenteditable")?this.fragment.unrender=Fa:this.node.appendChild(this.fragment.render())),this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding),this.eventHandlers&&this.eventHandlers.forEach(function(t){return t.render()}),"option"===this.name&&Hr(this),"img"===this.name?Nr(this):"form"===this.name?Dr(this):"input"===this.name||"textarea"===this.name?this.node.defaultValue=this.node.value:"option"===this.name&&(this.node.defaultSelected=this.node.selected),this.decorator&&this.decorator.fn&&mu.scheduleTask(function(){i.decorator.torndown||i.decorator.init()},!0),r.transitionsEnabled&&this.intro&&(n=new dg(this,this.intro,!0),mu.registerTransition(n),mu.scheduleTask(function(){return n.start()},!0),this.transition=n),this.node.autofocus&&mu.scheduleTask(function(){return i.node.focus()},!0),Kr(this),this.node}function Zr(t){var e,n,i;return e=(n=t.getAttribute("xmlns"))?n:"svg"===t.name?ia.svg:(i=t.parent)?"foreignObject"===i.name?ia.html:i.node.namespaceURI:t.root.el.namespaceURI}function Hr(t){var e,n,i;if(t.select&&(n=t.select.getAttribute("value"),void 0!==n))if(e=t.getAttribute("value"),t.select.node.multiple&&s(n)){for(i=n.length;i--;)if(e==n[i]){t.node.selected=!0;break}}else t.node.selected=e==n}function Kr(t){var e,n,i,r,s;e=t.root;do for(n=e._liveQueries,i=n.length;i--;)r=n[i],s=n["_"+r],s._test(t)&&(t.liveQueries||(t.liveQueries=[])).push(s);while(e=e.parent)}function Gr(t){var e,n,i;if(e=t.getAttribute("value"),void 0===e||!t.select)return!1;if(n=t.select.getAttribute("value"),n==e)return!0;if(t.select.getAttribute("multiple")&&s(n))for(i=n.length;i--;)if(n[i]==e)return!0}function Yr(t){var e,n,i,r;return e=t.attributes,n=e.type,i=e.value,r=e.name,n&&"radio"===n.value&&i&&r.interpolator&&i.value===r.interpolator.value?!0:void 0}function Jr(t){var e=t.toString();return e?" "+e:""}function Xr(){this.fragment&&this.fragment.unbind(),this.binding&&this.binding.unbind(),this.eventHandlers&&this.eventHandlers.forEach(Z),"option"===this.name&&Tr(this),this.attributes.forEach(Z),this.conditionalAttributes.forEach(Z)}function ts(t){var e,n,i;(i=this.transition)&&i.complete(),"option"===this.name?this.detach():t&&mu.detachWhenReady(this),this.fragment&&this.fragment.unrender(!1),(e=this.binding)&&(this.binding.unrender(),this.node._ractive.binding=null,n=this.root._twowayBindings[e.keypath.str],n.splice(n.indexOf(e),1)),this.eventHandlers&&this.eventHandlers.forEach(H),this.decorator&&mu.registerDecorator(this.decorator),this.root.transitionsEnabled&&this.outro&&(i=new dg(this,this.outro,!1),mu.registerTransition(i),mu.scheduleTask(function(){return i.start()})),this.liveQueries&&es(this),"form"===this.name&&Ir(this)}function es(t){var e,n,i;for(i=t.liveQueries.length;i--;)e=t.liveQueries[i],n=e.selector,e._remove(t.node)}function ns(t,e){var n=xg.exec(e)[0];return null===t||n.length<t.length?n:t}function is(t,e,n){var i;if(i=rs(t,e,n||{}))return i;if(i=ad.fromId(e,{noThrow:!0})){i=kg(i);var r=ad.parse(i,ad.getParseOptions(t));return t.partials[e]=r.t;

}}function rs(t,e,n){var i=void 0,r=as(e,n.owner);if(r)return r;var s=y("partials",t,e);if(s){if(r=s.partials[e],"function"==typeof r&&(i=r.bind(s),i.isOwner=s.partials.hasOwnProperty(e),r=i.call(t,ad)),!r&&""!==r)return void m(Na,e,"partial","partial",{ractive:t});if(!ad.isParsed(r)){var o=ad.parse(r,ad.getParseOptions(s));o.p&&m("Partials ({{>%s}}) cannot contain nested inline partials",e,{ractive:t});var a=i?s:ss(s,e);a.partials[e]=r=o.t}return i&&(r._fn=i),r.v?r.t:r}}function ss(t,e){return t.partials.hasOwnProperty(e)?t:os(t.constructor,e)}function os(t,e){return t?t.partials.hasOwnProperty(e)?t:os(t._Parent,e):void 0}function as(t,e){if(e){if(e.template&&e.template.p&&e.template.p[t])return e.template.p[t];if(e.parentFragment&&e.parentFragment.owner)return as(t,e.parentFragment.owner)}}function us(t,e){var n,i=y("components",t,e);if(i&&(n=i.components[e],!n._Parent)){var r=n.bind(i);if(r.isOwner=i.components.hasOwnProperty(e),n=r(),!n)return void m(Na,e,"component","component",{ractive:t});"string"==typeof n&&(n=us(t,n)),n._fn=r,i.components[e]=n}return n}function hs(){var t=this.instance.fragment.detach();return jg.fire(this.instance),t}function cs(t){return this.instance.fragment.find(t)}function ls(t,e){return this.instance.fragment.findAll(t,e)}function fs(t,e){e._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(t,e)}function ds(t){return t&&t!==this.name?this.instance.fragment?this.instance.fragment.findComponent(t):null:this.instance}function ps(){return this.parentFragment.findNextNode(this)}function ms(){return this.rendered?this.instance.fragment.firstNode():null}function vs(t,e,n){function i(t){var n,i;t.value=e,t.updating||(i=t.ractive,n=t.keypath,t.updating=!0,mu.start(i),i.viewmodel.mark(n),mu.end(),t.updating=!1)}var r,s,o,a,u,h;if(r=t.obj,s=t.prop,n&&!n.configurable){if("length"===s)return;throw new Error('Cannot use magic mode with property "'+s+'" - object is not configurable')}n&&(o=n.get,a=n.set),u=o||function(){return e},h=function(t){a&&a(t),e=o?o():t,h._ractiveWrappers.forEach(i)},h._ractiveWrappers=[t],Object.defineProperty(r,s,{get:u,set:h,enumerable:!0,configurable:!0})}function gs(t,e){var n,i,r,s;if(this.adaptors)for(n=this.adaptors.length,i=0;n>i;i+=1)if(r=this.adaptors[i],r.filter(e,t,this.ractive))return s=this.wrapped[t]=r.wrap(this.ractive,e,t,bs(t)),void(s.value=e)}function ys(t,e){var n,i={};if(!e)return t;e+=".";for(n in t)t.hasOwnProperty(n)&&(i[e+n]=t[n]);return i}function bs(t){var e;return iy[t]||(e=t?t+".":"",iy[t]=function(n,i){var r;return"string"==typeof n?(r={},r[e+n]=i,r):"object"==typeof n?e?ys(n,t):n:void 0}),iy[t]}function ws(t){var e,n,i=[Za];for(e=t.length;e--;)for(n=t[e].parent;n&&!n.isRoot;)-1===t.indexOf(n)&&F(i,n),n=n.parent;return i}function xs(t,e,n){var i;Es(t,e),n||(i=e.wildcardMatches(),i.forEach(function(n){ks(t,n,e)}))}function ks(t,e,n){var i,r,s;e=e.str||e,i=t.depsMap.patternObservers,r=i&&i[e],r&&r.forEach(function(e){s=n.join(e.lastKey),Es(t,s),ks(t,e,s)})}function Es(t,e){t.patternObservers.forEach(function(t){t.regex.test(e.str)&&t.update(e)})}function _s(){function t(t){var i=t.key;t.viewmodel===o?(o.clearCache(i.str),t.invalidate(),n.push(i),e(i)):t.viewmodel.mark(i)}function e(n){var i,r;o.noCascade.hasOwnProperty(n.str)||((r=o.deps.computed[n.str])&&r.forEach(t),(i=o.depsMap.computed[n.str])&&i.forEach(e))}var n,i,r,s=this,o=this,a={};return n=this.changes,n.length?(n.slice().forEach(e),i=ry(n),i.forEach(function(e){var i;-1===n.indexOf(e)&&(i=o.deps.computed[e.str])&&i.forEach(t)}),this.changes=[],this.patternObservers.length&&(i.forEach(function(t){return sy(s,t,!0)}),n.forEach(function(t){return sy(s,t)})),this.deps.observers&&(i.forEach(function(t){return As(s,null,t,"observers")}),Cs(this,n,"observers")),this.deps["default"]&&(r=[],i.forEach(function(t){return As(s,r,t,"default")}),r.length&&Ss(this,r,n),Cs(this,n,"default")),n.forEach(function(t){a[t.str]=s.get(t)}),this.implicitChanges={},this.noCascade={},a):void 0}function As(t,e,n,i){var r,s;(r=Os(t,n,i))&&(s=t.get(n),r.forEach(function(t){e&&t.refineValue?e.push(t):t.setValue(s)}))}function Ss(t,e,n){e.forEach(function(e){for(var i=!1,r=0,s=n.length,o=[];s>r;){var a=n[r];if(a===e.keypath){i=!0;break}a.slice(0,e.keypath.length)===e.keypath&&o.push(a),r++}i&&e.setValue(t.get(e.keypath)),o.length&&e.refineValue(o)})}function Cs(t,e,n){function i(t){t.forEach(r),t.forEach(s)}function r(e){var i=Os(t,e,n);i&&a.push({keypath:e,deps:i})}function s(e){var r;(r=t.depsMap[n][e.str])&&i(r)}function o(e){var n=t.get(e.keypath);e.deps.forEach(function(t){return t.setValue(n)})}var a=[];i(e),a.forEach(o)}function Os(t,e,n){var i=t.deps[n];return i?i[e.str]:null}function Ps(){this.captureGroups.push([])}function Ts(t,e){var n,i;if(e||(i=this.wrapped[t])&&i.teardown()!==!1&&(this.wrapped[t]=null),this.cache[t]=void 0,n=this.cacheMap[t])for(;n.length;)this.clearCache(n.pop())}function Fs(t,e){var n=e.firstKey;return!(n in t.data||n in t.computations||n in t.mappings)}function Rs(t,e){var n=new fy(t,e);return this.ready&&n.init(this),this.computations[t.str]=n}function js(t,e){var n,i,r,s,o,a=this.cache,u=t.str;if(e=e||vy,e.capture&&(s=D(this.captureGroups))&&(~s.indexOf(t)||s.push(t)),Oa.call(this.mappings,t.firstKey))return this.mappings[t.firstKey].get(t,e);if(t.isSpecial)return t.value;if(void 0===a[u]?((i=this.computations[u])&&!i.bypass?(n=i.get(),this.adapt(u,n)):(r=this.wrapped[u])?n=r.value:t.isRoot?(this.adapt("",this.data),n=this.data):n=Ns(this,t),a[u]=n):n=a[u],!e.noUnwrap&&(r=this.wrapped[u])&&(n=r.get()),t.isRoot&&e.fullRootGet)for(o in this.mappings)n[o]=this.mappings[o].getValue();return n===py?void 0:n}function Ns(t,e){var n,i,r,s;return n=t.get(e.parent),(s=t.wrapped[e.parent.str])&&(n=s.get()),null!==n&&void 0!==n?((i=t.cacheMap[e.parent.str])?-1===i.indexOf(e.str)&&i.push(e.str):t.cacheMap[e.parent.str]=[e.str],"object"!=typeof n||e.lastKey in n?(r=n[e.lastKey],t.adapt(e.str,r,!1),t.cache[e.str]=r,r):t.cache[e.str]=py):void 0}function Ds(){var t;for(t in this.computations)this.computations[t].init(this)}function Is(t,e){var n=this.mappings[t.str]=new by(t,e);return n.initViewmodel(this),n}function Ls(t,e){var n,i=t.str;e&&(e.implicit&&(this.implicitChanges[i]=!0),e.noCascade&&(this.noCascade[i]=!0)),(n=this.computations[i])&&n.invalidate(),-1===this.changes.indexOf(t)&&this.changes.push(t);var r=e?e.keepExistingWrapper:!1;this.clearCache(i,r),this.ready&&this.onchange()}function Vs(t,e,n,i){var r,s,o,a;if(this.mark(t),i&&i.compare){o=Us(i.compare);try{r=e.map(o),s=n.map(o)}catch(u){m('merge(): "%s" comparison failed. Falling back to identity checking',t),r=e,s=n}}else r=e,s=n;a=xy(r,s),this.smartUpdate(t,n,a,e.length!==n.length)}function Ms(t){return JSON.stringify(t)}function Us(t){if(t===!0)return Ms;if("string"==typeof t)return Ey[t]||(Ey[t]=function(e){return e[t]}),Ey[t];if("function"==typeof t)return t;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}function Ws(t,e){var n,i,r,s=void 0===arguments[2]?"default":arguments[2];e.isStatic||((n=this.mappings[t.firstKey])?n.register(t,e,s):(i=this.deps[s]||(this.deps[s]={}),r=i[t.str]||(i[t.str]=[]),r.push(e),this.depsMap[s]||(this.depsMap[s]={}),t.isRoot||zs(this,t,s)))}function zs(t,e,n){for(var i,r,s;!e.isRoot;)i=t.depsMap[n],r=i[e.parent.str]||(i[e.parent.str]=[]),s=e.str,void 0===r["_"+s]&&(r["_"+s]=0,r.push(e)),r["_"+s]+=1,e=e.parent}function Bs(){return this.captureGroups.pop()}function qs(t){this.data=t,this.clearCache("")}function $s(t,e){var n,i,r,s,o=void 0===arguments[2]?{}:arguments[2];if(!o.noMapping&&(n=this.mappings[t.firstKey]))return n.set(t,e);if(i=this.computations[t.str]){if(i.setting)return;i.set(e),e=i.get()}a(this.cache[t.str],e)||(r=this.wrapped[t.str],r&&r.reset&&(s=r.reset(e)!==!1,s&&(e=r.get())),i||s||Qs(this,t,e),o.silent?this.clearCache(t.str):this.mark(t))}function Qs(t,e,n){var i,r,s,o;s=function(){i.set?i.set(e.lastKey,n):(r=i.get(),o())},o=function(){r||(r=Yg(e.lastKey),t.set(e.parent,r,{silent:!0})),r[e.lastKey]=n},i=t.wrapped[e.parent.str],i?s():(r=t.get(e.parent),(i=t.wrapped[e.parent.str])?s():o())}function Zs(t,e,n){var i,r,s,o=this;if(r=n.length,n.forEach(function(e,n){-1===e&&o.mark(t.join(n),Ty)}),this.set(t,e,{silent:!0}),(i=this.deps["default"][t.str])&&i.filter(Hs).forEach(function(t){return t.shuffle(n,e)}),r!==e.length){for(this.mark(t.join("length"),Py),s=n.touchedFrom;s<e.length;s+=1)this.mark(t.join(s));for(s=e.length;r>s;s+=1)this.mark(t.join(s),Ty)}}function Hs(t){return"function"==typeof t.shuffle}function Ks(){var t,e=this;for(Object.keys(this.cache).forEach(function(t){return e.clearCache(t)});t=this.unresolvedImplicitDependencies.pop();)t.teardown()}function Gs(t,e){var n,i,r,s=void 0===arguments[2]?"default":arguments[2];if(!e.isStatic){if(n=this.mappings[t.firstKey])return n.unregister(t,e,s);if(i=this.deps[s][t.str],r=i.indexOf(e),-1===r)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");i.splice(r,1),t.isRoot||Ys(this,t,s)}}function Ys(t,e,n){for(var i,r;!e.isRoot;)i=t.depsMap[n],r=i[e.parent.str],r["_"+e.str]-=1,r["_"+e.str]||(I(r,e),r["_"+e.str]=void 0),e=e.parent}function Js(t){this.hook=new nu(t),this.inProcess={},this.queue={}}function Xs(t,e){return t[e._guid]||(t[e._guid]=[])}function to(t,e){var n=Xs(t.queue,e);for(t.hook.fire(e);n.length;)to(t,n.shift());delete t.queue[e._guid]}function eo(t,e){var n,i={};for(n in e)i[n]=no(t,n,e[n]);return i}function no(t,e,n){var i,r;return"function"==typeof n&&(i=ro(n,t)),"string"==typeof n&&(i=io(t,n)),"object"==typeof n&&("string"==typeof n.get?i=io(t,n.get):"function"==typeof n.get?i=ro(n.get,t):l("`%s` computation must have a `get()` method",e),"function"==typeof n.set&&(r=ro(n.set,t))),{getter:i,setter:r}}function io(t,e){var n,i,r;return n="return ("+e.replace(Ly,function(t,e){return i=!0,'__ractive.get("'+e+'")'})+");",i&&(n="var __ractive = this; "+n),r=new Function(n),i?r.bind(t):r}function ro(t,e){return/this/.test(t.toString())?t.bind(e):t}function so(e){var n,r,s=void 0===arguments[1]?{}:arguments[1],o=void 0===arguments[2]?{}:arguments[2];if(Qb.DEBUG&&Ca(),uo(e,o),xa(e,"data",{get:ho}),Vy.fire(e,s),zy.forEach(function(t){e[t]=i(wa(e.constructor[t]||null),s[t])}),r=new Ny({adapt:oo(e,e.adapt,s),data:Wh.init(e.constructor,e,s),computed:Iy(e,i(wa(e.constructor.prototype.computed),s.computed)),mappings:o.mappings,ractive:e,onchange:function(){return mu.addRactive(e)}}),e.viewmodel=r,r.init(),bd.init(e.constructor,e,s),My.fire(e),Uy.begin(e),e.template){var a=void 0;(o.cssIds||e.cssId)&&(a=o.cssIds?o.cssIds.slice():[],e.cssId&&a.push(e.cssId)),e.fragment=new yb({template:e.template,root:e,owner:e,cssIds:a})}if(Uy.end(e),n=t(e.el)){var u=e.render(n,e.append);Qb.DEBUG_PROMISES&&u["catch"](function(t){throw v("Promise debugging is enabled, to help solve errors that happen asynchronously. Some browsers will log unhandled promise rejections, in which case you can safely disable promise debugging:\n  Ractive.DEBUG_PROMISES = false;"),m("An error happened during rendering",{ractive:e}),t.stack&&f(t.stack),t})}}function oo(t,e,n){function i(e){return"string"==typeof e&&(e=g("adaptors",t,e),e||l(Da(e,"adaptor"))),e}var r,s,o;if(e=e.map(i),r=N(n.adapt).map(i),r=ao(e,r),s="magic"in n?n.magic:t.magic,o="modifyArrays"in n?n.modifyArrays:t.modifyArrays,s){if(!na)throw new Error("Getters and setters (magic mode) are not supported in this browser");o&&r.push(ey),r.push(ty)}return o&&r.push(Kg),r}function ao(t,e){for(var n=t.slice(),i=e.length;i--;)~n.indexOf(e[i])||n.push(e[i]);return n}function uo(t,e){t._guid="r-"+Wy++,t._subs=wa(null),t._config={},t._twowayBindings=wa(null),t._animations=[],t.nodes={},t._liveQueries=[],t._liveComponentQueries=[],t._boundFunctions=[],t._observers=[],e.component?(t.parent=e.parent,t.container=e.container||null,t.root=t.parent.root,t.component=e.component,e.component.instance=t,t._inlinePartials=e.inlinePartials):(t.root=t,t.parent=t.container=null)}function ho(){throw new Error("Using `ractive.data` is no longer supported - you must use the `ractive.get()` API instead")}function co(t,e,n){this.parentFragment=t.parentFragment,this.callback=n,this.fragment=new yb({template:e,root:t.root,owner:this}),this.update()}function lo(t,e,n){var i;return e.r?i=Qd(t,e.r,n):e.x?i=new Gd(t,t.parentFragment,e.x,n):e.rx&&(i=new tp(t,e.rx,n)),i}function fo(t){return 1===t.length&&t[0].t===Hh}function po(t,e){var n;for(n in e)e.hasOwnProperty(n)&&mo(t.instance,t.root,n,e[n])}function mo(t,e,n,i){"string"!=typeof i&&l("Components currently only support simple events - you cannot include arguments. Sorry!"),t.on(n,function(){var t,n;return arguments.length&&arguments[0]&&arguments[0].node&&(t=Array.prototype.shift.call(arguments)),n=Array.prototype.slice.call(arguments),Wu(e,i,{event:t,args:n}),!1})}function vo(t,e){var n,i;if(!e)throw new Error('Component "'+this.name+'" not found');n=this.parentFragment=t.parentFragment,i=n.root,this.root=i,this.type=sc,this.name=t.template.e,this.index=t.index,this.indexRefBindings={},this.yielders={},this.resolvers=[],$y(this,e,t.template.a,t.template.f,t.template.p),Qy(this,t.template.v),(t.template.t0||t.template.t1||t.template.t2||t.template.o)&&m('The "intro", "outro" and "decorator" directives have no effect on components',{ractive:this.instance}),Zy(this)}function go(t,e){function n(n){n.rebind(t,e)}var i;this.resolvers.forEach(n);for(var r in this.yielders)this.yielders[r][0]&&n(this.yielders[r][0]);(i=this.root._liveComponentQueries["_"+this.name])&&i._makeDirty()}function yo(){var t=this.instance;return t.render(this.parentFragment.getNode()),this.rendered=!0,t.fragment.detach()}function bo(){return this.instance.fragment.toString()}function wo(){var t=this.instance;this.resolvers.forEach(Z),xo(this),t._observers.forEach(K),t.fragment.unbind(),t.viewmodel.teardown(),t.fragment.rendered&&t.el.__ractive_instances__&&I(t.el.__ractive_instances__,t),Xy.fire(t)}function xo(t){var e,n;e=t.root;do(n=e._liveComponentQueries["_"+t.name])&&n._remove(t);while(e=e.parent)}function ko(t){this.shouldDestroy=t,this.instance.unrender()}function Eo(t){var e=this;this.owner=t.owner,this.parent=this.owner.parentFragment,this.root=t.root,this.pElement=t.pElement,this.context=t.context,this.index=t.index,this.key=t.key,this.registeredIndexRefs=[],this.cssIds="cssIds"in t?t.cssIds:this.parent?this.parent.cssIds:null,this.items=t.template.map(function(n,i){return _o({parentFragment:e,pElement:t.pElement,template:n,index:i})}),this.value=this.argsList=null,this.dirtyArgs=this.dirtyValue=!0,this.bound=!0}function _o(t){if("string"==typeof t.template)return new Nd(t);switch(t.template.t){case oc:return new ob(t);case Hh:return new op(t);case Gh:return new Sp(t);case Kh:return new qp(t);case Xh:var e=void 0;return(e=Fg(t.parentFragment.root,t.template.e))?new nb(t,e):new bg(t);case tc:return new Tg(t);case ec:return new rb(t);case uc:return new ub(t);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}function Ao(t,e){(!this.owner||this.owner.hasContext)&&k(this,"context",t,e),this.items.forEach(function(n){n.rebind&&n.rebind(t,e)})}function So(){var t;return 1===this.items.length?t=this.items[0].render():(t=document.createDocumentFragment(),this.items.forEach(function(e){t.appendChild(e.render())})),this.rendered=!0,t}function Co(t){return this.items?this.items.map(t?Po:Oo).join(""):""}function Oo(t){return t.toString()}function Po(t){return t.toString(!0)}function To(){this.bound&&(this.items.forEach(Fo),this.bound=!1)}function Fo(t){t.unbind&&t.unbind()}function Ro(t){if(!this.rendered)throw new Error("Attempted to unrender a fragment that was not rendered");this.items.forEach(function(e){return e.unrender(t)}),this.rendered=!1}function jo(t){var e,n,i,r,s;if(t=t||{},"object"!=typeof t)throw new Error("The reset method takes either no arguments, or an object containing new data");for((n=this.viewmodel.wrapped[""])&&n.reset?n.reset(t)===!1&&this.viewmodel.reset(t):this.viewmodel.reset(t),i=bd.reset(this),r=i.length;r--;)if(wb.indexOf(i[r])>-1){s=!0;break}if(s){var o=void 0;this.viewmodel.mark(Za),(o=this.component)&&(o.shouldDestroy=!0),this.unrender(),o&&(o.shouldDestroy=!1),this.fragment.template!==this.template&&(this.fragment.unbind(),this.fragment=new yb({template:this.template,root:this,owner:this})),e=this.render(this.el,this.anchor)}else e=mu.start(this,!0),this.viewmodel.mark(Za),mu.end();return xb.fire(this,t),e}function No(t){var e,n;hd.init(null,this,{template:t}),e=this.transitionsEnabled,this.transitionsEnabled=!1,(n=this.component)&&(n.shouldDestroy=!0),this.unrender(),n&&(n.shouldDestroy=!1),this.fragment.unbind(),this.fragment=new yb({template:this.template,root:this,owner:this}),this.render(this.el,this.anchor),this.transitionsEnabled=e}function Do(t,e){var n,i;if(i=mu.start(this,!0),h(t)){n=t;for(t in n)n.hasOwnProperty(t)&&(e=n[t],Io(this,t,e))}else Io(this,t,e);return mu.end(),i}function Io(t,e,n){e=_(C(e)),e.isPattern?A(t,e).forEach(function(e){t.viewmodel.set(e,n)}):t.viewmodel.set(e,n)}function Lo(t,e){return Ha(this,t,void 0===e?-1:-e)}function Vo(){var t;return this.fragment.unbind(),this.viewmodel.teardown(),this._observers.forEach(K),this.fragment.rendered&&this.el.__ractive_instances__&&I(this.el.__ractive_instances__,this),this.shouldDestroy=!0,t=this.fragment.rendered?this.unrender():ou.resolve(),Fb.fire(this),this._boundFunctions.forEach(Mo),t}function Mo(t){delete t.fn[t.prop]}function Uo(t){var e=this;if("string"!=typeof t)throw new TypeError(ja);var n=void 0;return/\*/.test(t)?(n={},A(this,_(C(t))).forEach(function(t){n[t.str]=!e.viewmodel.get(t)}),this.set(n)):this.set(t,!this.get(t))}function Wo(){return this.fragment.toString(!0)}function zo(){var t,e;if(!this.fragment.rendered)return m("ractive.unrender() was called on a Ractive instance that was not rendered"),ou.resolve();for(t=mu.start(this,!0),e=!this.component||this.component.shouldDestroy||this.shouldDestroy;this._animations[0];)this._animations[0].stop();return this.fragment.unrender(e),I(this.el.__ractive_instances__,this),Db.fire(this),mu.end(),t}function Bo(t){var e;return t=_(t)||Za,e=mu.start(this,!0),this.viewmodel.mark(t),mu.end(),Vb.fire(this,t),e}function qo(t,e){var n,i,r;if("string"!=typeof t||e){r=[];for(i in this._twowayBindings)(!t||_(i).equalsOrStartsWith(t))&&r.push.apply(r,this._twowayBindings[i])}else r=this._twowayBindings[t];return n=$o(this,r),this.set(n)}function $o(t,e){var n={},i=[];return e.forEach(function(t){var e,r;if(!t.radioName||t.element.node.checked){if(t.checkboxName)return void(i[t.keypath.str]||t.changed()||(i.push(t.keypath),i[t.keypath.str]=t));e=t.attribute.value,r=t.getValue(),j(e,r)||a(e,r)||(n[t.keypath.str]=r)}}),i.length&&i.forEach(function(t){var e,r,s;e=i[t.str],r=e.attribute.value,s=e.getValue(),j(r,s)||(n[t.str]=s)}),n}function Qo(t,e){return"function"==typeof e&&/_super/.test(t)}function Zo(t){for(var e={};t;)Ho(t,e),Go(t,e),t=t._Parent!==Qb?t._Parent:!1;return e}function Ho(t,e){vd.forEach(function(n){Ko(n.useDefaults?t.prototype:t,e,n.name)})}function Ko(t,e,n){var i,r=Object.keys(t[n]);r.length&&((i=e[n])||(i=e[n]={}),r.filter(function(t){return!(t in i)}).forEach(function(e){return i[e]=t[n][e]}))}function Go(t,e){Object.keys(t.prototype).forEach(function(n){if("computed"!==n){var i=t.prototype[n];if(n in e){if("function"==typeof e[n]&&"function"==typeof i&&e[n]._method){var r=void 0,s=i._method;s&&(i=i._method),r=Wb(e[n]._method,i),s&&(r._method=r),e[n]=r}}else e[n]=i._method?i._method:i}})}function Yo(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return e.length?e.reduce(Jo,this):Jo(this)}function Jo(t){var e,n,r=void 0===arguments[1]?{}:arguments[1];return r.prototype instanceof Qb&&(r=zb(r)),e=function(t){return this instanceof e?void By(this,t):new e(t)},n=wa(t.prototype),n.constructor=e,ka(e,{defaults:{value:n},extend:{value:Yo,writable:!0,configurable:!0},_Parent:{value:t}}),bd.extend(t,n,r),Wh.extend(t,n,r),r.computed&&(n.computed=i(wa(t.prototype.computed),r.computed)),e.prototype=n,e}var Xo,ta,ea,na,ia,ra,sa,oa=3,aa={el:void 0,append:!1,template:{v:oa,t:[]},preserveWhitespace:!1,sanitize:!1,stripComments:!0,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],interpolate:!1,data:{},computed:{},magic:!1,modifyArrays:!0,adapt:[],isolated:!1,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,css:null,noCssTransform:!1},ua=aa,ha={linear:function(t){return t},easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}};Xo="object"==typeof document,ta="undefined"!=typeof navigator&&/jsDom/.test(navigator.appName),ea="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply;try{Object.defineProperty({},"test",{value:0}),na=!0}catch(ca){na=!1}ia={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ra="undefined"==typeof document?!1:document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),sa=["o","ms","moz","webkit"];var la,fa,da,pa,ma,va,ga,ya,ba;if(la=ra?function(t,e){return e&&e!==ia.html?document.createElementNS(e,t):document.createElement(t)}:function(t,e){if(e&&e!==ia.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(t)},Xo){for(da=la("div"),pa=["matches","matchesSelector"],ba=function(t){return function(e,n){return e[t](n)}},ga=pa.length;ga--&&!fa;)if(ma=pa[ga],da[ma])fa=ba(ma);else for(ya=sa.length;ya--;)if(va=sa[ga]+ma.substr(0,1).toUpperCase()+ma.substring(1),da[va]){fa=ba(va);break}fa||(fa=function(t,e){var n,i,r;for(i=t.parentNode,i||(da.innerHTML="",i=da,t=t.cloneNode(),da.appendChild(t)),n=i.querySelectorAll(e),r=n.length;r--;)if(n[r]===t)return!0;return!1})}else fa=null;var wa,xa,ka,Ea=null;try{Object.defineProperty({},"test",{value:0}),Xo&&Object.defineProperty(document.createElement("div"),"test",{value:0}),xa=Object.defineProperty}catch(_a){xa=function(t,e,n){t[e]=n.value}}try{try{Object.defineProperties({},{test:{value:0}})}catch(_a){throw _a}Xo&&Object.defineProperties(la("div"),{test:{value:0}}),ka=Object.defineProperties}catch(_a){ka=function(t,e){var n;for(n in e)e.hasOwnProperty(n)&&xa(t,n,e[n])}}try{Object.create(null),wa=Object.create}catch(_a){wa=function(){var t=function(){};return function(e,n){var i;return null===e?{}:(t.prototype=e,i=new t,n&&Object.defineProperties(i,n),i)}}()}var Aa,Sa,Ca,Oa=Object.prototype.hasOwnProperty,Pa=Object.prototype.toString,Ta=/^\[object (?:Array|FileList)\]$/,Fa=function(){},Ra={};ea?!function(){var t=["%cRactive.js %c0.7.3 %cin debug mode, %cmore...","color: rgb(114, 157, 52); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(82, 140, 224); font-weight: normal; text-decoration: underline;"],e="You're running Ractive 0.7.3 in debug mode - messages will be printed to the console to help you fix problems and optimise your application.\n\nTo disable debug mode, add this line at the start of your app:\n  Ractive.DEBUG = false;\n\nTo disable debug mode when your app is minified, add this snippet:\n  Ractive.DEBUG = /unminified/.test(function(){/*unminified*/});\n\nGet help and support:\n  http://docs.ractivejs.org\n  http://stackoverflow.com/questions/tagged/ractivejs\n  http://groups.google.com/forum/#!forum/ractive-js\n  http://twitter.com/ractivejs\n\nFound a bug? Raise an issue:\n  https://github.com/ractivejs/ractive/issues\n\n";Ca=function(){var n=!!console.groupCollapsed;console[n?"groupCollapsed":"log"].apply(console,t),console.log(e),n&&console.groupEnd(t),Ca=Fa},Sa=function(t,e){if(Ca(),"object"==typeof e[e.length-1]){var n=e.pop(),i=n?n.ractive:null;if(i){var r=void 0;i.component&&(r=i.component.name)&&(t="<"+r+"> "+t);var s=void 0;(s=n.node||i.fragment&&i.fragment.rendered&&i.find("*"))&&e.push(s)}}console.warn.apply(console,["%cRactive.js: %c"+t,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);"].concat(e))},Aa=function(){console.log.apply(console,arguments)}}():Sa=Aa=Ca=Fa;var ja="Bad arguments",Na='A function was specified for "%s" %s, but no %s was returned',Da=function(t,e){return'Missing "'+t+'" '+e+" plugin. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#"+e+"s"},Ia=function(t,e,n,i){if(t===e)return b(e);if(i){var r=g("interpolators",n,i);if(r)return r(t,e)||b(e);l(Da(i,"interpolator"))}return Ma.number(t,e)||Ma.array(t,e)||Ma.object(t,e)||b(e)},La=Ia,Va={number:function(t,e){var n;return u(t)&&u(e)?(t=+t,e=+e,n=e-t,n?function(e){return t+e*n}:function(){return t}):null},array:function(t,e){var n,i,r,o;if(!s(t)||!s(e))return null;for(n=[],i=[],o=r=Math.min(t.length,e.length);o--;)i[o]=La(t[o],e[o]);for(o=r;o<t.length;o+=1)n[o]=t[o];for(o=r;o<e.length;o+=1)n[o]=e[o];return function(t){for(var e=r;e--;)n[e]=i[e](t);return n}},object:function(t,e){var n,i,r,s,o;if(!h(t)||!h(e))return null;n=[],s={},r={};for(o in t)Oa.call(t,o)&&(Oa.call(e,o)?(n.push(o),r[o]=La(t[o],e[o])):s[o]=t[o]);for(o in e)Oa.call(e,o)&&!Oa.call(t,o)&&(s[o]=e[o]);return i=n.length,function(t){for(var e,o=i;o--;)e=n[o],s[e]=r[e](t);return s}}},Ma=Va,Ua=w,Wa={},za=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,Ba=/\*/,qa={},$a=function(t){var e=t.split(".");this.str=t,"@"===t[0]&&(this.isSpecial=!0,this.value=E(t)),this.firstKey=e[0],this.lastKey=e.pop(),this.isPattern=Ba.test(t),this.parent=""===t?null:_(e.join(".")),this.isRoot=!t};$a.prototype={equalsOrStartsWith:function(t){return t===this||this.startsWith(t)},join:function(t){return _(this.isRoot?String(t):this.str+"."+t)},replace:function(t,e){return this===t?e:this.startsWith(t)?null===e?e:_(this.str.replace(t.str+".",e.str+".")):void 0},startsWith:function(t){return t?t&&this.str.substr(0,t.str.length+1)===t.str+".":!1},toString:function(){throw new Error("Bad coercion")},valueOf:function(){throw new Error("Bad coercion")},wildcardMatches:function(){return this._wildcardMatches||(this._wildcardMatches=Ua(this.str))}};var Qa,Za=_(""),Ha=O,Ka="Cannot add to a non-numeric value",Ga=P;"undefined"==typeof window?Qa=null:(!function(t,e,n){var i,r;if(!n.requestAnimationFrame){for(i=0;i<t.length&&!n.requestAnimationFrame;++i)n.requestAnimationFrame=n[t[i]+"RequestAnimationFrame"];n.requestAnimationFrame||(r=n.setTimeout,n.requestAnimationFrame=function(t){var n,i,s;return n=Date.now(),i=Math.max(0,16-(n-e)),s=r(function(){t(n+i)},i),e=n+i,s})}}(sa,0,window),Qa=window.requestAnimationFrame);var Ya,Ja=Qa;Ya="undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()};var Xa=Ya,tu={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated and will likely be removed in a future release. You can either use the "oninit" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use "onrender" instead. See http://docs.ractivejs.org/latest/migrating for more information.'},complete:{deprecated:"complete",replacement:"oncomplete"}};T.prototype.fire=function(t,e){function n(n){return t[n]?(e?t[n](e):t[n](),!0):void 0}n(this.method),!t[this.method]&&this.deprecate&&n(this.deprecate.deprecated)&&(this.deprecate.message?m(this.deprecate.message):m('The method "%s" has been deprecated in favor of "%s" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.',this.deprecate.deprecated,this.deprecate.replacement)),e?t.fire(this.event,e):t.fire(this.event)};var eu,nu=T,iu={},ru={},su={};"function"==typeof Promise?eu=Promise:(eu=function(t){var e,n,i,r,s,o,a=[],u=[],h=iu;i=function(t){return function(i){h===iu&&(e=i,h=t,n=M(h===ru?a:u,e),V(n))}},r=i(ru),s=i(su);try{t(r,s)}catch(c){s(c)}return o={then:function(t,e){var i=new eu(function(r,s){var o=function(t,e,n){e.push("function"==typeof t?function(e){var n;try{n=t(e),U(i,n,r,s)}catch(o){s(o)}}:n)};o(t,a,r),o(e,u,s),h!==iu&&V(n)});return i}},o["catch"]=function(t){return this.then(null,t)},o},eu.all=function(t){return new eu(function(e,n){var i,r,s,o=[];if(!t.length)return void e(o);for(s=function(t,r){t&&"function"==typeof t.then?t.then(function(t){o[r]=t,--i||e(o)},n):(o[r]=t,--i||e(o))},i=r=t.length;r--;)s(t[r],r)})},eu.resolve=function(t){return new eu(function(e){e(t)})},eu.reject=function(t){return new eu(function(e,n){n(t)})});var ou=eu,au=function(t){do if(void 0!==t.context)return t.context;while(t=t.parent);return Za},uu=W,hu=function(t,e){this.callback=t,this.parent=e,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.decoratorQueue=[],this.outrosComplete=!1,e&&e.addChild(this)};hu.prototype={addChild:function(t){this.children.push(t),this.totalChildren+=1,this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1,J(this)},decrementTotal:function(){this.totalChildren-=1,J(this)},add:function(t){var e=t.isIntro?this.intros:this.outros;e.push(t)},addDecorator:function(t){this.decoratorQueue.push(t)},remove:function(t){var e=t.isIntro?this.intros:this.outros;I(e,t),J(this)},init:function(){this.ready=!0,J(this)},detachNodes:function(){this.decoratorQueue.forEach(Q),this.detachQueue.forEach(G),this.children.forEach(Y)}};var cu,lu,fu=hu,du=[],pu=new nu("change");lu={start:function(t,e){var n,i;return e&&(n=new ou(function(t){return i=t})),cu={previousBatch:cu,transitionManager:new fu(i,cu&&cu.transitionManager),views:[],tasks:[],ractives:[],instance:t},t&&cu.ractives.push(t),n},end:function(){X(),cu.transitionManager.init(),!cu.previousBatch&&cu.instance&&(cu.instance.viewmodel.changes=[]),cu=cu.previousBatch},addRactive:function(t){cu&&F(cu.ractives,t)},registerTransition:function(t){t._manager=cu.transitionManager,cu.transitionManager.add(t)},registerDecorator:function(t){cu.transitionManager.addDecorator(t)},addView:function(t){cu.views.push(t)},addUnresolved:function(t){du.push(t)},removeUnresolved:function(t){I(du,t)},detachWhenReady:function(t){cu.transitionManager.detachQueue.push(t)},scheduleTask:function(t,e){var n;if(cu){for(n=cu;e&&n.previousBatch;)n=n.previousBatch;n.tasks.push(t)}else t()}};var mu=lu,vu=[],gu={tick:function(){var t,e,n;for(n=Xa(),mu.start(),t=0;t<vu.length;t+=1)e=vu[t],e.tick(n)||vu.splice(t--,1);mu.end(),vu.length?Ja(gu.tick):gu.running=!1},add:function(t){vu.push(t),gu.running||(gu.running=!0,Ja(gu.tick))},abort:function(t,e){for(var n,i=vu.length;i--;)n=vu[i],n.root===e&&n.keypath===t&&n.stop()}},yu=gu,bu=function(t){var e;this.startTime=Date.now();for(e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);this.interpolator=La(this.from,this.to,this.root,this.interpolator),this.running=!0,this.tick()};bu.prototype={tick:function(){var t,e,n,i,r,s;return s=this.keypath,this.running?(i=Date.now(),t=i-this.startTime,t>=this.duration?(null!==s&&(mu.start(this.root),this.root.viewmodel.set(s,this.to),mu.end()),this.step&&this.step(1,this.to),this.complete(this.to),r=this.root._animations.indexOf(this),-1===r&&m("Animation was not found"),this.root._animations.splice(r,1),this.running=!1,!1):(e=this.easing?this.easing(t/this.duration):t/this.duration,
null!==s&&(n=this.interpolator(e),mu.start(this.root),this.root.viewmodel.set(s,n),mu.end()),this.step&&this.step(e,n),!0)):!1},stop:function(){var t;this.running=!1,t=this.root._animations.indexOf(this),-1===t&&m("Animation was not found"),this.root._animations.splice(t,1)}};var wu=bu,xu=nt,ku={stop:Fa},Eu=rt,_u=new nu("detach"),Au=st,Su=ot,Cu=function(){var t,e,n;t=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],e=this.selector,n=t.indexOf(e),-1!==n&&(t.splice(n,1),t[e]=null)},Ou=function(t,e){var n,i,r,s,o,a,u,h,c,l;for(n=ut(t.component||t._ractive.proxy),i=ut(e.component||e._ractive.proxy),r=D(n),s=D(i);r&&r===s;)n.pop(),i.pop(),o=r,r=D(n),s=D(i);if(r=r.component||r,s=s.component||s,c=r.parentFragment,l=s.parentFragment,c===l)return a=c.items.indexOf(r),u=l.items.indexOf(s),a-u||n.length-i.length;if(h=o.fragments)return a=h.indexOf(c),u=h.indexOf(l),a-u||n.length-i.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")},Pu=function(t,e){var n;return t.compareDocumentPosition?(n=t.compareDocumentPosition(e),2&n?1:-1):Ou(t,e)},Tu=function(){this.sort(this._isComponentQuery?Ou:Pu),this._dirty=!1},Fu=function(){var t=this;this._dirty||(this._dirty=!0,mu.scheduleTask(function(){t._sort()}))},Ru=function(t){var e=this.indexOf(this._isComponentQuery?t.instance:t);-1!==e&&this.splice(e,1)},ju=ht,Nu=ct,Du=lt,Iu=ft,Lu=dt,Vu=pt,Mu={enqueue:function(t,e){t.event&&(t._eventQueue=t._eventQueue||[],t._eventQueue.push(t.event)),t.event=e},dequeue:function(t){t._eventQueue&&t._eventQueue.length?t.event=t._eventQueue.pop():delete t.event}},Uu=Mu,Wu=mt,zu=yt,Bu=bt,qu={capture:!0,noUnwrap:!0,fullRootGet:!0},$u=wt,Qu=new nu("insert"),Zu=kt,Hu=function(t,e,n,i){this.root=t,this.keypath=e,this.callback=n,this.defer=i.defer,this.context=i&&i.context?i.context:t};Hu.prototype={init:function(t){this.value=this.root.get(this.keypath.str),t!==!1?this.update():this.oldValue=this.value},setValue:function(t){var e=this;a(t,this.value)||(this.value=t,this.defer&&this.ready?mu.scheduleTask(function(){return e.update()}):this.update())},update:function(){this.updating||(this.updating=!0,this.callback.call(this.context,this.value,this.oldValue,this.keypath.str),this.oldValue=this.value,this.updating=!1)}};var Ku,Gu=Hu,Yu=Et,Ju=Array.prototype.slice;Ku=function(t,e,n,i){this.root=t,this.callback=n,this.defer=i.defer,this.keypath=e,this.regex=new RegExp("^"+e.str.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$"),this.values={},this.defer&&(this.proxies=[]),this.context=i&&i.context?i.context:t},Ku.prototype={init:function(t){var e,n;if(e=Yu(this.root,this.keypath),t!==!1)for(n in e)e.hasOwnProperty(n)&&this.update(_(n));else this.values=e},update:function(t){var e,n=this;if(t.isPattern){e=Yu(this.root,t);for(t in e)e.hasOwnProperty(t)&&this.update(_(t))}else if(!this.root.viewmodel.implicitChanges[t.str])return this.defer&&this.ready?void mu.scheduleTask(function(){return n.getProxy(t).update()}):void this.reallyUpdate(t)},reallyUpdate:function(t){var e,n,i,r;return e=t.str,n=this.root.viewmodel.get(t),this.updating?void(this.values[e]=n):(this.updating=!0,a(n,this.values[e])&&this.ready||(i=Ju.call(this.regex.exec(e),1),r=[n,this.values[e],e].concat(i),this.values[e]=n,this.callback.apply(this.context,r)),void(this.updating=!1))},getProxy:function(t){var e=this;return this.proxies[t.str]||(this.proxies[t.str]={update:function(){return e.reallyUpdate(t)}}),this.proxies[t.str]}};var Xu,th,eh,nh,ih,rh,sh=Ku,oh=_t,ah={},uh=At,hh=St,ch=function(t){return t.trim()},lh=function(t){return""!==t},fh=Ct,dh=Ot,ph=Pt,mh=Tt,vh=Array.prototype,gh=function(t){return function(e){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;n>r;r++)i[r-1]=arguments[r];var o,a,u,h,c=[];if(e=_(C(e)),o=this.viewmodel.get(e),a=o.length,!s(o))throw new Error("Called ractive."+t+"('"+e.str+"'), but '"+e.str+"' does not refer to an array");return c=mh(o,t,i),h=vh[t].apply(o,i),u=mu.start(this,!0).then(function(){return h}),c?this.viewmodel.smartUpdate(e,o,c):this.viewmodel.mark(e),mu.end(),u}},yh=gh("pop"),bh=gh("push"),wh="/* Ractive.js component styles */\n",xh=[],kh=!1;Xo?(eh=document.createElement("style"),eh.type="text/css",nh=document.getElementsByTagName("head")[0],rh=!1,ih=eh.styleSheet,th=function(){var t=wh+xh.map(function(t){return"\n/* {"+t.id+"} */\n"+t.styles}).join("\n");ih?ih.cssText=t:eh.innerHTML=t,rh||(nh.appendChild(eh),rh=!0)},Xu={add:function(t){xh.push(t),kh=!0},apply:function(){kh&&(th(),kh=!1)}}):Xu={add:Fa,apply:Fa};var Eh,_h,Ah=Xu,Sh=Rt,Ch=new nu("render"),Oh=new nu("complete"),Ph={extend:function(t,e,n){e.adapt=Nt(e.adapt,N(n.adapt))},init:function(){}},Th=Ph,Fh=Dt,Rh=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,jh=/\/\*.*?\*\//g,Nh=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~\(]+(?:\([^\)]+\))?)?\s*[\s\+\>\~]?)\s*/g,Dh=/^@media/,Ih=/\[data-ractive-css~="\{[a-z0-9-]+\}"]/g,Lh=1,Vh={name:"css",extend:function(t,e,n){if(n.css){var i=Lh++,r=n.noCssTransform?n.css:Fh(n.css,i);e.cssId=i,Ah.add({id:i,styles:r})}},init:function(){}},Mh=Vh,Uh={name:"data",extend:function(t,e,n){var i=void 0,r=void 0;if(n.data&&h(n.data))for(i in n.data)r=n.data[i],r&&"object"==typeof r&&(h(r)||s(r))&&m("Passing a `data` option with object and array properties to Ractive.extend() is discouraged, as mutating them is likely to cause bugs. Consider using a data function instead:\n\n  // this...\n  data: function () {\n    return {\n      myObject: {}\n    };\n  })\n\n  // instead of this:\n  data: {\n    myObject: {}\n  }");e.data=Mt(e.data,n.data)},init:function(t,e,n){var i=Mt(t.prototype.data,n.data);return"function"==typeof i&&(i=i.call(e)),i||{}},reset:function(t){var e=this.init(t.constructor,t,t.viewmodel);return t.viewmodel.reset(e),!0}},Wh=Uh,zh=/^\s+/;_h=function(t){this.name="ParseError",this.message=t;try{throw new Error(t)}catch(e){this.stack=e.stack}},_h.prototype=Error.prototype,Eh=function(t,e){var n,i,r=0;for(this.str=t,this.options=e||{},this.pos=0,this.lines=this.str.split("\n"),this.lineEnds=this.lines.map(function(t){var e=r+t.length+1;return r=e,e},0),this.init&&this.init(t,e),n=[];this.pos<this.str.length&&(i=this.read());)n.push(i);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(n,e):n},Eh.prototype={read:function(t){var e,n,i,r;for(t||(t=this.converters),e=this.pos,i=t.length,n=0;i>n;n+=1)if(this.pos=e,r=t[n](this))return r;return null},getLinePos:function(t){for(var e,n=0,i=0;t>=this.lineEnds[n];)i=this.lineEnds[n],n+=1;return e=t-i,[n+1,e+1,t]},error:function(t){var e=this.getLinePos(this.pos),n=e[0],i=e[1],r=this.lines[e[0]-1],s=0,o=r.replace(/\t/g,function(t,n){return n<e[1]&&(s+=1),"  "})+"\n"+new Array(e[1]+s).join(" ")+"^----",a=new _h(""+t+" at line "+n+" character "+i+":\n"+o);throw a.line=e[0],a.character=e[1],a.shortMessage=t,a},matchString:function(t){return this.str.substr(this.pos,t.length)===t?(this.pos+=t.length,t):void 0},matchPattern:function(t){var e;return(e=t.exec(this.remaining()))?(this.pos+=e[0].length,e[1]||e[0]):void 0},allowWhitespace:function(){this.matchPattern(zh)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},Eh.extend=function(t){var e,n,i=this;e=function(t,e){Eh.call(this,t,e)},e.prototype=wa(i.prototype);for(n in t)Oa.call(t,n)&&(e.prototype[n]=t[n]);return e.extend=Eh.extend,e};var Bh,qh,$h,Qh=Eh,Zh=1,Hh=2,Kh=3,Gh=4,Yh=5,Jh=6,Xh=7,tc=8,ec=9,nc=10,ic=13,rc=14,sc=15,oc=16,ac=17,uc=18,hc=20,cc=21,lc=22,fc=23,dc=24,pc=25,mc=26,vc=27,gc=30,yc=31,bc=32,wc=33,xc=34,kc=35,Ec=36,_c=40,Ac=50,Sc=51,Cc=52,Oc=53,Pc=54,Tc=60,Fc=61,Rc=zt,jc=/^[^\s=]+/,Nc=/^\s+/,Dc=Bt,Ic=/^(\/(?:[^\n\r\u2028\u2029\/\\[]|\\.|\[(?:[^\n\r\u2028\u2029\]\\]|\\.)*])+\/(?:([gimuy])(?![a-z]*\2))*(?![a-zA-Z_$0-9]))/,Lc=qt,Vc={t:nc,exclude:!0},Mc="Expected a JavaScript expression",Uc="Expected closing paren",Wc=Qt,zc=/^(?:[+-]?)0*(?:(?:(?:[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,Bc=Zt;Bh=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,qh=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,$h=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;var qc,$c,Qc=function(t){return function(e){var n,i,r,s;for(n=e.pos,i='"',r=!1;!r;)s=e.matchPattern(Bh)||e.matchPattern(qh)||e.matchString(t),s?i+='"'===s?'\\"':"\\'"===s?"'":s:(s=e.matchPattern($h),s?i+="\\u"+("000"+s.charCodeAt(1).toString(16)).slice(-4):r=!0);return i+='"',JSON.parse(i)}},Zc=Qc('"'),Hc=Qc("'"),Kc=function(t){var e,n;return e=t.pos,t.matchString('"')?(n=Hc(t),t.matchString('"')?{t:cc,v:n}:(t.pos=e,null)):t.matchString("'")?(n=Zc(t),t.matchString("'")?{t:cc,v:n}:(t.pos=e,null)):null},Gc=/^[a-zA-Z_$][a-zA-Z_$0-9]*/,Yc=Ht,Jc=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,Xc=Kt,tl=Gt,el=function(t){var e,n;return e=t.pos,t.allowWhitespace(),t.matchString("{")?(n=tl(t),t.allowWhitespace(),t.matchString("}")?{t:fc,m:n}:(t.pos=e,null)):(t.pos=e,null)},nl=Yt,il=function(t){var e,n;return e=t.pos,t.allowWhitespace(),t.matchString("[")?(n=nl(t),t.matchString("]")?{t:lc,m:n}:(t.pos=e,null)):(t.pos=e,null)},rl=Jt,sl=Xt,ol=/^(?:~\/|(?:\.\.\/)+|\.\/(?:\.\.\/)*|\.)/;qc=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)\b/,$c=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;var al,ul,hl=/^[a-zA-Z$_0-9]+(?:(?:\.[a-zA-Z$_0-9]+)|(?:\[[0-9]+\]))*/,cl=/^[a-zA-Z_$][-a-zA-Z_$0-9]*/,ll=te,fl=function(t){return rl(t)||sl(t)||ll(t)},dl=ee,pl=function(t){var e,n,i,r;if(n=fl(t),!n)return null;for(;n;)if(e=t.pos,i=dl(t))n={t:bc,x:n,r:i};else{if(!t.matchString("("))break;t.allowWhitespace(),r=nl(t),t.allowWhitespace(),t.matchString(")")||t.error(Uc),n={t:_c,x:n},r&&(n.o=r)}return n};ul=function(t,e){return function(n){var i;return(i=e(n))?i:n.matchString(t)?(n.allowWhitespace(),i=Ol(n),i||n.error(Mc),{s:t,o:i,t:wc}):null}},function(){var t,e,n,i,r;for(i="! ~ + - typeof".split(" "),r=pl,t=0,e=i.length;e>t;t+=1)n=ul(i[t],r),r=n;al=r}();var ml,vl,gl=al;vl=function(t,e){return function(n){var i,r,s;if(r=e(n),!r)return null;for(;;){if(i=n.pos,n.allowWhitespace(),!n.matchString(t))return n.pos=i,r;if("in"===t&&/[a-zA-Z_$0-9]/.test(n.remaining().charAt(0)))return n.pos=i,r;if(n.allowWhitespace(),s=e(n),!s)return n.pos=i,r;r={t:Ec,s:t,o:[r,s]}}}},function(){var t,e,n,i,r;for(i="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),r=gl,t=0,e=i.length;e>t;t+=1)n=vl(i[t],r),r=n;ml=r}();var yl,bl,wl,xl,kl,El,_l,Al,Sl=ml,Cl=ne,Ol=ie,Pl=re,Tl=oe,Fl=/^[0-9][1-9]*$/,Rl=ue,jl=he,Nl=ce,Dl=le,Il=fe,Ll=de,Vl=pe,Ml=/^yield\s*/,Ul=me,Wl=ve,zl=/^\s*else\s*/,Bl=ge,ql=/^\s*elseif\s+/,$l={each:Cc,"if":Ac,"if-with":Pc,"with":Oc,unless:Sc},Ql=ye,Zl=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,Hl=/^\s*,\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,Kl=new RegExp("^("+Object.keys($l).join("|")+")\\b"),Gl=Ee,Yl="<!--",Jl="-->";yl=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i,bl=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,wl={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},xl=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],kl=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(wl).join("|")+"));?","g"),El=/</g,_l=/>/g,Al=/&/g;var Xl,tf,ef,nf,rf,sf,of,af=/^\s*\r?\n/,uf=/\r?\n\s*$/,hf=function(t){var e,n,i,r,s;for(e=1;e<t.length;e+=1)n=t[e],i=t[e-1],r=t[e-2],Ce(n)&&Oe(i)&&Ce(r)&&uf.test(r)&&af.test(n)&&(t[e-2]=r.replace(uf,"\n"),t[e]=n.replace(af,"")),Pe(n)&&Ce(i)&&uf.test(i)&&Ce(n.f[0])&&af.test(n.f[0])&&(t[e-1]=i.replace(uf,"\n"),n.f[0]=n.f[0].replace(af,"")),Ce(n)&&Pe(i)&&(s=D(i.f),Ce(s)&&uf.test(s)&&af.test(n)&&(i.f[i.f.length-1]=s.replace(uf,"\n"),t[e]=n.replace(af,"")));return t},cf=function(t,e,n){var i;e&&(i=t[0],"string"==typeof i&&(i=i.replace(e,""),i?t[0]=i:t.shift())),n&&(i=D(t),"string"==typeof i&&(i=i.replace(n,""),i?t[t.length-1]=i:t.pop()))},lf=Te,ff=/[ \t\f\r\n]+/g,df=/^(?:pre|script|style|textarea)$/i,pf=/^[ \t\f\r\n]+/,mf=/[ \t\f\r\n]+$/,vf=/^(?:\r\n|\r|\n)/,gf=/(?:\r\n|\r|\n)$/,yf=Fe,bf=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/,wf=function(t,e){var n,i,r;for(n=e.length;n--;){if(i=t.indexOf(e[n]),!i)return 0;-1!==i&&(!r||r>i)&&(r=i)}return r||-1},xf=Re,kf=/^[^\s"'>\/=]+/,Ef=/^[^\s"'=<>`]+/;tf={"true":!0,"false":!1,undefined:void 0,"null":null},ef=new RegExp("^(?:"+Object.keys(tf).join("|")+")"),nf=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,rf=/\$\{([^\}]+)\}/g,sf=/^\$\{([^\}]+)\}/,of=/^\s*$/,Xl=Qh.extend({init:function(t,e){this.values=e.values,this.allowWhitespace()},postProcess:function(t){return 1===t.length&&of.test(this.leftover)?{value:t[0].v}:null},converters:[function(t){var e;return t.values?(e=t.matchPattern(sf),e&&t.values.hasOwnProperty(e)?{v:t.values[e]}:void 0):null},function(t){var e;return(e=t.matchPattern(ef))?{v:tf[e]}:void 0},function(t){var e;return(e=t.matchPattern(nf))?{v:+e}:void 0},function(t){var e,n=Kc(t);return n&&(e=t.values)?{v:n.v.replace(rf,function(t,n){return n in e?e[n]:n})}:n},function(t){var e,n;if(!t.matchString("{"))return null;if(e={},t.allowWhitespace(),t.matchString("}"))return{v:e};for(;n=Ve(t);){if(e[n.key]=n.value,t.allowWhitespace(),t.matchString("}"))return{v:e};if(!t.matchString(","))return null}return null},function(t){var e,n;if(!t.matchString("["))return null;if(e=[],t.allowWhitespace(),t.matchString("]"))return{v:e};for(;n=t.read();){if(e.push(n.v),t.allowWhitespace(),t.matchString("]"))return{v:e};if(!t.matchString(","))return null;t.allowWhitespace()}return null}]});var _f,Af=function(t,e){var n=new Xl(t,{values:e});return n.result},Sf=Me,Cf=/^([a-zA-Z_$][a-zA-Z_$0-9]*)\(/,Of=/\)\s*$/;_f=Qh.extend({converters:[Ol]});var Pf,Tf=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,Ff=/^[\s\n\/>]/,Rf=/^on/,jf=/^on-([a-zA-Z\\*\\.$_][a-zA-Z\\*\\.$_0-9\-]+)$/,Nf=/^(?:change|reset|teardown|update|construct|config|init|render|unrender|detach|insert)$/,Df={"intro-outro":"t0",intro:"t1",outro:"t2",decorator:"o"},If={exclude:!0};Pf={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rt","rp"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tfoot:["tbody"],tr:["tr","tbody"],td:["td","th","tr"],th:["td","th","tr"]};var Lf,Vf=Ue,Mf=ze,Uf=Be,Wf=/[-\/\\^$*+?.()|[\]{}]/g,zf=qe,Bf=/^<!--\s*/,qf=/s*>\s*([a-zA-Z_$][-a-zA-Z_$0-9]*)\s*/,$f=/\s*-->/,Qf=$e,Zf=/^#\s*partial\s+/,Hf=Qe,Kf=Ze,Gf=[Nl,jl,Ql,Vl,Ll,Dl],Yf=[Rl],Jf=[jl,Ql,Ll],Xf=void 0,td=[Lc,Gl,Vf,Mf],ed=[zf,Qf];Xf=Qh.extend({init:function(t,e){var n=e.tripleDelimiters||["{{{","}}}"],i=e.staticDelimiters||["[[","]]"],r=e.staticTripleDelimiters||["[[[","]]]"];this.standardDelimiters=e.delimiters||["{{","}}"],this.tags=[{isStatic:!1,isTriple:!1,open:this.standardDelimiters[0],close:this.standardDelimiters[1],readers:Gf},{isStatic:!1,isTriple:!0,open:n[0],close:n[1],readers:Yf},{isStatic:!0,isTriple:!1,open:i[0],close:i[1],readers:Jf},{isStatic:!0,isTriple:!0,open:r[0],close:r[1],readers:Yf}],this.sortMustacheTags(),this.sectionDepth=0,this.elementStack=[],this.interpolate={script:!e.interpolate||e.interpolate.script!==!1,style:!e.interpolate||e.interpolate.style!==!1},e.sanitize===!0&&(e.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),this.stripComments=e.stripComments!==!1,this.preserveWhitespace=e.preserveWhitespace,this.sanitizeElements=e.sanitize&&e.sanitize.elements,this.sanitizeEventAttributes=e.sanitize&&e.sanitize.eventAttributes,this.includeLinePositions=e.includeLinePositions},postProcess:function(t){return t.length?(this.sectionDepth>0&&this.error("A section was left open"),lf(t[0].t,this.stripComments,this.preserveWhitespace,!this.preserveWhitespace,!this.preserveWhitespace),t[0]):{t:[],v:oa}},converters:[Hf],sortMustacheTags:function(){this.tags.sort(function(t,e){return e.open.length-t.open.length})}});var nd,id,rd,sd=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters","interpolate"],od={fromId:Ge,isHashedId:Ye,isParsed:Je,getParseOptions:Xe,createHelper:He,parse:Ke},ad=od,ud={name:"template",extend:function(t,e,n){var i;"template"in n&&(i=n.template,e.template="function"==typeof i?i:rn(i,e))},init:function(t,e,n){var i,r;i="template"in n?n.template:t.prototype.template,"function"==typeof i&&(r=i,i=en(e,r),e._config.template={fn:r,result:i}),i=rn(i,e),e.template=i.t,i.p&&sn(e.partials,i.p)},reset:function(t){var e,n=tn(t);return n?(e=rn(n,t),t.template=e.t,sn(t.partials,e.p,!0),!0):void 0}},hd=ud;nd=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],id=function(t,e){this.name=t,this.useDefaults=e},id.prototype={constructor:id,extend:function(t,e,n){this.configure(this.useDefaults?t.defaults:t,this.useDefaults?e:e.constructor,n)},init:function(){},configure:function(t,e,n){var i,r=this.name,s=n[r];i=wa(t[r]);for(var o in s)i[o]=s[o];e[r]=i},reset:function(t){var e=t[this.name],n=!1;return Object.keys(e).forEach(function(t){var i=e[t];i._fn&&(i._fn.isOwner?e[t]=i._fn:delete e[t],n=!0)}),n}},rd=nd.map(function(t){return new id(t,"computed"===t)});var cd,ld,fd,dd,pd,md,vd=rd,gd=on,yd=cn;dd={adapt:Th,css:Mh,data:Wh,template:hd},fd=Object.keys(ua),md=dn(fd.filter(function(t){return!dd[t]})),pd=dn(fd.concat(vd.map(function(t){return t.name}))),ld=[].concat(fd.filter(function(t){return!vd[t]&&!dd[t]}),vd,dd.data,dd.template,dd.css),cd={extend:function(t,e,n){return ln("extend",t,e,n)},init:function(t,e,n){return ln("init",t,e,n)},reset:function(t){return ld.filter(function(e){return e.reset&&e.reset(t)}).map(function(t){return t.name})},order:ld};var bd=cd,wd=pn,xd=mn,kd=vn,Ed=gn,_d=yn,Ad=bn,Sd=wn,Cd=xn,Od=kn,Pd=En,Td=_n,Fd=An,Rd=function(){return e(this.node)},jd=function(t){this.type=Zh,this.text=t.template};jd.prototype={detach:Rd,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createTextNode(this.text)),this.node},toString:function(t){return t?Se(this.text):this.text},unrender:function(t){return t?this.detach():void 0}};var Nd=jd,Dd=Sn,Id=Cn,Ld=function(t,e,n){var i;this.ref=e,this.resolved=!1,this.root=t.root,this.parentFragment=t.parentFragment,this.callback=n,i=uu(t.root,e,t.parentFragment),void 0!=i?this.resolve(i):mu.addUnresolved(this)};Ld.prototype={resolve:function(t){this.keypath&&!t&&mu.addUnresolved(this),this.resolved=!0,this.keypath=t,this.callback(t)},forceResolution:function(){this.resolve(_(this.ref))},rebind:function(t,e){var n;void 0!=this.keypath&&(n=this.keypath.replace(t,e),void 0!==n&&this.resolve(n))},unbind:function(){this.resolved||mu.removeUnresolved(this)}};var Vd=Ld,Md=function(t,e,n){this.parentFragment=t.parentFragment,this.ref=e,this.callback=n,this.rebind()},Ud={"@keypath":{prefix:"c",prop:["context"]},"@index":{prefix:"i",prop:["index"]},"@key":{prefix:"k",prop:["key","index"]}};Md.prototype={rebind:function(){var t,e=this.ref,n=this.parentFragment,i=Ud[e];if(!i)throw new Error('Unknown special reference "'+e+'" - valid references are @index, @key and @keypath');if(this.cached)return this.callback(_("@"+i.prefix+On(this.cached,i)));if(-1!==i.prop.indexOf("index")||-1!==i.prop.indexOf("key"))for(;n;){if(n.owner.currentSubtype===Cc&&void 0!==(t=On(n,i)))return this.cached=n,n.registerIndexRef(this),this.callback(_("@"+i.prefix+t));n=!n.parent&&n.owner&&n.owner.component&&n.owner.component.parentFragment&&!n.owner.component.instance.isolated?n.owner.component.parentFragment:n.parent}else for(;n;){if(void 0!==(t=On(n,i)))return this.callback(_("@"+i.prefix+t.str));n=n.parent}},unbind:function(){this.cached&&this.cached.unregisterIndexRef(this)}};var Wd=Md,zd=function(t,e,n){this.parentFragment=t.parentFragment,this.ref=e,this.callback=n,e.ref.fragment.registerIndexRef(this),this.rebind()};zd.prototype={rebind:function(){var t,e=this.ref.ref;t="k"===e.ref.t?"k"+e.fragment.key:"i"+e.fragment.index,void 0!==t&&this.callback(_("@"+t))},unbind:function(){this.ref.ref.fragment.unregisterIndexRef(this)}};var Bd=zd,qd=Pn;Pn.resolve=function(t){var e,n,i={};for(e in t.refs)n=t.refs[e],i[n.ref.n]="k"===n.ref.t?n.fragment.key:n.fragment.index;return i};var $d,Qd=Tn,Zd=Fn,Hd={},Kd=Function.prototype.bind;$d=function(t,e,n,i){var r,s=this;r=t.root,this.root=r,this.parentFragment=e,this.callback=i,this.owner=t,this.str=n.s,this.keypaths=[],this.pending=n.r.length,this.refResolvers=n.r.map(function(t,e){return Qd(s,t,function(t){s.resolve(e,t)})}),this.ready=!0,this.bubble()},$d.prototype={bubble:function(){this.ready&&(this.uniqueString=jn(this.str,this.keypaths),this.keypath=Nn(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},unbind:function(){for(var t;t=this.refResolvers.pop();)t.unbind()},resolve:function(t,e){this.keypaths[t]=e,this.bubble()},createEvaluator:function(){var t,e,n,i,r,s=this;i=this.keypath,t=this.root.viewmodel.computations[i.str],t?this.root.viewmodel.mark(i):(r=Zd(this.str,this.refResolvers.length),e=this.keypaths.map(function(t){var e;return"undefined"===t?function(){return void 0}:t.isSpecial?(e=t.value,function(){return e}):function(){var e=s.root.viewmodel.get(t,{noUnwrap:!0,fullRootGet:!0});return"function"==typeof e&&(e=In(e,s.root)),e}}),n={deps:this.keypaths.filter(Dn),getter:function(){var t=e.map(Rn);return r.apply(null,t)}},t=this.root.viewmodel.compute(i,n))},rebind:function(t,e){this.refResolvers.forEach(function(n){return n.rebind(t,e)})}};var Gd=$d,Yd=function(t,e,n){var i=this;this.resolver=e,this.root=e.root,this.parentFragment=n,this.viewmodel=e.root.viewmodel,"string"==typeof t?this.value=t:t.t===gc?this.refResolver=Qd(this,t.n,function(t){i.resolve(t)}):new Gd(e,n,t,function(t){i.resolve(t)})};Yd.prototype={resolve:function(t){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.keypath=t,this.value=this.viewmodel.get(t),this.bind(),this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(t,e){this.refResolver&&this.refResolver.rebind(t,e)},setValue:function(t){this.value=t,this.resolver.bubble()},unbind:function(){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.refResolver&&this.refResolver.unbind()},forceResolution:function(){this.refResolver&&this.refResolver.forceResolution()}};var Jd=Yd,Xd=function(t,e,n){var i,r,s,o,a=this;this.parentFragment=o=t.parentFragment,this.root=i=t.root,this.mustache=t,this.ref=r=e.r,this.callback=n,this.unresolved=[],(s=uu(i,r,o))?this.base=s:this.baseResolver=new Vd(this,r,function(t){a.base=t,a.baseResolver=null,a.bubble()}),this.members=e.m.map(function(t){return new Jd(t,a,o)}),this.ready=!0,this.bubble()};Xd.prototype={getKeypath:function(){var t=this.members.map(Ln);return!t.every(Vn)||this.baseResolver?null:this.base.join(t.join("."))},bubble:function(){this.ready&&!this.baseResolver&&this.callback(this.getKeypath())},unbind:function(){this.members.forEach(Z)},rebind:function(t,e){var n;if(this.base){var i=this.base.replace(t,e);i&&i!==this.base&&(this.base=i,n=!0)}this.members.forEach(function(i){i.rebind(t,e)&&(n=!0)}),n&&this.bubble()},forceResolution:function(){this.baseResolver&&(this.base=_(this.ref),this.baseResolver.unbind(),this.baseResolver=null),this.members.forEach(Mn),this.bubble()}};var tp=Xd,ep=Un,np=Wn,ip=zn,rp={getValue:Id,init:ep,resolve:np,rebind:ip},sp=function(t){this.type=Hh,rp.init(this,t)};sp.prototype={update:function(){this.node.data=void 0==this.value?"":this.value},resolve:rp.resolve,rebind:rp.rebind,detach:Rd,unbind:Dd,render:function(){return this.node||(this.node=document.createTextNode(n(this.value))),this.node},unrender:function(t){t&&e(this.node)},getValue:rp.getValue,setValue:function(t){var e;this.keypath&&(e=this.root.viewmodel.wrapped[this.keypath.str])&&(t=e.get()),a(t,this.value)||(this.value=t,this.parentFragment.bubble(),this.node&&mu.addView(this))},firstNode:function(){return this.node},toString:function(t){var e=""+n(this.value);return t?Se(e):e}};var op=sp,ap=Bn,up=qn,hp=$n,cp=Qn,lp=Zn,fp=Hn,dp=Kn,pp=Gn,mp=Yn,vp=function(t,e){rp.rebind.call(this,t,e)},gp=Xn,yp=ti,bp=li,wp=fi,xp=di,kp=vi,Ep=function(t){this.type=Gh,this.subtype=this.currentSubtype=t.template.n,this.inverted=this.subtype===Sc,this.pElement=t.pElement,this.fragments=[],this.fragmentsToCreate=[],this.fragmentsToRender=[],this.fragmentsToUnrender=[],t.template.i&&(this.indexRefs=t.template.i.split(",").map(function(t,e){return{n:t,t:0===e?"k":"i"}})),this.renderedFragments=[],this.length=0,rp.init(this,t)};Ep.prototype={bubble:ap,detach:up,find:hp,findAll:cp,findAllComponents:lp,findComponent:fp,findNextNode:dp,firstNode:pp,getIndexRef:function(t){if(this.indexRefs)for(var e=this.indexRefs.length;e--;){var n=this.indexRefs[e];if(n.n===t)return n}},getValue:rp.getValue,shuffle:mp,rebind:vp,render:gp,resolve:rp.resolve,setValue:yp,toString:bp,unbind:wp,unrender:xp,update:kp};var _p,Ap,Sp=Ep,Cp=gi,Op=yi,Pp=bi,Tp=wi,Fp={};try{la("table").innerHTML="foo"}catch(_a){_p=!0,Ap={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}var Rp=function(t,e,n){var i,r,s,o,a,u=[];if(null!=t&&""!==t){for(_p&&(r=Ap[e.tagName])?(i=xi("DIV"),i.innerHTML=r[0]+t+r[1],i=i.querySelector(".x"),"SELECT"===i.tagName&&(s=i.options[i.selectedIndex])):e.namespaceURI===ia.svg?(i=xi("DIV"),i.innerHTML='<svg class="x">'+t+"</svg>",i=i.querySelector(".x")):(i=xi(e.tagName),i.innerHTML=t,"SELECT"===i.tagName&&(s=i.options[i.selectedIndex]));o=i.firstChild;)u.push(o),n.appendChild(o);if("SELECT"===e.tagName)for(a=u.length;a--;)u[a]!==s&&(u[a].selected=!1)}return u},jp=ki,Np=_i,Dp=Ai,Ip=Si,Lp=Ci,Vp=Oi,Mp=function(t){this.type=Kh,rp.init(this,t)};Mp.prototype={detach:Cp,find:Op,findAll:Pp,firstNode:Tp,getValue:rp.getValue,rebind:rp.rebind,render:Np,resolve:rp.resolve,setValue:Dp,toString:Ip,unbind:Dd,unrender:Lp,update:Vp};var Up,Wp,zp,Bp,qp=Mp,$p=function(){this.parentFragment.bubble()},Qp=Pi,Zp=function(t){return this.node?fa(this.node,t)?this.node:this.fragment&&this.fragment.find?this.fragment.find(t):void 0:null},Hp=function(t,e){e._test(this,!0)&&e.live&&(this.liveQueries||(this.liveQueries=[])).push(e),this.fragment&&this.fragment.findAll(t,e)},Kp=function(t,e){this.fragment&&this.fragment.findAllComponents(t,e)},Gp=function(t){return this.fragment?this.fragment.findComponent(t):void 0},Yp=Ti,Jp=Fi,Xp=Ri,tm=/^true|on|yes|1$/i,em=/^[0-9]+$/,nm=function(t,e){var n,i,r;return r=e.a||{},i={},n=r.twoway,void 0!==n&&(i.twoway=0===n||tm.test(n)),n=r.lazy,void 0!==n&&(i.lazy=0!==n&&em.test(n)?parseInt(n):0===n||tm.test(n)),i},im=ji;Up="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),Wp="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),zp=function(t){for(var e={},n=t.length;n--;)e[t[n].toLowerCase()]=t[n];return e},Bp=zp(Up.concat(Wp));var rm=function(t){var e=t.toLowerCase();return Bp[e]||e},sm=function(t,e){var n,i;if(n=e.indexOf(":"),-1===n||(i=e.substr(0,n),"xmlns"===i))t.name=t.element.namespace!==ia.html?rm(e):e;else if(e=e.substring(n+1),t.name=rm(e),t.namespace=ia[i.toLowerCase()],t.namespacePrefix=i,!t.namespace)throw'Unknown namespace ("'+i+'")'},om=Ni,am=Di,um=Ii,hm=Li,cm={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",
novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},lm=Vi,fm=Ui,dm=Wi,pm=zi,mm=Bi,vm=qi,gm=$i,ym=Qi,bm=Zi,wm=Hi,xm=Ki,km=Gi,Em=Yi,_m=Ji,Am=Xi,Sm=function(t){this.init(t)};Sm.prototype={bubble:im,init:am,rebind:um,render:hm,toString:lm,unbind:fm,update:Am};var Cm,Om=Sm,Pm=function(t,e){var n,i,r=[];for(n in e)"twoway"!==n&&"lazy"!==n&&e.hasOwnProperty(n)&&(i=new Om({element:t,name:n,value:e[n],root:t.root}),r[n]=i,"value"!==n&&r.push(i));return(i=r.value)&&r.push(i),r};"undefined"!=typeof document&&(Cm=la("div"));var Tm=function(t,e){this.element=t,this.root=t.root,this.parentFragment=t.parentFragment,this.attributes=[],this.fragment=new yb({root:t.root,owner:this,template:[e]})};Tm.prototype={bubble:function(){this.node&&this.update(),this.element.bubble()},rebind:function(t,e){this.fragment.rebind(t,e)},render:function(t){this.node=t,this.isSvg=t.namespaceURI===ia.svg,this.update()},unbind:function(){this.fragment.unbind()},update:function(){var t,e,n=this;t=this.fragment.toString(),e=tr(t,this.isSvg),this.attributes.filter(function(t){return er(e,t)}).forEach(function(t){n.node.removeAttribute(t.name)}),e.forEach(function(t){n.node.setAttribute(t.name,t.value)}),this.attributes=e},toString:function(){return this.fragment.toString()}};var Fm=Tm,Rm=function(t,e){return e?e.map(function(e){return new Fm(t,e)}):[]},jm=function(t){var e,n,i,r;if(this.element=t,this.root=t.root,this.attribute=t.attributes[this.name||"value"],e=this.attribute.interpolator,e.twowayBinding=this,n=e.keypath){if("}"===n.str.slice(-1))return v("Two-way binding does not work with expressions (`%s` on <%s>)",e.resolver.uniqueString,t.name,{ractive:this.root}),!1;if(n.isSpecial)return v("Two-way binding does not work with %s",e.resolver.ref,{ractive:this.root}),!1}else{var s=e.template.r?"'"+e.template.r+"' reference":"expression";m("The %s being used for two-way binding is ambiguous, and may cause unexpected results. Consider initialising your data to eliminate the ambiguity",s,{ractive:this.root}),e.resolver.forceResolution(),n=e.keypath}this.attribute.isTwoway=!0,this.keypath=n,i=this.root.viewmodel.get(n),void 0===i&&this.getInitialValue&&(i=this.getInitialValue(),void 0!==i&&this.root.viewmodel.set(n,i)),(r=nr(t))&&(this.resetValue=i,r.formBindings.push(this))};jm.prototype={handleChange:function(){var t=this;mu.start(this.root),this.attribute.locked=!0,this.root.viewmodel.set(this.keypath,this.getValue()),mu.scheduleTask(function(){return t.attribute.locked=!1}),mu.end()},rebound:function(){var t,e,n;e=this.keypath,n=this.attribute.interpolator.keypath,e!==n&&(I(this.root._twowayBindings[e.str],this),this.keypath=n,t=this.root._twowayBindings[n.str]||(this.root._twowayBindings[n.str]=[]),t.push(this))},unbind:function(){}},jm.extend=function(t){var e,n=this;return e=function(t){jm.call(this,t),this.init&&this.init()},e.prototype=wa(n.prototype),i(e.prototype,t),e.extend=jm.extend,e};var Nm,Dm=jm,Im=ir;Nm=Dm.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var t,e=this.element.node,n=!1;this.rendered=!0,t=this.root.lazy,this.element.lazy===!0?t=!0:this.element.lazy===!1?t=!1:u(this.element.lazy)?(t=!1,n=+this.element.lazy):u(t||"")&&(n=+t,t=!1,this.element.lazy=n),this.handler=n?sr:Im,e.addEventListener("change",Im,!1),t||(e.addEventListener("input",this.handler,!1),e.attachEvent&&e.addEventListener("keyup",this.handler,!1)),e.addEventListener("blur",rr,!1)},unrender:function(){var t=this.element.node;this.rendered=!1,t.removeEventListener("change",Im,!1),t.removeEventListener("input",this.handler,!1),t.removeEventListener("keyup",this.handler,!1),t.removeEventListener("blur",rr,!1)}});var Lm=Nm,Vm=Lm.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},getValue:function(){return this.element.node.innerHTML}}),Mm=Vm,Um=or,Wm={},zm=Dm.extend({name:"checked",init:function(){this.siblings=Um(this.root._guid,"radio",this.element.getAttribute("name")),this.siblings.push(this)},render:function(){var t=this.element.node;t.addEventListener("change",Im,!1),t.attachEvent&&t.addEventListener("click",Im,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Im,!1),t.removeEventListener("click",Im,!1)},handleChange:function(){mu.start(this.root),this.siblings.forEach(function(t){t.root.viewmodel.set(t.keypath,t.getValue())}),mu.end()},getValue:function(){return this.element.node.checked},unbind:function(){I(this.siblings,this)}}),Bm=zm,qm=Dm.extend({name:"name",init:function(){this.siblings=Um(this.root._guid,"radioname",this.keypath.str),this.siblings.push(this),this.radioName=!0},getInitialValue:function(){return this.element.getAttribute("checked")?this.element.getAttribute("value"):void 0},render:function(){var t=this.element.node;t.name="{{"+this.keypath.str+"}}",t.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value"),t.addEventListener("change",Im,!1),t.attachEvent&&t.addEventListener("click",Im,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Im,!1),t.removeEventListener("click",Im,!1)},getValue:function(){var t=this.element.node;return t._ractive?t._ractive.value:t.value},handleChange:function(){this.element.node.checked&&Dm.prototype.handleChange.call(this)},rebound:function(t,e){var n;Dm.prototype.rebound.call(this,t,e),(n=this.element.node)&&(n.name="{{"+this.keypath.str+"}}")},unbind:function(){I(this.siblings,this)}}),$m=qm,Qm=Dm.extend({name:"name",getInitialValue:function(){return this.noInitialValue=!0,[]},init:function(){var t,e;this.checkboxName=!0,this.siblings=Um(this.root._guid,"checkboxes",this.keypath.str),this.siblings.push(this),this.noInitialValue&&(this.siblings.noInitialValue=!0),this.siblings.noInitialValue&&this.element.getAttribute("checked")&&(t=this.root.viewmodel.get(this.keypath),e=this.element.getAttribute("value"),t.push(e))},unbind:function(){I(this.siblings,this)},render:function(){var t,e,n=this.element.node;t=this.root.viewmodel.get(this.keypath),e=this.element.getAttribute("value"),this.isChecked=s(t)?R(t,e):t==e,n.name="{{"+this.keypath.str+"}}",n.checked=this.isChecked,n.addEventListener("change",Im,!1),n.attachEvent&&n.addEventListener("click",Im,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Im,!1),t.removeEventListener("click",Im,!1)},changed:function(){var t=!!this.isChecked;return this.isChecked=this.element.node.checked,this.isChecked===t},handleChange:function(){this.isChecked=this.element.node.checked,Dm.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(ar).map(ur)}}),Zm=Qm,Hm=Dm.extend({name:"checked",render:function(){var t=this.element.node;t.addEventListener("change",Im,!1),t.attachEvent&&t.addEventListener("click",Im,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Im,!1),t.removeEventListener("click",Im,!1)},getValue:function(){return this.element.node.checked}}),Km=Hm,Gm=Dm.extend({getInitialValue:function(){var t,e,n,i,r=this.element.options;if(void 0===this.element.getAttribute("value")&&(e=t=r.length,t)){for(;e--;)if(r[e].getAttribute("selected")){n=r[e].getAttribute("value"),i=!0;break}if(!i)for(;++e<t;)if(!r[e].getAttribute("disabled")){n=r[e].getAttribute("value");break}return void 0!==n&&(this.element.attributes.value.value=n),n}},render:function(){this.element.node.addEventListener("change",Im,!1)},unrender:function(){this.element.node.removeEventListener("change",Im,!1)},setValue:function(t){this.root.viewmodel.set(this.keypath,t)},getValue:function(){var t,e,n,i,r;for(t=this.element.node.options,n=t.length,e=0;n>e;e+=1)if(i=t[e],t[e].selected)return r=i._ractive?i._ractive.value:i.value},forceUpdate:function(){var t=this,e=this.getValue();void 0!==e&&(this.attribute.locked=!0,mu.scheduleTask(function(){return t.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,e))}}),Ym=Gm,Jm=Ym.extend({getInitialValue:function(){return this.element.options.filter(function(t){return t.getAttribute("selected")}).map(function(t){return t.getAttribute("value")})},render:function(){var t;this.element.node.addEventListener("change",Im,!1),t=this.root.viewmodel.get(this.keypath),void 0===t&&this.handleChange()},unrender:function(){this.element.node.removeEventListener("change",Im,!1)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var t,e,n,i,r,s;for(t=[],e=this.element.node.options,i=e.length,n=0;i>n;n+=1)r=e[n],r.selected&&(s=r._ractive?r._ractive.value:r.value,t.push(s));return t},handleChange:function(){var t,e,n;return t=this.attribute,e=t.value,n=this.getValue(),void 0!==e&&j(n,e)||Ym.prototype.handleChange.call(this),this},forceUpdate:function(){var t=this,e=this.getValue();void 0!==e&&(this.attribute.locked=!0,mu.scheduleTask(function(){return t.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,e))},updateModel:function(){void 0!==this.attribute.value&&this.attribute.value.length||this.root.viewmodel.set(this.keypath,this.initialValue)}}),Xm=Jm,tv=Dm.extend({render:function(){this.element.node.addEventListener("change",Im,!1)},unrender:function(){this.element.node.removeEventListener("change",Im,!1)},getValue:function(){return this.element.node.files}}),ev=tv,nv=Lm.extend({getInitialValue:function(){return void 0},getValue:function(){var t=parseFloat(this.element.node.value);return isNaN(t)?void 0:t}}),iv=hr,rv=lr,sv=fr,ov=dr,av=pr,uv=/^event(?:\.(.+))?/,hv=yr,cv=br,lv={},fv={touchstart:!0,touchmove:!0,touchend:!0,touchcancel:!0,touchleave:!0},dv=xr,pv=kr,mv=Er,vv=_r,gv=Ar,yv=function(t,e,n){this.init(t,e,n)};yv.prototype={bubble:rv,fire:sv,getAction:ov,init:av,listen:cv,rebind:dv,render:pv,resolve:mv,unbind:vv,unrender:gv};var bv=yv,wv=function(t,e){var n,i,r,s,o=[];for(i in e)if(e.hasOwnProperty(i))for(r=i.split("-"),n=r.length;n--;)s=new bv(t,r[n],e[i]),o.push(s);return o},xv=function(t,e){var n,i,r,s=this;this.element=t,this.root=n=t.root,i=e.n||e,("string"==typeof i||(r=new yb({template:i,root:n,owner:t}),i=r.toString(),r.unbind(),""!==i))&&(e.a?this.params=e.a:e.d&&(this.fragment=new yb({template:e.d,root:n,owner:t}),this.params=this.fragment.getArgsList(),this.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,s.params=this.getArgsList(),s.ready&&s.update()}),this.fn=g("decorators",n,i),this.fn||l(Da(i,"decorator")))};xv.prototype={init:function(){var t,e,n;if(t=this.element.node,this.params?(n=[t].concat(this.params),e=this.fn.apply(this.root,n)):e=this.fn.call(this.root,t),!e||!e.teardown)throw new Error("Decorator definition must return an object with a teardown method");this.actual=e,this.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},rebind:function(t,e){this.fragment&&this.fragment.rebind(t,e)},teardown:function(t){this.torndown=!0,this.ready&&this.actual.teardown(),!t&&this.fragment&&this.fragment.unbind()}};var kv,Ev,_v,Av=xv,Sv=Rr,Cv=jr,Ov=Mr,Pv=function(t){return t.replace(/-([a-zA-Z])/g,function(t,e){return e.toUpperCase()})};Xo?(Ev={},_v=la("div").style,kv=function(t){var e,n,i;if(t=Pv(t),!Ev[t])if(void 0!==_v[t])Ev[t]=t;else for(i=t.charAt(0).toUpperCase()+t.substring(1),e=sa.length;e--;)if(n=sa[e],void 0!==_v[n+i]){Ev[t]=n+i;break}return Ev[t]}):kv=null;var Tv,Fv,Rv=kv;Xo?(Fv=window.getComputedStyle||Ea.getComputedStyle,Tv=function(t){var e,n,i,r,o;if(e=Fv(this.node),"string"==typeof t)return o=e[Rv(t)],"0px"===o&&(o=0),o;if(!s(t))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(n={},i=t.length;i--;)r=t[i],o=e[Rv(r)],"0px"===o&&(o=0),n[r]=o;return n}):Tv=null;var jv=Tv,Nv=function(t,e){var n;if("string"==typeof t)this.node.style[Rv(t)]=e;else for(n in t)t.hasOwnProperty(n)&&(this.node.style[Rv(n)]=t[n]);return this},Dv=function(t){var e;this.duration=t.duration,this.step=t.step,this.complete=t.complete,"string"==typeof t.easing?(e=t.root.easing[t.easing],e||(v(Da(t.easing,"easing")),e=Ur)):e="function"==typeof t.easing?t.easing:Ur,this.easing=e,this.start=Xa(),this.end=this.start+this.duration,this.running=!0,yu.add(this)};Dv.prototype={tick:function(t){var e,n;return this.running?t>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(e=t-this.start,n=this.easing(e/this.duration),this.step&&this.step(n),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}};var Iv,Lv,Vv,Mv,Uv,Wv,zv,Bv,qv=Dv,$v=new RegExp("^-(?:"+sa.join("|")+")-"),Qv=function(t){return t.replace($v,"")},Zv=new RegExp("^(?:"+sa.join("|")+")([A-Z])"),Hv=function(t){var e;return t?(Zv.test(t)&&(t="-"+t),e=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})):""},Kv={},Gv={};Xo?(Lv=la("div").style,function(){void 0!==Lv.transition?(Vv="transition",Mv="transitionend",Uv=!0):void 0!==Lv.webkitTransition?(Vv="webkitTransition",Mv="webkitTransitionEnd",Uv=!0):Uv=!1}(),Vv&&(Wv=Vv+"Duration",zv=Vv+"Property",Bv=Vv+"TimingFunction"),Iv=function(t,e,n,i,r){setTimeout(function(){var s,o,a,u,h;u=function(){o&&a&&(t.root.fire(t.name+":end",t.node,t.isIntro),r())},s=(t.node.namespaceURI||"")+t.node.tagName,t.node.style[zv]=i.map(Rv).map(Hv).join(","),t.node.style[Bv]=Hv(n.easing||"linear"),t.node.style[Wv]=n.duration/1e3+"s",h=function(e){var n;n=i.indexOf(Pv(Qv(e.propertyName))),-1!==n&&i.splice(n,1),i.length||(t.node.removeEventListener(Mv,h,!1),a=!0,u())},t.node.addEventListener(Mv,h,!1),setTimeout(function(){for(var r,c,l,f,d,p=i.length,v=[];p--;)f=i[p],r=s+f,Uv&&!Gv[r]&&(t.node.style[Rv(f)]=e[f],Kv[r]||(c=t.getStyle(f),Kv[r]=t.getStyle(f)!=e[f],Gv[r]=!Kv[r],Gv[r]&&(t.node.style[Rv(f)]=c))),(!Uv||Gv[r])&&(void 0===c&&(c=t.getStyle(f)),l=i.indexOf(f),-1===l?m("Something very strange happened with transitions. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!",{node:t.node}):i.splice(l,1),d=/[^\d]*$/.exec(e[f])[0],v.push({name:Rv(f),interpolator:La(parseFloat(c),parseFloat(e[f])),suffix:d}));v.length?new qv({root:t.root,duration:n.duration,easing:Pv(n.easing||""),step:function(e){var n,i;for(i=v.length;i--;)n=v[i],t.node.style[n.name]=n.interpolator(e)+n.suffix},complete:function(){o=!0,u()}}):o=!0,i.length||(t.node.removeEventListener(Mv,h,!1),a=!0,u())},0)},n.delay||0)}):Iv=null;var Yv,Jv,Xv,tg,eg,ng=Iv;if("undefined"!=typeof document){if(Yv="hidden",eg={},Yv in document)Xv="";else for(tg=sa.length;tg--;)Jv=sa[tg],Yv=Jv+"Hidden",Yv in document&&(Xv=Jv);void 0!==Xv?(document.addEventListener(Xv+"visibilitychange",Wr),Wr()):("onfocusout"in document?(document.addEventListener("focusout",zr),document.addEventListener("focusin",Br)):(window.addEventListener("pagehide",zr),window.addEventListener("blur",zr),window.addEventListener("pageshow",Br),window.addEventListener("focus",Br)),eg.hidden=!1)}var ig,rg,sg,og=eg;Xo?(rg=window.getComputedStyle||Ea.getComputedStyle,ig=function(t,e,n){var i,r=this;if(4===arguments.length)throw new Error("t.animateStyle() returns a promise - use .then() instead of passing a callback");if(og.hidden)return this.setStyle(t,e),sg||(sg=ou.resolve());"string"==typeof t?(i={},i[t]=e):(i=t,n=e),n||(v('The "%s" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340',this.name),n=this);var s=new ou(function(t){var e,s,o,a,u,h,c;if(!n.duration)return r.setStyle(i),void t();for(e=Object.keys(i),s=[],o=rg(r.node),u={},h=e.length;h--;)c=e[h],a=o[Rv(c)],"0px"===a&&(a=0),a!=i[c]&&(s.push(c),r.node.style[Rv(c)]=a);return s.length?void ng(r,i,n,s,t):void t()});return s}):ig=null;var ag=ig,ug=function(t,e){return"number"==typeof t?t={duration:t}:"string"==typeof t?t="slow"===t?{duration:600}:"fast"===t?{duration:200}:{duration:400}:t||(t={}),r({},t,e)},hg=qr,cg=function(t,e,n){this.init(t,e,n)};cg.prototype={init:Ov,start:hg,getStyle:jv,setStyle:Nv,animateStyle:ag,processParams:ug};var lg,fg,dg=cg,pg=Qr;lg=function(){var t=this.node,e=this.fragment.toString(!1);if(window&&window.appearsToBeIELessEqual8&&(t.type="text/css"),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}},fg=function(){this.node.type&&"text/javascript"!==this.node.type||m("Script tag was updated. This does not cause the code to be re-evaluated!",{ractive:this.root}),this.node.text=this.fragment.toString(!1)};var mg=function(){var t,e;return this.template.y?"<!DOCTYPE"+this.template.dd+">":(t="<"+this.template.e,t+=this.attributes.map(Jr).join("")+this.conditionalAttributes.map(Jr).join(""),"option"===this.name&&Gr(this)&&(t+=" selected"),"input"===this.name&&Yr(this)&&(t+=" checked"),t+=">","textarea"===this.name&&void 0!==this.getAttribute("value")?t+=Se(this.getAttribute("value")):void 0!==this.getAttribute("contenteditable")&&(t+=this.getAttribute("value")||""),this.fragment&&(e="script"!==this.name&&"style"!==this.name,t+=this.fragment.toString(e)),bl.test(this.template.e)||(t+="</"+this.template.e+">"),t)},vg=Xr,gg=ts,yg=function(t){this.init(t)};yg.prototype={bubble:$p,detach:Qp,find:Zp,findAll:Hp,findAllComponents:Kp,findComponent:Gp,findNextNode:Yp,firstNode:Jp,getAttribute:Xp,init:Sv,rebind:Cv,render:pg,toString:mg,unbind:vg,unrender:gg};var bg=yg,wg=/^\s*$/,xg=/^\s*/,kg=function(t){var e,n,i,r;return e=t.split("\n"),n=e[0],void 0!==n&&wg.test(n)&&e.shift(),i=D(e),void 0!==i&&wg.test(i)&&e.pop(),r=e.reduce(ns,null),r&&(t=e.map(function(t){return t.replace(r,"")}).join("\n")),t},Eg=is,_g=function(t,e){var n;return e?n=t.split("\n").map(function(t,n){return n?e+t:t}).join("\n"):t},Ag='Could not find template for partial "%s"',Sg=function(t){var e,n;e=this.parentFragment=t.parentFragment,this.root=e.root,this.type=tc,this.index=t.index,this.name=t.template.r,this.rendered=!1,this.fragment=this.fragmentToRender=this.fragmentToUnrender=null,rp.init(this,t),this.keypath||((n=Eg(this.root,this.name,e))?(Dd.call(this),this.isNamed=!0,this.setTemplate(n)):v(Ag,this.name))};Sg.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){return this.fragment.detach()},find:function(t){return this.fragment.find(t)},findAll:function(t,e){return this.fragment.findAll(t,e)},findComponent:function(t){return this.fragment.findComponent(t)},findAllComponents:function(t,e){return this.fragment.findAllComponents(t,e)},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},getPartialName:function(){return this.isNamed&&this.name?this.name:void 0===this.value?this.name:this.value},getValue:function(){return this.fragment.getValue()},rebind:function(t,e){this.isNamed||ip.call(this,t,e),this.fragment&&this.fragment.rebind(t,e)},render:function(){return this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,this.docFrag},resolve:rp.resolve,setValue:function(t){var e;(void 0===t||t!==this.value)&&(void 0!==t&&(e=Eg(this.root,""+t,this.parentFragment)),!e&&this.name&&(e=Eg(this.root,this.name,this.parentFragment))&&(Dd.call(this),this.isNamed=!0),e||v(Ag,this.name,{ractive:this.root}),this.value=t,this.setTemplate(e||[]),this.bubble(),this.rendered&&mu.addView(this))},setTemplate:function(t){this.fragment&&(this.fragment.unbind(),this.rendered&&(this.fragmentToUnrender=this.fragment)),this.fragment=new yb({template:t,root:this.root,owner:this,pElement:this.parentFragment.pElement}),this.fragmentToRender=this.fragment},toString:function(t){var e,n,i,r;return e=this.fragment.toString(t),n=this.parentFragment.items[this.index-1],n&&n.type===Zh?(i=n.text.split("\n").pop(),(r=/^\s+$/.exec(i))?_g(e,r[0]):e):e},unbind:function(){this.isNamed||Dd.call(this),this.fragment&&this.fragment.unbind()},unrender:function(t){this.rendered&&(this.fragment&&this.fragment.unrender(t),this.rendered=!1)},update:function(){var t,e;this.fragmentToUnrender&&(this.fragmentToUnrender.unrender(!0),this.fragmentToUnrender=null),this.fragmentToRender&&(this.docFrag.appendChild(this.fragmentToRender.render()),this.fragmentToRender=null),this.rendered&&(t=this.parentFragment.getNode(),e=this.parentFragment.findNextNode(this),t.insertBefore(this.docFrag,e))}};var Cg,Og,Pg,Tg=Sg,Fg=us,Rg=hs,jg=new nu("detach"),Ng=cs,Dg=ls,Ig=fs,Lg=ds,Vg=ps,Mg=ms,Ug=function(t,e,n,i){var r=t.root,s=t.keypath;i?r.viewmodel.smartUpdate(s,e,i):r.viewmodel.mark(s)},Wg=[],zg=["pop","push","reverse","shift","sort","splice","unshift"];zg.forEach(function(t){var e=function(){for(var e=arguments.length,n=Array(e),i=0;e>i;i++)n[i]=arguments[i];var r,s,o,a;for(r=mh(this,t,n),s=Array.prototype[t].apply(this,arguments),mu.start(),this._ractive.setting=!0,a=this._ractive.wrappers.length;a--;)o=this._ractive.wrappers[a],mu.addRactive(o.root),Ug(o,this,t,r);return mu.end(),this._ractive.setting=!1,s};xa(Wg,t,{value:e})}),Cg={},Cg.__proto__?(Og=function(t){t.__proto__=Wg},Pg=function(t){t.__proto__=Array.prototype}):(Og=function(t){var e,n;for(e=zg.length;e--;)n=zg[e],xa(t,n,{value:Wg[n],configurable:!0})},Pg=function(t){var e;for(e=zg.length;e--;)delete t[zg[e]]}),Og.unpatch=Pg;var Bg,qg,$g,Qg=Og;Bg={filter:function(t){return s(t)&&(!t._ractive||!t._ractive.setting)},wrap:function(t,e,n){return new qg(t,e,n)}},qg=function(t,e,n){this.root=t,this.value=e,this.keypath=_(n),e._ractive||(xa(e,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),Qg(e)),e._ractive.instances[t._guid]||(e._ractive.instances[t._guid]=0,e._ractive.instances.push(t)),e._ractive.instances[t._guid]+=1,e._ractive.wrappers.push(this)},qg.prototype={get:function(){return this.value},teardown:function(){var t,e,n,i,r;if(t=this.value,e=t._ractive,n=e.wrappers,i=e.instances,e.setting)return!1;if(r=n.indexOf(this),-1===r)throw new Error($g);if(n.splice(r,1),n.length){if(i[this.root._guid]-=1,!i[this.root._guid]){if(r=i.indexOf(this.root),-1===r)throw new Error($g);i.splice(r,1)}}else delete t._ractive,Qg.unpatch(this.value)}},$g="Something went wrong in a rather interesting way";var Zg,Hg,Kg=Bg,Gg=/^\s*[0-9]+\s*$/,Yg=function(t){return Gg.test(t)?[]:{}};try{Object.defineProperty({},"test",{value:0}),Zg={filter:function(t,e,n){var i,r;return e?(e=_(e),(i=n.viewmodel.wrapped[e.parent.str])&&!i.magic?!1:(r=n.viewmodel.get(e.parent),s(r)&&/^[0-9]+$/.test(e.lastKey)?!1:r&&("object"==typeof r||"function"==typeof r))):!1},wrap:function(t,e,n){return new Hg(t,e,n)}},Hg=function(t,e,n){var i,r,s;return n=_(n),this.magic=!0,this.ractive=t,this.keypath=n,this.value=e,this.prop=n.lastKey,i=n.parent,this.obj=i.isRoot?t.viewmodel.data:t.viewmodel.get(i),r=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),r&&r.set&&(s=r.set._ractiveWrappers)?void(-1===s.indexOf(this)&&s.push(this)):void vs(this,e,r)},Hg.prototype={get:function(){return this.value},reset:function(t){return this.updating?void 0:(this.updating=!0,this.obj[this.prop]=t,mu.addRactive(this.ractive),this.ractive.viewmodel.mark(this.keypath,{keepExistingWrapper:!0}),this.updating=!1,!0)},set:function(t,e){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=Yg(t),this.updating=!1),this.obj[this.prop][t]=e)},teardown:function(){var t,e,n,i,r;return this.updating?!1:(t=Object.getOwnPropertyDescriptor(this.obj,this.prop),e=t&&t.set,void(e&&(i=e._ractiveWrappers,r=i.indexOf(this),-1!==r&&i.splice(r,1),i.length||(n=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=n))))}}}catch(_a){Zg=!1}var Jg,Xg,ty=Zg;ty&&(Jg={filter:function(t,e,n){return ty.filter(t,e,n)&&Kg.filter(t)},wrap:function(t,e,n){return new Xg(t,e,n)}},Xg=function(t,e,n){this.value=e,this.magic=!0,this.magicWrapper=ty.wrap(t,e,n),this.arrayWrapper=Kg.wrap(t,e,n)},Xg.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(t){return this.magicWrapper.reset(t)}});var ey=Jg,ny=gs,iy={},ry=ws,sy=xs,oy=_s,ay=Ps,uy=Ts,hy=function(t,e){this.computation=t,this.viewmodel=t.viewmodel,this.ref=e,this.root=this.viewmodel.ractive,this.parentFragment=this.root.component&&this.root.component.parentFragment};hy.prototype={resolve:function(t){this.computation.softDeps.push(t),this.computation.unresolvedDeps[t.str]=null,this.viewmodel.register(t,this.computation,"computed")}};var cy=hy,ly=function(t,e){this.key=t,this.getter=e.getter,this.setter=e.setter,this.hardDeps=e.deps||[],this.softDeps=[],this.unresolvedDeps={},this.depValues={},this._dirty=this._firstRun=!0};ly.prototype={constructor:ly,init:function(t){var e,n=this;this.viewmodel=t,this.bypass=!0,e=t.get(this.key),t.clearCache(this.key.str),this.bypass=!1,this.setter&&void 0!==e&&this.set(e),this.hardDeps&&this.hardDeps.forEach(function(e){return t.register(e,n,"computed")})},invalidate:function(){this._dirty=!0},get:function(){var t,e,n=this,i=!1;if(this.getting){var r="The "+this.key.str+" computation indirectly called itself. This probably indicates a bug in the computation. It is commonly caused by `array.sort(...)` - if that's the case, clone the array first with `array.slice().sort(...)`";return p(r),this.value}if(this.getting=!0,this._dirty){if(this._firstRun||!this.hardDeps.length&&!this.softDeps.length?i=!0:[this.hardDeps,this.softDeps].forEach(function(t){var e,r,s;if(!i)for(s=t.length;s--;)if(e=t[s],r=n.viewmodel.get(e),!a(r,n.depValues[e.str]))return n.depValues[e.str]=r,void(i=!0)}),i){this.viewmodel.capture();try{this.value=this.getter()}catch(s){m('Failed to compute "%s"',this.key.str),f(s.stack||s),this.value=void 0}t=this.viewmodel.release(),e=this.updateDependencies(t),e&&[this.hardDeps,this.softDeps].forEach(function(t){t.forEach(function(t){n.depValues[t.str]=n.viewmodel.get(t)})})}this._dirty=!1}return this.getting=this._firstRun=!1,this.value},set:function(t){if(this.setting)return void(this.value=t);if(!this.setter)throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)");this.setter(t)},updateDependencies:function(t){var e,n,i,r,s;for(n=this.softDeps,e=n.length;e--;)i=n[e],-1===t.indexOf(i)&&(r=!0,this.viewmodel.unregister(i,this,"computed"));for(e=t.length;e--;)i=t[e],-1!==n.indexOf(i)||this.hardDeps&&-1!==this.hardDeps.indexOf(i)||(r=!0,Fs(this.viewmodel,i)&&!this.unresolvedDeps[i.str]?(s=new cy(this,i.str),t.splice(e,1),this.unresolvedDeps[i.str]=s,mu.addUnresolved(s)):this.viewmodel.register(i,this,"computed"));return r&&(this.softDeps=t.slice()),r}};var fy=ly,dy=Rs,py={FAILED_LOOKUP:!0},my=js,vy={},gy=Ds,yy=Is,by=function(t,e){this.localKey=t,this.keypath=e.keypath,this.origin=e.origin,this.deps=[],this.unresolved=[],this.resolved=!1};by.prototype={forceResolution:function(){this.keypath=this.localKey,this.setup()},get:function(t,e){return this.resolved?this.origin.get(this.map(t),e):void 0},getValue:function(){return this.keypath?this.origin.get(this.keypath):void 0},initViewmodel:function(t){this.local=t,this.setup()},map:function(t){return void 0===typeof this.keypath?this.localKey:t.replace(this.localKey,this.keypath)},register:function(t,e,n){this.deps.push({keypath:t,dep:e,group:n}),this.resolved&&this.origin.register(this.map(t),e,n)},resolve:function(t){void 0!==this.keypath&&this.unbind(!0),this.keypath=t,this.setup()},set:function(t,e){this.resolved||this.forceResolution(),this.origin.set(this.map(t),e)},setup:function(){var t=this;void 0!==this.keypath&&(this.resolved=!0,this.deps.length&&(this.deps.forEach(function(e){var n=t.map(e.keypath);if(t.origin.register(n,e.dep,e.group),e.dep.setValue)e.dep.setValue(t.origin.get(n));else{if(!e.dep.invalidate)throw new Error("An unexpected error occurred. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");e.dep.invalidate()}}),this.origin.mark(this.keypath)))},setValue:function(t){if(!this.keypath)throw new Error("Mapping does not have keypath, cannot set value. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");this.origin.set(this.keypath,t)},unbind:function(t){var e=this;t||delete this.local.mappings[this.localKey],this.resolved&&(this.deps.forEach(function(t){e.origin.unregister(e.map(t.keypath),t.dep,t.group)}),this.tracker&&this.origin.unregister(this.keypath,this.tracker))},unregister:function(t,e,n){var i,r;if(this.resolved){for(i=this.deps,r=i.length;r--;)if(i[r].dep===e){i.splice(r,1);break}this.origin.unregister(this.map(t),e,n)}}};var wy=Ls,xy=function(t,e){var n,i,r,s;return n={},i=0,r=t.map(function(t,r){var o,a,u;a=i,u=e.length;do{if(o=e.indexOf(t,a),-1===o)return s=!0,-1;a=o+1}while(n[o]&&u>a);return o===i&&(i+=1),o!==r&&(s=!0),n[o]=!0,o})},ky=Vs,Ey={},_y=Ws,Ay=Bs,Sy=qs,Cy=$s,Oy=Zs,Py={implicit:!0},Ty={noCascade:!0},Fy=Ks,Ry=Gs,jy=function(t){var e,n,i=t.adapt,r=t.data,s=t.ractive,o=t.computed,a=t.mappings;this.ractive=s,this.adaptors=i,this.onchange=t.onchange,this.cache={},this.cacheMap=wa(null),this.deps={computed:wa(null),"default":wa(null)},this.depsMap={computed:wa(null),"default":wa(null)},this.patternObservers=[],this.specials=wa(null),this.wrapped=wa(null),this.computations=wa(null),this.captureGroups=[],this.unresolvedImplicitDependencies=[],this.changes=[],this.implicitChanges={},this.noCascade={},this.data=r,this.mappings=wa(null);for(e in a)this.map(_(e),a[e]);if(r)for(e in r)(n=this.mappings[e])&&void 0===n.getValue()&&n.setValue(r[e]);for(e in o)a&&e in a&&l("Cannot map to a computed property ('%s')",e),this.compute(_(e),o[e]);this.ready=!0};jy.prototype={adapt:ny,applyChanges:oy,capture:ay,clearCache:uy,compute:dy,get:my,init:gy,map:yy,mark:wy,merge:ky,register:_y,release:Ay,reset:Sy,set:Cy,smartUpdate:Oy,teardown:Fy,unregister:Ry};var Ny=jy;Js.prototype={constructor:Js,begin:function(t){this.inProcess[t._guid]=!0},end:function(t){var e=t.parent;e&&this.inProcess[e._guid]?Xs(this.queue,e).push(t):to(this,t),delete this.inProcess[t._guid]}};var Dy=Js,Iy=eo,Ly=/\$\{([^\}]+)\}/g,Vy=new nu("construct"),My=new nu("config"),Uy=new Dy("init"),Wy=0,zy=["adaptors","components","decorators","easing","events","interpolators","partials","transitions"],By=so,qy=co;co.prototype={bubble:function(){this.dirty||(this.dirty=!0,mu.addView(this))},update:function(){this.callback(this.fragment.getValue()),this.dirty=!1},rebind:function(t,e){this.fragment.rebind(t,e)},unbind:function(){this.fragment.unbind()}};var $y=function(t,e,n,r,o){var a,u,h,c,l,f,d={},p={},v={},g=[];for(u=t.parentFragment,h=t.root,o=o||{},i(d,o),o.content=r||[],d[""]=o.content,e.defaults.el&&m("The <%s/> component has a default `el` property; it has been disregarded",t.name),c=u;c;){if(c.owner.type===oc){l=c.owner.container;break}c=c.parent}return n&&Object.keys(n).forEach(function(e){var i,r,o=n[e];if("string"==typeof o)i=Af(o),p[e]=i?i.value:o;else if(0===o)p[e]=!0;else{if(!s(o))throw new Error("erm wut");fo(o)?(v[e]={origin:t.root.viewmodel,keypath:void 0},r=lo(t,o[0],function(t){t.isSpecial?f?a.set(e,t.value):(p[e]=t.value,delete v[e]):f?a.viewmodel.mappings[e].resolve(t):v[e].keypath=t})):r=new qy(t,o,function(t){f?a.set(e,t):p[e]=t}),g.push(r)}}),a=wa(e.prototype),By(a,{el:null,append:!0,data:p,partials:o,magic:h.magic||e.defaults.magic,modifyArrays:h.modifyArrays,adapt:h.adapt},{parent:h,component:t,container:l,mappings:v,inlinePartials:d,cssIds:u.cssIds}),f=!0,t.resolvers=g,a},Qy=po,Zy=function(t){var e,n;for(e=t.root;e;)(n=e._liveComponentQueries["_"+t.name])&&n.push(t.instance),e=e.parent},Hy=vo,Ky=go,Gy=yo,Yy=bo,Jy=wo,Xy=new nu("teardown"),tb=ko,eb=function(t,e){this.init(t,e)};eb.prototype={detach:Rg,find:Ng,findAll:Dg,findAllComponents:Ig,findComponent:Lg,findNextNode:Vg,firstNode:Mg,init:Hy,rebind:Ky,render:Gy,toString:Yy,unbind:Jy,unrender:tb};var nb=eb,ib=function(t){this.type=ec,this.value=t.template.c};ib.prototype={detach:Rd,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createComment(this.value)),
this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(t){t&&this.node.parentNode.removeChild(this.node)}};var rb=ib,sb=function(t){var e,n;this.type=oc,this.container=e=t.parentFragment.root,this.component=n=e.component,this.container=e,this.containerFragment=t.parentFragment,this.parentFragment=n.parentFragment;var i=this.name=t.template.n||"",r=e._inlinePartials[i];r||(m('Could not find template for partial "'+i+'"',{ractive:t.root}),r=[]),this.fragment=new yb({owner:this,root:e.parent,template:r,pElement:this.containerFragment.pElement}),s(n.yielders[i])?n.yielders[i].push(this):n.yielders[i]=[this],mu.scheduleTask(function(){if(n.yielders[i].length>1)throw new Error("A component template can only have one {{yield"+(i?" "+i:"")+"}} declaration at a time")})};sb.prototype={detach:function(){return this.fragment.detach()},find:function(t){return this.fragment.find(t)},findAll:function(t,e){return this.fragment.findAll(t,e)},findComponent:function(t){return this.fragment.findComponent(t)},findAllComponents:function(t,e){return this.fragment.findAllComponents(t,e)},findNextNode:function(){return this.containerFragment.findNextNode(this)},firstNode:function(){return this.fragment.firstNode()},getValue:function(t){return this.fragment.getValue(t)},render:function(){return this.fragment.render()},unbind:function(){this.fragment.unbind()},unrender:function(t){this.fragment.unrender(t),I(this.component.yielders[this.name],this)},rebind:function(t,e){this.fragment.rebind(t,e)},toString:function(){return this.fragment.toString()}};var ob=sb,ab=function(t){this.declaration=t.template.a};ab.prototype={init:Fa,render:Fa,unrender:Fa,teardown:Fa,toString:function(){return"<!DOCTYPE"+this.declaration+">"}};var ub=ab,hb=Eo,cb=Ao,lb=So,fb=Co,db=To,pb=Ro,mb=function(t){this.init(t)};mb.prototype={bubble:wd,detach:xd,find:kd,findAll:Ed,findAllComponents:_d,findComponent:Ad,findNextNode:Sd,firstNode:Cd,getArgsList:Pd,getNode:Td,getValue:Fd,init:hb,rebind:cb,registerIndexRef:function(t){var e=this.registeredIndexRefs;-1===e.indexOf(t)&&e.push(t)},render:lb,toString:fb,unbind:db,unregisterIndexRef:function(t){var e=this.registeredIndexRefs;e.splice(e.indexOf(t),1)},unrender:pb};var vb,gb,yb=mb,bb=jo,wb=["template","partials","components","decorators","events"],xb=new nu("reset"),kb=function(t,e){function n(e,i,r){r&&r.partials[t]||e.forEach(function(e){e.type===tc&&e.getPartialName()===t&&i.push(e),e.fragment&&n(e.fragment.items,i,r),s(e.fragments)?n(e.fragments,i,r):s(e.items)?n(e.items,i,r):e.type===sc&&e.instance&&n(e.instance.fragment.items,i,e.instance),e.type===Xh&&(s(e.attributes)&&n(e.attributes,i,r),s(e.conditionalAttributes)&&n(e.conditionalAttributes,i,r))})}var i,r=[];return n(this.fragment.items,r),this.partials[t]=e,i=mu.start(this,!0),r.forEach(function(e){e.value=void 0,e.setValue(t)}),mu.end(),i},Eb=No,_b=gh("reverse"),Ab=Do,Sb=gh("shift"),Cb=gh("sort"),Ob=gh("splice"),Pb=Lo,Tb=Vo,Fb=new nu("teardown"),Rb=Uo,jb=Wo,Nb=zo,Db=new nu("unrender"),Ib=gh("unshift"),Lb=Bo,Vb=new nu("update"),Mb=qo,Ub={add:Ga,animate:xu,detach:Eu,find:Au,findAll:Nu,findAllComponents:Du,findComponent:Iu,findContainer:Lu,findParent:Vu,fire:zu,get:Bu,insert:$u,merge:Zu,observe:uh,observeOnce:hh,off:fh,on:dh,once:ph,pop:yh,push:bh,render:Sh,reset:bb,resetPartial:kb,resetTemplate:Eb,reverse:_b,set:Ab,shift:Sb,sort:Cb,splice:Ob,subtract:Pb,teardown:Tb,toggle:Rb,toHTML:jb,toHtml:jb,unrender:Nb,unshift:Ib,update:Lb,updateModel:Mb},Wb=function(t,e,n){return n||Qo(t,e)?function(){var n,i="_super"in this,r=this._super;return this._super=e,n=t.apply(this,arguments),i&&(this._super=r),n}:t},zb=Zo,Bb=Yo,qb=function(t){var e,n,i={};return t&&(e=t._ractive)?(i.ractive=e.root,i.keypath=e.keypath.str,i.index={},(n=qd(e.proxy.parentFragment))&&(i.index=qd.resolve(n)),i):i};vb=function(t){return this instanceof vb?void By(this,t):new vb(t)},gb={DEBUG:{writable:!0,value:!0},DEBUG_PROMISES:{writable:!0,value:!0},extend:{value:Bb},getNodeInfo:{value:qb},parse:{value:Kf},Promise:{value:ou},svg:{value:ra},magic:{value:na},VERSION:{value:"0.7.3"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:ha},events:{writable:!0,value:{}},interpolators:{writable:!0,value:Ma},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}},ka(vb,gb),vb.prototype=i(Ub,ua),vb.prototype.constructor=vb,vb.defaults=vb.prototype;var $b="function";if(typeof Date.now!==$b||typeof String.prototype.trim!==$b||typeof Object.keys!==$b||typeof Array.prototype.indexOf!==$b||typeof Array.prototype.forEach!==$b||typeof Array.prototype.map!==$b||typeof Array.prototype.filter!==$b||"undefined"!=typeof window&&typeof window.addEventListener!==$b)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");var Qb=vb;return Qb});


},{}],6:[function(require,module,exports){
/* jshint expr: true */
'use strict';

require('../app/scripts/app');

describe('how-wide-is-it', function () {
  describe('give it some context', function () {
    it('should assert something', function () {
      expect(true).to.be.true;
    });
  });
});

},{"../app/scripts/app":1}]},{},[6])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHAvc2NyaXB0cy9hcHAuanMiLCJhcHAvc2NyaXB0cy9tYWluVmlldy5yYWN0IiwiYXBwL3NjcmlwdHMvcmVzdWx0cy5yYWN0Iiwibm9kZV9tb2R1bGVzL2hvdy13aWRlLWlzLWl0L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3JhY3RpdmUvcmFjdGl2ZS5taW4uanMiLCJ0ZXN0L2FwcF90ZXN0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7O0FBRUEsSUFBTSxPQUFPLFFBQVMscUJBQVQsQ0FBYjtBQUFBLElBQ0ksVUFBVSxRQUFTLGdCQUFULENBRGQ7QUFFQSxRQUFRLFFBQVIsR0FBbUIsQ0FBbkI7QUFDQSxPQUFPLElBQVAsR0FBYyxJQUFJLElBQUosQ0FBVTtBQUNwQixjQUFVLFFBQVMsaUJBQVQsRUFBNkIsUUFEbkI7QUFFcEIsUUFBSSxPQUZnQjtBQUdwQixnQkFBWSxzQkFBWTtBQUFBOztBQUNwQixnQkFBUSxHQUFSLENBQWEscUJBQWI7QUFDQSxhQUFLLEVBQUwsQ0FBUyxTQUFULEVBQW9CLFVBQUUsS0FBRixFQUFTLFdBQVQsRUFBMEI7QUFDMUMsa0JBQUssR0FBTCxDQUFVLGFBQVYsRUFBeUIsV0FBekI7QUFDQSxrQkFBSyxTQUFMO0FBQ0gsU0FIRDtBQUlBLGFBQUssRUFBTCxDQUFTLE9BQVQsRUFBa0IsWUFBTTtBQUNwQixrQkFBSyxHQUFMLENBQVUsY0FBVixFQUEwQixDQUFDLE1BQUssR0FBTCxDQUFVLGNBQVYsQ0FBM0I7QUFDSCxTQUZEO0FBR0EsYUFBSyxFQUFMLENBQVMsVUFBVCxFQUFxQixVQUFFLEtBQUYsRUFBUyxLQUFULEVBQW9CO0FBQ3JDLGtCQUFLLEdBQUwsQ0FBVSxhQUFWLEVBQXlCLE9BQVEsTUFBTSxLQUFOLENBQWEsR0FBYixFQUFvQixDQUFwQixDQUFSLENBQXpCO0FBQ0Esa0JBQUssR0FBTCxDQUFVLGNBQVYsRUFBMEIsT0FBUSxNQUFNLEtBQU4sQ0FBYSxHQUFiLEVBQW9CLENBQXBCLENBQVIsQ0FBMUI7QUFDQSxrQkFBSyxTQUFMO0FBQ0gsU0FKRDtBQUtBLGFBQUssRUFBTCxDQUFTLFdBQVQsRUFBc0IsWUFBTTtBQUN4QixrQkFBSyxTQUFMO0FBQ0gsU0FGRDtBQUdBLGFBQUssU0FBTDtBQUNBLGVBQU8sUUFBUCxHQUFrQixTQUFVLFlBQU07QUFDOUIsZ0JBQUksT0FBTyxNQUFLLEdBQUwsQ0FBVSxjQUFWLENBQVg7QUFDQSxvQkFBUSxHQUFSLENBQWEsSUFBYjtBQUNBLGtCQUFLLEdBQUwsQ0FBVSxjQUFWLEVBQTBCLE9BQU8sR0FBakMsRUFBdUMsSUFBdkMsQ0FBNkMsWUFBTTtBQUMvQyxzQkFBSyxTQUFMLENBQWdCLElBQWhCLEVBQXVCLElBQXZCLENBQTZCLFlBQU07QUFDL0IsMEJBQUssR0FBTCxDQUFVLGNBQVYsRUFBMEIsSUFBMUIsRUFBaUMsSUFBakMsQ0FBdUMsWUFBTTtBQUN6Qyw4QkFBSyxTQUFMLENBQWdCLElBQWhCO0FBQ0gscUJBRkQ7QUFHSCxpQkFKRDtBQUtILGFBTkQ7QUFRSCxTQVhpQixFQVdmLEVBWGUsQ0FBbEI7QUFZSCxLQWpDbUI7QUFrQ3BCLGVBQVcsbUJBQVcsS0FBWCxFQUFtQjtBQUMxQixZQUFJLElBQUksS0FBSyxHQUFMLENBQVUsT0FBVixDQUFSO0FBQUEsWUFDSSxNQUFNLENBRFY7QUFBQSxZQUVJLGNBQWMsS0FBSyxHQUFMLENBQVUsYUFBVixDQUZsQjtBQUdBLFlBQUssZUFBZSxDQUFwQixFQUF3QjtBQUNwQixrQkFBTSxRQUFTLEVBQUUsS0FBWCxFQUFrQixFQUFFLE1BQXBCLEVBQTRCLEVBQUUsTUFBOUIsQ0FBTjtBQUNILFNBRkQsTUFFTyxJQUFLLGVBQWUsQ0FBcEIsRUFBd0I7QUFDM0Isa0JBQU0sUUFBUSxJQUFSLENBQWMsRUFBRSxLQUFoQixFQUF1QixFQUFFLE1BQXpCLEVBQWlDLEVBQUUsTUFBbkMsRUFBMkMsRUFBRSxrQkFBN0MsQ0FBTjtBQUNIO0FBQ0QsZUFBTyxRQUFRLEtBQUssR0FBTCxDQUFVLE1BQVYsRUFBa0IsR0FBbEIsQ0FBUixHQUFrQyxLQUFLLE9BQUwsQ0FBYyxNQUFkLEVBQXNCLEdBQXRCLENBQXpDO0FBQ0gsS0E1Q21CO0FBNkNwQixVQUFNLGdCQUFNO0FBQ1IsZUFBTztBQUNILG1CQUFPO0FBQ0gsdUJBQU8sRUFESjtBQUVILHdCQUFRLENBRkw7QUFHSCx3QkFBUSxFQUhMO0FBSUgsb0NBQW9CO0FBSmpCLGFBREo7QUFPSCx5QkFBYSxDQVBWO0FBUUgsc0JBQVUsQ0FBRSx1QkFBRixFQUEyQixtQkFBM0IsQ0FSUDtBQVNILGtCQUFNO0FBQ0Ysd0JBQVEsT0FETjtBQUVGLHVCQUFPLEVBRkw7QUFHRiwwQkFBVSxNQUhSO0FBSUYsMEJBQVU7QUFKUixhQVRIO0FBZUgsbUJBQU8sZUFBVyxDQUFYLEVBQWMsQ0FBZCxFQUFrQjtBQUNyQix1QkFBUyxLQUFLLEtBQUssR0FBTCxDQUFVLGFBQVYsQ0FBTCxJQUFrQyxLQUFLLEtBQUssR0FBTCxDQUFVLGNBQVYsQ0FBekMsR0FBd0UsT0FBeEUsR0FBa0YsRUFBekY7QUFDSCxhQWpCRTtBQWtCSCxzQkFBVSxrQkFBVyxHQUFYLEVBQWlCO0FBQ3ZCLG9CQUFJLE1BQU0sT0FBTyxNQUFQLEdBQWdCLENBQWhCLEdBQW9CLENBQTlCO0FBQ0EsdUJBQU8sS0FBSyxHQUFMLENBQVUsYUFBVixLQUE2QixHQUE3QixHQUFtQyxVQUFuQyxHQUFnRCxFQUF2RDtBQUNILGFBckJFO0FBc0JILDBCQUFjO0FBdEJYLFNBQVA7QUF3QkgsS0F0RW1CO0FBdUVwQixnQkFBWTtBQUNSLHdCQUFnQixLQUFLLE1BQUwsQ0FBYSxRQUFTLGdCQUFULENBQWI7QUFEUjtBQXZFUSxDQUFWLENBQWQ7O0FBNEVBLFNBQVMsUUFBVCxDQUFtQixJQUFuQixFQUF5QixJQUF6QixFQUErQixTQUEvQixFQUEyQztBQUN2QyxRQUFJLE9BQUo7QUFDQSxXQUFPLFlBQVk7QUFDZixZQUFJLFVBQVUsSUFBZDtBQUFBLFlBQ0ksT0FBTyxTQURYO0FBRUEsWUFBSSxRQUFRLFNBQVIsS0FBUSxHQUFZO0FBQ3BCLHNCQUFVLElBQVY7QUFDQSxnQkFBSyxDQUFDLFNBQU4sRUFBa0IsS0FBSyxLQUFMLENBQVksT0FBWixFQUFxQixJQUFyQjtBQUNyQixTQUhEO0FBSUEsWUFBSSxVQUFVLGFBQWEsQ0FBQyxPQUE1QjtBQUNBLHFCQUFjLE9BQWQ7QUFDQSxrQkFBVSxXQUFZLEtBQVosRUFBbUIsSUFBbkIsQ0FBVjtBQUNBLFlBQUssT0FBTCxFQUFlLEtBQUssS0FBTCxDQUFZLE9BQVosRUFBcUIsSUFBckI7QUFDbEIsS0FYRDtBQVlIOzs7QUMvRkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeFpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0VBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1RBO0FBQ0E7O0FBRUEsUUFBUSxvQkFBUjs7QUFFQSxTQUFTLGdCQUFULEVBQTJCLFlBQVk7QUFDckMsV0FBUyxzQkFBVCxFQUFpQyxZQUFZO0FBQzNDLE9BQUcseUJBQUgsRUFBOEIsWUFBWTtBQUN4QyxhQUFPLElBQVAsRUFBYSxFQUFiLENBQWdCLEVBQWhCLENBQW1CLElBQW5CO0FBQ0QsS0FGRDtBQUdELEdBSkQ7QUFLRCxDQU5EIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgUmFjdCA9IHJlcXVpcmUoICdyYWN0aXZlL3JhY3RpdmUubWluJyApLFxuICAgIGhvd1dpZGUgPSByZXF1aXJlKCAnaG93LXdpZGUtaXMtaXQnICk7XG5ob3dXaWRlLnRydW5jYXRlID0gMztcbndpbmRvdy5tYWluID0gbmV3IFJhY3QoIHtcbiAgICB0ZW1wbGF0ZTogcmVxdWlyZSggJy4vbWFpblZpZXcucmFjdCcgKS50ZW1wbGF0ZSxcbiAgICBlbDogJy5ob29rJyxcbiAgICBvbmNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCAnd2UgZ29vZCBpbiB0aGUgaG9vZCcgKTtcbiAgICAgICAgdGhpcy5vbiggJ3NldE1vZGUnLCAoIGV2ZW50LCBtb2RlVG9TZXRUbyApID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0KCAnY3VycmVudE1vZGUnLCBtb2RlVG9TZXRUbyApO1xuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGUoKTtcbiAgICAgICAgfSApO1xuICAgICAgICB0aGlzLm9uKCAnb3RoZXInLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldCggJ2NvbW1vblJhdGlvcycsICF0aGlzLmdldCggJ2NvbW1vblJhdGlvcycgKSApO1xuICAgICAgICB9ICk7XG4gICAgICAgIHRoaXMub24oICdzZXRSYXRpbycsICggZXZlbnQsIHdpZHRoICkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXQoICd0b1N1Yi53aWR0aCcsIE51bWJlciggd2lkdGguc3BsaXQoICc6JyApWyAwIF0gKSApO1xuICAgICAgICAgICAgdGhpcy5zZXQoICd0b1N1Yi5oZWlnaHQnLCBOdW1iZXIoIHdpZHRoLnNwbGl0KCAnOicgKVsgMSBdICkgKTtcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlKCk7XG4gICAgICAgIH0gKTtcbiAgICAgICAgdGhpcy5vbiggJ3N1Ym1pdEFsbCcsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlKCk7XG4gICAgICAgIH0gKTtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGUoKTtcbiAgICAgICAgd2luZG93Lm9ucmVzaXplID0gZGVib3VuY2UoICgpID0+IHtcbiAgICAgICAgICAgIHZhciB0ZW1wID0gdGhpcy5nZXQoICd0b1N1Yi5sZW5ndGgnICk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyggdGVtcCApXG4gICAgICAgICAgICB0aGlzLnNldCggJ3RvU3ViLmxlbmd0aCcsIHRlbXAgLSAwLjEgKS50aGVuKCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGUoIHRydWUgKS50aGVuKCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0KCAndG9TdWIubGVuZ3RoJywgdGVtcCApLnRoZW4oICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlKCB0cnVlICk7XG4gICAgICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgfSwgNTAgKTtcbiAgICB9LFxuICAgIGNhbGN1bGF0ZTogZnVuY3Rpb24gKCBxdWljayApIHtcbiAgICAgICAgbGV0IGEgPSB0aGlzLmdldCggJ3RvU3ViJyApLFxuICAgICAgICAgICAgdmFsID0gMCxcbiAgICAgICAgICAgIGN1cnJlbnRNb2RlID0gdGhpcy5nZXQoICdjdXJyZW50TW9kZScgKTtcbiAgICAgICAgaWYgKCBjdXJyZW50TW9kZSA9PSAwICkge1xuICAgICAgICAgICAgdmFsID0gaG93V2lkZSggYS53aWR0aCwgYS5oZWlnaHQsIGEubGVuZ3RoICk7XG4gICAgICAgIH0gZWxzZSBpZiAoIGN1cnJlbnRNb2RlID09IDEgKSB7XG4gICAgICAgICAgICB2YWwgPSBob3dXaWRlLmRpYWcoIGEud2lkdGgsIGEuaGVpZ2h0LCBhLmxlbmd0aCwgYS5sZW5ndGhJc09uV2lkZVNpZGUgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcXVpY2sgPyB0aGlzLnNldCggJ3Jlc3AnLCB2YWwgKSA6IHRoaXMuYW5pbWF0ZSggJ3Jlc3AnLCB2YWwgKTtcbiAgICB9LFxuICAgIGRhdGE6ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvU3ViOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDE2LFxuICAgICAgICAgICAgICAgIGhlaWdodDogOSxcbiAgICAgICAgICAgICAgICBsZW5ndGg6IDIxLFxuICAgICAgICAgICAgICAgIGxlbmd0aElzT25XaWRlU2lkZTogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGN1cnJlbnRNb2RlOiAwLFxuICAgICAgICAgICAgYWxsTW9kZXM6IFsgJ2NhbGN1bGF0ZVdpdGhEaWFnb25hbCcsICdjYWxjdWxhdGVXaXRoU2lkZScgXSxcbiAgICAgICAgICAgIHJlc3A6IHtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDExLjgxMjUsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDIxLFxuICAgICAgICAgICAgICAgIGFzcFJhdGlvOiAnMTY6OScsXG4gICAgICAgICAgICAgICAgZGlhZ29uYWw6IDI0LjA5NDI5NzE3Mjc3NTEzOTJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc1NldDogZnVuY3Rpb24gKCB3LCBoICkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoIHcgPT0gdGhpcy5nZXQoICd0b1N1Yi53aWR0aCcgKSAmJiBoID09IHRoaXMuZ2V0KCAndG9TdWIuaGVpZ2h0JyApICkgPyAnaXNTZXQnIDogJyc7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNBY3RpdmU6IGZ1bmN0aW9uICggY3VyICkge1xuICAgICAgICAgICAgICAgIGxldCB2YWwgPSBjdXIgPT0gJ2RpYWcnID8gMCA6IDE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCAnY3VycmVudE1vZGUnICkgPT0gdmFsID8gJ2lzQWN0aXZlJyA6ICcnO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbW1vblJhdGlvczogdHJ1ZVxuICAgICAgICB9XG4gICAgfSxcbiAgICBjb21wb25lbnRzOiB7XG4gICAgICAgIGRpc3BsYXlyZXN1bHRzOiBSYWN0LmV4dGVuZCggcmVxdWlyZSggJy4vcmVzdWx0cy5yYWN0JyApIClcbiAgICB9XG59ICk7XG5cbmZ1bmN0aW9uIGRlYm91bmNlKCBmdW5jLCB3YWl0LCBpbW1lZGlhdGUgKSB7XG4gICAgdmFyIHRpbWVvdXQ7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLFxuICAgICAgICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgdmFyIGxhdGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoICFpbW1lZGlhdGUgKSBmdW5jLmFwcGx5KCBjb250ZXh0LCBhcmdzICk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBjYWxsTm93ID0gaW1tZWRpYXRlICYmICF0aW1lb3V0O1xuICAgICAgICBjbGVhclRpbWVvdXQoIHRpbWVvdXQgKTtcbiAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoIGxhdGVyLCB3YWl0ICk7XG4gICAgICAgIGlmICggY2FsbE5vdyApIGZ1bmMuYXBwbHkoIGNvbnRleHQsIGFyZ3MgKTtcbiAgICB9O1xufTtcbiIsImV4cG9ydHMudGVtcGxhdGUgPSB7IHY6MyxcbiAgdDpbIHsgcDpbIDEsXG4gICAgICAgIDEsXG4gICAgICAgIDAgXSxcbiAgICAgIHQ6NyxcbiAgICAgIGU6XCJkaXZcIixcbiAgICAgIGE6eyBcImNsYXNzXCI6XCJoZWFkZXJcIiB9LFxuICAgICAgZjpbIHsgcDpbIDIsXG4gICAgICAgICAgICAyLFxuICAgICAgICAgICAgMjIgXSxcbiAgICAgICAgICB0OjcsXG4gICAgICAgICAgZTpcImgxXCIsXG4gICAgICAgICAgZjpbIFwiSG93IFdpZGUgaXMgWW91ciBNb25pdG9yP1wiIF0gfSBdIH0sXG4gICAgXCIgXCIsXG4gICAgeyBwOlsgNCxcbiAgICAgICAgMSxcbiAgICAgICAgNjQgXSxcbiAgICAgIHQ6NyxcbiAgICAgIGU6XCJkaXZcIixcbiAgICAgIGE6eyBcImNsYXNzXCI6XCJtb2Rlc1wiIH0sXG4gICAgICBmOlsgeyBwOlsgNSxcbiAgICAgICAgICAgIDIsXG4gICAgICAgICAgICA4NSBdLFxuICAgICAgICAgIHQ6NyxcbiAgICAgICAgICBlOlwiZGl2XCIsXG4gICAgICAgICAgYTp7IFwiY2xhc3NcIjpbIFwiaGFsZiBcIixcbiAgICAgICAgICAgICAgeyB0OjIsXG4gICAgICAgICAgICAgICAgeDp7IHI6WyBcImlzQWN0aXZlXCIgXSxcbiAgICAgICAgICAgICAgICAgIHM6XCJfMChcXFwiZGlhZ1xcXCIpXCIgfSxcbiAgICAgICAgICAgICAgICBwOlsgNSxcbiAgICAgICAgICAgICAgICAgIDE5LFxuICAgICAgICAgICAgICAgICAgMTAyIF0gfSBdIH0sXG4gICAgICAgICAgdjp7IGNsaWNrOnsgbjpcInNldE1vZGVcIixcbiAgICAgICAgICAgICAgYTpbIDAgXSB9IH0sXG4gICAgICAgICAgZjpbIHsgcDpbIDYsXG4gICAgICAgICAgICAgICAgMyxcbiAgICAgICAgICAgICAgICAxNDggXSxcbiAgICAgICAgICAgICAgdDo3LFxuICAgICAgICAgICAgICBlOlwiaDNcIixcbiAgICAgICAgICAgICAgZjpbIFwiWW91IGhhdmUgYSBEaWFnb25hbCBNZWFzdXJlbWVudFwiIF0gfSxcbiAgICAgICAgICAgIFwiIFwiLFxuICAgICAgICAgICAgeyBwOlsgNyxcbiAgICAgICAgICAgICAgICAzLFxuICAgICAgICAgICAgICAgIDE5MSBdLFxuICAgICAgICAgICAgICB0OjcsXG4gICAgICAgICAgICAgIGU6XCJwXCIsXG4gICAgICAgICAgICAgIGY6WyBcIllvdSBoYXZlIGEgZGlhZ29uYWwgbWVhc3VyZW1lbnQgYW5kIGFyZSBsb29raW5nIHRvIHNlZSB0aGUgdHJ1ZSBkaW1lbnNpb25zIG9mIHRoZSBtb25pdG9yIG9yIFRWLlwiIF0gfSBdIH0sXG4gICAgICAgIFwiIFwiLFxuICAgICAgICB7IHA6WyA5LFxuICAgICAgICAgICAgMixcbiAgICAgICAgICAgIDMwNCBdLFxuICAgICAgICAgIHQ6NyxcbiAgICAgICAgICBlOlwiZGl2XCIsXG4gICAgICAgICAgYTp7IFwiY2xhc3NcIjpbIFwiaGFsZiBcIixcbiAgICAgICAgICAgICAgeyB0OjIsXG4gICAgICAgICAgICAgICAgeDp7IHI6WyBcImlzQWN0aXZlXCIgXSxcbiAgICAgICAgICAgICAgICAgIHM6XCJfMChcXFwic2lkZVxcXCIpXCIgfSxcbiAgICAgICAgICAgICAgICBwOlsgOSxcbiAgICAgICAgICAgICAgICAgIDE5LFxuICAgICAgICAgICAgICAgICAgMzIxIF0gfSBdIH0sXG4gICAgICAgICAgdjp7IGNsaWNrOnsgbjpcInNldE1vZGVcIixcbiAgICAgICAgICAgICAgYTpbIDEgXSB9IH0sXG4gICAgICAgICAgZjpbIHsgcDpbIDEwLFxuICAgICAgICAgICAgICAgIDMsXG4gICAgICAgICAgICAgICAgMzY3IF0sXG4gICAgICAgICAgICAgIHQ6NyxcbiAgICAgICAgICAgICAgZTpcImgzXCIsXG4gICAgICAgICAgICAgIGY6WyBcIllvdSBoYXZlIGEgU2lkZSBNZWFzdXJlbWVudFwiIF0gfSxcbiAgICAgICAgICAgIFwiIFwiLFxuICAgICAgICAgICAgeyBwOlsgMTEsXG4gICAgICAgICAgICAgICAgMyxcbiAgICAgICAgICAgICAgICA0MDYgXSxcbiAgICAgICAgICAgICAgdDo3LFxuICAgICAgICAgICAgICBlOlwicFwiLFxuICAgICAgICAgICAgICBmOlsgXCJJZiB5b3UgaGF2ZSBhIGNlcnRhaW4gd2lkdGggb3IgaGVpZ2h0IHRoYXQgeW91IHdvdWxkIGxpa2UgdG8gZmlsbCB1cCB3aXRoIHNjcmVlbiBzcGFjZSB0aGlzIGlzIHRoZSBtb2RlIGZvciB5b3UuXCIgXSB9IF0gfSBdIH0sXG4gICAgXCIgXCIsXG4gICAgeyBwOlsgMTQsXG4gICAgICAgIDEsXG4gICAgICAgIDU0MSBdLFxuICAgICAgdDo3LFxuICAgICAgZTpcImRpdlwiLFxuICAgICAgYTp7IFwiY2xhc3NcIjpcImlucHNcIiB9LFxuICAgICAgZjpbIHsgdDo0LFxuICAgICAgICAgIGY6WyB7IHA6WyAxNixcbiAgICAgICAgICAgICAgICAyLFxuICAgICAgICAgICAgICAgIDU3MyBdLFxuICAgICAgICAgICAgICB0OjcsXG4gICAgICAgICAgICAgIGU6XCJkaXZcIixcbiAgICAgICAgICAgICAgYTp7IFwiY2xhc3NcIjpcImhhbGZcIiB9LFxuICAgICAgICAgICAgICBmOlsgeyBwOlsgMTgsXG4gICAgICAgICAgICAgICAgICAgIDMsXG4gICAgICAgICAgICAgICAgICAgIDU5NSBdLFxuICAgICAgICAgICAgICAgICAgdDo3LFxuICAgICAgICAgICAgICAgICAgZTpcImg0XCIsXG4gICAgICAgICAgICAgICAgICBmOlsgXCJBc3BlY3QgUmF0aW86IFwiLFxuICAgICAgICAgICAgICAgICAgICB7IHA6WyAxOCxcbiAgICAgICAgICAgICAgICAgICAgICAgIDIxLFxuICAgICAgICAgICAgICAgICAgICAgICAgNjEzIF0sXG4gICAgICAgICAgICAgICAgICAgICAgdDo3LFxuICAgICAgICAgICAgICAgICAgICAgIGU6XCJzcGFuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgYTp7IFwiY2xhc3NcIjpcImluZm8gaGludC0tbGFyZ2UgaGludC0tdG9wIGhpbnQtLXJvdW5kZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYXJpYS1sYWJlbFwiOlwiQXNwZWN0IFJhdGlvIGlzIHRoZSByYXRpbyBvZiB0aGUgd2lkdGggb2YgYSBzY3JlZW4gdG8gaXQncyBoZWlnaHQsIGl0J3Mgd2hhdCBtYWtlcyBuZXdlciBzY3JlZW5zIHNvIHdpZGUgY29tcGFyZWQgdG8gb2xkIFRWcyB3aGljaCB1c2VkIHRvIGJlIHNxdWFyZS1pc2guIElmIHlvdSBkb24ndCBrbm93IHlvdSBzaG91bGQgcHJvYmFibHkganVzdCBzdGljayB0byAxNjo5IGFzIHRoYXQgaXMgdGhlIHN0YW5kYXJkIG5vd2FkYXlzLlwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgZjpbIFwi4pOYXCIgXSB9IF0gfSxcbiAgICAgICAgICAgICAgICBcIiBcIixcbiAgICAgICAgICAgICAgICB7IHQ6NCxcbiAgICAgICAgICAgICAgICAgIGY6WyB7IHA6WyAyMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIDMsXG4gICAgICAgICAgICAgICAgICAgICAgICA5NjYgXSxcbiAgICAgICAgICAgICAgICAgICAgICB0OjcsXG4gICAgICAgICAgICAgICAgICAgICAgZTpcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgICAgIGE6eyBcImNsYXNzXCI6XCJjb250YWluZXJcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgIGY6WyB7IHA6WyAyMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDk5MyBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0OjcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGU6XCJidXR0b25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYTp7IFwiY2xhc3NcIjpbIFwicXVhcnRlciBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdDoyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OnsgcjpbIFwiaXNTZXRcIiBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHM6XCJfMCgxNiw5KVwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHA6WyAyMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyNyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxMDE2IF0gfSBdIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHY6eyBjbGljazp7IG46XCJzZXRSYXRpb1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYTpcIjE2OjlcIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGY6WyBcIjE2OjlcIiBdIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgcDpbIDI0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMTA3NiBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0OjcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGU6XCJidXR0b25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYTp7IFwiY2xhc3NcIjpbIFwicXVhcnRlciBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdDoyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OnsgcjpbIFwiaXNTZXRcIiBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHM6XCJfMCg0LDMpXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcDpbIDI0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDI3LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEwOTkgXSB9IF0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdjp7IGNsaWNrOnsgbjpcInNldFJhdGlvXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhOlwiNDozXCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmOlsgXCI0OjNcIiBdIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgcDpbIDI2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMTE1NiBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0OjcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGU6XCJidXR0b25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYTp7IFwiY2xhc3NcIjpbIFwicXVhcnRlciBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdDoyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OnsgcjpbIFwiaXNTZXRcIiBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHM6XCJfMCgyMSw5KVwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHA6WyAyNixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyNyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxMTc5IF0gfSBdIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHY6eyBjbGljazp7IG46XCJzZXRSYXRpb1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYTpcIjIxOjlcIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGY6WyBcIjIxOjlcIiBdIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgcDpbIDI4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMTIzOSBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0OjcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGU6XCJidXR0b25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYTp7IFwiY2xhc3NcIjpbIFwicXVhcnRlciBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdDoyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OnsgcjpbIFwiaXNTZXRcIiBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHM6XCJfMCgyMSwxMClcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwOlsgMjgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMjcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTI2MiBdIH0gXSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICB2OnsgY2xpY2s6eyBuOlwic2V0UmF0aW9cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGE6XCIyMToxMFwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZjpbIFwiMjE6MTBcIiBdIH0gXSB9IF0sXG4gICAgICAgICAgICAgICAgICBuOjUwLFxuICAgICAgICAgICAgICAgICAgcjpcImNvbW1vblJhdGlvc1wiLFxuICAgICAgICAgICAgICAgICAgcDpbIDIwLFxuICAgICAgICAgICAgICAgICAgICAzLFxuICAgICAgICAgICAgICAgICAgICA5NDMgXSB9LFxuICAgICAgICAgICAgICAgIHsgdDo0LFxuICAgICAgICAgICAgICAgICAgbjo1MSxcbiAgICAgICAgICAgICAgICAgIGY6WyB7IHA6WyAzNCxcbiAgICAgICAgICAgICAgICAgICAgICAgIDMsXG4gICAgICAgICAgICAgICAgICAgICAgICAxMzQ2IF0sXG4gICAgICAgICAgICAgICAgICAgICAgdDo3LFxuICAgICAgICAgICAgICAgICAgICAgIGU6XCJkaXZcIixcbiAgICAgICAgICAgICAgICAgICAgICBhOnsgXCJjbGFzc1wiOlwiY29udGFpbmVyXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICBmOlsgeyBwOlsgMzUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAxMzczIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHQ6NyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZTpcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhOnsgXCJjbGFzc1wiOlwiaXRlbVwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGY6WyB7IHA6WyAzNixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTM5NiBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdDo3LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZTpcImxhYmVsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhOnsgXCJmb3JcIjpcIndpZHRoXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGY6WyBcIkFzcGVjdCBSYXRpbyBXaWR0aDpcIiBdIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBwOlsgMzcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDE0NDcgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQ6NyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGU6XCJpbnB1dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYTp7IHR5cGU6XCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6WyB7IHQ6MixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHI6XCJ3aWR0aFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcDpbIDM3LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAzMyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTQ3NSBdIH0gXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6XCJ3aWR0aFwiIH0gfSBdIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgcDpbIDM5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMTUxMSBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0OjcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGU6XCJkaXZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYTp7IFwiY2xhc3NcIjpcIml0ZW1cIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmOlsgeyBwOlsgNDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDE1MzQgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQ6NyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGU6XCJsYWJlbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYTp7IFwiZm9yXCI6XCJoZWlnaHRcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZjpbIFwiQXNwZWN0IFJhdGlvIGhlaWdodDpcIiBdIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBwOlsgNDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDE1ODcgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQ6NyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGU6XCJpbnB1dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYTp7IHR5cGU6XCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6WyB7IHQ6MixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHI6XCJoZWlnaHRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHA6WyA0MSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMzMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDE2MTUgXSB9IF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOlwiaGVpZ2h0XCIgfSB9IF0gfSBdIH0gXSxcbiAgICAgICAgICAgICAgICAgIHI6XCJjb21tb25SYXRpb3NcIiB9LFxuICAgICAgICAgICAgICAgIFwiIFwiLFxuICAgICAgICAgICAgICAgIHsgcDpbIDQ2LFxuICAgICAgICAgICAgICAgICAgICAzLFxuICAgICAgICAgICAgICAgICAgICAxNjcyIF0sXG4gICAgICAgICAgICAgICAgICB0OjcsXG4gICAgICAgICAgICAgICAgICBlOlwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICBhOnsgXCJjbGFzc1wiOlwib3RoZXJcIiB9LFxuICAgICAgICAgICAgICAgICAgdjp7IGNsaWNrOlwib3RoZXJcIiB9LFxuICAgICAgICAgICAgICAgICAgZjpbIHsgdDoyLFxuICAgICAgICAgICAgICAgICAgICAgIHg6eyByOlsgXCJjb21tb25SYXRpb3NcIiBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgczpcIl8wP1xcXCJPdGhlciBSYXRpb1xcXCI6XFxcIkNvbW1vbiBSYXRpb3NcXFwiXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICBwOlsgNDYsXG4gICAgICAgICAgICAgICAgICAgICAgICA0MixcbiAgICAgICAgICAgICAgICAgICAgICAgIDE3MTEgXSB9IF0gfSBdIH0sXG4gICAgICAgICAgICBcIiBcIixcbiAgICAgICAgICAgIHsgcDpbIDQ5LFxuICAgICAgICAgICAgICAgIDIsXG4gICAgICAgICAgICAgICAgMTc3NyBdLFxuICAgICAgICAgICAgICB0OjcsXG4gICAgICAgICAgICAgIGU6XCJkaXZcIixcbiAgICAgICAgICAgICAgYTp7IFwiY2xhc3NcIjpcImhhbGZcIiB9LFxuICAgICAgICAgICAgICBmOlsgeyBwOlsgNTEsXG4gICAgICAgICAgICAgICAgICAgIDMsXG4gICAgICAgICAgICAgICAgICAgIDE3OTkgXSxcbiAgICAgICAgICAgICAgICAgIHQ6NyxcbiAgICAgICAgICAgICAgICAgIGU6XCJoNFwiLFxuICAgICAgICAgICAgICAgICAgZjpbIHsgdDoyLFxuICAgICAgICAgICAgICAgICAgICAgIHg6eyByOlsgXCJjdXJyZW50TW9kZVwiIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzOlwiXzA9PTA/XFxcIkRpYWdvbmFsIExlbmd0aFxcXCI6XFxcIkxlbmd0aCBvbiBTaWRlXFxcIlwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgcDpbIDUxLFxuICAgICAgICAgICAgICAgICAgICAgICAgNyxcbiAgICAgICAgICAgICAgICAgICAgICAgIDE4MDMgXSB9LFxuICAgICAgICAgICAgICAgICAgICBcIjogXCIsXG4gICAgICAgICAgICAgICAgICAgIHsgcDpbIDUxLFxuICAgICAgICAgICAgICAgICAgICAgICAgNjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAxODU4IF0sXG4gICAgICAgICAgICAgICAgICAgICAgdDo3LFxuICAgICAgICAgICAgICAgICAgICAgIGU6XCJzcGFuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgYTp7IFwiY2xhc3NcIjpcImluZm8gaGludC0tbGFyZ2UgaGludC0tdG9wIGhpbnQtLXJvdW5kZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYXJpYS1sYWJlbFwiOlsgeyB0OjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeDp7IHI6WyBcImN1cnJlbnRNb2RlXCIgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHM6XCJfMD09MD9cXFwiU2NyZWVucyBhcmUgdHlwaWNhbGx5IG1lYXN1cmVkIGRpYWdvbmFsbHkgd2hpY2ggbWFrZXMgaXQgaGFyZCB0byBmaWd1cmUgb3V0IGl0J3MgYWN0dWFsIGRpbWVuc2lvbnMgYmVmb3JlIGJ1eWluZy5cXFwiOlxcXCJKdXN0IGVudGVyIHRoZSBsZW5ndGggYW5kIHNlbGVjdCB3aGV0aGVyIHRoaXMgaXMgZm9yIHRoZSB3aWR0aCBvZiB0aGUgc2NyZWVuIG9yIHRoZSBoZWlnaHQuXFxcIlwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcDpbIDUxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTI5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTkyNSBdIH0gXSB9LFxuICAgICAgICAgICAgICAgICAgICAgIGY6WyBcIuKTmFwiIF0gfSBdIH0sXG4gICAgICAgICAgICAgICAgXCIgXCIsXG4gICAgICAgICAgICAgICAgeyBwOlsgNTIsXG4gICAgICAgICAgICAgICAgICAgIDMsXG4gICAgICAgICAgICAgICAgICAgIDIxNzUgXSxcbiAgICAgICAgICAgICAgICAgIHQ6NyxcbiAgICAgICAgICAgICAgICAgIGU6XCJkaXZcIixcbiAgICAgICAgICAgICAgICAgIGE6eyBcImNsYXNzXCI6XCJjb250YWluZXJcIiB9LFxuICAgICAgICAgICAgICAgICAgZjpbIHsgcDpbIDUzLFxuICAgICAgICAgICAgICAgICAgICAgICAgNCxcbiAgICAgICAgICAgICAgICAgICAgICAgIDIyMDIgXSxcbiAgICAgICAgICAgICAgICAgICAgICB0OjcsXG4gICAgICAgICAgICAgICAgICAgICAgZTpcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgICAgIGE6eyBcImNsYXNzXCI6XCJpdGVtXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICBmOlsgeyBwOlsgNTQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAyMjI1IF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHQ6NyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZTpcImxhYmVsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGE6eyBcImZvclwiOlwibGVuZ3RoXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZjpbIFwiTGVuZ3RoOlwiIF0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBwOlsgNTUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAyMjY1IF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHQ6NyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZTpcImlucHV0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGE6eyB0eXBlOlwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6WyB7IHQ6MixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcjpcImxlbmd0aFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwOlsgNTUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMzMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMjI5MyBdIH0gXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDpcImxlbmd0aFwiIH0gfSBdIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiIFwiLFxuICAgICAgICAgICAgICAgICAgICB7IHA6WyA1NyxcbiAgICAgICAgICAgICAgICAgICAgICAgIDQsXG4gICAgICAgICAgICAgICAgICAgICAgICAyMzMxIF0sXG4gICAgICAgICAgICAgICAgICAgICAgdDo3LFxuICAgICAgICAgICAgICAgICAgICAgIGU6XCJkaXZcIixcbiAgICAgICAgICAgICAgICAgICAgICBhOnsgXCJjbGFzc1wiOlwiaXRlbVwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgZjpbIHsgdDo0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmOlsgeyBwOlsgNTksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIzODIgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQ6NyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGU6XCJsYWJlbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYTp7IFwiZm9yXCI6XCJ3aGljaFNpZGVcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZjpbIFwiSXMgbGVuZ3RoIGZvciBXaWRlc3Qgc2lkZSBvZiB0aGUgc2NyZWVuP1wiIF0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHA6WyA2MCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMjQ1OSBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdDo3LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZTpcImlucHV0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhOnsgdHlwZTpcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOlwid2hpY2hTaWRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ6WyB7IHQ6MixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHI6XCJsZW5ndGhJc09uV2lkZVNpZGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHA6WyA2MCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNTMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDI1MDYgXSB9IF0gfSB9IF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG46NTAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHg6eyByOlsgXCJjdXJyZW50TW9kZVwiIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgczpcIl8wPT0xXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcDpbIDU4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMjM1NCBdIH0gXSB9IF0gfSxcbiAgICAgICAgICAgICAgICBcIiBcIixcbiAgICAgICAgICAgICAgICB7IHA6WyA2NixcbiAgICAgICAgICAgICAgICAgICAgMyxcbiAgICAgICAgICAgICAgICAgICAgMjU3MCBdLFxuICAgICAgICAgICAgICAgICAgdDo3LFxuICAgICAgICAgICAgICAgICAgZTpcImJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAgdjp7IGNsaWNrOlwic3VibWl0QWxsXCIgfSxcbiAgICAgICAgICAgICAgICAgIGE6eyBcImNsYXNzXCI6XCJvdGhlclwiIH0sXG4gICAgICAgICAgICAgICAgICBmOlsgXCJTdWJtaXRcIiBdIH0gXSB9IF0sXG4gICAgICAgICAgcjpcInRvU3ViXCIsXG4gICAgICAgICAgcDpbIDE1LFxuICAgICAgICAgICAgMixcbiAgICAgICAgICAgIDU2MSBdIH0gXSB9LFxuICAgIFwiIFwiLFxuICAgIHsgcDpbIDcwLFxuICAgICAgICAxLFxuICAgICAgICAyNjU2IF0sXG4gICAgICB0OjcsXG4gICAgICBlOlwiZGl2XCIsXG4gICAgICBhOnsgXCJjbGFzc1wiOlwicmVzcG9uc2VcIiB9LFxuICAgICAgZjpbIHsgdDo0LFxuICAgICAgICAgIGY6WyB7IHA6WyA3MixcbiAgICAgICAgICAgICAgICAyLFxuICAgICAgICAgICAgICAgIDI2OTEgXSxcbiAgICAgICAgICAgICAgdDo3LFxuICAgICAgICAgICAgICBlOlwiZGlzcGxheXJlc3VsdHNcIixcbiAgICAgICAgICAgICAgYTp7IGhlaWdodDpbIHsgdDoyLFxuICAgICAgICAgICAgICAgICAgICByOlwiaGVpZ2h0XCIsXG4gICAgICAgICAgICAgICAgICAgIHA6WyA3MixcbiAgICAgICAgICAgICAgICAgICAgICAyNixcbiAgICAgICAgICAgICAgICAgICAgICAyNzE1IF0gfSBdLFxuICAgICAgICAgICAgICAgIHdpZHRoOlsgeyB0OjIsXG4gICAgICAgICAgICAgICAgICAgIHI6XCJ3aWR0aFwiLFxuICAgICAgICAgICAgICAgICAgICBwOlsgNzIsXG4gICAgICAgICAgICAgICAgICAgICAgNDUsXG4gICAgICAgICAgICAgICAgICAgICAgMjczNCBdIH0gXSxcbiAgICAgICAgICAgICAgICBhc3BlY3RSYXRpbzpbIHsgdDoyLFxuICAgICAgICAgICAgICAgICAgICByOlwiYXNwUmF0aW9cIixcbiAgICAgICAgICAgICAgICAgICAgcDpbIDcyLFxuICAgICAgICAgICAgICAgICAgICAgIDY5LFxuICAgICAgICAgICAgICAgICAgICAgIDI3NTggXSB9IF0sXG4gICAgICAgICAgICAgICAgZGlhZ29uYWw6WyB7IHQ6MixcbiAgICAgICAgICAgICAgICAgICAgcjpcImRpYWdvbmFsXCIsXG4gICAgICAgICAgICAgICAgICAgIHA6WyA3MixcbiAgICAgICAgICAgICAgICAgICAgICA5MyxcbiAgICAgICAgICAgICAgICAgICAgICAyNzgyIF0gfSBdLFxuICAgICAgICAgICAgICAgIG1vZGU6WyB7IHQ6MixcbiAgICAgICAgICAgICAgICAgICAgcjpcImN1cnJlbnRNb2RlXCIsXG4gICAgICAgICAgICAgICAgICAgIHA6WyA3MixcbiAgICAgICAgICAgICAgICAgICAgICAxMTMsXG4gICAgICAgICAgICAgICAgICAgICAgMjgwMiBdIH0gXSB9IH0gXSxcbiAgICAgICAgICByOlwicmVzcFwiLFxuICAgICAgICAgIHA6WyA3MSxcbiAgICAgICAgICAgIDIsXG4gICAgICAgICAgICAyNjgwIF0gfSBdIH0gXSB9IiwidmFyIGNvbXBvbmVudCA9IG1vZHVsZVxuXG5mdW5jdGlvbiBnZXRXaWR0aCgpe1xuXHRyZXR1cm4gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aC0xMDA7XG59Ly9uZWVkZSB0byBzb21laG93IHNjYWxlIHdpdGggc2NyZWVuXG5mdW5jdGlvbiBnZXRIZWlnaHQoKXtcblx0cmV0dXJuIGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0LTEwMDtcbn1cbmNvbXBvbmVudC5leHBvcnRzID0gIHtcblxuICAgIGlzb2xhdGVkOiBmYWxzZSxcbiAgICBkYXRhOiB7XG4gICAgXHR3aWR0aDowLFxuICAgIFx0aGVpZ2h0OjAsXG4gICAgXHRhc3BlY3RSYXRpbzonMCcsXG4gICAgXHRkaWFnb25hbDowLFxuICAgIFx0b2Zmc2V0OjUwXG4gICAgfSxcbiAgICBjb21wdXRlZDoge1xuICAgIFx0d2lkdGhPZlNjcmVlbjp7Z2V0OmZ1bmN0aW9uKCl7XG5cdFx0XHRyZXR1cm4gZ2V0V2lkdGgodGhpcy5nZXQoJ3dpZHRoJykpPmdldEhlaWdodCgpP2dldEhlaWdodCgpOmdldFdpZHRoKCk7XG4gICAgXHR9fSxcbiAgICBcdGhlaWdodE9mU2NyZWVuOntnZXQ6ZnVuY3Rpb24oKXtcbiAgICBcdFx0cmV0dXJuIGdldFdpZHRoKHRoaXMuZ2V0KCd3aWR0aCcpKT5nZXRIZWlnaHQoKT9NYXRoLnJvdW5kKHRoaXMuZ2V0KCdoZWlnaHQnKSpnZXRIZWlnaHQoKS90aGlzLmdldCgnd2lkdGgnKSk6TWF0aC5yb3VuZCh0aGlzLmdldCgnaGVpZ2h0JykqZ2V0V2lkdGgoKS90aGlzLmdldCgnd2lkdGgnKSlcbiAgICBcdH19XG4gICAgfSxcbiAgICBvbmNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdvaycpO1xuICAgIH1cbn07XG5cbmNvbXBvbmVudC5leHBvcnRzLnRlbXBsYXRlID0geyB2OjMsXG4gIHQ6WyB7IHA6WyA4LFxuICAgICAgICAxLFxuICAgICAgICAxNDQgXSxcbiAgICAgIHQ6NyxcbiAgICAgIGU6XCJzdmdcIixcbiAgICAgIGE6eyB3aWR0aDpbIHsgdDoyLFxuICAgICAgICAgICAgcjpcIndpZHRoT2ZTY3JlZW5cIixcbiAgICAgICAgICAgIHA6WyA4LFxuICAgICAgICAgICAgICAxMyxcbiAgICAgICAgICAgICAgMTU2IF0gfSxcbiAgICAgICAgICBcInB4XCIgXSxcbiAgICAgICAgaGVpZ2h0OlsgeyB0OjIsXG4gICAgICAgICAgICByOlwiaGVpZ2h0T2ZTY3JlZW5cIixcbiAgICAgICAgICAgIHA6WyA4LFxuICAgICAgICAgICAgICA0MixcbiAgICAgICAgICAgICAgMTg1IF0gfSxcbiAgICAgICAgICBcInB4XCIgXSB9LFxuICAgICAgZjpbIHsgcDpbIDksXG4gICAgICAgICAgICAyLFxuICAgICAgICAgICAgMjEwIF0sXG4gICAgICAgICAgdDo3LFxuICAgICAgICAgIGU6XCJnXCIsXG4gICAgICAgICAgZjpbIHsgcDpbIDEwLFxuICAgICAgICAgICAgICAgIDMsXG4gICAgICAgICAgICAgICAgMjE2IF0sXG4gICAgICAgICAgICAgIHQ6NyxcbiAgICAgICAgICAgICAgZTpcInJlY3RcIixcbiAgICAgICAgICAgICAgYTp7IHdpZHRoOlsgeyB0OjIsXG4gICAgICAgICAgICAgICAgICAgIHI6XCJ3aWR0aE9mU2NyZWVuXCIsXG4gICAgICAgICAgICAgICAgICAgIHA6WyAxMCxcbiAgICAgICAgICAgICAgICAgICAgICAxNixcbiAgICAgICAgICAgICAgICAgICAgICAyMjkgXSB9LFxuICAgICAgICAgICAgICAgICAgXCJweFwiIF0sXG4gICAgICAgICAgICAgICAgaGVpZ2h0OlsgeyB0OjIsXG4gICAgICAgICAgICAgICAgICAgIHI6XCJoZWlnaHRPZlNjcmVlblwiLFxuICAgICAgICAgICAgICAgICAgICBwOlsgMTAsXG4gICAgICAgICAgICAgICAgICAgICAgNDUsXG4gICAgICAgICAgICAgICAgICAgICAgMjU4IF0gfSxcbiAgICAgICAgICAgICAgICAgIFwicHhcIiBdIH0gfSxcbiAgICAgICAgICAgIFwiIFwiLFxuICAgICAgICAgICAgeyBwOlsgMTIsXG4gICAgICAgICAgICAgICAgMyxcbiAgICAgICAgICAgICAgICAyOTMgXSxcbiAgICAgICAgICAgICAgdDo3LFxuICAgICAgICAgICAgICBlOlwidGV4dFwiLFxuICAgICAgICAgICAgICBhOnsgdHJhbnNmb3JtOlsgXCJ0cmFuc2xhdGUoXCIsXG4gICAgICAgICAgICAgICAgICB7IHQ6MixcbiAgICAgICAgICAgICAgICAgICAgeDp7IHI6WyBcIndpZHRoT2ZTY3JlZW5cIiBdLFxuICAgICAgICAgICAgICAgICAgICAgIHM6XCJfMC8yXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgcDpbIDEyLFxuICAgICAgICAgICAgICAgICAgICAgIDMwLFxuICAgICAgICAgICAgICAgICAgICAgIDMyMCBdIH0sXG4gICAgICAgICAgICAgICAgICBcIixcIixcbiAgICAgICAgICAgICAgICAgIHsgdDoyLFxuICAgICAgICAgICAgICAgICAgICB4OnsgcjpbIFwiaGVpZ2h0T2ZTY3JlZW5cIiBdLFxuICAgICAgICAgICAgICAgICAgICAgIHM6XCJfMC0xMFwiIH0sXG4gICAgICAgICAgICAgICAgICAgIHA6WyAxMixcbiAgICAgICAgICAgICAgICAgICAgICA1MCxcbiAgICAgICAgICAgICAgICAgICAgICAzNDAgXSB9LFxuICAgICAgICAgICAgICAgICAgXCIpXCIgXSxcbiAgICAgICAgICAgICAgICBcImNsYXNzXCI6XCJsYWJlbFwiIH0sXG4gICAgICAgICAgICAgIGY6WyB7IHQ6MixcbiAgICAgICAgICAgICAgICAgIHI6XCJ3aWR0aFwiLFxuICAgICAgICAgICAgICAgICAgcDpbIDEzLFxuICAgICAgICAgICAgICAgICAgICA0LFxuICAgICAgICAgICAgICAgICAgICAzODIgXSB9LFxuICAgICAgICAgICAgICAgIFwiXFxcIlwiIF0gfSxcbiAgICAgICAgICAgIFwiIFwiLFxuICAgICAgICAgICAgeyBwOlsgMTYsXG4gICAgICAgICAgICAgICAgMyxcbiAgICAgICAgICAgICAgICA0MDYgXSxcbiAgICAgICAgICAgICAgdDo3LFxuICAgICAgICAgICAgICBlOlwidGV4dFwiLFxuICAgICAgICAgICAgICBhOnsgdHJhbnNmb3JtOlsgXCJ0cmFuc2xhdGUoXCIsXG4gICAgICAgICAgICAgICAgICB7IHQ6MixcbiAgICAgICAgICAgICAgICAgICAgeDp7IHI6WyBcIndpZHRoT2ZTY3JlZW5cIiBdLFxuICAgICAgICAgICAgICAgICAgICAgIHM6XCJfMC0xMFwiIH0sXG4gICAgICAgICAgICAgICAgICAgIHA6WyAxNixcbiAgICAgICAgICAgICAgICAgICAgICAzMCxcbiAgICAgICAgICAgICAgICAgICAgICA0MzMgXSB9LFxuICAgICAgICAgICAgICAgICAgXCIsXCIsXG4gICAgICAgICAgICAgICAgICB7IHQ6MixcbiAgICAgICAgICAgICAgICAgICAgeDp7IHI6WyBcImhlaWdodE9mU2NyZWVuXCIgXSxcbiAgICAgICAgICAgICAgICAgICAgICBzOlwiXzAvMlwiIH0sXG4gICAgICAgICAgICAgICAgICAgIHA6WyAxNixcbiAgICAgICAgICAgICAgICAgICAgICA1MSxcbiAgICAgICAgICAgICAgICAgICAgICA0NTQgXSB9LFxuICAgICAgICAgICAgICAgICAgXCIpLHJvdGF0ZSgtOTApXCIgXSxcbiAgICAgICAgICAgICAgICBcImNsYXNzXCI6XCJsYWJlbFwiIH0sXG4gICAgICAgICAgICAgIGY6WyB7IHQ6MixcbiAgICAgICAgICAgICAgICAgIHI6XCJoZWlnaHRcIixcbiAgICAgICAgICAgICAgICAgIHA6WyAxNyxcbiAgICAgICAgICAgICAgICAgICAgNCxcbiAgICAgICAgICAgICAgICAgICAgNTA3IF0gfSxcbiAgICAgICAgICAgICAgICBcIlxcXCJcIiBdIH0sXG4gICAgICAgICAgICBcIiBcIixcbiAgICAgICAgICAgIHsgcDpbIDIwLFxuICAgICAgICAgICAgICAgIDMsXG4gICAgICAgICAgICAgICAgNTMyIF0sXG4gICAgICAgICAgICAgIHQ6NyxcbiAgICAgICAgICAgICAgZTpcInRleHRcIixcbiAgICAgICAgICAgICAgYTp7IHRyYW5zZm9ybTpcInRyYW5zbGF0ZSgxMCwyMilcIixcbiAgICAgICAgICAgICAgICBcImNsYXNzXCI6XCJhc3BSYXRpb1wiIH0sXG4gICAgICAgICAgICAgIGY6WyB7IHQ6MixcbiAgICAgICAgICAgICAgICAgIHI6XCJhc3BlY3RSYXRpb1wiLFxuICAgICAgICAgICAgICAgICAgcDpbIDIxLFxuICAgICAgICAgICAgICAgICAgICA0LFxuICAgICAgICAgICAgICAgICAgICA1ODggXSB9LFxuICAgICAgICAgICAgICAgIFwiIE1vbml0b3JcIiBdIH0sXG4gICAgICAgICAgICBcIiBcIixcbiAgICAgICAgICAgIHsgcDpbIDI0LFxuICAgICAgICAgICAgICAgIDMsXG4gICAgICAgICAgICAgICAgNjI1IF0sXG4gICAgICAgICAgICAgIHQ6NyxcbiAgICAgICAgICAgICAgZTpcInRleHRcIixcbiAgICAgICAgICAgICAgYTp7IHRyYW5zZm9ybTpbIFwidHJhbnNsYXRlKFwiLFxuICAgICAgICAgICAgICAgICAgeyB0OjIsXG4gICAgICAgICAgICAgICAgICAgIHg6eyByOlsgXCJ3aWR0aE9mU2NyZWVuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImRpYWdvbmFsXCIgXSxcbiAgICAgICAgICAgICAgICAgICAgICBzOlwiKF8wLzIpLSgxMCpNYXRoLmZsb29yKF8xLnRvU3RyaW5nKCkubGVuZ3RoLzIpKVwiIH0sXG4gICAgICAgICAgICAgICAgICAgIHA6WyAyNCxcbiAgICAgICAgICAgICAgICAgICAgICAzMCxcbiAgICAgICAgICAgICAgICAgICAgICA2NTIgXSB9LFxuICAgICAgICAgICAgICAgICAgXCIsXCIsXG4gICAgICAgICAgICAgICAgICB7IHQ6MixcbiAgICAgICAgICAgICAgICAgICAgeDp7IHI6WyBcImhlaWdodE9mU2NyZWVuXCIgXSxcbiAgICAgICAgICAgICAgICAgICAgICBzOlwiXzAvMis1XCIgfSxcbiAgICAgICAgICAgICAgICAgICAgcDpbIDI0LFxuICAgICAgICAgICAgICAgICAgICAgIDk4LFxuICAgICAgICAgICAgICAgICAgICAgIDcyMCBdIH0sXG4gICAgICAgICAgICAgICAgICBcIilcIiBdLFxuICAgICAgICAgICAgICAgIFwiY2xhc3NcIjpcImFzcFJhdGlvXCIgfSxcbiAgICAgICAgICAgICAgZjpbIHsgdDoyLFxuICAgICAgICAgICAgICAgICAgcjpcImRpYWdvbmFsXCIsXG4gICAgICAgICAgICAgICAgICBwOlsgMjUsXG4gICAgICAgICAgICAgICAgICAgIDQsXG4gICAgICAgICAgICAgICAgICAgIDc2NiBdIH0sXG4gICAgICAgICAgICAgICAgXCJcXFwiXCIgXSB9LFxuICAgICAgICAgICAgXCIgXCIsXG4gICAgICAgICAgICB7IHA6WyAyOCxcbiAgICAgICAgICAgICAgICAzLFxuICAgICAgICAgICAgICAgIDc5NSBdLFxuICAgICAgICAgICAgICB0OjcsXG4gICAgICAgICAgICAgIGU6XCJsaW5lXCIsXG4gICAgICAgICAgICAgIGE6eyB5MTpcIjBcIixcbiAgICAgICAgICAgICAgICB4MTpbIHsgdDoyLFxuICAgICAgICAgICAgICAgICAgICByOlwid2lkdGhPZlNjcmVlblwiLFxuICAgICAgICAgICAgICAgICAgICBwOlsgMjgsXG4gICAgICAgICAgICAgICAgICAgICAgMjAsXG4gICAgICAgICAgICAgICAgICAgICAgODEyIF0gfSBdLFxuICAgICAgICAgICAgICAgIHgyOlsgeyB0OjIsXG4gICAgICAgICAgICAgICAgICAgIHg6eyByOlsgXCJ3aWR0aE9mU2NyZWVuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIm9mZnNldFwiIF0sXG4gICAgICAgICAgICAgICAgICAgICAgczpcIihfMCtfMSkvMlwiIH0sXG4gICAgICAgICAgICAgICAgICAgIHA6WyAyOCxcbiAgICAgICAgICAgICAgICAgICAgICA0MyxcbiAgICAgICAgICAgICAgICAgICAgICA4MzUgXSB9IF0sXG4gICAgICAgICAgICAgICAgeTI6WyB7IHQ6MixcbiAgICAgICAgICAgICAgICAgICAgeDp7IHI6WyBcImhlaWdodE9mU2NyZWVuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIm9mZnNldFwiIF0sXG4gICAgICAgICAgICAgICAgICAgICAgczpcIigoXzAtXzEpLzIpKzExXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgcDpbIDI4LFxuICAgICAgICAgICAgICAgICAgICAgIDc3LFxuICAgICAgICAgICAgICAgICAgICAgIDg2OSBdIH0gXSB9LFxuICAgICAgICAgICAgICBmOlsgIF0gfSxcbiAgICAgICAgICAgIFwiIFwiLFxuICAgICAgICAgICAgeyBwOlsgMzAsXG4gICAgICAgICAgICAgICAgMyxcbiAgICAgICAgICAgICAgICA5MjYgXSxcbiAgICAgICAgICAgICAgdDo3LFxuICAgICAgICAgICAgICBlOlwibGluZVwiLFxuICAgICAgICAgICAgICBhOnsgeDE6XCIwXCIsXG4gICAgICAgICAgICAgICAgeTE6WyB7IHQ6MixcbiAgICAgICAgICAgICAgICAgICAgcjpcImhlaWdodE9mU2NyZWVuXCIsXG4gICAgICAgICAgICAgICAgICAgIHA6WyAzMCxcbiAgICAgICAgICAgICAgICAgICAgICAyMCxcbiAgICAgICAgICAgICAgICAgICAgICA5NDMgXSB9IF0sXG4gICAgICAgICAgICAgICAgeDI6WyB7IHQ6MixcbiAgICAgICAgICAgICAgICAgICAgeDp7IHI6WyBcIndpZHRoT2ZTY3JlZW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwib2Zmc2V0XCIgXSxcbiAgICAgICAgICAgICAgICAgICAgICBzOlwiKF8wLV8xKS8yXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgcDpbIDMwLFxuICAgICAgICAgICAgICAgICAgICAgIDQ0LFxuICAgICAgICAgICAgICAgICAgICAgIDk2NyBdIH0gXSxcbiAgICAgICAgICAgICAgICB5MjpbIHsgdDoyLFxuICAgICAgICAgICAgICAgICAgICB4OnsgcjpbIFwiaGVpZ2h0T2ZTY3JlZW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwib2Zmc2V0XCIgXSxcbiAgICAgICAgICAgICAgICAgICAgICBzOlwiKChfMCtfMSkvMiktMTFcIiB9LFxuICAgICAgICAgICAgICAgICAgICBwOlsgMzAsXG4gICAgICAgICAgICAgICAgICAgICAgNzgsXG4gICAgICAgICAgICAgICAgICAgICAgMTAwMSBdIH0gXSB9LFxuICAgICAgICAgICAgICBmOlsgIF0gfSBdIH0gXSB9IF0gfSIsImZ1bmN0aW9uIGNvbXB1dGVVbml0KCBhc3BXaWR0aCwgYXNwSGVpZ2h0LCBsZW5ndGhEaWFnICkge1xyXG4gICAgdmFyIGMgPSBNYXRoLnBvdyggbGVuZ3RoRGlhZywgMiApLFxyXG4gICAgICAgIGIgPSBNYXRoLnBvdyggYXNwSGVpZ2h0LCAyICksXHJcbiAgICAgICAgYSA9IE1hdGgucG93KCBhc3BXaWR0aCwgMiApO1xyXG4gICAgcmV0dXJuIE1hdGguc3FydCggYyAvICggYSArIGIgKSApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb21wdXRlV2lkdGgoIGFzcFdpZHRoLCBhc3BIZWlnaHQsIGxlbmd0aERpYWcgKSB7XHJcbiAgICByZXR1cm4gY29tcHV0ZVVuaXQoIGFzcFdpZHRoLCBhc3BIZWlnaHQsIGxlbmd0aERpYWcgKSAqIGFzcFdpZHRoO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb21wdXRlSGVpZ2h0KCBhc3BXaWR0aCwgYXNwSGVpZ2h0LCBsZW5ndGhEaWFnICkge1xyXG4gICAgcmV0dXJuIGNvbXB1dGVVbml0KCBhc3BXaWR0aCwgYXNwSGVpZ2h0LCBsZW5ndGhEaWFnICkgKiBhc3BIZWlnaHQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNvbXB1dGVEaWFnKCBhc3BXLCBhc3BILCBsZW5ndGgsIGJvb2wgKSB7XHJcbiAgICB2YXIgdmFsID0gbGVuZ3RoLFxyXG4gICAgICAgIG11bHRpcGxpZXIgPSBhc3BXIC8gYXNwSDtcclxuICAgIGlmICggYm9vbCApIHtcclxuICAgICAgICBtdWx0aXBsaWVyID0gMSAvIG11bHRpcGxpZXI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gTWF0aC5zcXJ0KCBNYXRoLnBvdyggbGVuZ3RoLCAyICkgKyBNYXRoLnBvdyggdmFsICogbXVsdGlwbGllciwgMiApICk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHByZVJlcXNOb0dvb2QoIGFyciApIHtcclxuICAgIHJldHVybiBhcnIucmVkdWNlKCBmdW5jdGlvbiAoIGEsIGN1ciApIHtcclxuICAgICAgICByZXR1cm4gYSB8fCBOdW1iZXIoIGN1ciApICE9PSBjdXI7XHJcbiAgICB9LCBmYWxzZSApO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICggYXNwV2lkdGgsIGFzcEhlaWdodCwgbGVuZ3RoRGlhZyApIHtcclxuICAgIHZhciBhc3BXaWR0aCA9IGFzcFdpZHRoLFxyXG4gICAgICAgIGFzcEhlaWdodCA9IGFzcEhlaWdodCxcclxuICAgICAgICBsZW5ndGhEaWFnID0gbGVuZ3RoRGlhZztcclxuICAgIGlmICggYXNwSGVpZ2h0ID09PSB1bmRlZmluZWQgJiYgbGVuZ3RoRGlhZyA9PT0gdW5kZWZpbmVkICkge1xyXG4gICAgICAgIGFzcEhlaWdodCA9IGFzcFdpZHRoLmhlaWdodDtcclxuICAgICAgICBsZW5ndGhEaWFnID0gYXNwV2lkdGguZGlhZztcclxuICAgICAgICBhc3BXaWR0aCA9IGFzcFdpZHRoLndpZHRoO1xyXG4gICAgfVxyXG4gICAgaWYgKCBwcmVSZXFzTm9Hb29kKCBbIGFzcFdpZHRoLCBsZW5ndGhEaWFnLCBhc3BIZWlnaHQgXSApICkge1xyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGhlaWdodDogcGFyc2VOdW0oIGNvbXB1dGVIZWlnaHQoIGFzcFdpZHRoLCBhc3BIZWlnaHQsIGxlbmd0aERpYWcgKSApLFxyXG4gICAgICAgIHdpZHRoOiBwYXJzZU51bSggY29tcHV0ZVdpZHRoKCBhc3BXaWR0aCwgYXNwSGVpZ2h0LCBsZW5ndGhEaWFnICkgKSxcclxuICAgICAgICBhc3BSYXRpbzogYXNwV2lkdGggKyAnOicgKyBhc3BIZWlnaHQsXHJcbiAgICAgICAgZGlhZ29uYWw6IHBhcnNlTnVtKCBsZW5ndGhEaWFnIClcclxuICAgIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMuZGlhZyA9IGZ1bmN0aW9uICggYXNwV2lkdGgsIGFzcEhlaWdodCwgbGVuZ3RoLCBpc1dpZHRoICkge1xyXG4gICAgdmFyIGlzV2lkdGggPSBpc1dpZHRoID09PSB1bmRlZmluZWQgPyB0cnVlIDogaXNXaWR0aDtcclxuICAgIGlmICggYXNwSGVpZ2h0ID09PSB1bmRlZmluZWQgJiYgbGVuZ3RoID09PSB1bmRlZmluZWQgKSB7XHJcbiAgICAgICAgYXNwSGVpZ2h0ID0gYXNwV2lkdGguaGVpZ2h0O1xyXG4gICAgICAgIGxlbmd0aCA9IGFzcFdpZHRoLmxlbmd0aDtcclxuICAgICAgICBpc1dpZHRoID0gJ2xlbmd0aElzT25XaWRlU2lkZScgaW4gYXNwV2lkdGggPyBhc3BXaWR0aC5sZW5ndGhJc09uV2lkZVNpZGUgOiBpc1dpZHRoO1xyXG4gICAgICAgIGFzcFdpZHRoID0gYXNwV2lkdGgud2lkdGg7XHJcblxyXG4gICAgfVxyXG4gICAgdmFyIGxlbmd0aERpYWcgPSBjb21wdXRlRGlhZyggYXNwV2lkdGgsIGFzcEhlaWdodCB8fCAwLCBsZW5ndGggfHwgMCwgaXNXaWR0aCApO1xyXG5cclxuICAgIGlmICggcHJlUmVxc05vR29vZCggWyBhc3BXaWR0aCwgbGVuZ3RoLCBhc3BIZWlnaHQgXSApICkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybiggJ1ZhbHVlcyBpbnB1dHRlZCBhcmUgbm90IGNvcnJlY3QsIGlmIGZpcnN0IHZhbHVlIGlzIGFuIG9iamVjdCBjaGVjayBkb2N1bWVudGF0aW9uIGZvciBwcm9wZXIgb2JqZWN0IGlucHV0LicsIFsgYXNwV2lkdGgsIGxlbmd0aCwgYXNwSGVpZ2h0IF0gKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgaGVpZ2h0OiBwYXJzZU51bSggaXNXaWR0aCA/IGFzcEhlaWdodCAqIGxlbmd0aCAvIGFzcFdpZHRoIDogbGVuZ3RoICksXHJcbiAgICAgICAgd2lkdGg6IHBhcnNlTnVtKCBpc1dpZHRoID8gbGVuZ3RoIDogYXNwV2lkdGggKiBsZW5ndGggLyBhc3BIZWlnaHQgKSxcclxuICAgICAgICBhc3BSYXRpbzogYXNwV2lkdGggKyAnOicgKyBhc3BIZWlnaHQsXHJcbiAgICAgICAgZGlhZ29uYWw6IHBhcnNlTnVtKCBsZW5ndGhEaWFnIClcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gcGFyc2VOdW0oIG51bSApIHtcclxuICAgIHJldHVybiBOdW1iZXIoIG51bS50b0ZpeGVkKCBtb2R1bGUuZXhwb3J0cy50cnVuY2F0ZSApICk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzLnRydW5jYXRlID0gMTY7XHJcbiIsIiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGUpOnQuUmFjdGl2ZT1lKCl9KHRoaXMsZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KHQpe3ZhciBlO2lmKHQmJlwiYm9vbGVhblwiIT10eXBlb2YgdClyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZkb2N1bWVudCYmdD90Lm5vZGVUeXBlP3Q6XCJzdHJpbmdcIj09dHlwZW9mIHQmJihlPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHQpLCFlJiZkb2N1bWVudC5xdWVyeVNlbGVjdG9yJiYoZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHQpKSxlJiZlLm5vZGVUeXBlKT9lOnRbMF0mJnRbMF0ubm9kZVR5cGU/dFswXTpudWxsOm51bGx9ZnVuY3Rpb24gZSh0KXtyZXR1cm4gdCYmXCJ1bmtub3duXCIhPXR5cGVvZiB0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpLHR9ZnVuY3Rpb24gbih0KXtyZXR1cm4gbnVsbCE9dCYmdC50b1N0cmluZz90OlwiXCJ9ZnVuY3Rpb24gaSh0KXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxuPUFycmF5KGU+MT9lLTE6MCksaT0xO2U+aTtpKyspbltpLTFdPWFyZ3VtZW50c1tpXTtmb3IodmFyIHIscztzPW4uc2hpZnQoKTspZm9yKHIgaW4gcylPYS5jYWxsKHMscikmJih0W3JdPXNbcl0pO3JldHVybiB0fWZ1bmN0aW9uIHIodCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsbj1BcnJheShlPjE/ZS0xOjApLGk9MTtlPmk7aSsrKW5baS0xXT1hcmd1bWVudHNbaV07cmV0dXJuIG4uZm9yRWFjaChmdW5jdGlvbihlKXtmb3IodmFyIG4gaW4gZSkhZS5oYXNPd25Qcm9wZXJ0eShuKXx8biBpbiB0fHwodFtuXT1lW25dKX0pLHR9ZnVuY3Rpb24gcyh0KXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1QYS5jYWxsKHQpfWZ1bmN0aW9uIG8odCl7cmV0dXJuIFRhLnRlc3QoUGEuY2FsbCh0KSl9ZnVuY3Rpb24gYSh0LGUpe3JldHVybiBudWxsPT09dCYmbnVsbD09PWU/ITA6XCJvYmplY3RcIj09dHlwZW9mIHR8fFwib2JqZWN0XCI9PXR5cGVvZiBlPyExOnQ9PT1lfWZ1bmN0aW9uIHUodCl7cmV0dXJuIWlzTmFOKHBhcnNlRmxvYXQodCkpJiZpc0Zpbml0ZSh0KX1mdW5jdGlvbiBoKHQpe3JldHVybiB0JiZcIltvYmplY3QgT2JqZWN0XVwiPT09UGEuY2FsbCh0KX1mdW5jdGlvbiBjKHQsZSl7cmV0dXJuIHQucmVwbGFjZSgvJXMvZyxmdW5jdGlvbigpe3JldHVybiBlLnNoaWZ0KCl9KX1mdW5jdGlvbiBsKHQpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLG49QXJyYXkoZT4xP2UtMTowKSxpPTE7ZT5pO2krKyluW2ktMV09YXJndW1lbnRzW2ldO3Rocm93IHQ9Yyh0LG4pLG5ldyBFcnJvcih0KX1mdW5jdGlvbiBmKCl7UWIuREVCVUcmJkFhLmFwcGx5KG51bGwsYXJndW1lbnRzKX1mdW5jdGlvbiBkKHQpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLG49QXJyYXkoZT4xP2UtMTowKSxpPTE7ZT5pO2krKyluW2ktMV09YXJndW1lbnRzW2ldO3Q9Yyh0LG4pLFNhKHQsbil9ZnVuY3Rpb24gcCh0KXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxuPUFycmF5KGU+MT9lLTE6MCksaT0xO2U+aTtpKyspbltpLTFdPWFyZ3VtZW50c1tpXTt0PWModCxuKSxSYVt0XXx8KFJhW3RdPSEwLFNhKHQsbikpfWZ1bmN0aW9uIG0oKXtRYi5ERUJVRyYmZC5hcHBseShudWxsLGFyZ3VtZW50cyl9ZnVuY3Rpb24gdigpe1FiLkRFQlVHJiZwLmFwcGx5KG51bGwsYXJndW1lbnRzKX1mdW5jdGlvbiBnKHQsZSxuKXt2YXIgaT15KHQsZSxuKTtyZXR1cm4gaT9pW3RdW25dOm51bGx9ZnVuY3Rpb24geSh0LGUsbil7Zm9yKDtlOyl7aWYobiBpbiBlW3RdKXJldHVybiBlO2lmKGUuaXNvbGF0ZWQpcmV0dXJuIG51bGw7ZT1lLnBhcmVudH19ZnVuY3Rpb24gYih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19ZnVuY3Rpb24gdyh0KXt2YXIgZSxuLGkscixzLG87Zm9yKGU9dC5zcGxpdChcIi5cIiksKG49V2FbZS5sZW5ndGhdKXx8KG49eChlLmxlbmd0aCkpLHM9W10saT1mdW5jdGlvbih0LG4pe3JldHVybiB0P1wiKlwiOmVbbl19LHI9bi5sZW5ndGg7ci0tOylvPW5bcl0ubWFwKGkpLmpvaW4oXCIuXCIpLHMuaGFzT3duUHJvcGVydHkobyl8fChzLnB1c2gobyksc1tvXT0hMCk7cmV0dXJuIHN9ZnVuY3Rpb24geCh0KXt2YXIgZSxuLGkscixzLG8sYSx1LGg9XCJcIjtpZighV2FbdF0pe2ZvcihpPVtdO2gubGVuZ3RoPHQ7KWgrPTE7Zm9yKGU9cGFyc2VJbnQoaCwyKSxyPWZ1bmN0aW9uKHQpe3JldHVyblwiMVwiPT09dH0scz0wO2U+PXM7cys9MSl7Zm9yKG49cy50b1N0cmluZygyKTtuLmxlbmd0aDx0OyluPVwiMFwiK247Zm9yKHU9W10sYT1uLmxlbmd0aCxvPTA7YT5vO28rKyl1LnB1c2gocihuW29dKSk7aVtzXT11fVdhW3RdPWl9cmV0dXJuIFdhW3RdfWZ1bmN0aW9uIGsodCxlLG4saSl7dmFyIHI9dFtlXTtpZighcnx8IXIuZXF1YWxzT3JTdGFydHNXaXRoKGkpJiZyLmVxdWFsc09yU3RhcnRzV2l0aChuKSlyZXR1cm4gdFtlXT1yP3IucmVwbGFjZShuLGkpOmksITB9ZnVuY3Rpb24gRSh0KXt2YXIgZT10LnNsaWNlKDIpO3JldHVyblwiaVwiPT09dFsxXSYmdShlKT8rZTplfWZ1bmN0aW9uIF8odCl7cmV0dXJuIG51bGw9PXQ/dDoocWEuaGFzT3duUHJvcGVydHkodCl8fChxYVt0XT1uZXcgJGEodCkpLHFhW3RdKX1mdW5jdGlvbiBBKHQsZSl7ZnVuY3Rpb24gbihlLG4pe3ZhciBpLHIsbztyZXR1cm4gbi5pc1Jvb3Q/bz1bXS5jb25jYXQoT2JqZWN0LmtleXModC52aWV3bW9kZWwuZGF0YSksT2JqZWN0LmtleXModC52aWV3bW9kZWwubWFwcGluZ3MpLE9iamVjdC5rZXlzKHQudmlld21vZGVsLmNvbXB1dGF0aW9ucykpOihpPXQudmlld21vZGVsLndyYXBwZWRbbi5zdHJdLHI9aT9pLmdldCgpOnQudmlld21vZGVsLmdldChuKSxvPXI/T2JqZWN0LmtleXMocik6bnVsbCksbyYmby5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiX3JhY3RpdmVcIj09PXQmJnMocil8fGUucHVzaChuLmpvaW4odCkpfSksZX12YXIgaSxyLG87Zm9yKGk9ZS5zdHIuc3BsaXQoXCIuXCIpLG89W1phXTtyPWkuc2hpZnQoKTspXCIqXCI9PT1yP289by5yZWR1Y2UobixbXSk6b1swXT09PVphP29bMF09XyhyKTpvPW8ubWFwKFMocikpO3JldHVybiBvfWZ1bmN0aW9uIFModCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBlLmpvaW4odCl9fWZ1bmN0aW9uIEModCl7cmV0dXJuIHQ/dC5yZXBsYWNlKHphLFwiLiQxXCIpOlwiXCJ9ZnVuY3Rpb24gTyh0LGUsbil7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGV8fCF1KG4pKXRocm93IG5ldyBFcnJvcihcIkJhZCBhcmd1bWVudHNcIik7dmFyIGk9dm9pZCAwLHI9dm9pZCAwO2lmKC9cXCovLnRlc3QoZSkpcmV0dXJuIHI9e30sQSh0LF8oQyhlKSkpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIGk9dC52aWV3bW9kZWwuZ2V0KGUpO2lmKCF1KGkpKXRocm93IG5ldyBFcnJvcihLYSk7cltlLnN0cl09aStufSksdC5zZXQocik7aWYoaT10LmdldChlKSwhdShpKSl0aHJvdyBuZXcgRXJyb3IoS2EpO3JldHVybiB0LnNldChlLCtpK24pfWZ1bmN0aW9uIFAodCxlKXtyZXR1cm4gSGEodGhpcyx0LHZvaWQgMD09PWU/MTorZSl9ZnVuY3Rpb24gVCh0KXt0aGlzLmV2ZW50PXQsdGhpcy5tZXRob2Q9XCJvblwiK3QsdGhpcy5kZXByZWNhdGU9dHVbdF19ZnVuY3Rpb24gRih0LGUpe3ZhciBuPXQuaW5kZXhPZihlKTstMT09PW4mJnQucHVzaChlKX1mdW5jdGlvbiBSKHQsZSl7Zm9yKHZhciBuPTAsaT10Lmxlbmd0aDtpPm47bisrKWlmKHRbbl09PWUpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gaih0LGUpe3ZhciBuO2lmKCFzKHQpfHwhcyhlKSlyZXR1cm4hMTtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiExO2ZvcihuPXQubGVuZ3RoO24tLTspaWYodFtuXSE9PWVbbl0pcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gTih0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdD9bdF06dm9pZCAwPT09dD9bXTp0fWZ1bmN0aW9uIEQodCl7cmV0dXJuIHRbdC5sZW5ndGgtMV19ZnVuY3Rpb24gSSh0LGUpe3ZhciBuPXQuaW5kZXhPZihlKTstMSE9PW4mJnQuc3BsaWNlKG4sMSl9ZnVuY3Rpb24gTCh0KXtmb3IodmFyIGU9W10sbj10Lmxlbmd0aDtuLS07KWVbbl09dFtuXTtyZXR1cm4gZX1mdW5jdGlvbiBWKHQpe3NldFRpbWVvdXQodCwwKX1mdW5jdGlvbiBNKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciBuO249dC5zaGlmdCgpOyluKGUpfX1mdW5jdGlvbiBVKHQsZSxuLGkpe3ZhciByO2lmKGU9PT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJBIHByb21pc2UncyBmdWxmaWxsbWVudCBoYW5kbGVyIGNhbm5vdCByZXR1cm4gdGhlIHNhbWUgcHJvbWlzZVwiKTtpZihlIGluc3RhbmNlb2YgZXUpZS50aGVuKG4saSk7ZWxzZSBpZighZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpbihlKTtlbHNle3RyeXtyPWUudGhlbn1jYXRjaChzKXtyZXR1cm4gdm9pZCBpKHMpfWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHIpe3ZhciBvLGEsdTthPWZ1bmN0aW9uKGUpe298fChvPSEwLFUodCxlLG4saSkpfSx1PWZ1bmN0aW9uKHQpe298fChvPSEwLGkodCkpfTt0cnl7ci5jYWxsKGUsYSx1KX1jYXRjaChzKXtpZighbylyZXR1cm4gaShzKSx2b2lkKG89ITApfX1lbHNlIG4oZSl9fWZ1bmN0aW9uIFcodCxlLG4pe3ZhciBpO3JldHVybiBlPUMoZSksXCJ+L1wiPT09ZS5zdWJzdHIoMCwyKT8oaT1fKGUuc3Vic3RyaW5nKDIpKSxxKHQsaS5maXJzdEtleSxuKSk6XCIuXCI9PT1lWzBdPyhpPXooYXUobiksZSksaSYmcSh0LGkuZmlyc3RLZXksbikpOmk9Qih0LF8oZSksbiksaX1mdW5jdGlvbiB6KHQsZSl7dmFyIG47aWYodm9pZCAwIT10JiZcInN0cmluZ1wiIT10eXBlb2YgdCYmKHQ9dC5zdHIpLFwiLlwiPT09ZSlyZXR1cm4gXyh0KTtpZihuPXQ/dC5zcGxpdChcIi5cIik6W10sXCIuLi9cIj09PWUuc3Vic3RyKDAsMykpe2Zvcig7XCIuLi9cIj09PWUuc3Vic3RyKDAsMyk7KXtpZighbi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgcmVzb2x2ZSByZWZlcmVuY2UgLSB0b28gbWFueSBcIi4uL1wiIHByZWZpeGVzJyk7bi5wb3AoKSxlPWUuc3Vic3RyaW5nKDMpfXJldHVybiBuLnB1c2goZSksXyhuLmpvaW4oXCIuXCIpKX1yZXR1cm4gXyh0P3QrZS5yZXBsYWNlKC9eXFwuXFwvLyxcIi5cIik6ZS5yZXBsYWNlKC9eXFwuXFwvPy8sXCJcIikpfWZ1bmN0aW9uIEIodCxlLG4saSl7dmFyIHIscyxvLGEsdTtpZihlLmlzUm9vdClyZXR1cm4gZTtmb3Iocz1lLmZpcnN0S2V5O247KWlmKHI9bi5jb250ZXh0LG49bi5wYXJlbnQsciYmKGE9ITAsbz10LnZpZXdtb2RlbC5nZXQociksbyYmKFwib2JqZWN0XCI9PXR5cGVvZiBvfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBvKSYmcyBpbiBvKSlyZXR1cm4gci5qb2luKGUuc3RyKTtyZXR1cm4gJCh0LnZpZXdtb2RlbCxzKT9lOnQucGFyZW50JiYhdC5pc29sYXRlZCYmKGE9ITAsbj10LmNvbXBvbmVudC5wYXJlbnRGcmFnbWVudCxzPV8ocyksdT1CKHQucGFyZW50LHMsbiwhMCkpPyh0LnZpZXdtb2RlbC5tYXAocyx7b3JpZ2luOnQucGFyZW50LnZpZXdtb2RlbCxrZXlwYXRoOnV9KSxlKTppfHxhP3ZvaWQgMDoodC52aWV3bW9kZWwuc2V0KGUsdm9pZCAwKSxlKX1mdW5jdGlvbiBxKHQsZSl7dmFyIG47IXQucGFyZW50fHx0Lmlzb2xhdGVkfHwkKHQudmlld21vZGVsLGUpfHwoZT1fKGUpLChuPUIodC5wYXJlbnQsZSx0LmNvbXBvbmVudC5wYXJlbnRGcmFnbWVudCwhMCkpJiZ0LnZpZXdtb2RlbC5tYXAoZSx7b3JpZ2luOnQucGFyZW50LnZpZXdtb2RlbCxrZXlwYXRoOm59KSl9ZnVuY3Rpb24gJCh0LGUpe3JldHVyblwiXCI9PT1lfHxlIGluIHQuZGF0YXx8ZSBpbiB0LmNvbXB1dGF0aW9uc3x8ZSBpbiB0Lm1hcHBpbmdzfWZ1bmN0aW9uIFEodCl7dC50ZWFyZG93bigpfWZ1bmN0aW9uIFoodCl7dC51bmJpbmQoKX1mdW5jdGlvbiBIKHQpe3QudW5yZW5kZXIoKX1mdW5jdGlvbiBLKHQpe3QuY2FuY2VsKCl9ZnVuY3Rpb24gRyh0KXt0LmRldGFjaCgpfWZ1bmN0aW9uIFkodCl7dC5kZXRhY2hOb2RlcygpfWZ1bmN0aW9uIEoodCl7IXQucmVhZHl8fHQub3V0cm9zLmxlbmd0aHx8dC5vdXRyb0NoaWxkcmVufHwodC5vdXRyb3NDb21wbGV0ZXx8KHQucGFyZW50P3QucGFyZW50LmRlY3JlbWVudE91dHJvcyh0KTp0LmRldGFjaE5vZGVzKCksdC5vdXRyb3NDb21wbGV0ZT0hMCksdC5pbnRyb3MubGVuZ3RofHx0LnRvdGFsQ2hpbGRyZW58fChcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmNhbGxiYWNrJiZ0LmNhbGxiYWNrKCksdC5wYXJlbnQmJnQucGFyZW50LmRlY3JlbWVudFRvdGFsKCkpKX1mdW5jdGlvbiBYKCl7Zm9yKHZhciB0LGUsbjtjdS5yYWN0aXZlcy5sZW5ndGg7KWU9Y3UucmFjdGl2ZXMucG9wKCksbj1lLnZpZXdtb2RlbC5hcHBseUNoYW5nZXMoKSxuJiZwdS5maXJlKGUsbik7Zm9yKHR0KCksdD0wO3Q8Y3Uudmlld3MubGVuZ3RoO3QrPTEpY3Uudmlld3NbdF0udXBkYXRlKCk7Zm9yKGN1LnZpZXdzLmxlbmd0aD0wLHQ9MDt0PGN1LnRhc2tzLmxlbmd0aDt0Kz0xKWN1LnRhc2tzW3RdKCk7cmV0dXJuIGN1LnRhc2tzLmxlbmd0aD0wLGN1LnJhY3RpdmVzLmxlbmd0aD9YKCk6dm9pZCAwfWZ1bmN0aW9uIHR0KCl7dmFyIHQsZSxuLGk7Zm9yKHQ9ZHUubGVuZ3RoO3QtLTspZT1kdVt0XSxlLmtleXBhdGg/ZHUuc3BsaWNlKHQsMSk6KG49dXUoZS5yb290LGUucmVmLGUucGFyZW50RnJhZ21lbnQpKSYmKChpfHwoaT1bXSkpLnB1c2goe2l0ZW06ZSxrZXlwYXRoOm59KSxkdS5zcGxpY2UodCwxKSk7aSYmaS5mb3JFYWNoKGV0KX1mdW5jdGlvbiBldCh0KXt0Lml0ZW0ucmVzb2x2ZSh0LmtleXBhdGgpfWZ1bmN0aW9uIG50KHQsZSxuKXt2YXIgaSxyLHMsbyxhLHUsaCxjLGwsZixkLHAsbSx2O2lmKGk9bmV3IG91KGZ1bmN0aW9uKHQpe3JldHVybiByPXR9KSxcIm9iamVjdFwiPT10eXBlb2YgdCl7bj1lfHx7fSx1PW4uZWFzaW5nLGg9bi5kdXJhdGlvbixhPVtdLGM9bi5zdGVwLGw9bi5jb21wbGV0ZSwoY3x8bCkmJihkPXt9LG4uc3RlcD1udWxsLG4uY29tcGxldGU9bnVsbCxmPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe2RbdF09bn19KTtmb3IocyBpbiB0KXQuaGFzT3duUHJvcGVydHkocykmJigoY3x8bCkmJihwPWYocyksbj17ZWFzaW5nOnUsZHVyYXRpb246aH0sYyYmKG4uc3RlcD1wKSksbi5jb21wbGV0ZT1sP3A6RmEsYS5wdXNoKGl0KHRoaXMscyx0W3NdLG4pKSk7cmV0dXJuIHY9e2Vhc2luZzp1LGR1cmF0aW9uOmh9LGMmJih2LnN0ZXA9ZnVuY3Rpb24odCl7cmV0dXJuIGModCxkKX0pLGwmJmkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gbCh0LGQpfSksdi5jb21wbGV0ZT1yLG09aXQodGhpcyxudWxsLG51bGwsdiksYS5wdXNoKG0pLGkuc3RvcD1mdW5jdGlvbigpe2Zvcih2YXIgdDt0PWEucG9wKCk7KXQuc3RvcCgpO20mJm0uc3RvcCgpfSxpfXJldHVybiBuPW58fHt9LG4uY29tcGxldGUmJmkudGhlbihuLmNvbXBsZXRlKSxuLmNvbXBsZXRlPXIsbz1pdCh0aGlzLHQsZSxuKSxpLnN0b3A9ZnVuY3Rpb24oKXtyZXR1cm4gby5zdG9wKCl9LGl9ZnVuY3Rpb24gaXQodCxlLG4saSl7dmFyIHIscyxvLHU7cmV0dXJuIGUmJihlPV8oQyhlKSkpLG51bGwhPT1lJiYodT10LnZpZXdtb2RlbC5nZXQoZSkpLHl1LmFib3J0KGUsdCksYSh1LG4pPyhpLmNvbXBsZXRlJiZpLmNvbXBsZXRlKGkudG8pLGt1KTooaS5lYXNpbmcmJihyPVwiZnVuY3Rpb25cIj09dHlwZW9mIGkuZWFzaW5nP2kuZWFzaW5nOnQuZWFzaW5nW2kuZWFzaW5nXSxcImZ1bmN0aW9uXCIhPXR5cGVvZiByJiYocj1udWxsKSkscz12b2lkIDA9PT1pLmR1cmF0aW9uPzQwMDppLmR1cmF0aW9uLG89bmV3IHd1KHtrZXlwYXRoOmUsZnJvbTp1LHRvOm4scm9vdDp0LGR1cmF0aW9uOnMsZWFzaW5nOnIsaW50ZXJwb2xhdG9yOmkuaW50ZXJwb2xhdG9yLHN0ZXA6aS5zdGVwLGNvbXBsZXRlOmkuY29tcGxldGV9KSx5dS5hZGQobyksdC5fYW5pbWF0aW9ucy5wdXNoKG8pLG8pfWZ1bmN0aW9uIHJ0KCl7cmV0dXJuIHRoaXMuZGV0YWNoZWQ/dGhpcy5kZXRhY2hlZDoodGhpcy5lbCYmSSh0aGlzLmVsLl9fcmFjdGl2ZV9pbnN0YW5jZXNfXyx0aGlzKSx0aGlzLmRldGFjaGVkPXRoaXMuZnJhZ21lbnQuZGV0YWNoKCksX3UuZmlyZSh0aGlzKSx0aGlzLmRldGFjaGVkKX1mdW5jdGlvbiBzdCh0KXtyZXR1cm4gdGhpcy5lbD90aGlzLmZyYWdtZW50LmZpbmQodCk6bnVsbH1mdW5jdGlvbiBvdCh0LGUpe3ZhciBuO3JldHVybiBuPXRoaXMuX2lzQ29tcG9uZW50UXVlcnk/IXRoaXMuc2VsZWN0b3J8fHQubmFtZT09PXRoaXMuc2VsZWN0b3I6dC5ub2RlP2ZhKHQubm9kZSx0aGlzLnNlbGVjdG9yKTpudWxsLG4/KHRoaXMucHVzaCh0Lm5vZGV8fHQuaW5zdGFuY2UpLGV8fHRoaXMuX21ha2VEaXJ0eSgpLCEwKTp2b2lkIDB9ZnVuY3Rpb24gYXQodCl7dmFyIGU7cmV0dXJuKGU9dC5wYXJlbnRGcmFnbWVudCk/ZS5vd25lcjp0LmNvbXBvbmVudCYmKGU9dC5jb21wb25lbnQucGFyZW50RnJhZ21lbnQpP2Uub3duZXI6dm9pZCAwfWZ1bmN0aW9uIHV0KHQpe3ZhciBlLG47Zm9yKGU9W3RdLG49YXQodCk7bjspZS5wdXNoKG4pLG49YXQobik7cmV0dXJuIGV9ZnVuY3Rpb24gaHQodCxlLG4saSl7dmFyIHI9W107cmV0dXJuIGthKHIse3NlbGVjdG9yOnt2YWx1ZTplfSxsaXZlOnt2YWx1ZTpufSxfaXNDb21wb25lbnRRdWVyeTp7dmFsdWU6aX0sX3Rlc3Q6e3ZhbHVlOlN1fX0pLG4/KGthKHIse2NhbmNlbDp7dmFsdWU6Q3V9LF9yb290Ont2YWx1ZTp0fSxfc29ydDp7dmFsdWU6VHV9LF9tYWtlRGlydHk6e3ZhbHVlOkZ1fSxfcmVtb3ZlOnt2YWx1ZTpSdX0sX2RpcnR5Ont2YWx1ZTohMSx3cml0YWJsZTohMH19KSxyKTpyfWZ1bmN0aW9uIGN0KHQsZSl7dmFyIG4saTtyZXR1cm4gdGhpcy5lbD8oZT1lfHx7fSxuPXRoaXMuX2xpdmVRdWVyaWVzLChpPW5bdF0pP2UmJmUubGl2ZT9pOmkuc2xpY2UoKTooaT1qdSh0aGlzLHQsISFlLmxpdmUsITEpLGkubGl2ZSYmKG4ucHVzaCh0KSxuW1wiX1wiK3RdPWkpLHRoaXMuZnJhZ21lbnQuZmluZEFsbCh0LGkpLGkpKTpbXX1mdW5jdGlvbiBsdCh0LGUpe3ZhciBuLGk7cmV0dXJuIGU9ZXx8e30sbj10aGlzLl9saXZlQ29tcG9uZW50UXVlcmllcywoaT1uW3RdKT9lJiZlLmxpdmU/aTppLnNsaWNlKCk6KGk9anUodGhpcyx0LCEhZS5saXZlLCEwKSxpLmxpdmUmJihuLnB1c2godCksbltcIl9cIit0XT1pKSx0aGlzLmZyYWdtZW50LmZpbmRBbGxDb21wb25lbnRzKHQsaSksaSl9ZnVuY3Rpb24gZnQodCl7cmV0dXJuIHRoaXMuZnJhZ21lbnQuZmluZENvbXBvbmVudCh0KX1mdW5jdGlvbiBkdCh0KXtyZXR1cm4gdGhpcy5jb250YWluZXI/dGhpcy5jb250YWluZXIuY29tcG9uZW50JiZ0aGlzLmNvbnRhaW5lci5jb21wb25lbnQubmFtZT09PXQ/dGhpcy5jb250YWluZXI6dGhpcy5jb250YWluZXIuZmluZENvbnRhaW5lcih0KTpudWxsfWZ1bmN0aW9uIHB0KHQpe3JldHVybiB0aGlzLnBhcmVudD90aGlzLnBhcmVudC5jb21wb25lbnQmJnRoaXMucGFyZW50LmNvbXBvbmVudC5uYW1lPT09dD90aGlzLnBhcmVudDp0aGlzLnBhcmVudC5maW5kUGFyZW50KHQpOm51bGx9ZnVuY3Rpb24gbXQodCxlKXt2YXIgbj12b2lkIDA9PT1hcmd1bWVudHNbMl0/e306YXJndW1lbnRzWzJdO2lmKGUpe24uZXZlbnQ/bi5ldmVudC5uYW1lPWU6bi5ldmVudD17bmFtZTplLF9ub0FyZzohMH07dmFyIGk9XyhlKS53aWxkY2FyZE1hdGNoZXMoKTt2dCh0LGksbi5ldmVudCxuLmFyZ3MsITApfX1mdW5jdGlvbiB2dCh0LGUsbixpKXt2YXIgcixzLG89dm9pZCAwPT09YXJndW1lbnRzWzRdPyExOmFyZ3VtZW50c1s0XSxhPSEwO2ZvcihVdS5lbnF1ZXVlKHQsbikscz1lLmxlbmd0aDtzPj0wO3MtLSlyPXQuX3N1YnNbZVtzXV0sciYmKGE9Z3QodCxyLG4saSkmJmEpO2lmKFV1LmRlcXVldWUodCksdC5wYXJlbnQmJmEpe2lmKG8mJnQuY29tcG9uZW50KXt2YXIgdT10LmNvbXBvbmVudC5uYW1lK1wiLlwiK2VbZS5sZW5ndGgtMV07ZT1fKHUpLndpbGRjYXJkTWF0Y2hlcygpLG4mJihuLmNvbXBvbmVudD10KX12dCh0LnBhcmVudCxlLG4saSl9fWZ1bmN0aW9uIGd0KHQsZSxuLGkpe3ZhciByPW51bGwscz0hMTtuJiYhbi5fbm9BcmcmJihpPVtuXS5jb25jYXQoaSkpLGU9ZS5zbGljZSgpO2Zvcih2YXIgbz0wLGE9ZS5sZW5ndGg7YT5vO28rPTEpZVtvXS5hcHBseSh0LGkpPT09ITEmJihzPSEwKTtyZXR1cm4gbiYmIW4uX25vQXJnJiZzJiYocj1uLm9yaWdpbmFsKSYmKHIucHJldmVudERlZmF1bHQmJnIucHJldmVudERlZmF1bHQoKSxyLnN0b3BQcm9wYWdhdGlvbiYmci5zdG9wUHJvcGFnYXRpb24oKSksIXN9ZnVuY3Rpb24geXQodCl7dmFyIGU9e2FyZ3M6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpfTtXdSh0aGlzLHQsZSl9ZnVuY3Rpb24gYnQodCl7dmFyIGU7cmV0dXJuIHQ9XyhDKHQpKSxlPXRoaXMudmlld21vZGVsLmdldCh0LHF1KSx2b2lkIDA9PT1lJiZ0aGlzLnBhcmVudCYmIXRoaXMuaXNvbGF0ZWQmJnV1KHRoaXMsdC5zdHIsdGhpcy5jb21wb25lbnQucGFyZW50RnJhZ21lbnQpJiYoZT10aGlzLnZpZXdtb2RlbC5nZXQodCkpLGV9ZnVuY3Rpb24gd3QoZSxuKXtpZighdGhpcy5mcmFnbWVudC5yZW5kZXJlZCl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgQVBJIGhhcyBjaGFuZ2VkIC0geW91IG11c3QgY2FsbCBgcmFjdGl2ZS5yZW5kZXIodGFyZ2V0WywgYW5jaG9yXSlgIHRvIHJlbmRlciB5b3VyIFJhY3RpdmUgaW5zdGFuY2UuIE9uY2UgcmVuZGVyZWQgeW91IGNhbiB1c2UgYHJhY3RpdmUuaW5zZXJ0KClgLlwiKTtpZihlPXQoZSksbj10KG4pfHxudWxsLCFlKXRocm93IG5ldyBFcnJvcihcIllvdSBtdXN0IHNwZWNpZnkgYSB2YWxpZCB0YXJnZXQgdG8gaW5zZXJ0IGludG9cIik7ZS5pbnNlcnRCZWZvcmUodGhpcy5kZXRhY2goKSxuKSx0aGlzLmVsPWUsKGUuX19yYWN0aXZlX2luc3RhbmNlc19ffHwoZS5fX3JhY3RpdmVfaW5zdGFuY2VzX189W10pKS5wdXNoKHRoaXMpLHRoaXMuZGV0YWNoZWQ9bnVsbCx4dCh0aGlzKX1mdW5jdGlvbiB4dCh0KXtRdS5maXJlKHQpLHQuZmluZEFsbENvbXBvbmVudHMoXCIqXCIpLmZvckVhY2goZnVuY3Rpb24odCl7eHQodC5pbnN0YW5jZSl9KX1mdW5jdGlvbiBrdCh0LGUsbil7dmFyIGkscjtyZXR1cm4gdD1fKEModCkpLGk9dGhpcy52aWV3bW9kZWwuZ2V0KHQpLHMoaSkmJnMoZSk/KHI9bXUuc3RhcnQodGhpcywhMCksdGhpcy52aWV3bW9kZWwubWVyZ2UodCxpLGUsbiksbXUuZW5kKCkscik6dGhpcy5zZXQodCxlLG4mJm4uY29tcGxldGUpfWZ1bmN0aW9uIEV0KHQsZSl7dmFyIG4saTtyZXR1cm4gbj1BKHQsZSksaT17fSxuLmZvckVhY2goZnVuY3Rpb24oZSl7aVtlLnN0cl09dC5nZXQoZS5zdHIpfSksaX1mdW5jdGlvbiBfdCh0LGUsbixpKXt2YXIgcixzLG87ZT1fKEMoZSkpLGk9aXx8YWgsZS5pc1BhdHRlcm4/KHI9bmV3IHNoKHQsZSxuLGkpLHQudmlld21vZGVsLnBhdHRlcm5PYnNlcnZlcnMucHVzaChyKSxzPSEwKTpyPW5ldyBHdSh0LGUsbixpKSxyLmluaXQoaS5pbml0KSx0LnZpZXdtb2RlbC5yZWdpc3RlcihlLHIscz9cInBhdHRlcm5PYnNlcnZlcnNcIjpcIm9ic2VydmVyc1wiKSxyLnJlYWR5PSEwO3ZhciBhPXtjYW5jZWw6ZnVuY3Rpb24oKXt2YXIgbjtvfHwocz8obj10LnZpZXdtb2RlbC5wYXR0ZXJuT2JzZXJ2ZXJzLmluZGV4T2YociksdC52aWV3bW9kZWwucGF0dGVybk9ic2VydmVycy5zcGxpY2UobiwxKSx0LnZpZXdtb2RlbC51bnJlZ2lzdGVyKGUscixcInBhdHRlcm5PYnNlcnZlcnNcIikpOnQudmlld21vZGVsLnVucmVnaXN0ZXIoZSxyLFwib2JzZXJ2ZXJzXCIpLG89ITApfX07cmV0dXJuIHQuX29ic2VydmVycy5wdXNoKGEpLGF9ZnVuY3Rpb24gQXQodCxlLG4pe3ZhciBpLHIscyxvO2lmKGgodCkpe249ZSxyPXQsaT1bXTtmb3IodCBpbiByKXIuaGFzT3duUHJvcGVydHkodCkmJihlPXJbdF0saS5wdXNoKHRoaXMub2JzZXJ2ZSh0LGUsbikpKTtyZXR1cm57Y2FuY2VsOmZ1bmN0aW9uKCl7Zm9yKDtpLmxlbmd0aDspaS5wb3AoKS5jYW5jZWwoKX19fWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQpcmV0dXJuIG49ZSxlPXQsdD1cIlwiLG9oKHRoaXMsdCxlLG4pO2lmKHM9dC5zcGxpdChcIiBcIiksMT09PXMubGVuZ3RoKXJldHVybiBvaCh0aGlzLHQsZSxuKTtmb3IoaT1bXSxvPXMubGVuZ3RoO28tLTspdD1zW29dLHQmJmkucHVzaChvaCh0aGlzLHQsZSxuKSk7cmV0dXJue2NhbmNlbDpmdW5jdGlvbigpe2Zvcig7aS5sZW5ndGg7KWkucG9wKCkuY2FuY2VsKCl9fX1mdW5jdGlvbiBTdCh0LGUsbil7dmFyIGk9dGhpcy5vYnNlcnZlKHQsZnVuY3Rpb24oKXtlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxpLmNhbmNlbCgpfSx7aW5pdDohMSxkZWZlcjpuJiZuLmRlZmVyfSk7cmV0dXJuIGl9ZnVuY3Rpb24gQ3QodCxlKXt2YXIgbixpPXRoaXM7aWYodCluPXQuc3BsaXQoXCIgXCIpLm1hcChjaCkuZmlsdGVyKGxoKSxuLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIG4scjsobj1pLl9zdWJzW3RdKSYmKGU/KHI9bi5pbmRleE9mKGUpLC0xIT09ciYmbi5zcGxpY2UociwxKSk6aS5fc3Vic1t0XT1bXSl9KTtlbHNlIGZvcih0IGluIHRoaXMuX3N1YnMpZGVsZXRlIHRoaXMuX3N1YnNbdF07cmV0dXJuIHRoaXN9ZnVuY3Rpb24gT3QodCxlKXt2YXIgbixpLHIscz10aGlzO2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0KXtuPVtdO2ZvcihpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmbi5wdXNoKHRoaXMub24oaSx0W2ldKSk7cmV0dXJue2NhbmNlbDpmdW5jdGlvbigpe2Zvcih2YXIgdDt0PW4ucG9wKCk7KXQuY2FuY2VsKCl9fX1yZXR1cm4gcj10LnNwbGl0KFwiIFwiKS5tYXAoY2gpLmZpbHRlcihsaCksci5mb3JFYWNoKGZ1bmN0aW9uKHQpeyhzLl9zdWJzW3RdfHwocy5fc3Vic1t0XT1bXSkpLnB1c2goZSl9KSx7Y2FuY2VsOmZ1bmN0aW9uKCl7cmV0dXJuIHMub2ZmKHQsZSl9fX1mdW5jdGlvbiBQdCh0LGUpe3ZhciBuPXRoaXMub24odCxmdW5jdGlvbigpe2UuYXBwbHkodGhpcyxhcmd1bWVudHMpLG4uY2FuY2VsKCl9KTtyZXR1cm4gbn1mdW5jdGlvbiBUdCh0LGUsbil7dmFyIGkscixzLG8sYSx1LGg9W107aWYoaT1GdCh0LGUsbiksIWkpcmV0dXJuIG51bGw7Zm9yKHI9dC5sZW5ndGgsYT1pLmxlbmd0aC0yLWlbMV0scz1NYXRoLm1pbihyLGlbMF0pLG89cytpWzFdLHU9MDtzPnU7dSs9MSloLnB1c2godSk7Zm9yKDtvPnU7dSs9MSloLnB1c2goLTEpO2Zvcig7cj51O3UrPTEpaC5wdXNoKHUrYSk7cmV0dXJuIGgudG91Y2hlZEZyb209MCE9PWE/aVswXTp0Lmxlbmd0aCxofWZ1bmN0aW9uIEZ0KHQsZSxuKXtzd2l0Y2goZSl7Y2FzZVwic3BsaWNlXCI6Zm9yKHZvaWQgMCE9PW5bMF0mJm5bMF08MCYmKG5bMF09dC5sZW5ndGgrTWF0aC5tYXgoblswXSwtdC5sZW5ndGgpKTtuLmxlbmd0aDwyOyluLnB1c2goMCk7cmV0dXJuIG5bMV09TWF0aC5taW4oblsxXSx0Lmxlbmd0aC1uWzBdKSxuO2Nhc2VcInNvcnRcIjpjYXNlXCJyZXZlcnNlXCI6cmV0dXJuIG51bGw7Y2FzZVwicG9wXCI6cmV0dXJuIHQubGVuZ3RoP1t0Lmxlbmd0aC0xLDFdOlswLDBdO2Nhc2VcInB1c2hcIjpyZXR1cm5bdC5sZW5ndGgsMF0uY29uY2F0KG4pO2Nhc2VcInNoaWZ0XCI6cmV0dXJuWzAsdC5sZW5ndGg/MTowXTtjYXNlXCJ1bnNoaWZ0XCI6cmV0dXJuWzAsMF0uY29uY2F0KG4pfX1mdW5jdGlvbiBSdChlLG4pe3ZhciBpLHIscyxvPXRoaXM7aWYocz10aGlzLnRyYW5zaXRpb25zRW5hYmxlZCx0aGlzLm5vSW50cm8mJih0aGlzLnRyYW5zaXRpb25zRW5hYmxlZD0hMSksaT1tdS5zdGFydCh0aGlzLCEwKSxtdS5zY2hlZHVsZVRhc2soZnVuY3Rpb24oKXtyZXR1cm4gQ2guZmlyZShvKX0sITApLHRoaXMuZnJhZ21lbnQucmVuZGVyZWQpdGhyb3cgbmV3IEVycm9yKFwiWW91IGNhbm5vdCBjYWxsIHJhY3RpdmUucmVuZGVyKCkgb24gYW4gYWxyZWFkeSByZW5kZXJlZCBpbnN0YW5jZSEgQ2FsbCByYWN0aXZlLnVucmVuZGVyKCkgZmlyc3RcIik7aWYoZT10KGUpfHx0aGlzLmVsLG49dChuKXx8dGhpcy5hbmNob3IsdGhpcy5lbD1lLHRoaXMuYW5jaG9yPW4sIXRoaXMuYXBwZW5kJiZlKXt2YXIgYT1lLl9fcmFjdGl2ZV9pbnN0YW5jZXNfXzthJiZhLmxlbmd0aCYmanQoYSksZS5pbm5lckhUTUw9XCJcIn1yZXR1cm4gdGhpcy5jc3NJZCYmQWguYXBwbHkoKSxlJiYoKHI9ZS5fX3JhY3RpdmVfaW5zdGFuY2VzX18pP3IucHVzaCh0aGlzKTplLl9fcmFjdGl2ZV9pbnN0YW5jZXNfXz1bdGhpc10sbj9lLmluc2VydEJlZm9yZSh0aGlzLmZyYWdtZW50LnJlbmRlcigpLG4pOmUuYXBwZW5kQ2hpbGQodGhpcy5mcmFnbWVudC5yZW5kZXIoKSkpLG11LmVuZCgpLHRoaXMudHJhbnNpdGlvbnNFbmFibGVkPXMsaS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIE9oLmZpcmUobyl9KX1mdW5jdGlvbiBqdCh0KXt0LnNwbGljZSgwLHQubGVuZ3RoKS5mb3JFYWNoKFEpfWZ1bmN0aW9uIE50KHQsZSl7Zm9yKHZhciBuPXQuc2xpY2UoKSxpPWUubGVuZ3RoO2ktLTspfm4uaW5kZXhPZihlW2ldKXx8bi5wdXNoKGVbaV0pO3JldHVybiBufWZ1bmN0aW9uIER0KHQsZSl7dmFyIG4saSxyO3JldHVybiBpPSdbZGF0YS1yYWN0aXZlLWNzc349XCJ7JytlKyd9XCJdJyxyPWZ1bmN0aW9uKHQpe3ZhciBlLG4scixzLG8sYSx1LGg9W107Zm9yKGU9W107bj1OaC5leGVjKHQpOyllLnB1c2goe3N0cjpuWzBdLGJhc2U6blsxXSxtb2RpZmllcnM6blsyXX0pO2ZvcihzPWUubWFwKEx0KSx1PWUubGVuZ3RoO3UtLTspYT1zLnNsaWNlKCkscj1lW3VdLGFbdV09ci5iYXNlK2krci5tb2RpZmllcnN8fFwiXCIsbz1zLnNsaWNlKCksb1t1XT1pK1wiIFwiK29bdV0saC5wdXNoKGEuam9pbihcIiBcIiksby5qb2luKFwiIFwiKSk7cmV0dXJuIGguam9pbihcIiwgXCIpfSxuPUloLnRlc3QodCk/dC5yZXBsYWNlKEloLGkpOnQucmVwbGFjZShqaCxcIlwiKS5yZXBsYWNlKFJoLGZ1bmN0aW9uKHQsZSl7dmFyIG4saTtyZXR1cm4gRGgudGVzdChlKT90OihuPWUuc3BsaXQoXCIsXCIpLm1hcChJdCksaT1uLm1hcChyKS5qb2luKFwiLCBcIikrXCIgXCIsdC5yZXBsYWNlKGUsaSkpfSl9ZnVuY3Rpb24gSXQodCl7cmV0dXJuIHQudHJpbT90LnRyaW0oKTp0LnJlcGxhY2UoL15cXHMrLyxcIlwiKS5yZXBsYWNlKC9cXHMrJC8sXCJcIil9ZnVuY3Rpb24gTHQodCl7cmV0dXJuIHQuc3RyfWZ1bmN0aW9uIFZ0KHQpe3QmJnQuY29uc3RydWN0b3IhPT1PYmplY3QmJihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0fHwoXCJvYmplY3RcIiE9dHlwZW9mIHQ/bChcImRhdGEgb3B0aW9uIG11c3QgYmUgYW4gb2JqZWN0IG9yIGEgZnVuY3Rpb24sIGBcIit0K1wiYCBpcyBub3QgdmFsaWRcIik6bShcIklmIHN1cHBsaWVkLCBvcHRpb25zLmRhdGEgc2hvdWxkIGJlIGEgcGxhaW4gSmF2YVNjcmlwdCBvYmplY3QgLSB1c2luZyBhIG5vbi1QT0pPIGFzIHRoZSByb290IG9iamVjdCBtYXkgd29yaywgYnV0IGlzIGRpc2NvdXJhZ2VkXCIpKSl9ZnVuY3Rpb24gTXQodCxlKXtWdChlKTt2YXIgbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0LGk9XCJmdW5jdGlvblwiPT10eXBlb2YgZTtyZXR1cm4gZXx8bnx8KGU9e30pLG58fGk/ZnVuY3Rpb24oKXt2YXIgcj1pP1V0KGUsdGhpcyk6ZSxzPW4/VXQodCx0aGlzKTp0O3JldHVybiBXdChyLHMpfTpXdChlLHQpfWZ1bmN0aW9uIFV0KHQsZSl7dmFyIG49dC5jYWxsKGUpO2lmKG4pcmV0dXJuXCJvYmplY3RcIiE9dHlwZW9mIG4mJmwoXCJEYXRhIGZ1bmN0aW9uIG11c3QgcmV0dXJuIGFuIG9iamVjdFwiKSxuLmNvbnN0cnVjdG9yIT09T2JqZWN0JiZ2KFwiRGF0YSBmdW5jdGlvbiByZXR1cm5lZCBzb21ldGhpbmcgb3RoZXIgdGhhbiBhIHBsYWluIEphdmFTY3JpcHQgb2JqZWN0LiBUaGlzIG1pZ2h0IHdvcmssIGJ1dCBpcyBzdHJvbmdseSBkaXNjb3VyYWdlZFwiKSxufWZ1bmN0aW9uIFd0KHQsZSl7aWYodCYmZSl7Zm9yKHZhciBuIGluIGUpbiBpbiB0fHwodFtuXT1lW25dKTtyZXR1cm4gdH1yZXR1cm4gdHx8ZX1mdW5jdGlvbiB6dCh0KXt2YXIgZSxuLGk7cmV0dXJuIHQubWF0Y2hTdHJpbmcoXCI9XCIpPyhlPXQucG9zLHQuYWxsb3dXaGl0ZXNwYWNlKCksKG49dC5tYXRjaFBhdHRlcm4oamMpKT90Lm1hdGNoUGF0dGVybihOYyk/KGk9dC5tYXRjaFBhdHRlcm4oamMpKT8odC5hbGxvd1doaXRlc3BhY2UoKSx0Lm1hdGNoU3RyaW5nKFwiPVwiKT9bbixpXToodC5wb3M9ZSxudWxsKSk6KHQucG9zPWUsbnVsbCk6bnVsbDoodC5wb3M9ZSxudWxsKSk6bnVsbH1mdW5jdGlvbiBCdCh0KXt2YXIgZTtyZXR1cm4oZT10Lm1hdGNoUGF0dGVybihJYykpP3t0OnBjLHY6ZX06bnVsbH1mdW5jdGlvbiBxdCh0KXt2YXIgZSxuO2lmKHQuaW50ZXJwb2xhdGVbdC5pbnNpZGVdPT09ITEpcmV0dXJuIG51bGw7Zm9yKG49MDtuPHQudGFncy5sZW5ndGg7bis9MSlpZihlPSR0KHQsdC50YWdzW25dKSlyZXR1cm4gZX1mdW5jdGlvbiAkdCh0LGUpe3ZhciBuLGkscixzO2lmKG49dC5wb3MsdC5tYXRjaFN0cmluZyhcIlxcXFxcIitlLm9wZW4pKXtpZigwPT09bnx8XCJcXFxcXCIhPT10LnN0cltuLTFdKXJldHVybiBlLm9wZW59ZWxzZSBpZighdC5tYXRjaFN0cmluZyhlLm9wZW4pKXJldHVybiBudWxsO2lmKGk9UmModCkpcmV0dXJuIHQubWF0Y2hTdHJpbmcoZS5jbG9zZSk/KGUub3Blbj1pWzBdLGUuY2xvc2U9aVsxXSx0LnNvcnRNdXN0YWNoZVRhZ3MoKSxWYyk6bnVsbDtpZih0LmFsbG93V2hpdGVzcGFjZSgpLHQubWF0Y2hTdHJpbmcoXCIvXCIpKXt0LnBvcy09MTt2YXIgbz10LnBvcztEYyh0KT90LnBvcz1vOih0LnBvcz1vLWUuY2xvc2UubGVuZ3RoLHQuZXJyb3IoXCJBdHRlbXB0ZWQgdG8gY2xvc2UgYSBzZWN0aW9uIHRoYXQgd2Fzbid0IG9wZW5cIikpfWZvcihzPTA7czxlLnJlYWRlcnMubGVuZ3RoO3MrPTEpaWYocj1lLnJlYWRlcnNbc10saT1yKHQsZSkpcmV0dXJuIGUuaXNTdGF0aWMmJihpLnM9ITApLHQuaW5jbHVkZUxpbmVQb3NpdGlvbnMmJihpLnA9dC5nZXRMaW5lUG9zKG4pKSxpO3JldHVybiB0LnBvcz1uLG51bGx9ZnVuY3Rpb24gUXQodCl7dmFyIGU7cmV0dXJuKGU9dC5tYXRjaFBhdHRlcm4oemMpKT97dDpoYyx2OmV9Om51bGx9ZnVuY3Rpb24gWnQodCl7dmFyIGU9dC5yZW1haW5pbmcoKTtyZXR1cm5cInRydWVcIj09PWUuc3Vic3RyKDAsNCk/KHQucG9zKz00LHt0OmRjLHY6XCJ0cnVlXCJ9KTpcImZhbHNlXCI9PT1lLnN1YnN0cigwLDUpPyh0LnBvcys9NSx7dDpkYyx2OlwiZmFsc2VcIn0pOm51bGx9ZnVuY3Rpb24gSHQodCl7dmFyIGU7cmV0dXJuKGU9S2ModCkpP0pjLnRlc3QoZS52KT9lLnY6J1wiJytlLnYucmVwbGFjZSgvXCIvZywnXFxcXFwiJykrJ1wiJzooZT1XYyh0KSk/ZS52OihlPXQubWF0Y2hQYXR0ZXJuKEdjKSk/ZTp2b2lkIDB9ZnVuY3Rpb24gS3QodCl7dmFyIGUsbixpO3JldHVybiBlPXQucG9zLHQuYWxsb3dXaGl0ZXNwYWNlKCksbj1ZYyh0KSxudWxsPT09bj8odC5wb3M9ZSxudWxsKToodC5hbGxvd1doaXRlc3BhY2UoKSx0Lm1hdGNoU3RyaW5nKFwiOlwiKT8odC5hbGxvd1doaXRlc3BhY2UoKSxpPU9sKHQpLG51bGw9PT1pPyh0LnBvcz1lLG51bGwpOnt0OnZjLGs6bix2Oml9KToodC5wb3M9ZSxudWxsKSl9ZnVuY3Rpb24gR3QodCl7dmFyIGUsbixpLHI7cmV0dXJuIGU9dC5wb3MsaT1YYyh0KSxudWxsPT09aT9udWxsOihuPVtpXSx0Lm1hdGNoU3RyaW5nKFwiLFwiKT8ocj1HdCh0KSxyP24uY29uY2F0KHIpOih0LnBvcz1lLG51bGwpKTpuKX1mdW5jdGlvbiBZdCh0KXtmdW5jdGlvbiBlKHQpe2kucHVzaCh0KX12YXIgbixpLHIscztyZXR1cm4gbj10LnBvcyx0LmFsbG93V2hpdGVzcGFjZSgpLHI9T2wodCksbnVsbD09PXI/bnVsbDooaT1bcl0sdC5hbGxvd1doaXRlc3BhY2UoKSx0Lm1hdGNoU3RyaW5nKFwiLFwiKSYmKHM9WXQodCksbnVsbD09PXMmJnQuZXJyb3IoTWMpLHMuZm9yRWFjaChlKSksaSl9ZnVuY3Rpb24gSnQodCl7cmV0dXJuIFdjKHQpfHxCYyh0KXx8S2ModCl8fGVsKHQpfHxpbCh0KXx8RGModCl9ZnVuY3Rpb24gWHQodCl7dmFyIGUsbixpLHIscyxvO3JldHVybiBlPXQucG9zLGk9dC5tYXRjaFBhdHRlcm4oL15AKD86a2V5cGF0aHxpbmRleHxrZXkpLyksaXx8KG49dC5tYXRjaFBhdHRlcm4ob2wpfHxcIlwiLGk9IW4mJnQucmVsYXhlZE5hbWVzJiZ0Lm1hdGNoUGF0dGVybihjbCl8fHQubWF0Y2hQYXR0ZXJuKGhsKSxpfHxcIi5cIiE9PW58fChuPVwiXCIsaT1cIi5cIikpLGk/bnx8dC5yZWxheGVkTmFtZXN8fCEkYy50ZXN0KGkpPyFuJiZxYy50ZXN0KGkpPyhyPXFjLmV4ZWMoaSlbMF0sdC5wb3M9ZStyLmxlbmd0aCx7dDptYyx2OnJ9KToocz0obnx8XCJcIikrQyhpKSx0Lm1hdGNoU3RyaW5nKFwiKFwiKSYmKG89cy5sYXN0SW5kZXhPZihcIi5cIiksLTEhPT1vPyhzPXMuc3Vic3RyKDAsbyksdC5wb3M9ZStzLmxlbmd0aCk6dC5wb3MtPTEpLHt0OmdjLG46cy5yZXBsYWNlKC9edGhpc1xcLi8sXCIuL1wiKS5yZXBsYWNlKC9edGhpcyQvLFwiLlwiKX0pOih0LnBvcz1lLG51bGwpOm51bGx9ZnVuY3Rpb24gdGUodCl7dmFyIGUsbjtyZXR1cm4gZT10LnBvcyx0Lm1hdGNoU3RyaW5nKFwiKFwiKT8odC5hbGxvd1doaXRlc3BhY2UoKSxuPU9sKHQpLG58fHQuZXJyb3IoTWMpLHQuYWxsb3dXaGl0ZXNwYWNlKCksdC5tYXRjaFN0cmluZyhcIilcIil8fHQuZXJyb3IoVWMpLHt0OnhjLHg6bn0pOm51bGx9ZnVuY3Rpb24gZWUodCl7dmFyIGUsbixpO2lmKGU9dC5wb3MsdC5hbGxvd1doaXRlc3BhY2UoKSx0Lm1hdGNoU3RyaW5nKFwiLlwiKSl7aWYodC5hbGxvd1doaXRlc3BhY2UoKSxuPXQubWF0Y2hQYXR0ZXJuKEdjKSlyZXR1cm57dDp5YyxuOm59O3QuZXJyb3IoXCJFeHBlY3RlZCBhIHByb3BlcnR5IG5hbWVcIil9cmV0dXJuIHQubWF0Y2hTdHJpbmcoXCJbXCIpPyh0LmFsbG93V2hpdGVzcGFjZSgpLGk9T2wodCksaXx8dC5lcnJvcihNYyksdC5hbGxvd1doaXRlc3BhY2UoKSx0Lm1hdGNoU3RyaW5nKFwiXVwiKXx8dC5lcnJvcihcIkV4cGVjdGVkICddJ1wiKSx7dDp5Yyx4Oml9KTpudWxsfWZ1bmN0aW9uIG5lKHQpe3ZhciBlLG4saSxyO3JldHVybihuPVNsKHQpKT8oZT10LnBvcyx0LmFsbG93V2hpdGVzcGFjZSgpLHQubWF0Y2hTdHJpbmcoXCI/XCIpPyh0LmFsbG93V2hpdGVzcGFjZSgpLGk9T2wodCksaXx8dC5lcnJvcihNYyksdC5hbGxvd1doaXRlc3BhY2UoKSx0Lm1hdGNoU3RyaW5nKFwiOlwiKXx8dC5lcnJvcignRXhwZWN0ZWQgXCI6XCInKSx0LmFsbG93V2hpdGVzcGFjZSgpLHI9T2wodCkscnx8dC5lcnJvcihNYykse3Q6a2MsbzpbbixpLHJdfSk6KHQucG9zPWUsbikpOm51bGx9ZnVuY3Rpb24gaWUodCl7cmV0dXJuIENsKHQpfWZ1bmN0aW9uIHJlKHQpe2Z1bmN0aW9uIGUodCl7c3dpdGNoKHQudCl7Y2FzZSBkYzpjYXNlIG1jOmNhc2UgaGM6Y2FzZSBwYzpyZXR1cm4gdC52O2Nhc2UgY2M6cmV0dXJuIEpTT04uc3RyaW5naWZ5KFN0cmluZyh0LnYpKTtjYXNlIGxjOnJldHVyblwiW1wiKyh0Lm0/dC5tLm1hcChlKS5qb2luKFwiLFwiKTpcIlwiKStcIl1cIjtjYXNlIGZjOnJldHVyblwie1wiKyh0Lm0/dC5tLm1hcChlKS5qb2luKFwiLFwiKTpcIlwiKStcIn1cIjtjYXNlIHZjOnJldHVybiB0LmsrXCI6XCIrZSh0LnYpO2Nhc2Ugd2M6cmV0dXJuKFwidHlwZW9mXCI9PT10LnM/XCJ0eXBlb2YgXCI6dC5zKStlKHQubyk7Y2FzZSBFYzpyZXR1cm4gZSh0Lm9bMF0pKyhcImluXCI9PT10LnMuc3Vic3RyKDAsMik/XCIgXCIrdC5zK1wiIFwiOnQucykrZSh0Lm9bMV0pO2Nhc2UgX2M6cmV0dXJuIGUodC54KStcIihcIisodC5vP3Quby5tYXAoZSkuam9pbihcIixcIik6XCJcIikrXCIpXCI7Y2FzZSB4YzpyZXR1cm5cIihcIitlKHQueCkrXCIpXCI7Y2FzZSBiYzpyZXR1cm4gZSh0LngpK2UodC5yKTtjYXNlIHljOnJldHVybiB0Lm4/XCIuXCIrdC5uOlwiW1wiK2UodC54KStcIl1cIjtjYXNlIGtjOnJldHVybiBlKHQub1swXSkrXCI/XCIrZSh0Lm9bMV0pK1wiOlwiK2UodC5vWzJdKTtjYXNlIGdjOnJldHVyblwiX1wiK24uaW5kZXhPZih0Lm4pO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgbGVnYWwgSmF2YVNjcmlwdFwiKX19dmFyIG47cmV0dXJuIHNlKHQsbj1bXSkse3I6bixzOmUodCl9fWZ1bmN0aW9uIHNlKHQsZSl7dmFyIG4saTtpZih0LnQ9PT1nYyYmLTE9PT1lLmluZGV4T2YodC5uKSYmZS51bnNoaWZ0KHQubiksaT10Lm98fHQubSlpZihoKGkpKXNlKGksZSk7ZWxzZSBmb3Iobj1pLmxlbmd0aDtuLS07KXNlKGlbbl0sZSk7dC54JiZzZSh0LngsZSksdC5yJiZzZSh0LnIsZSksdC52JiZzZSh0LnYsZSl9ZnVuY3Rpb24gb2UodCxlKXt2YXIgbjtpZih0KXtmb3IoO3QudD09PXhjJiZ0Lng7KXQ9dC54O3JldHVybiB0LnQ9PT1nYz9lLnI9dC5uOnQudD09PWhjJiZGbC50ZXN0KHQudik/ZS5yPXQudjoobj1hZSh0KSk/ZS5yeD1uOmUueD1QbCh0KSxlfX1mdW5jdGlvbiBhZSh0KXtmb3IodmFyIGUsbj1bXTt0LnQ9PT1iYyYmdC5yLnQ9PT15YzspZT10LnIsbi51bnNoaWZ0KGUueD9lLngudD09PWdjP2UueDpQbChlLngpOmUubiksdD10Lng7cmV0dXJuIHQudCE9PWdjP251bGw6e3I6dC5uLG06bn19ZnVuY3Rpb24gdWUodCxlKXt2YXIgbixpPU9sKHQpO3JldHVybiBpPyh0Lm1hdGNoU3RyaW5nKGUuY2xvc2UpfHx0LmVycm9yKFwiRXhwZWN0ZWQgY2xvc2luZyBkZWxpbWl0ZXIgJ1wiK2UuY2xvc2UrXCInXCIpLG49e3Q6S2h9LFRsKGksbiksbik6bnVsbH1mdW5jdGlvbiBoZSh0LGUpe3ZhciBuLGk7cmV0dXJuIHQubWF0Y2hTdHJpbmcoXCImXCIpPyh0LmFsbG93V2hpdGVzcGFjZSgpLChuPU9sKHQpKT8odC5tYXRjaFN0cmluZyhlLmNsb3NlKXx8dC5lcnJvcihcIkV4cGVjdGVkIGNsb3NpbmcgZGVsaW1pdGVyICdcIitlLmNsb3NlK1wiJ1wiKSxpPXt0OktofSxUbChuLGkpLGkpOm51bGwpOm51bGx9ZnVuY3Rpb24gY2UodCxlKXt2YXIgbixpLHIscyxvO3JldHVybiBuPXQucG9zLHQubWF0Y2hTdHJpbmcoXCI+XCIpPyh0LmFsbG93V2hpdGVzcGFjZSgpLGk9dC5wb3MsdC5yZWxheGVkTmFtZXM9ITAscj1PbCh0KSx0LnJlbGF4ZWROYW1lcz0hMSx0LmFsbG93V2hpdGVzcGFjZSgpLHM9T2wodCksdC5hbGxvd1doaXRlc3BhY2UoKSxyPyhvPXt0OnRjfSxUbChyLG8pLHQuYWxsb3dXaGl0ZXNwYWNlKCkscyYmKG89e3Q6R2gsbjpPYyxmOltvXX0sVGwocyxvKSksdC5tYXRjaFN0cmluZyhlLmNsb3NlKXx8dC5lcnJvcihcIkV4cGVjdGVkIGNsb3NpbmcgZGVsaW1pdGVyICdcIitlLmNsb3NlK1wiJ1wiKSxvKTpudWxsKTpudWxsfWZ1bmN0aW9uIGxlKHQsZSl7dmFyIG47cmV0dXJuIHQubWF0Y2hTdHJpbmcoXCIhXCIpPyhuPXQucmVtYWluaW5nKCkuaW5kZXhPZihlLmNsb3NlKSwtMSE9PW4/KHQucG9zKz1uK2UuY2xvc2UubGVuZ3RoLHt0OmVjfSk6dm9pZCAwKTpudWxsfWZ1bmN0aW9uIGZlKHQsZSl7dmFyIG4saSxyO2lmKG49dC5wb3MsaT1PbCh0KSwhaSlyZXR1cm4gbnVsbDtmb3Iocj0wO3I8ZS5sZW5ndGg7cis9MSlpZih0LnJlbWFpbmluZygpLnN1YnN0cigwLGVbcl0ubGVuZ3RoKT09PWVbcl0pcmV0dXJuIGk7cmV0dXJuIHQucG9zPW4sc2wodCl9ZnVuY3Rpb24gZGUodCxlKXt2YXIgbixpLHIscztuPXQucG9zO3RyeXtpPUlsKHQsW2UuY2xvc2VdKX1jYXRjaChvKXtzPW99aWYoIWkpe2lmKFwiIVwiPT09dC5zdHIuY2hhckF0KG4pKXJldHVybiB0LnBvcz1uLG51bGw7aWYocyl0aHJvdyBzfWlmKCF0Lm1hdGNoU3RyaW5nKGUuY2xvc2UpJiYodC5lcnJvcihcIkV4cGVjdGVkIGNsb3NpbmcgZGVsaW1pdGVyICdcIitlLmNsb3NlK1wiJyBhZnRlciByZWZlcmVuY2VcIiksIWkpKXtpZihcIiFcIj09PXQubmV4dENoYXIoKSlyZXR1cm4gbnVsbDt0LmVycm9yKFwiRXhwZWN0ZWQgZXhwcmVzc2lvbiBvciBsZWdhbCByZWZlcmVuY2VcIil9cmV0dXJuIHI9e3Q6SGh9LFRsKGkscikscn1mdW5jdGlvbiBwZSh0LGUpe3ZhciBuLGkscjtyZXR1cm4gdC5tYXRjaFBhdHRlcm4oTWwpPyhuPXQucG9zLGk9dC5tYXRjaFBhdHRlcm4oL15bYS16QS1aXyRdW2EtekEtWl8kMC05XFwtXSovKSx0LmFsbG93V2hpdGVzcGFjZSgpLHQubWF0Y2hTdHJpbmcoZS5jbG9zZSl8fHQuZXJyb3IoXCJleHBlY3RlZCBsZWdhbCBwYXJ0aWFsIG5hbWVcIikscj17dDpvY30saSYmKHIubj1pKSxyKTpudWxsfWZ1bmN0aW9uIG1lKHQsZSl7dmFyIG4saSxyLHM7cmV0dXJuIG49dC5wb3MsdC5tYXRjaFN0cmluZyhlLm9wZW4pPyh0LmFsbG93V2hpdGVzcGFjZSgpLHQubWF0Y2hTdHJpbmcoXCIvXCIpPyh0LmFsbG93V2hpdGVzcGFjZSgpLGk9dC5yZW1haW5pbmcoKSxyPWkuaW5kZXhPZihlLmNsb3NlKSwtMSE9PXI/KHM9e3Q6SmgscjppLnN1YnN0cigwLHIpLnNwbGl0KFwiIFwiKVswXX0sdC5wb3MrPXIsdC5tYXRjaFN0cmluZyhlLmNsb3NlKXx8dC5lcnJvcihcIkV4cGVjdGVkIGNsb3NpbmcgZGVsaW1pdGVyICdcIitlLmNsb3NlK1wiJ1wiKSxzKToodC5wb3M9bixudWxsKSk6KHQucG9zPW4sbnVsbCkpOm51bGx9ZnVuY3Rpb24gdmUodCxlKXt2YXIgbj10LnBvcztyZXR1cm4gdC5tYXRjaFN0cmluZyhlLm9wZW4pP3QubWF0Y2hQYXR0ZXJuKHpsKT8odC5tYXRjaFN0cmluZyhlLmNsb3NlKXx8dC5lcnJvcihcIkV4cGVjdGVkIGNsb3NpbmcgZGVsaW1pdGVyICdcIitlLmNsb3NlK1wiJ1wiKSx7dDpUY30pOih0LnBvcz1uLG51bGwpOm51bGx9ZnVuY3Rpb24gZ2UodCxlKXt2YXIgbixpPXQucG9zO3JldHVybiB0Lm1hdGNoU3RyaW5nKGUub3Blbik/dC5tYXRjaFBhdHRlcm4ocWwpPyhuPU9sKHQpLHQubWF0Y2hTdHJpbmcoZS5jbG9zZSl8fHQuZXJyb3IoXCJFeHBlY3RlZCBjbG9zaW5nIGRlbGltaXRlciAnXCIrZS5jbG9zZStcIidcIikse3Q6RmMseDpufSk6KHQucG9zPWksbnVsbCk6bnVsbH1mdW5jdGlvbiB5ZSh0LGUpe3ZhciBuLGkscixzLG8sYSx1LGgsYyxsLGYsZDtpZihuPXQucG9zLHQubWF0Y2hTdHJpbmcoXCJeXCIpKXI9e3Q6R2gsZjpbXSxuOlNjfTtlbHNle2lmKCF0Lm1hdGNoU3RyaW5nKFwiI1wiKSlyZXR1cm4gbnVsbDtyPXt0OkdoLGY6W119LHQubWF0Y2hTdHJpbmcoXCJwYXJ0aWFsXCIpJiYodC5wb3M9bi10LnN0YW5kYXJkRGVsaW1pdGVyc1swXS5sZW5ndGgsdC5lcnJvcihcIlBhcnRpYWwgZGVmaW5pdGlvbnMgY2FuIG9ubHkgYmUgYXQgdGhlIHRvcCBsZXZlbCBvZiB0aGUgdGVtcGxhdGUsIG9yIGltbWVkaWF0ZWx5IGluc2lkZSBjb21wb25lbnRzXCIpKSwodT10Lm1hdGNoUGF0dGVybihLbCkpJiYoZD11LHIubj0kbFt1XSl9aWYodC5hbGxvd1doaXRlc3BhY2UoKSxpPU9sKHQpLGl8fHQuZXJyb3IoXCJFeHBlY3RlZCBleHByZXNzaW9uXCIpLGY9dC5tYXRjaFBhdHRlcm4oWmwpKXt2YXIgcD12b2lkIDA7ci5pPShwPXQubWF0Y2hQYXR0ZXJuKEhsKSk/ZitcIixcIitwOmZ9dC5hbGxvd1doaXRlc3BhY2UoKSx0Lm1hdGNoU3RyaW5nKGUuY2xvc2UpfHx0LmVycm9yKFwiRXhwZWN0ZWQgY2xvc2luZyBkZWxpbWl0ZXIgJ1wiK2UuY2xvc2UrXCInXCIpLHQuc2VjdGlvbkRlcHRoKz0xLG89ci5mLGM9W107ZG8gaWYocz1VbCh0LGUpKWQmJnMuciE9PWQmJnQuZXJyb3IoXCJFeHBlY3RlZCBcIitlLm9wZW4rXCIvXCIrZCtlLmNsb3NlKSx0LnNlY3Rpb25EZXB0aC09MSxsPSEwO2Vsc2UgaWYocz1CbCh0LGUpKXIubj09PVNjJiZ0LmVycm9yKFwie3tlbHNlfX0gbm90IGFsbG93ZWQgaW4ge3sjdW5sZXNzfX1cIiksYSYmdC5lcnJvcihcImlsbGVnYWwge3tlbHNlaWYuLi59fSBhZnRlciB7e2Vsc2V9fVwiKSxofHwoaD1iZShpLHIubikpLGguZi5wdXNoKHt0OkdoLG46QWMseDpQbCh4ZShjLmNvbmNhdChzLngpKSksZjpvPVtdfSksYy5wdXNoKHdlKHMueCkpO2Vsc2UgaWYocz1XbCh0LGUpKXIubj09PVNjJiZ0LmVycm9yKFwie3tlbHNlfX0gbm90IGFsbG93ZWQgaW4ge3sjdW5sZXNzfX1cIiksYSYmdC5lcnJvcihcInRoZXJlIGNhbiBvbmx5IGJlIG9uZSB7e2Vsc2V9fSBibG9jaywgYXQgdGhlIGVuZCBvZiBhIHNlY3Rpb25cIiksYT0hMCxoP2guZi5wdXNoKHt0OkdoLG46QWMseDpQbCh4ZShjKSksZjpvPVtdfSk6KGg9YmUoaSxyLm4pLG89aC5mKTtlbHNle2lmKHM9dC5yZWFkKHRkKSwhcylicmVhaztvLnB1c2gocyl9d2hpbGUoIWwpO3JldHVybiBoJiYoci5uPT09T2MmJihyLm49UGMpLHIubD1oKSxUbChpLHIpLHIuZi5sZW5ndGh8fGRlbGV0ZSByLmYscn1mdW5jdGlvbiBiZSh0LGUpe3ZhciBuO3JldHVybiBlPT09T2M/KG49e3Q6R2gsbjpBYyxmOltdfSxUbCh3ZSh0KSxuKSk6KG49e3Q6R2gsbjpTYyxmOltdfSxUbCh0LG4pKSxufWZ1bmN0aW9uIHdlKHQpe3JldHVybiB0LnQ9PT13YyYmXCIhXCI9PT10LnM/dC5vOnt0OndjLHM6XCIhXCIsbzprZSh0KX19ZnVuY3Rpb24geGUodCl7cmV0dXJuIDE9PT10Lmxlbmd0aD90WzBdOnt0OkVjLHM6XCImJlwiLG86W2tlKHRbMF0pLGtlKHhlKHQuc2xpY2UoMSkpKV19fWZ1bmN0aW9uIGtlKHQpe3JldHVybnt0OnhjLHg6dH19ZnVuY3Rpb24gRWUodCl7dmFyIGUsbixpLHIscztyZXR1cm4gZT10LnBvcyx0Lm1hdGNoU3RyaW5nKFlsKT8oaT10LnJlbWFpbmluZygpLHI9aS5pbmRleE9mKEpsKSwtMT09PXImJnQuZXJyb3IoXCJJbGxlZ2FsIEhUTUwgLSBleHBlY3RlZCBjbG9zaW5nIGNvbW1lbnQgc2VxdWVuY2UgKCctLT4nKVwiKSxuPWkuc3Vic3RyKDAsciksdC5wb3MrPXIrMyxzPXt0OmVjLGM6bn0sdC5pbmNsdWRlTGluZVBvc2l0aW9ucyYmKHMucD10LmdldExpbmVQb3MoZSkpLHMpOm51bGx9ZnVuY3Rpb24gX2UodCl7cmV0dXJuIHQucmVwbGFjZShrbCxmdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiBuPVwiI1wiIT09ZVswXT93bFtlXTpcInhcIj09PWVbMV0/cGFyc2VJbnQoZS5zdWJzdHJpbmcoMiksMTYpOnBhcnNlSW50KGUuc3Vic3RyaW5nKDEpLDEwKSxuP1N0cmluZy5mcm9tQ2hhckNvZGUoQWUobikpOnR9KX1mdW5jdGlvbiBBZSh0KXtyZXR1cm4gdD8xMD09PXQ/MzI6MTI4PnQ/dDoxNTk+PXQ/eGxbdC0xMjhdOjU1Mjk2PnQ/dDo1NzM0Mz49dD82NTUzMzo2NTUzNT49dD90OjY1NTMzOjY1NTMzfWZ1bmN0aW9uIFNlKHQpe3JldHVybiB0LnJlcGxhY2UoQWwsXCImYW1wO1wiKS5yZXBsYWNlKEVsLFwiJmx0O1wiKS5yZXBsYWNlKF9sLFwiJmd0O1wiKX1mdW5jdGlvbiBDZSh0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdH1mdW5jdGlvbiBPZSh0KXtyZXR1cm4gdC50PT09ZWN8fHQudD09PW5jfWZ1bmN0aW9uIFBlKHQpe3JldHVybih0LnQ9PT1HaHx8dC50PT09WWgpJiZ0LmZ9ZnVuY3Rpb24gVGUodCxlLG4saSxyKXt2YXIgbyxhLHUsaCxjLGwsZixkO2ZvcihoZih0KSxvPXQubGVuZ3RoO28tLTspYT10W29dLGEuZXhjbHVkZT90LnNwbGljZShvLDEpOmUmJmEudD09PWVjJiZ0LnNwbGljZShvLDEpO2ZvcihjZih0LGk/cGY6bnVsbCxyP21mOm51bGwpLG89dC5sZW5ndGg7by0tOyl7aWYoYT10W29dLGEuZil7dmFyIHA9YS50PT09WGgmJmRmLnRlc3QoYS5lKTtjPW58fHAsIW4mJnAmJmNmKGEuZix2ZixnZiksY3x8KHU9dFtvLTFdLGg9dFtvKzFdLCghdXx8XCJzdHJpbmdcIj09dHlwZW9mIHUmJm1mLnRlc3QodSkpJiYobD0hMCksKCFofHxcInN0cmluZ1wiPT10eXBlb2YgaCYmcGYudGVzdChoKSkmJihmPSEwKSksVGUoYS5mLGUsYyxsLGYpfWlmKGEubCYmKFRlKGEubC5mLGUsbixsLGYpLHQuc3BsaWNlKG8rMSwwLGEubCksZGVsZXRlIGEubCksYS5hKWZvcihkIGluIGEuYSlhLmEuaGFzT3duUHJvcGVydHkoZCkmJlwic3RyaW5nXCIhPXR5cGVvZiBhLmFbZF0mJlRlKGEuYVtkXSxlLG4sbCxmKTtpZihhLm0mJlRlKGEubSxlLG4sbCxmKSxhLnYpZm9yKGQgaW4gYS52KWEudi5oYXNPd25Qcm9wZXJ0eShkKSYmKHMoYS52W2RdLm4pJiZUZShhLnZbZF0ubixlLG4sbCxmKSxzKGEudltkXS5kKSYmVGUoYS52W2RdLmQsZSxuLGwsZikpfWZvcihvPXQubGVuZ3RoO28tLTspXCJzdHJpbmdcIj09dHlwZW9mIHRbb10mJihcInN0cmluZ1wiPT10eXBlb2YgdFtvKzFdJiYodFtvXT10W29dK3RbbysxXSx0LnNwbGljZShvKzEsMSkpLG58fCh0W29dPXRbb10ucmVwbGFjZShmZixcIiBcIikpLFwiXCI9PT10W29dJiZ0LnNwbGljZShvLDEpKX1mdW5jdGlvbiBGZSh0KXt2YXIgZSxuO3JldHVybiBlPXQucG9zLHQubWF0Y2hTdHJpbmcoXCI8L1wiKT8obj10Lm1hdGNoUGF0dGVybihiZikpP3QuaW5zaWRlJiZuIT09dC5pbnNpZGU/KHQucG9zPWUsbnVsbCk6e3Q6cmMsZTpufToodC5wb3MtPTIsdm9pZCB0LmVycm9yKFwiSWxsZWdhbCBjbG9zaW5nIHRhZ1wiKSk6bnVsbH1mdW5jdGlvbiBSZSh0KXt2YXIgZSxuLGk7cmV0dXJuIHQuYWxsb3dXaGl0ZXNwYWNlKCksKG49dC5tYXRjaFBhdHRlcm4oa2YpKT8oZT17bmFtZTpufSxpPWplKHQpLG51bGwhPWkmJihlLnZhbHVlPWkpLGUpOm51bGx9ZnVuY3Rpb24gamUodCl7dmFyIGUsbixpLHI7cmV0dXJuIGU9dC5wb3MsL1s9XFwvPlxcc10vLnRlc3QodC5uZXh0Q2hhcigpKXx8dC5lcnJvcihcIkV4cGVjdGVkIGA9YCwgYC9gLCBgPmAgb3Igd2hpdGVzcGFjZVwiKSx0LmFsbG93V2hpdGVzcGFjZSgpLHQubWF0Y2hTdHJpbmcoXCI9XCIpPyh0LmFsbG93V2hpdGVzcGFjZSgpLG49dC5wb3MsaT10LnNlY3Rpb25EZXB0aCxyPUllKHQsXCInXCIpfHxJZSh0LCdcIicpfHxEZSh0KSxudWxsPT09ciYmdC5lcnJvcihcIkV4cGVjdGVkIHZhbGlkIGF0dHJpYnV0ZSB2YWx1ZVwiKSx0LnNlY3Rpb25EZXB0aCE9PWkmJih0LnBvcz1uLHQuZXJyb3IoXCJBbiBhdHRyaWJ1dGUgdmFsdWUgbXVzdCBjb250YWluIGFzIG1hbnkgb3BlbmluZyBzZWN0aW9uIHRhZ3MgYXMgY2xvc2luZyBzZWN0aW9uIHRhZ3NcIikpLHIubGVuZ3RoPzE9PT1yLmxlbmd0aCYmXCJzdHJpbmdcIj09dHlwZW9mIHJbMF0/X2UoclswXSk6cjpcIlwiKToodC5wb3M9ZSxudWxsKX1mdW5jdGlvbiBOZSh0KXt2YXIgZSxuLGkscixzO3JldHVybiBlPXQucG9zLChuPXQubWF0Y2hQYXR0ZXJuKEVmKSk/KGk9bixyPXQudGFncy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQub3Blbn0pLC0xIT09KHM9d2YoaSxyKSkmJihuPW4uc3Vic3RyKDAscyksdC5wb3M9ZStuLmxlbmd0aCksbik6bnVsbH1mdW5jdGlvbiBEZSh0KXt2YXIgZSxuO2Zvcih0LmluQXR0cmlidXRlPSEwLGU9W10sbj1MYyh0KXx8TmUodCk7bnVsbCE9PW47KWUucHVzaChuKSxuPUxjKHQpfHxOZSh0KTtyZXR1cm4gZS5sZW5ndGg/KHQuaW5BdHRyaWJ1dGU9ITEsZSk6bnVsbH1mdW5jdGlvbiBJZSh0LGUpe3ZhciBuLGkscjtpZihuPXQucG9zLCF0Lm1hdGNoU3RyaW5nKGUpKXJldHVybiBudWxsO2Zvcih0LmluQXR0cmlidXRlPWUsaT1bXSxyPUxjKHQpfHxMZSh0LGUpO251bGwhPT1yOylpLnB1c2gocikscj1MYyh0KXx8TGUodCxlKTtyZXR1cm4gdC5tYXRjaFN0cmluZyhlKT8odC5pbkF0dHJpYnV0ZT0hMSxpKToodC5wb3M9bixudWxsKX1mdW5jdGlvbiBMZSh0LGUpe3ZhciBuLGkscixzO3JldHVybiBuPXQucG9zLHI9dC5yZW1haW5pbmcoKSxzPXQudGFncy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQub3Blbn0pLHMucHVzaChlKSxpPXdmKHIscyksLTE9PT1pJiZ0LmVycm9yKFwiUXVvdGVkIGF0dHJpYnV0ZSB2YWx1ZSBtdXN0IGhhdmUgYSBjbG9zaW5nIHF1b3RlXCIpLGk/KHQucG9zKz1pLHIuc3Vic3RyKDAsaSkpOm51bGx9ZnVuY3Rpb24gVmUodCl7dmFyIGUsbixpO3JldHVybiB0LmFsbG93V2hpdGVzcGFjZSgpLChlPVljKHQpKT8oaT17a2V5OmV9LHQuYWxsb3dXaGl0ZXNwYWNlKCksdC5tYXRjaFN0cmluZyhcIjpcIik/KHQuYWxsb3dXaGl0ZXNwYWNlKCksKG49dC5yZWFkKCkpPyhpLnZhbHVlPW4udixpKTpudWxsKTpudWxsKTpudWxsfWZ1bmN0aW9uIE1lKHQsZSl7dmFyIG4saSxyLHMsbyxhLHUsaCxjO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXtpZihpPUNmLmV4ZWModCkpe3ZhciBsPXQubGFzdEluZGV4T2YoXCIpXCIpO3JldHVybiBPZi50ZXN0KHQpfHxlLmVycm9yKFwiSW52YWxpZCBpbnB1dCBhZnRlciBtZXRob2QgY2FsbCBleHByZXNzaW9uICdcIit0LnNsaWNlKGwrMSkrXCInXCIpLG49e206aVsxXX0scz1cIltcIit0LnNsaWNlKG4ubS5sZW5ndGgrMSxsKStcIl1cIixyPW5ldyBfZihzKSxuLmE9UGwoci5yZXN1bHRbMF0pLG59aWYoLTE9PT10LmluZGV4T2YoXCI6XCIpKXJldHVybiB0LnRyaW0oKTt0PVt0XX1pZihuPXt9LHU9W10saD1bXSx0KXtmb3IoO3QubGVuZ3RoOylpZihvPXQuc2hpZnQoKSxcInN0cmluZ1wiPT10eXBlb2Ygbyl7aWYoYT1vLmluZGV4T2YoXCI6XCIpLC0xIT09YSl7YSYmdS5wdXNoKG8uc3Vic3RyKDAsYSkpLG8ubGVuZ3RoPmErMSYmKGhbMF09by5zdWJzdHJpbmcoYSsxKSk7YnJlYWt9dS5wdXNoKG8pfWVsc2UgdS5wdXNoKG8pO2g9aC5jb25jYXQodCl9cmV0dXJuIHUubGVuZ3RoP2gubGVuZ3RofHxcInN0cmluZ1wiIT10eXBlb2YgdT8obj17bjoxPT09dS5sZW5ndGgmJlwic3RyaW5nXCI9PXR5cGVvZiB1WzBdP3VbMF06dX0sMT09PWgubGVuZ3RoJiZcInN0cmluZ1wiPT10eXBlb2YgaFswXT8oYz1BZihcIltcIitoWzBdK1wiXVwiKSxuLmE9Yz9jLnZhbHVlOmhbMF0udHJpbSgpKTpuLmQ9aCk6bj11Om49XCJcIixufWZ1bmN0aW9uIFVlKHQpe3ZhciBlLG4saSxyLHMsbyxhLHUsaCxjLGwsZixkLHAsbSx2O2lmKGU9dC5wb3MsdC5pbnNpZGV8fHQuaW5BdHRyaWJ1dGUpcmV0dXJuIG51bGw7aWYoIXQubWF0Y2hTdHJpbmcoXCI8XCIpKXJldHVybiBudWxsO2lmKFwiL1wiPT09dC5uZXh0Q2hhcigpKXJldHVybiBudWxsO2lmKG49e30sdC5pbmNsdWRlTGluZVBvc2l0aW9ucyYmKG4ucD10LmdldExpbmVQb3MoZSkpLHQubWF0Y2hTdHJpbmcoXCIhXCIpKXJldHVybiBuLnQ9dWMsdC5tYXRjaFBhdHRlcm4oL15kb2N0eXBlL2kpfHx0LmVycm9yKFwiRXhwZWN0ZWQgRE9DVFlQRSBkZWNsYXJhdGlvblwiKSxuLmE9dC5tYXRjaFBhdHRlcm4oL14oLis/KT4vKSxuO2lmKG4udD1YaCxuLmU9dC5tYXRjaFBhdHRlcm4oVGYpLCFuLmUpcmV0dXJuIG51bGw7Zm9yKEZmLnRlc3QodC5uZXh0Q2hhcigpKXx8dC5lcnJvcihcIklsbGVnYWwgdGFnIG5hbWVcIikscz1mdW5jdGlvbihlLGkpe3ZhciByPWkubnx8aTtOZi50ZXN0KHIpJiYodC5wb3MtPXIubGVuZ3RoLHQuZXJyb3IoXCJDYW5ub3QgdXNlIHJlc2VydmVkIGV2ZW50IG5hbWVzIChjaGFuZ2UsIHJlc2V0LCB0ZWFyZG93biwgdXBkYXRlLCBjb25zdHJ1Y3QsIGNvbmZpZywgaW5pdCwgcmVuZGVyLCB1bnJlbmRlciwgZGV0YWNoLCBpbnNlcnQpXCIpKSxuLnZbZV09aX0sdC5hbGxvd1doaXRlc3BhY2UoKTtvPUxjKHQpfHx4Zih0KTspby5uYW1lPyhpPURmW28ubmFtZV0pP25baV09U2Yoby52YWx1ZSx0KToocj1qZi5leGVjKG8ubmFtZSkpPyhuLnZ8fChuLnY9e30pLGE9U2Yoby52YWx1ZSx0KSxzKHJbMV0sYSkpOnQuc2FuaXRpemVFdmVudEF0dHJpYnV0ZXMmJlJmLnRlc3Qoby5uYW1lKXx8KG4uYXx8KG4uYT17fSksbi5hW28ubmFtZV09by52YWx1ZXx8KFwiXCI9PT1vLnZhbHVlP1wiXCI6MCkpOihuLm18fChuLm09W10pLG4ubS5wdXNoKG8pKSx0LmFsbG93V2hpdGVzcGFjZSgpO2lmKHQuYWxsb3dXaGl0ZXNwYWNlKCksdC5tYXRjaFN0cmluZyhcIi9cIikmJih1PSEwKSwhdC5tYXRjaFN0cmluZyhcIj5cIikpcmV0dXJuIG51bGw7dmFyIGc9bi5lLnRvTG93ZXJDYXNlKCkseT10LnByZXNlcnZlV2hpdGVzcGFjZTtpZighdSYmIWJsLnRlc3Qobi5lKSl7dC5lbGVtZW50U3RhY2sucHVzaChnKSwoXCJzY3JpcHRcIj09PWd8fFwic3R5bGVcIj09PWcpJiYodC5pbnNpZGU9ZyksaD1bXSxjPXdhKG51bGwpO2RvIGlmKHA9dC5wb3MsbT10LnJlbWFpbmluZygpLFdlKGcsbSkpaWYodj15Zih0KSl7ZD0hMDt2YXIgYj12LmUudG9Mb3dlckNhc2UoKTtpZihiIT09ZyYmKHQucG9zPXAsIX50LmVsZW1lbnRTdGFjay5pbmRleE9mKGIpKSl7dmFyIHc9XCJVbmV4cGVjdGVkIGNsb3NpbmcgdGFnXCI7YmwudGVzdChiKSYmKHcrPVwiICg8XCIrYitcIj4gaXMgYSB2b2lkIGVsZW1lbnQgLSBpdCBjYW5ub3QgY29udGFpbiBjaGlsZHJlbilcIiksdC5lcnJvcih3KX19ZWxzZShmPVVsKHQse29wZW46dC5zdGFuZGFyZERlbGltaXRlcnNbMF0sY2xvc2U6dC5zdGFuZGFyZERlbGltaXRlcnNbMV19KSk/KGQ9ITAsdC5wb3M9cCk6KGY9dC5yZWFkKGVkKSk/KGNbZi5uXSYmKHQucG9zPXAsdC5lcnJvcihcIkR1cGxpY2F0ZSBwYXJ0aWFsIGRlZmluaXRpb25cIikpLGxmKGYuZix0LnN0cmlwQ29tbWVudHMseSwheSwheSksY1tmLm5dPWYuZixsPSEwKTooZj10LnJlYWQodGQpKT9oLnB1c2goZik6ZD0hMDtlbHNlIGQ9ITA7d2hpbGUoIWQpO2gubGVuZ3RoJiYobi5mPWgpLGwmJihuLnA9YyksdC5lbGVtZW50U3RhY2sucG9wKCl9cmV0dXJuIHQuaW5zaWRlPW51bGwsdC5zYW5pdGl6ZUVsZW1lbnRzJiYtMSE9PXQuc2FuaXRpemVFbGVtZW50cy5pbmRleE9mKGcpP0lmOm59ZnVuY3Rpb24gV2UodCxlKXt2YXIgbixpO3JldHVybiBuPS9ePChbYS16QS1aXVthLXpBLVowLTldKikvLmV4ZWMoZSksaT1QZlt0XSxuJiZpPyF+aS5pbmRleE9mKG5bMV0udG9Mb3dlckNhc2UoKSk6ITB9ZnVuY3Rpb24gemUodCl7dmFyIGUsbixpLHI7cmV0dXJuIG49dC5yZW1haW5pbmcoKSxyPXQuaW5zaWRlP1wiPC9cIit0Lmluc2lkZTpcIjxcIix0Lmluc2lkZSYmIXQuaW50ZXJwb2xhdGVbdC5pbnNpZGVdP2U9bi5pbmRleE9mKHIpOihpPXQudGFncy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQub3Blbn0pLGk9aS5jb25jYXQodC50YWdzLm1hcChmdW5jdGlvbih0KXtyZXR1cm5cIlxcXFxcIit0Lm9wZW59KSksdC5pbkF0dHJpYnV0ZT09PSEwP2kucHVzaCgnXCInLFwiJ1wiLFwiPVwiLFwiPFwiLFwiPlwiLFwiYFwiKTppLnB1c2godC5pbkF0dHJpYnV0ZT90LmluQXR0cmlidXRlOnIpLGU9d2YobixpKSksZT8oLTE9PT1lJiYoZT1uLmxlbmd0aCksdC5wb3MrPWUsdC5pbnNpZGU/bi5zdWJzdHIoMCxlKTpfZShuLnN1YnN0cigwLGUpKSk6bnVsbH1mdW5jdGlvbiBCZSh0KXtyZXR1cm4gdC5yZXBsYWNlKFdmLFwiXFxcXCQmXCIpfWZ1bmN0aW9uIHFlKHQpe3ZhciBlPXQucG9zLG49dC5zdGFuZGFyZERlbGltaXRlcnNbMF0saT10LnN0YW5kYXJkRGVsaW1pdGVyc1sxXSxyPXZvaWQgMCxzPXZvaWQgMDtpZighdC5tYXRjaFBhdHRlcm4oQmYpfHwhdC5tYXRjaFN0cmluZyhuKSlyZXR1cm4gdC5wb3M9ZSxudWxsO3ZhciBvPXQubWF0Y2hQYXR0ZXJuKHFmKTtpZih2KFwiSW5saW5lIHBhcnRpYWwgY29tbWVudHMgYXJlIGRlcHJlY2F0ZWQuXFxuVXNlIHRoaXMuLi5cXG4gIHt7I3BhcnRpYWwgXCIrbytcIn19IC4uLiB7ey9wYXJ0aWFsfX1cXG5cXG4uLi5pbnN0ZWFkIG9mIHRoaXM6XFxuICA8IS0tIHt7PlwiK28rXCJ9fSAtLT4gLi4uIDwhLS0ge3svXCIrbytcIn19IC0tPidcIiksIXQubWF0Y2hTdHJpbmcoaSl8fCF0Lm1hdGNoUGF0dGVybigkZikpcmV0dXJuIHQucG9zPWUsbnVsbDtyPVtdO3ZhciBhPW5ldyBSZWdFeHAoXCJePCEtLVxcXFxzKlwiK1VmKG4pK1wiXFxcXHMqXFxcXC9cXFxccypcIitvK1wiXFxcXHMqXCIrVWYoaSkrXCJcXFxccyotLT5cIik7ZG8gdC5tYXRjaFBhdHRlcm4oYSk/cz0hMDooTGY9dC5yZWFkKHRkKSxMZnx8dC5lcnJvcihcImV4cGVjdGVkIGNsb3NpbmcgY29tbWVudCAoJzwhLS0gXCIrbitcIi9cIitvK2krXCIgLS0+JylcIiksci5wdXNoKExmKSk7d2hpbGUoIXMpO3JldHVybnt0OmFjLGY6cixuOm99fWZ1bmN0aW9uICRlKHQpe3ZhciBlLG4saSxyLHM7ZT10LnBvczt2YXIgbz10LnN0YW5kYXJkRGVsaW1pdGVycztpZighdC5tYXRjaFN0cmluZyhvWzBdKSlyZXR1cm4gbnVsbDtpZighdC5tYXRjaFBhdHRlcm4oWmYpKXJldHVybiB0LnBvcz1lLG51bGw7bj10Lm1hdGNoUGF0dGVybigvXlthLXpBLVpfJF1bYS16QS1aXyQwLTlcXC1dKi8pLG58fHQuZXJyb3IoXCJleHBlY3RlZCBsZWdhbCBwYXJ0aWFsIG5hbWVcIiksdC5tYXRjaFN0cmluZyhvWzFdKXx8dC5lcnJvcihcIkV4cGVjdGVkIGNsb3NpbmcgZGVsaW1pdGVyICdcIitvWzFdK1wiJ1wiKSxpPVtdO2RvKHI9VWwodCx7b3Blbjp0LnN0YW5kYXJkRGVsaW1pdGVyc1swXSxjbG9zZTp0LnN0YW5kYXJkRGVsaW1pdGVyc1sxXX0pKT8oXCJwYXJ0aWFsXCI9PT0hci5yJiZ0LmVycm9yKFwiRXhwZWN0ZWQgXCIrb1swXStcIi9wYXJ0aWFsXCIrb1sxXSkscz0hMCk6KHI9dC5yZWFkKHRkKSxyfHx0LmVycm9yKFwiRXhwZWN0ZWQgXCIrb1swXStcIi9wYXJ0aWFsXCIrb1sxXSksaS5wdXNoKHIpKTt3aGlsZSghcyk7cmV0dXJue3Q6YWMsbjpuLGY6aX19ZnVuY3Rpb24gUWUodCl7Zm9yKHZhciBlPVtdLG49d2EobnVsbCksaT0hMSxyPXQucHJlc2VydmVXaGl0ZXNwYWNlO3QucG9zPHQuc3RyLmxlbmd0aDspe3ZhciBzPXQucG9zLG89dm9pZCAwLGE9dm9pZCAwOyhhPXQucmVhZChlZCkpPyhuW2Eubl0mJih0LnBvcz1zLHQuZXJyb3IoXCJEdXBsaWNhdGVkIHBhcnRpYWwgZGVmaW5pdGlvblwiKSksbGYoYS5mLHQuc3RyaXBDb21tZW50cyxyLCFyLCFyKSxuW2Eubl09YS5mLGk9ITApOihvPXQucmVhZCh0ZCkpP2UucHVzaChvKTp0LmVycm9yKFwiVW5leHBlY3RlZCB0ZW1wbGF0ZSBjb250ZW50XCIpO1xuXG59dmFyIHU9e3Y6b2EsdDplfTtyZXR1cm4gaSYmKHUucD1uKSx1fWZ1bmN0aW9uIFplKHQsZSl7cmV0dXJuIG5ldyBYZih0LGV8fHt9KS5yZXN1bHR9ZnVuY3Rpb24gSGUodCl7dmFyIGU9d2Eob2QpO3JldHVybiBlLnBhcnNlPWZ1bmN0aW9uKGUsbil7cmV0dXJuIEtlKGUsbnx8dCl9LGV9ZnVuY3Rpb24gS2UodCxlKXtpZighS2YpdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBSYWN0aXZlLnBhcnNlIC0gY2Fubm90IHBhcnNlIHRlbXBsYXRlLiBFaXRoZXIgcHJlcGFyc2Ugb3IgdXNlIHRoZSB2ZXJzaW9uIHRoYXQgaW5jbHVkZXMgdGhlIHBhcnNlclwiKTtyZXR1cm4gS2YodCxlfHx0aGlzLm9wdGlvbnMpfWZ1bmN0aW9uIEdlKHQsZSl7dmFyIG47aWYoIVhvKXtpZihlJiZlLm5vVGhyb3cpcmV0dXJuO3Rocm93IG5ldyBFcnJvcihcIkNhbm5vdCByZXRyaWV2ZSB0ZW1wbGF0ZSAjXCIrdCtcIiBhcyBSYWN0aXZlIGlzIG5vdCBydW5uaW5nIGluIGEgYnJvd3Nlci5cIil9aWYoWWUodCkmJih0PXQuc3Vic3RyaW5nKDEpKSwhKG49ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodCkpKXtpZihlJiZlLm5vVGhyb3cpcmV0dXJuO3Rocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBmaW5kIHRlbXBsYXRlIGVsZW1lbnQgd2l0aCBpZCAjXCIrdCl9aWYoXCJTQ1JJUFRcIiE9PW4udGFnTmFtZS50b1VwcGVyQ2FzZSgpKXtpZihlJiZlLm5vVGhyb3cpcmV0dXJuO3Rocm93IG5ldyBFcnJvcihcIlRlbXBsYXRlIGVsZW1lbnQgd2l0aCBpZCAjXCIrdCtcIiwgbXVzdCBiZSBhIDxzY3JpcHQ+IGVsZW1lbnRcIil9cmV0dXJuXCJ0ZXh0Q29udGVudFwiaW4gbj9uLnRleHRDb250ZW50Om4uaW5uZXJIVE1MfWZ1bmN0aW9uIFllKHQpe3JldHVybiB0JiZcIiNcIj09PXRbMF19ZnVuY3Rpb24gSmUodCl7cmV0dXJuIShcInN0cmluZ1wiPT10eXBlb2YgdCl9ZnVuY3Rpb24gWGUodCl7cmV0dXJuIHQuZGVmYXVsdHMmJih0PXQuZGVmYXVsdHMpLHNkLnJlZHVjZShmdW5jdGlvbihlLG4pe3JldHVybiBlW25dPXRbbl0sZX0se30pfWZ1bmN0aW9uIHRuKHQpe3ZhciBlLG49dC5fY29uZmlnLnRlbXBsYXRlO2lmKG4mJm4uZm4pcmV0dXJuIGU9ZW4odCxuLmZuKSxlIT09bi5yZXN1bHQ/KG4ucmVzdWx0PWUsZT1ybihlLHQpKTp2b2lkIDB9ZnVuY3Rpb24gZW4odCxlKXt2YXIgbj1ubihhZC5nZXRQYXJzZU9wdGlvbnModCkpO3JldHVybiBlLmNhbGwodCxuKX1mdW5jdGlvbiBubih0KXt2YXIgZT13YShhZCk7cmV0dXJuIGUucGFyc2U9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gYWQucGFyc2UoZSxufHx0KX0sZX1mdW5jdGlvbiBybih0LGUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KVwiI1wiPT09dFswXSYmKHQ9YWQuZnJvbUlkKHQpKSx0PUtmKHQsYWQuZ2V0UGFyc2VPcHRpb25zKGUpKTtlbHNle2lmKHZvaWQgMD09dCl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgdGVtcGxhdGUgY2Fubm90IGJlIFwiK3QrXCIuXCIpO2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0LnYpdGhyb3cgbmV3IEVycm9yKFwiVGhlIHRlbXBsYXRlIHBhcnNlciB3YXMgcGFzc2VkIGEgbm9uLXN0cmluZyB0ZW1wbGF0ZSwgYnV0IHRoZSB0ZW1wbGF0ZSBkb2Vzbid0IGhhdmUgYSB2ZXJzaW9uLiAgTWFrZSBzdXJlIHlvdSdyZSBwYXNzaW5nIGluIHRoZSB0ZW1wbGF0ZSB5b3UgdGhpbmsgeW91IGFyZS5cIik7aWYodC52IT09b2EpdGhyb3cgbmV3IEVycm9yKFwiTWlzbWF0Y2hlZCB0ZW1wbGF0ZSB2ZXJzaW9uIChleHBlY3RlZCBcIitvYStcIiwgZ290IFwiK3QuditcIikgUGxlYXNlIGVuc3VyZSB5b3UgYXJlIHVzaW5nIHRoZSBsYXRlc3QgdmVyc2lvbiBvZiBSYWN0aXZlLmpzIGluIHlvdXIgYnVpbGQgcHJvY2VzcyBhcyB3ZWxsIGFzIGluIHlvdXIgYXBwXCIpfXJldHVybiB0fWZ1bmN0aW9uIHNuKHQsZSxuKXtpZihlKWZvcih2YXIgaSBpbiBlKShufHwhdC5oYXNPd25Qcm9wZXJ0eShpKSkmJih0W2ldPWVbaV0pfWZ1bmN0aW9uIG9uKHQsZSxuKXtpZighL19zdXBlci8udGVzdChuKSlyZXR1cm4gbjt2YXIgaT1mdW5jdGlvbigpe3ZhciB0LHI9YW4oaS5fcGFyZW50LGUpLHM9XCJfc3VwZXJcImluIHRoaXMsbz10aGlzLl9zdXBlcjtyZXR1cm4gdGhpcy5fc3VwZXI9cix0PW4uYXBwbHkodGhpcyxhcmd1bWVudHMpLHM/dGhpcy5fc3VwZXI9bzpkZWxldGUgdGhpcy5fc3VwZXIsdH07cmV0dXJuIGkuX3BhcmVudD10LGkuX21ldGhvZD1uLGl9ZnVuY3Rpb24gYW4odCxlKXt2YXIgbixpO3JldHVybiBlIGluIHQ/KG49dFtlXSxpPVwiZnVuY3Rpb25cIj09dHlwZW9mIG4/bjpmdW5jdGlvbigpe3JldHVybiBufSk6aT1GYSxpfWZ1bmN0aW9uIHVuKHQsZSxuKXtyZXR1cm5cIm9wdGlvbnMuXCIrdCtcIiBoYXMgYmVlbiBkZXByZWNhdGVkIGluIGZhdm91ciBvZiBvcHRpb25zLlwiK2UrXCIuXCIrKG4/XCIgWW91IGNhbm5vdCBzcGVjaWZ5IGJvdGggb3B0aW9ucywgcGxlYXNlIHVzZSBvcHRpb25zLlwiK2UrXCIuXCI6XCJcIil9ZnVuY3Rpb24gaG4odCxlLG4pe2lmKGUgaW4gdCl7aWYobiBpbiB0KXRocm93IG5ldyBFcnJvcih1bihlLG4sITApKTttKHVuKGUsbikpLHRbbl09dFtlXX19ZnVuY3Rpb24gY24odCl7aG4odCxcImJlZm9yZUluaXRcIixcIm9uY29uc3RydWN0XCIpLGhuKHQsXCJpbml0XCIsXCJvbnJlbmRlclwiKSxobih0LFwiY29tcGxldGVcIixcIm9uY29tcGxldGVcIiksaG4odCxcImV2ZW50RGVmaW5pdGlvbnNcIixcImV2ZW50c1wiKSxzKHQuYWRhcHRvcnMpJiZobih0LFwiYWRhcHRvcnNcIixcImFkYXB0XCIpfWZ1bmN0aW9uIGxuKHQsZSxuLGkpe3lkKGkpO2Zvcih2YXIgciBpbiBpKWlmKG1kLmhhc093blByb3BlcnR5KHIpKXt2YXIgcz1pW3JdO1wiZWxcIiE9PXImJlwiZnVuY3Rpb25cIj09dHlwZW9mIHM/bShcIlwiK3IrXCIgaXMgYSBSYWN0aXZlIG9wdGlvbiB0aGF0IGRvZXMgbm90IGV4cGVjdCBhIGZ1bmN0aW9uIGFuZCB3aWxsIGJlIGlnbm9yZWRcIixcImluaXRcIj09PXQ/bjpudWxsKTpuW3JdPXN9dmQuZm9yRWFjaChmdW5jdGlvbihyKXtyW3RdKGUsbixpKX0pLFRoW3RdKGUsbixpKSxoZFt0XShlLG4saSksTWhbdF0oZSxuLGkpLGZuKGUucHJvdG90eXBlLG4saSl9ZnVuY3Rpb24gZm4odCxlLG4pe2Zvcih2YXIgaSBpbiBuKWlmKCFwZFtpXSYmbi5oYXNPd25Qcm9wZXJ0eShpKSl7dmFyIHI9bltpXTtcImZ1bmN0aW9uXCI9PXR5cGVvZiByJiYocj1nZCh0LGkscikpLGVbaV09cn19ZnVuY3Rpb24gZG4odCl7dmFyIGU9e307cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gZVt0XT0hMH0pLGV9ZnVuY3Rpb24gcG4oKXt0aGlzLmRpcnR5VmFsdWU9dGhpcy5kaXJ0eUFyZ3M9ITAsdGhpcy5ib3VuZCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5vd25lci5idWJibGUmJnRoaXMub3duZXIuYnViYmxlKCl9ZnVuY3Rpb24gbW4oKXt2YXIgdDtyZXR1cm4gMT09PXRoaXMuaXRlbXMubGVuZ3RoP3RoaXMuaXRlbXNbMF0uZGV0YWNoKCk6KHQ9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHRoaXMuaXRlbXMuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbj1lLmRldGFjaCgpO24mJnQuYXBwZW5kQ2hpbGQobil9KSx0KX1mdW5jdGlvbiB2bih0KXt2YXIgZSxuLGkscjtpZih0aGlzLml0ZW1zKXtmb3Iobj10aGlzLml0ZW1zLmxlbmd0aCxlPTA7bj5lO2UrPTEpaWYoaT10aGlzLml0ZW1zW2VdLGkuZmluZCYmKHI9aS5maW5kKHQpKSlyZXR1cm4gcjtyZXR1cm4gbnVsbH19ZnVuY3Rpb24gZ24odCxlKXt2YXIgbixpLHI7aWYodGhpcy5pdGVtcylmb3IoaT10aGlzLml0ZW1zLmxlbmd0aCxuPTA7aT5uO24rPTEpcj10aGlzLml0ZW1zW25dLHIuZmluZEFsbCYmci5maW5kQWxsKHQsZSk7cmV0dXJuIGV9ZnVuY3Rpb24geW4odCxlKXt2YXIgbixpLHI7aWYodGhpcy5pdGVtcylmb3IoaT10aGlzLml0ZW1zLmxlbmd0aCxuPTA7aT5uO24rPTEpcj10aGlzLml0ZW1zW25dLHIuZmluZEFsbENvbXBvbmVudHMmJnIuZmluZEFsbENvbXBvbmVudHModCxlKTtyZXR1cm4gZX1mdW5jdGlvbiBibih0KXt2YXIgZSxuLGkscjtpZih0aGlzLml0ZW1zKXtmb3IoZT10aGlzLml0ZW1zLmxlbmd0aCxuPTA7ZT5uO24rPTEpaWYoaT10aGlzLml0ZW1zW25dLGkuZmluZENvbXBvbmVudCYmKHI9aS5maW5kQ29tcG9uZW50KHQpKSlyZXR1cm4gcjtyZXR1cm4gbnVsbH19ZnVuY3Rpb24gd24odCl7dmFyIGUsbj10LmluZGV4O3JldHVybiBlPXRoaXMuaXRlbXNbbisxXT90aGlzLml0ZW1zW24rMV0uZmlyc3ROb2RlKCk6dGhpcy5vd25lcj09PXRoaXMucm9vdD90aGlzLm93bmVyLmNvbXBvbmVudD90aGlzLm93bmVyLmNvbXBvbmVudC5maW5kTmV4dE5vZGUoKTpudWxsOnRoaXMub3duZXIuZmluZE5leHROb2RlKHRoaXMpfWZ1bmN0aW9uIHhuKCl7cmV0dXJuIHRoaXMuaXRlbXMmJnRoaXMuaXRlbXNbMF0/dGhpcy5pdGVtc1swXS5maXJzdE5vZGUoKTpudWxsfWZ1bmN0aW9uIGtuKHQsZSxuLGkpe3JldHVybiBpPWl8fDAsdC5tYXAoZnVuY3Rpb24odCl7dmFyIHIscyxvO3JldHVybiB0LnRleHQ/dC50ZXh0OnQuZnJhZ21lbnRzP3QuZnJhZ21lbnRzLm1hcChmdW5jdGlvbih0KXtyZXR1cm4ga24odC5pdGVtcyxlLG4saSl9KS5qb2luKFwiXCIpOihyPW4rXCItXCIraSsrLG89dC5rZXlwYXRoJiYocz10LnJvb3Qudmlld21vZGVsLndyYXBwZWRbdC5rZXlwYXRoLnN0cl0pP3MudmFsdWU6dC5nZXRWYWx1ZSgpLGVbcl09byxcIiR7XCIrcitcIn1cIil9KS5qb2luKFwiXCIpfWZ1bmN0aW9uIEVuKCl7dmFyIHQsZSxuLGk7cmV0dXJuIHRoaXMuZGlydHlBcmdzJiYoZT1PZCh0aGlzLml0ZW1zLHQ9e30sdGhpcy5yb290Ll9ndWlkKSxuPUFmKFwiW1wiK2UrXCJdXCIsdCksaT1uP24udmFsdWU6W3RoaXMudG9TdHJpbmcoKV0sdGhpcy5hcmdzTGlzdD1pLHRoaXMuZGlydHlBcmdzPSExKSx0aGlzLmFyZ3NMaXN0fWZ1bmN0aW9uIF9uKCl7dmFyIHQ9dGhpcztkbyBpZih0LnBFbGVtZW50KXJldHVybiB0LnBFbGVtZW50Lm5vZGU7d2hpbGUodD10LnBhcmVudCk7cmV0dXJuIHRoaXMucm9vdC5kZXRhY2hlZHx8dGhpcy5yb290LmVsfWZ1bmN0aW9uIEFuKCl7dmFyIHQsZSxuLGk7cmV0dXJuIHRoaXMuZGlydHlWYWx1ZSYmKGU9T2QodGhpcy5pdGVtcyx0PXt9LHRoaXMucm9vdC5fZ3VpZCksbj1BZihlLHQpLGk9bj9uLnZhbHVlOnRoaXMudG9TdHJpbmcoKSx0aGlzLnZhbHVlPWksdGhpcy5kaXJ0eVZhbHVlPSExKSx0aGlzLnZhbHVlfWZ1bmN0aW9uIFNuKCl7dGhpcy5yZWdpc3RlcmVkJiZ0aGlzLnJvb3Qudmlld21vZGVsLnVucmVnaXN0ZXIodGhpcy5rZXlwYXRoLHRoaXMpLHRoaXMucmVzb2x2ZXImJnRoaXMucmVzb2x2ZXIudW5iaW5kKCl9ZnVuY3Rpb24gQ24oKXtyZXR1cm4gdGhpcy52YWx1ZX1mdW5jdGlvbiBPbih0LGUpe2Zvcih2YXIgbixpPTA7aTxlLnByb3AubGVuZ3RoO2krKylpZih2b2lkIDAhPT0obj10W2UucHJvcFtpXV0pKXJldHVybiBufWZ1bmN0aW9uIFBuKHQsZSl7dmFyIG4saSxyLHMsbyxhPXt9LHU9ITE7Zm9yKGV8fChhLnJlZnM9bj17fSk7dDspe2lmKChvPXQub3duZXIpJiYoaT1vLmluZGV4UmVmcykpe2lmKGUmJihyPW8uZ2V0SW5kZXhSZWYoZSkpKXJldHVybiBhLnJlZj17ZnJhZ21lbnQ6dCxyZWY6cn0sYTtpZighZSlmb3IocyBpbiBpKXI9aVtzXSxuW3Iubl18fCh1PSEwLG5bci5uXT17ZnJhZ21lbnQ6dCxyZWY6cn0pfSF0LnBhcmVudCYmdC5vd25lciYmdC5vd25lci5jb21wb25lbnQmJnQub3duZXIuY29tcG9uZW50LnBhcmVudEZyYWdtZW50JiYhdC5vd25lci5jb21wb25lbnQuaW5zdGFuY2UuaXNvbGF0ZWQ/KGEuY29tcG9uZW50Qm91bmRhcnk9ITAsdD10Lm93bmVyLmNvbXBvbmVudC5wYXJlbnRGcmFnbWVudCk6dD10LnBhcmVudH1yZXR1cm4gdT9hOnZvaWQgMH1mdW5jdGlvbiBUbih0LGUsbil7dmFyIGk7cmV0dXJuXCJAXCI9PT1lLmNoYXJBdCgwKT9uZXcgV2QodCxlLG4pOihpPXFkKHQucGFyZW50RnJhZ21lbnQsZSkpP25ldyBCZCh0LGksbik6bmV3IFZkKHQsZSxuKX1mdW5jdGlvbiBGbih0LGUpe3ZhciBuLGk7aWYoSGRbdF0pcmV0dXJuIEhkW3RdO2ZvcihpPVtdO2UtLTspaVtlXT1cIl9cIitlO3JldHVybiBuPW5ldyBGdW5jdGlvbihpLmpvaW4oXCIsXCIpLFwicmV0dXJuKFwiK3QrXCIpXCIpLEhkW3RdPW4sbn1mdW5jdGlvbiBSbih0KXtyZXR1cm4gdC5jYWxsKCl9ZnVuY3Rpb24gam4odCxlKXtyZXR1cm4gdC5yZXBsYWNlKC9fKFswLTldKykvZyxmdW5jdGlvbih0LG4pe3ZhciBpLHI7cmV0dXJuK24+PWUubGVuZ3RoP1wiX1wiK246KGk9ZVtuXSx2b2lkIDA9PT1pP1widW5kZWZpbmVkXCI6aS5pc1NwZWNpYWw/KHI9aS52YWx1ZSxcIm51bWJlclwiPT10eXBlb2Ygcj9yOidcIicrcisnXCInKTppLnN0cil9KX1mdW5jdGlvbiBObih0KXtyZXR1cm4gXyhcIiR7XCIrdC5yZXBsYWNlKC9bXFwuXFxbXFxdXS9nLFwiLVwiKS5yZXBsYWNlKC9cXCovLFwiI01VTCNcIikrXCJ9XCIpfWZ1bmN0aW9uIERuKHQpe3JldHVybiB2b2lkIDAhPT10JiZcIkBcIiE9PXRbMF19ZnVuY3Rpb24gSW4odCxlKXt2YXIgbixpLHI7aWYodC5fX3JhY3RpdmVfbm93cmFwKXJldHVybiB0O2lmKGk9XCJfX3JhY3RpdmVfXCIrZS5fZ3VpZCxuPXRbaV0pcmV0dXJuIG47aWYoL3RoaXMvLnRlc3QodC50b1N0cmluZygpKSl7eGEodCxpLHt2YWx1ZTpLZC5jYWxsKHQsZSksY29uZmlndXJhYmxlOiEwfSk7Zm9yKHIgaW4gdCl0Lmhhc093blByb3BlcnR5KHIpJiYodFtpXVtyXT10W3JdKTtyZXR1cm4gZS5fYm91bmRGdW5jdGlvbnMucHVzaCh7Zm46dCxwcm9wOml9KSx0W2ldfXJldHVybiB4YSh0LFwiX19yYWN0aXZlX25vd3JhcFwiLHt2YWx1ZTp0fSksdC5fX3JhY3RpdmVfbm93cmFwfWZ1bmN0aW9uIExuKHQpe3JldHVybiB0LnZhbHVlfWZ1bmN0aW9uIFZuKHQpe3JldHVybiB2b2lkIDAhPXR9ZnVuY3Rpb24gTW4odCl7dC5mb3JjZVJlc29sdXRpb24oKX1mdW5jdGlvbiBVbih0LGUpe2Z1bmN0aW9uIG4oZSl7dC5yZXNvbHZlKGUpfWZ1bmN0aW9uIGkoZSl7dmFyIG49dC5rZXlwYXRoO2UhPW4mJih0LnJlc29sdmUoZSksdm9pZCAwIT09biYmdC5mcmFnbWVudHMmJnQuZnJhZ21lbnRzLmZvckVhY2goZnVuY3Rpb24odCl7dC5yZWJpbmQobixlKX0pKX12YXIgcixzLG87cz1lLnBhcmVudEZyYWdtZW50LG89ZS50ZW1wbGF0ZSx0LnJvb3Q9cy5yb290LHQucGFyZW50RnJhZ21lbnQ9cyx0LnBFbGVtZW50PXMucEVsZW1lbnQsdC50ZW1wbGF0ZT1lLnRlbXBsYXRlLHQuaW5kZXg9ZS5pbmRleHx8MCx0LmlzU3RhdGljPWUudGVtcGxhdGUucyx0LnR5cGU9ZS50ZW1wbGF0ZS50LHQucmVnaXN0ZXJlZD0hMSwocj1vLnIpJiYodC5yZXNvbHZlcj1RZCh0LHIsbikpLGUudGVtcGxhdGUueCYmKHQucmVzb2x2ZXI9bmV3IEdkKHQscyxlLnRlbXBsYXRlLngsaSkpLGUudGVtcGxhdGUucngmJih0LnJlc29sdmVyPW5ldyB0cCh0LGUudGVtcGxhdGUucngsaSkpLHQudGVtcGxhdGUubiE9PVNjfHx0Lmhhc093blByb3BlcnR5KFwidmFsdWVcIil8fHQuc2V0VmFsdWUodm9pZCAwKX1mdW5jdGlvbiBXbih0KXt2YXIgZSxuLGk7cmV0dXJuIHQmJnQuaXNTcGVjaWFsPyh0aGlzLmtleXBhdGg9dCx2b2lkIHRoaXMuc2V0VmFsdWUodC52YWx1ZSkpOih0aGlzLnJlZ2lzdGVyZWQmJih0aGlzLnJvb3Qudmlld21vZGVsLnVucmVnaXN0ZXIodGhpcy5rZXlwYXRoLHRoaXMpLHRoaXMucmVnaXN0ZXJlZD0hMSxlPSEwKSx0aGlzLmtleXBhdGg9dCx2b2lkIDAhPXQmJihuPXRoaXMucm9vdC52aWV3bW9kZWwuZ2V0KHQpLHRoaXMucm9vdC52aWV3bW9kZWwucmVnaXN0ZXIodCx0aGlzKSx0aGlzLnJlZ2lzdGVyZWQ9ITApLHRoaXMuc2V0VmFsdWUobiksdm9pZChlJiYoaT10aGlzLnR3b3dheUJpbmRpbmcpJiZpLnJlYm91bmQoKSkpfWZ1bmN0aW9uIHpuKHQsZSl7dGhpcy5mcmFnbWVudHMmJnRoaXMuZnJhZ21lbnRzLmZvckVhY2goZnVuY3Rpb24obil7cmV0dXJuIG4ucmViaW5kKHQsZSl9KSx0aGlzLnJlc29sdmVyJiZ0aGlzLnJlc29sdmVyLnJlYmluZCh0LGUpfWZ1bmN0aW9uIEJuKCl7dGhpcy5wYXJlbnRGcmFnbWVudC5idWJibGUoKX1mdW5jdGlvbiBxbigpe3ZhciB0O3JldHVybiAxPT09dGhpcy5mcmFnbWVudHMubGVuZ3RoP3RoaXMuZnJhZ21lbnRzWzBdLmRldGFjaCgpOih0PWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSx0aGlzLmZyYWdtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuYXBwZW5kQ2hpbGQoZS5kZXRhY2goKSl9KSx0KX1mdW5jdGlvbiAkbih0KXt2YXIgZSxuLGk7Zm9yKG49dGhpcy5mcmFnbWVudHMubGVuZ3RoLGU9MDtuPmU7ZSs9MSlpZihpPXRoaXMuZnJhZ21lbnRzW2VdLmZpbmQodCkpcmV0dXJuIGk7cmV0dXJuIG51bGx9ZnVuY3Rpb24gUW4odCxlKXt2YXIgbixpO2ZvcihpPXRoaXMuZnJhZ21lbnRzLmxlbmd0aCxuPTA7aT5uO24rPTEpdGhpcy5mcmFnbWVudHNbbl0uZmluZEFsbCh0LGUpfWZ1bmN0aW9uIFpuKHQsZSl7dmFyIG4saTtmb3IoaT10aGlzLmZyYWdtZW50cy5sZW5ndGgsbj0wO2k+bjtuKz0xKXRoaXMuZnJhZ21lbnRzW25dLmZpbmRBbGxDb21wb25lbnRzKHQsZSl9ZnVuY3Rpb24gSG4odCl7dmFyIGUsbixpO2ZvcihuPXRoaXMuZnJhZ21lbnRzLmxlbmd0aCxlPTA7bj5lO2UrPTEpaWYoaT10aGlzLmZyYWdtZW50c1tlXS5maW5kQ29tcG9uZW50KHQpKXJldHVybiBpO3JldHVybiBudWxsfWZ1bmN0aW9uIEtuKHQpe3JldHVybiB0aGlzLmZyYWdtZW50c1t0LmluZGV4KzFdP3RoaXMuZnJhZ21lbnRzW3QuaW5kZXgrMV0uZmlyc3ROb2RlKCk6dGhpcy5wYXJlbnRGcmFnbWVudC5maW5kTmV4dE5vZGUodGhpcyl9ZnVuY3Rpb24gR24oKXt2YXIgdCxlLG47aWYodD10aGlzLmZyYWdtZW50cy5sZW5ndGgpZm9yKGU9MDt0PmU7ZSs9MSlpZihuPXRoaXMuZnJhZ21lbnRzW2VdLmZpcnN0Tm9kZSgpKXJldHVybiBuO3JldHVybiB0aGlzLnBhcmVudEZyYWdtZW50LmZpbmROZXh0Tm9kZSh0aGlzKX1mdW5jdGlvbiBZbih0KXt2YXIgZSxuLGkscixzLG8sYSx1PXRoaXM7aWYoIXRoaXMuc2h1ZmZsaW5nJiYhdGhpcy51bmJvdW5kJiZ0aGlzLmN1cnJlbnRTdWJ0eXBlPT09Q2Mpe2lmKHRoaXMuc2h1ZmZsaW5nPSEwLG11LnNjaGVkdWxlVGFzayhmdW5jdGlvbigpe3JldHVybiB1LnNodWZmbGluZz0hMX0pLGU9dGhpcy5wYXJlbnRGcmFnbWVudCxzPVtdLHQuZm9yRWFjaChmdW5jdGlvbih0LGUpe3ZhciBpLHIsbyxhLGg7cmV0dXJuIHQ9PT1lP3ZvaWQoc1t0XT11LmZyYWdtZW50c1tlXSk6KGk9dS5mcmFnbWVudHNbZV0sdm9pZCAwPT09biYmKG49ZSksLTE9PT10Pyh1LmZyYWdtZW50c1RvVW5yZW5kZXIucHVzaChpKSx2b2lkIGkudW5iaW5kKCkpOihyPXQtZSxvPXUua2V5cGF0aC5qb2luKGUpLGE9dS5rZXlwYXRoLmpvaW4odCksaS5pbmRleD10LChoPWkucmVnaXN0ZXJlZEluZGV4UmVmcykmJmguZm9yRWFjaChKbiksaS5yZWJpbmQobyxhKSx2b2lkKHNbdF09aSkpKX0pLHI9dGhpcy5yb290LnZpZXdtb2RlbC5nZXQodGhpcy5rZXlwYXRoKS5sZW5ndGgsdm9pZCAwPT09bil7aWYodGhpcy5sZW5ndGg9PT1yKXJldHVybjtuPXRoaXMubGVuZ3RofWZvcih0aGlzLmxlbmd0aD10aGlzLmZyYWdtZW50cy5sZW5ndGg9cix0aGlzLnJlbmRlcmVkJiZtdS5hZGRWaWV3KHRoaXMpLG89e3RlbXBsYXRlOnRoaXMudGVtcGxhdGUuZixyb290OnRoaXMucm9vdCxvd25lcjp0aGlzfSxpPW47cj5pO2krPTEpYT1zW2ldLGF8fHRoaXMuZnJhZ21lbnRzVG9DcmVhdGUucHVzaChpKSx0aGlzLmZyYWdtZW50c1tpXT1hfX1mdW5jdGlvbiBKbih0KXt0LnJlYmluZChcIlwiLFwiXCIpfWZ1bmN0aW9uIFhuKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5kb2NGcmFnPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSx0aGlzLmZyYWdtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmRvY0ZyYWcuYXBwZW5kQ2hpbGQoZS5yZW5kZXIoKSl9KSx0aGlzLnJlbmRlcmVkRnJhZ21lbnRzPXRoaXMuZnJhZ21lbnRzLnNsaWNlKCksdGhpcy5mcmFnbWVudHNUb1JlbmRlcj1bXSx0aGlzLnJlbmRlcmVkPSEwLHRoaXMuZG9jRnJhZ31mdW5jdGlvbiB0aSh0KXt2YXIgZSxuLGk9dGhpczt0aGlzLnVwZGF0aW5nfHwodGhpcy51cGRhdGluZz0hMCx0aGlzLmtleXBhdGgmJihlPXRoaXMucm9vdC52aWV3bW9kZWwud3JhcHBlZFt0aGlzLmtleXBhdGguc3RyXSkmJih0PWUuZ2V0KCkpLHRoaXMuZnJhZ21lbnRzVG9DcmVhdGUubGVuZ3RoPyhuPXt0ZW1wbGF0ZTp0aGlzLnRlbXBsYXRlLmZ8fFtdLHJvb3Q6dGhpcy5yb290LHBFbGVtZW50OnRoaXMucEVsZW1lbnQsb3duZXI6dGhpc30sdGhpcy5mcmFnbWVudHNUb0NyZWF0ZS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlO24uY29udGV4dD1pLmtleXBhdGguam9pbih0KSxuLmluZGV4PXQsZT1uZXcgeWIobiksaS5mcmFnbWVudHNUb1JlbmRlci5wdXNoKGkuZnJhZ21lbnRzW3RdPWUpfSksdGhpcy5mcmFnbWVudHNUb0NyZWF0ZS5sZW5ndGg9MCk6bmkodGhpcyx0KSYmKHRoaXMuYnViYmxlKCksdGhpcy5yZW5kZXJlZCYmbXUuYWRkVmlldyh0aGlzKSksdGhpcy52YWx1ZT10LHRoaXMudXBkYXRpbmc9ITEpfWZ1bmN0aW9uIGVpKHQsZSxuKXtpZihlPT09Q2MmJnQuaW5kZXhSZWZzJiZ0LmluZGV4UmVmc1swXSl7dmFyIGk9dC5pbmRleFJlZnNbMF07KG4mJlwiaVwiPT09aS50fHwhbiYmXCJrXCI9PT1pLnQpJiYobnx8KHQubGVuZ3RoPTAsdC5mcmFnbWVudHNUb1VucmVuZGVyPXQuZnJhZ21lbnRzLnNsaWNlKDApLHQuZnJhZ21lbnRzVG9VbnJlbmRlci5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnVuYmluZCgpfSkpKSxpLnQ9bj9cImtcIjpcImlcIn10LmN1cnJlbnRTdWJ0eXBlPWV9ZnVuY3Rpb24gbmkodCxlKXt2YXIgbj17dGVtcGxhdGU6dC50ZW1wbGF0ZS5mfHxbXSxyb290OnQucm9vdCxwRWxlbWVudDp0LnBhcmVudEZyYWdtZW50LnBFbGVtZW50LG93bmVyOnR9O2lmKHQuaGFzQ29udGV4dD0hMCx0LnN1YnR5cGUpc3dpdGNoKHQuc3VidHlwZSl7Y2FzZSBBYzpyZXR1cm4gdC5oYXNDb250ZXh0PSExLGFpKHQsZSwhMSxuKTtjYXNlIFNjOnJldHVybiB0Lmhhc0NvbnRleHQ9ITEsYWkodCxlLCEwLG4pO2Nhc2UgT2M6cmV0dXJuIG9pKHQsbik7Y2FzZSBQYzpyZXR1cm4gc2kodCxlLG4pO2Nhc2UgQ2M6aWYoaChlKSlyZXR1cm4gZWkodCx0LnN1YnR5cGUsITApLHJpKHQsZSxuKX1yZXR1cm4gdC5vcmRlcmVkPSEhbyhlKSx0Lm9yZGVyZWQ/KGVpKHQsQ2MsITEpLGlpKHQsZSxuKSk6aChlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZT90LnRlbXBsYXRlLmk/KGVpKHQsQ2MsITApLHJpKHQsZSxuKSk6KGVpKHQsT2MsITEpLG9pKHQsbikpOihlaSh0LEFjLCExKSx0Lmhhc0NvbnRleHQ9ITEsYWkodCxlLCExLG4pKX1mdW5jdGlvbiBpaSh0LGUsbil7dmFyIGkscixzO2lmKHI9ZS5sZW5ndGgscj09PXQubGVuZ3RoKXJldHVybiExO2lmKHI8dC5sZW5ndGgpdC5mcmFnbWVudHNUb1VucmVuZGVyPXQuZnJhZ21lbnRzLnNwbGljZShyLHQubGVuZ3RoLXIpLHQuZnJhZ21lbnRzVG9VbnJlbmRlci5mb3JFYWNoKFopO2Vsc2UgaWYocj50Lmxlbmd0aClmb3IoaT10Lmxlbmd0aDtyPmk7aSs9MSluLmNvbnRleHQ9dC5rZXlwYXRoLmpvaW4oaSksbi5pbmRleD1pLHM9bmV3IHliKG4pLHQuZnJhZ21lbnRzVG9SZW5kZXIucHVzaCh0LmZyYWdtZW50c1tpXT1zKTtyZXR1cm4gdC5sZW5ndGg9ciwhMH1mdW5jdGlvbiByaSh0LGUsbil7dmFyIGkscixzLG8sYSx1O2ZvcihzPXQuaGFzS2V5fHwodC5oYXNLZXk9e30pLHI9dC5mcmFnbWVudHMubGVuZ3RoO3ItLTspbz10LmZyYWdtZW50c1tyXSxvLmtleSBpbiBlfHwoYT0hMCxvLnVuYmluZCgpLHQuZnJhZ21lbnRzVG9VbnJlbmRlci5wdXNoKG8pLHQuZnJhZ21lbnRzLnNwbGljZShyLDEpLHNbby5rZXldPSExKTtmb3Iocj10LmZyYWdtZW50cy5sZW5ndGg7ci0tOylvPXQuZnJhZ21lbnRzW3JdLG8uaW5kZXghPT1yJiYoby5pbmRleD1yLCh1PW8ucmVnaXN0ZXJlZEluZGV4UmVmcykmJnUuZm9yRWFjaChjaSkpO3I9dC5mcmFnbWVudHMubGVuZ3RoO2ZvcihpIGluIGUpc1tpXXx8KGE9ITAsbi5jb250ZXh0PXQua2V5cGF0aC5qb2luKGkpLG4ua2V5PWksbi5pbmRleD1yKyssbz1uZXcgeWIobiksdC5mcmFnbWVudHNUb1JlbmRlci5wdXNoKG8pLHQuZnJhZ21lbnRzLnB1c2gobyksc1tpXT0hMCk7cmV0dXJuIHQubGVuZ3RoPXQuZnJhZ21lbnRzLmxlbmd0aCxhfWZ1bmN0aW9uIHNpKHQsZSxuKXtyZXR1cm4gZT9vaSh0LG4pOnVpKHQpfWZ1bmN0aW9uIG9pKHQsZSl7dmFyIG47cmV0dXJuIHQubGVuZ3RoP3ZvaWQgMDooZS5jb250ZXh0PXQua2V5cGF0aCxlLmluZGV4PTAsbj1uZXcgeWIoZSksdC5mcmFnbWVudHNUb1JlbmRlci5wdXNoKHQuZnJhZ21lbnRzWzBdPW4pLHQubGVuZ3RoPTEsITApfWZ1bmN0aW9uIGFpKHQsZSxuLGkpe3ZhciByLHMsYSx1LGM7aWYocz1vKGUpJiYwPT09ZS5sZW5ndGgsYT0hMSwhbyhlKSYmaChlKSl7YT0hMDtmb3IoYyBpbiBlKXthPSExO2JyZWFrfX1yZXR1cm4gcj1uP3N8fGF8fCFlOmUmJiFzJiYhYSxyP3QubGVuZ3RoP3QubGVuZ3RoPjE/KHQuZnJhZ21lbnRzVG9VbnJlbmRlcj10LmZyYWdtZW50cy5zcGxpY2UoMSksdC5mcmFnbWVudHNUb1VucmVuZGVyLmZvckVhY2goWiksITApOnZvaWQgMDooaS5pbmRleD0wLHU9bmV3IHliKGkpLHQuZnJhZ21lbnRzVG9SZW5kZXIucHVzaCh0LmZyYWdtZW50c1swXT11KSx0Lmxlbmd0aD0xLCEwKTp1aSh0KX1mdW5jdGlvbiB1aSh0KXtyZXR1cm4gdC5sZW5ndGg/KHQuZnJhZ21lbnRzVG9VbnJlbmRlcj10LmZyYWdtZW50cy5zcGxpY2UoMCx0LmZyYWdtZW50cy5sZW5ndGgpLmZpbHRlcihoaSksdC5mcmFnbWVudHNUb1VucmVuZGVyLmZvckVhY2goWiksdC5sZW5ndGg9dC5mcmFnbWVudHNUb1JlbmRlci5sZW5ndGg9MCwhMCk6dm9pZCAwfWZ1bmN0aW9uIGhpKHQpe3JldHVybiB0LnJlbmRlcmVkfWZ1bmN0aW9uIGNpKHQpe3QucmViaW5kKFwiXCIsXCJcIil9ZnVuY3Rpb24gbGkodCl7dmFyIGUsbixpO2ZvcihlPVwiXCIsbj0wLGk9dGhpcy5sZW5ndGgsbj0wO2k+bjtuKz0xKWUrPXRoaXMuZnJhZ21lbnRzW25dLnRvU3RyaW5nKHQpO3JldHVybiBlfWZ1bmN0aW9uIGZpKCl7dmFyIHQ9dGhpczt0aGlzLmZyYWdtZW50cy5mb3JFYWNoKFopLHRoaXMuZnJhZ21lbnRzVG9SZW5kZXIuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gSSh0LmZyYWdtZW50cyxlKX0pLHRoaXMuZnJhZ21lbnRzVG9SZW5kZXI9W10sRGQuY2FsbCh0aGlzKSx0aGlzLmxlbmd0aD0wLHRoaXMudW5ib3VuZD0hMH1mdW5jdGlvbiBkaSh0KXt0aGlzLmZyYWdtZW50cy5mb3JFYWNoKHQ/cGk6bWkpLHRoaXMucmVuZGVyZWRGcmFnbWVudHM9W10sdGhpcy5yZW5kZXJlZD0hMX1mdW5jdGlvbiBwaSh0KXt0LnVucmVuZGVyKCEwKX1mdW5jdGlvbiBtaSh0KXt0LnVucmVuZGVyKCExKX1mdW5jdGlvbiB2aSgpe3ZhciB0LGUsbixpLHIscyxvO2ZvcihuPXRoaXMucmVuZGVyZWRGcmFnbWVudHM7dD10aGlzLmZyYWdtZW50c1RvVW5yZW5kZXIucG9wKCk7KXQudW5yZW5kZXIoITApLG4uc3BsaWNlKG4uaW5kZXhPZih0KSwxKTtmb3IoO3Q9dGhpcy5mcmFnbWVudHNUb1JlbmRlci5zaGlmdCgpOyl0LnJlbmRlcigpO2Zvcih0aGlzLnJlbmRlcmVkJiYocj10aGlzLnBhcmVudEZyYWdtZW50LmdldE5vZGUoKSksbz10aGlzLmZyYWdtZW50cy5sZW5ndGgscz0wO28+cztzKz0xKXQ9dGhpcy5mcmFnbWVudHNbc10sZT1uLmluZGV4T2YodCxzKSxlIT09cz8odGhpcy5kb2NGcmFnLmFwcGVuZENoaWxkKHQuZGV0YWNoKCkpLC0xIT09ZSYmbi5zcGxpY2UoZSwxKSxuLnNwbGljZShzLDAsdCkpOnRoaXMuZG9jRnJhZy5jaGlsZE5vZGVzLmxlbmd0aCYmKGk9dC5maXJzdE5vZGUoKSxyLmluc2VydEJlZm9yZSh0aGlzLmRvY0ZyYWcsaSkpO3RoaXMucmVuZGVyZWQmJnRoaXMuZG9jRnJhZy5jaGlsZE5vZGVzLmxlbmd0aCYmKGk9dGhpcy5wYXJlbnRGcmFnbWVudC5maW5kTmV4dE5vZGUodGhpcyksci5pbnNlcnRCZWZvcmUodGhpcy5kb2NGcmFnLGkpKSx0aGlzLnJlbmRlcmVkRnJhZ21lbnRzPXRoaXMuZnJhZ21lbnRzLnNsaWNlKCl9ZnVuY3Rpb24gZ2koKXt2YXIgdCxlO2lmKHRoaXMuZG9jRnJhZyl7Zm9yKHQ9dGhpcy5ub2Rlcy5sZW5ndGgsZT0wO3Q+ZTtlKz0xKXRoaXMuZG9jRnJhZy5hcHBlbmRDaGlsZCh0aGlzLm5vZGVzW2VdKTtyZXR1cm4gdGhpcy5kb2NGcmFnfX1mdW5jdGlvbiB5aSh0KXt2YXIgZSxuLGkscjtmb3Iobj10aGlzLm5vZGVzLmxlbmd0aCxlPTA7bj5lO2UrPTEpaWYoaT10aGlzLm5vZGVzW2VdLDE9PT1pLm5vZGVUeXBlKXtpZihmYShpLHQpKXJldHVybiBpO2lmKHI9aS5xdWVyeVNlbGVjdG9yKHQpKXJldHVybiByfXJldHVybiBudWxsfWZ1bmN0aW9uIGJpKHQsZSl7dmFyIG4saSxyLHMsbyxhO2ZvcihpPXRoaXMubm9kZXMubGVuZ3RoLG49MDtpPm47bis9MSlpZihyPXRoaXMubm9kZXNbbl0sMT09PXIubm9kZVR5cGUmJihmYShyLHQpJiZlLnB1c2gocikscz1yLnF1ZXJ5U2VsZWN0b3JBbGwodCkpKWZvcihvPXMubGVuZ3RoLGE9MDtvPmE7YSs9MSllLnB1c2goc1thXSl9ZnVuY3Rpb24gd2koKXtyZXR1cm4gdGhpcy5yZW5kZXJlZCYmdGhpcy5ub2Rlc1swXT90aGlzLm5vZGVzWzBdOnRoaXMucGFyZW50RnJhZ21lbnQuZmluZE5leHROb2RlKHRoaXMpfWZ1bmN0aW9uIHhpKHQpe3JldHVybiBGcFt0XXx8KEZwW3RdPWxhKHQpKX1mdW5jdGlvbiBraSh0KXt2YXIgZSxuLGk7dCYmXCJzZWxlY3RcIj09PXQubmFtZSYmdC5iaW5kaW5nJiYoZT1MKHQubm9kZS5vcHRpb25zKS5maWx0ZXIoRWkpLHQuZ2V0QXR0cmlidXRlKFwibXVsdGlwbGVcIik/aT1lLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC52YWx1ZX0pOihuPWVbMF0pJiYoaT1uLnZhbHVlKSx2b2lkIDAhPT1pJiZ0LmJpbmRpbmcuc2V0VmFsdWUoaSksdC5idWJibGUoKSl9ZnVuY3Rpb24gRWkodCl7cmV0dXJuIHQuc2VsZWN0ZWR9ZnVuY3Rpb24gX2koKXtpZih0aGlzLnJlbmRlcmVkKXRocm93IG5ldyBFcnJvcihcIkF0dGVtcHRlZCB0byByZW5kZXIgYW4gaXRlbSB0aGF0IHdhcyBhbHJlYWR5IHJlbmRlcmVkXCIpO3JldHVybiB0aGlzLmRvY0ZyYWc9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHRoaXMubm9kZXM9UnAodGhpcy52YWx1ZSx0aGlzLnBhcmVudEZyYWdtZW50LmdldE5vZGUoKSx0aGlzLmRvY0ZyYWcpLGpwKHRoaXMucEVsZW1lbnQpLHRoaXMucmVuZGVyZWQ9ITAsdGhpcy5kb2NGcmFnfWZ1bmN0aW9uIEFpKHQpe3ZhciBlOyhlPXRoaXMucm9vdC52aWV3bW9kZWwud3JhcHBlZFt0aGlzLmtleXBhdGguc3RyXSkmJih0PWUuZ2V0KCkpLHQhPT10aGlzLnZhbHVlJiYodGhpcy52YWx1ZT10LHRoaXMucGFyZW50RnJhZ21lbnQuYnViYmxlKCksdGhpcy5yZW5kZXJlZCYmbXUuYWRkVmlldyh0aGlzKSl9ZnVuY3Rpb24gU2koKXtyZXR1cm4gdm9pZCAwIT10aGlzLnZhbHVlP19lKFwiXCIrdGhpcy52YWx1ZSk6XCJcIn1mdW5jdGlvbiBDaSh0KXt0aGlzLnJlbmRlcmVkJiZ0JiYodGhpcy5ub2Rlcy5mb3JFYWNoKGUpLHRoaXMucmVuZGVyZWQ9ITEpfWZ1bmN0aW9uIE9pKCl7dmFyIHQsZTtpZih0aGlzLnJlbmRlcmVkKXtmb3IoO3RoaXMubm9kZXMmJnRoaXMubm9kZXMubGVuZ3RoOyl0PXRoaXMubm9kZXMucG9wKCksdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpO2U9dGhpcy5wYXJlbnRGcmFnbWVudC5nZXROb2RlKCksdGhpcy5ub2Rlcz1ScCh0aGlzLnZhbHVlLGUsdGhpcy5kb2NGcmFnKSxlLmluc2VydEJlZm9yZSh0aGlzLmRvY0ZyYWcsdGhpcy5wYXJlbnRGcmFnbWVudC5maW5kTmV4dE5vZGUodGhpcykpLGpwKHRoaXMucEVsZW1lbnQpfX1mdW5jdGlvbiBQaSgpe3ZhciB0LGU9dGhpcy5ub2RlO3JldHVybiBlPygodD1lLnBhcmVudE5vZGUpJiZ0LnJlbW92ZUNoaWxkKGUpLGUpOnZvaWQgMH1mdW5jdGlvbiBUaSgpe3JldHVybiBudWxsfWZ1bmN0aW9uIEZpKCl7cmV0dXJuIHRoaXMubm9kZX1mdW5jdGlvbiBSaSh0KXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzJiZ0aGlzLmF0dHJpYnV0ZXNbdF0/dGhpcy5hdHRyaWJ1dGVzW3RdLnZhbHVlOnZvaWQgMH1mdW5jdGlvbiBqaSgpe3ZhciB0PXRoaXMudXNlUHJvcGVydHl8fCF0aGlzLnJlbmRlcmVkP3RoaXMuZnJhZ21lbnQuZ2V0VmFsdWUoKTp0aGlzLmZyYWdtZW50LnRvU3RyaW5nKCk7YSh0LHRoaXMudmFsdWUpfHwoXCJpZFwiPT09dGhpcy5uYW1lJiZ0aGlzLnZhbHVlJiZkZWxldGUgdGhpcy5yb290Lm5vZGVzW3RoaXMudmFsdWVdLHRoaXMudmFsdWU9dCxcInZhbHVlXCI9PT10aGlzLm5hbWUmJnRoaXMubm9kZSYmKHRoaXMubm9kZS5fcmFjdGl2ZS52YWx1ZT10KSx0aGlzLnJlbmRlcmVkJiZtdS5hZGRWaWV3KHRoaXMpKX1mdW5jdGlvbiBOaSh0KXt2YXIgZT10LmZyYWdtZW50Lml0ZW1zO2lmKDE9PT1lLmxlbmd0aClyZXR1cm4gZVswXS50eXBlPT09SGg/ZVswXTp2b2lkIDB9ZnVuY3Rpb24gRGkodCl7cmV0dXJuIHRoaXMudHlwZT1pYyx0aGlzLmVsZW1lbnQ9dC5lbGVtZW50LHRoaXMucm9vdD10LnJvb3Qsc20odGhpcyx0Lm5hbWUpLHRoaXMuaXNCb29sZWFuPXlsLnRlc3QodGhpcy5uYW1lKSx0LnZhbHVlJiZcInN0cmluZ1wiIT10eXBlb2YgdC52YWx1ZT8odGhpcy5wYXJlbnRGcmFnbWVudD10aGlzLmVsZW1lbnQucGFyZW50RnJhZ21lbnQsdGhpcy5mcmFnbWVudD1uZXcgeWIoe3RlbXBsYXRlOnQudmFsdWUscm9vdDp0aGlzLnJvb3Qsb3duZXI6dGhpc30pLHRoaXMudmFsdWU9dGhpcy5mcmFnbWVudC5nZXRWYWx1ZSgpLHRoaXMuaW50ZXJwb2xhdG9yPW9tKHRoaXMpLHRoaXMuaXNCaW5kYWJsZT0hIXRoaXMuaW50ZXJwb2xhdG9yJiYhdGhpcy5pbnRlcnBvbGF0b3IuaXNTdGF0aWMsdm9pZCh0aGlzLnJlYWR5PSEwKSk6dm9pZCh0aGlzLnZhbHVlPXRoaXMuaXNCb29sZWFuPyEwOnQudmFsdWV8fFwiXCIpfWZ1bmN0aW9uIElpKHQsZSl7dGhpcy5mcmFnbWVudCYmdGhpcy5mcmFnbWVudC5yZWJpbmQodCxlKX1mdW5jdGlvbiBMaSh0KXt2YXIgZTt0aGlzLm5vZGU9dCx0Lm5hbWVzcGFjZVVSSSYmdC5uYW1lc3BhY2VVUkkhPT1pYS5odG1sfHwoZT1jbVt0aGlzLm5hbWVdfHx0aGlzLm5hbWUsdm9pZCAwIT09dFtlXSYmKHRoaXMucHJvcGVydHlOYW1lPWUpLCh0aGlzLmlzQm9vbGVhbnx8dGhpcy5pc1R3b3dheSkmJih0aGlzLnVzZVByb3BlcnR5PSEwKSxcInZhbHVlXCI9PT1lJiYodC5fcmFjdGl2ZS52YWx1ZT10aGlzLnZhbHVlKSksdGhpcy5yZW5kZXJlZD0hMCx0aGlzLnVwZGF0ZSgpfWZ1bmN0aW9uIFZpKCl7dmFyIHQ9dGhpcyxlPXQubmFtZSxuPXQubmFtZXNwYWNlUHJlZml4LGk9dC52YWx1ZSxyPXQuaW50ZXJwb2xhdG9yLHM9dC5mcmFnbWVudDtpZigoXCJ2YWx1ZVwiIT09ZXx8XCJzZWxlY3RcIiE9PXRoaXMuZWxlbWVudC5uYW1lJiZcInRleHRhcmVhXCIhPT10aGlzLmVsZW1lbnQubmFtZSkmJihcInZhbHVlXCIhPT1lfHx2b2lkIDA9PT10aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKSl7aWYoXCJuYW1lXCI9PT1lJiZcImlucHV0XCI9PT10aGlzLmVsZW1lbnQubmFtZSYmcilyZXR1cm5cIm5hbWU9e3tcIisoci5rZXlwYXRoLnN0cnx8ci5yZWYpK1wifX1cIjtpZih0aGlzLmlzQm9vbGVhbilyZXR1cm4gaT9lOlwiXCI7aWYocyl7aWYoMT09PXMuaXRlbXMubGVuZ3RoJiZudWxsPT1zLml0ZW1zWzBdLnZhbHVlKXJldHVyblwiXCI7aT1zLnRvU3RyaW5nKCl9cmV0dXJuIG4mJihlPW4rXCI6XCIrZSksaT9lKyc9XCInK01pKGkpKydcIic6ZX19ZnVuY3Rpb24gTWkodCl7cmV0dXJuIHQucmVwbGFjZSgvJi9nLFwiJmFtcDtcIikucmVwbGFjZSgvXCIvZyxcIiZxdW90O1wiKS5yZXBsYWNlKC8nL2csXCImIzM5O1wiKX1mdW5jdGlvbiBVaSgpe3RoaXMuZnJhZ21lbnQmJnRoaXMuZnJhZ21lbnQudW5iaW5kKCksXCJpZFwiPT09dGhpcy5uYW1lJiZkZWxldGUgdGhpcy5yb290Lm5vZGVzW3RoaXMudmFsdWVdfWZ1bmN0aW9uIFdpKCl7dmFyIHQsZSxuLGkscj10aGlzLnZhbHVlO2lmKCF0aGlzLmxvY2tlZClmb3IodGhpcy5ub2RlLl9yYWN0aXZlLnZhbHVlPXIsdD10aGlzLm5vZGUub3B0aW9ucyxpPXQubGVuZ3RoO2ktLTspaWYoZT10W2ldLG49ZS5fcmFjdGl2ZT9lLl9yYWN0aXZlLnZhbHVlOmUudmFsdWUsbj09cil7ZS5zZWxlY3RlZD0hMDticmVha319ZnVuY3Rpb24gemkoKXt2YXIgdCxlLG4saSxyPXRoaXMudmFsdWU7Zm9yKHMocil8fChyPVtyXSksdD10aGlzLm5vZGUub3B0aW9ucyxlPXQubGVuZ3RoO2UtLTspbj10W2VdLGk9bi5fcmFjdGl2ZT9uLl9yYWN0aXZlLnZhbHVlOm4udmFsdWUsbi5zZWxlY3RlZD1SKHIsaSl9ZnVuY3Rpb24gQmkoKXt2YXIgdD10aGlzLGU9dC5ub2RlLG49dC52YWx1ZTtlLmNoZWNrZWQ9bj09ZS5fcmFjdGl2ZS52YWx1ZX1mdW5jdGlvbiBxaSgpe3ZhciB0LGUsbixpLHI9dGhpcy5ub2RlO2lmKHQ9ci5jaGVja2VkLHIudmFsdWU9dGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcInZhbHVlXCIpLHIuY2hlY2tlZD10aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwidmFsdWVcIik9PT10aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwibmFtZVwiKSx0JiYhci5jaGVja2VkJiZ0aGlzLmVsZW1lbnQuYmluZGluZyYmKG49dGhpcy5lbGVtZW50LmJpbmRpbmcuc2libGluZ3MsaT1uLmxlbmd0aCkpe2Zvcig7aS0tOyl7aWYoZT1uW2ldLCFlLmVsZW1lbnQubm9kZSlyZXR1cm47aWYoZS5lbGVtZW50Lm5vZGUuY2hlY2tlZClyZXR1cm4gbXUuYWRkUmFjdGl2ZShlLnJvb3QpLGUuaGFuZGxlQ2hhbmdlKCl9dGhpcy5yb290LnZpZXdtb2RlbC5zZXQoZS5rZXlwYXRoLHZvaWQgMCl9fWZ1bmN0aW9uICRpKCl7dmFyIHQsZSxuPXRoaXMsaT1uLmVsZW1lbnQscj1uLm5vZGUsbz1uLnZhbHVlLGE9aS5iaW5kaW5nO2lmKHQ9aS5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSxzKG8pKXtmb3IoZT1vLmxlbmd0aDtlLS07KWlmKHQ9PW9bZV0pcmV0dXJuIHZvaWQoYS5pc0NoZWNrZWQ9ci5jaGVja2VkPSEwKTthLmlzQ2hlY2tlZD1yLmNoZWNrZWQ9ITF9ZWxzZSBhLmlzQ2hlY2tlZD1yLmNoZWNrZWQ9bz09dH1mdW5jdGlvbiBRaSgpe3RoaXMubm9kZS5jbGFzc05hbWU9bih0aGlzLnZhbHVlKX1mdW5jdGlvbiBaaSgpe3ZhciB0PXRoaXMsZT10Lm5vZGUsbj10LnZhbHVlO3RoaXMucm9vdC5ub2Rlc1tuXT1lLGUuaWQ9bn1mdW5jdGlvbiBIaSgpe3ZhciB0LGU7dD10aGlzLm5vZGUsZT10aGlzLnZhbHVlLHZvaWQgMD09PWUmJihlPVwiXCIpLHQuc3R5bGUuc2V0QXR0cmlidXRlKFwiY3NzVGV4dFwiLGUpfWZ1bmN0aW9uIEtpKCl7dmFyIHQ9dGhpcy52YWx1ZTt2b2lkIDA9PT10JiYodD1cIlwiKSx0aGlzLmxvY2tlZHx8KHRoaXMubm9kZS5pbm5lckhUTUw9dCl9ZnVuY3Rpb24gR2koKXt2YXIgdD10aGlzLGU9dC5ub2RlLG49dC52YWx1ZTtlLl9yYWN0aXZlLnZhbHVlPW4sdGhpcy5sb2NrZWR8fChlLnZhbHVlPXZvaWQgMD09bj9cIlwiOm4pfWZ1bmN0aW9uIFlpKCl7dGhpcy5sb2NrZWR8fCh0aGlzLm5vZGVbdGhpcy5wcm9wZXJ0eU5hbWVdPXRoaXMudmFsdWUpfWZ1bmN0aW9uIEppKCl7dmFyIHQ9dGhpcyxlPXQubm9kZSxuPXQubmFtZXNwYWNlLGk9dC5uYW1lLHI9dC52YWx1ZSxzPXQuZnJhZ21lbnQ7bj9lLnNldEF0dHJpYnV0ZU5TKG4saSwoc3x8cikudG9TdHJpbmcoKSk6dGhpcy5pc0Jvb2xlYW4/cj9lLnNldEF0dHJpYnV0ZShpLFwiXCIpOmUucmVtb3ZlQXR0cmlidXRlKGkpOm51bGw9PXI/ZS5yZW1vdmVBdHRyaWJ1dGUoaSk6ZS5zZXRBdHRyaWJ1dGUoaSwoc3x8cikudG9TdHJpbmcoKSl9ZnVuY3Rpb24gWGkoKXt2YXIgdCxlLG49dGhpcyxpPW4ubmFtZSxyPW4uZWxlbWVudCxzPW4ubm9kZTtcImlkXCI9PT1pP2U9Ym06XCJ2YWx1ZVwiPT09aT9cInNlbGVjdFwiPT09ci5uYW1lJiZcInZhbHVlXCI9PT1pP2U9ci5nZXRBdHRyaWJ1dGUoXCJtdWx0aXBsZVwiKT9wbTpkbTpcInRleHRhcmVhXCI9PT1yLm5hbWU/ZT1rbTpudWxsIT1yLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKT9lPXhtOlwiaW5wdXRcIj09PXIubmFtZSYmKHQ9ci5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpLGU9XCJmaWxlXCI9PT10P0ZhOlwicmFkaW9cIj09PXQmJnIuYmluZGluZyYmXCJuYW1lXCI9PT1yLmJpbmRpbmcubmFtZT92bTprbSk6dGhpcy5pc1R3b3dheSYmXCJuYW1lXCI9PT1pP1wicmFkaW9cIj09PXMudHlwZT9lPW1tOlwiY2hlY2tib3hcIj09PXMudHlwZSYmKGU9Z20pOlwic3R5bGVcIj09PWkmJnMuc3R5bGUuc2V0QXR0cmlidXRlP2U9d206XCJjbGFzc1wiIT09aXx8cy5uYW1lc3BhY2VVUkkmJnMubmFtZXNwYWNlVVJJIT09aWEuaHRtbD90aGlzLnVzZVByb3BlcnR5JiYoZT1FbSk6ZT15bSxlfHwoZT1fbSksdGhpcy51cGRhdGU9ZSx0aGlzLnVwZGF0ZSgpfWZ1bmN0aW9uIHRyKHQsZSl7dmFyIG49ZT9cInN2Z1wiOlwiZGl2XCI7cmV0dXJuIENtLmlubmVySFRNTD1cIjxcIituK1wiIFwiK3QrXCI+PC9cIituK1wiPlwiLEwoQ20uY2hpbGROb2Rlc1swXS5hdHRyaWJ1dGVzKX1mdW5jdGlvbiBlcih0LGUpe2Zvcih2YXIgbj10Lmxlbmd0aDtuLS07KWlmKHRbbl0ubmFtZT09PWUubmFtZSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBucih0KXtmb3IoO3Q9dC5wYXJlbnQ7KWlmKFwiZm9ybVwiPT09dC5uYW1lKXJldHVybiB0fWZ1bmN0aW9uIGlyKCl7dGhpcy5fcmFjdGl2ZS5iaW5kaW5nLmhhbmRsZUNoYW5nZSgpfWZ1bmN0aW9uIHJyKCl7dmFyIHQ7SW0uY2FsbCh0aGlzKSx0PXRoaXMuX3JhY3RpdmUucm9vdC52aWV3bW9kZWwuZ2V0KHRoaXMuX3JhY3RpdmUuYmluZGluZy5rZXlwYXRoKSx0aGlzLnZhbHVlPXZvaWQgMD09dD9cIlwiOnR9ZnVuY3Rpb24gc3IoKXt2YXIgdD10aGlzLl9yYWN0aXZlLmJpbmRpbmcsZT10aGlzO3QuX3RpbWVvdXQmJmNsZWFyVGltZW91dCh0Ll90aW1lb3V0KSx0Ll90aW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LnJlbmRlcmVkJiZJbS5jYWxsKGUpLHQuX3RpbWVvdXQ9dm9pZCAwfSx0LmVsZW1lbnQubGF6eSl9ZnVuY3Rpb24gb3IodCxlLG4pe3ZhciBpPXQrZStuO3JldHVybiBXbVtpXXx8KFdtW2ldPVtdKX1mdW5jdGlvbiBhcih0KXtyZXR1cm4gdC5pc0NoZWNrZWR9ZnVuY3Rpb24gdXIodCl7cmV0dXJuIHQuZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKX1mdW5jdGlvbiBocih0KXt2YXIgZSxuLGkscixzLG89dC5hdHRyaWJ1dGVzO3JldHVybiB0LmJpbmRpbmcmJih0LmJpbmRpbmcudGVhcmRvd24oKSx0LmJpbmRpbmc9bnVsbCksKHQuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpfHxvLmNvbnRlbnRlZGl0YWJsZSYmY3Ioby5jb250ZW50ZWRpdGFibGUpKSYmY3Ioby52YWx1ZSk/bj1NbTpcImlucHV0XCI9PT10Lm5hbWU/KGU9dC5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpLFwicmFkaW9cIj09PWV8fFwiY2hlY2tib3hcIj09PWU/KGk9Y3Ioby5uYW1lKSxyPWNyKG8uY2hlY2tlZCksaSYmciYmbShcIkEgcmFkaW8gaW5wdXQgY2FuIGhhdmUgdHdvLXdheSBiaW5kaW5nIG9uIGl0cyBuYW1lIGF0dHJpYnV0ZSwgb3IgaXRzIGNoZWNrZWQgYXR0cmlidXRlIC0gbm90IGJvdGhcIix7cmFjdGl2ZTp0LnJvb3R9KSxpP249XCJyYWRpb1wiPT09ZT8kbTpabTpyJiYobj1cInJhZGlvXCI9PT1lP0JtOkttKSk6XCJmaWxlXCI9PT1lJiZjcihvLnZhbHVlKT9uPWV2OmNyKG8udmFsdWUpJiYobj1cIm51bWJlclwiPT09ZXx8XCJyYW5nZVwiPT09ZT9udjpMbSkpOlwic2VsZWN0XCI9PT10Lm5hbWUmJmNyKG8udmFsdWUpP249dC5nZXRBdHRyaWJ1dGUoXCJtdWx0aXBsZVwiKT9YbTpZbTpcInRleHRhcmVhXCI9PT10Lm5hbWUmJmNyKG8udmFsdWUpJiYobj1MbSksbiYmKHM9bmV3IG4odCkpJiZzLmtleXBhdGg/czp2b2lkIDB9ZnVuY3Rpb24gY3IodCl7cmV0dXJuIHQmJnQuaXNCaW5kYWJsZX1mdW5jdGlvbiBscigpe3ZhciB0PXRoaXMuZ2V0QWN0aW9uKCk7dCYmIXRoaXMuaGFzTGlzdGVuZXI/dGhpcy5saXN0ZW4oKTohdCYmdGhpcy5oYXNMaXN0ZW5lciYmdGhpcy51bnJlbmRlcigpfWZ1bmN0aW9uIGZyKHQpe1d1KHRoaXMucm9vdCx0aGlzLmdldEFjdGlvbigpLHtldmVudDp0fSl9ZnVuY3Rpb24gZHIoKXtyZXR1cm4gdGhpcy5hY3Rpb24udG9TdHJpbmcoKS50cmltKCl9ZnVuY3Rpb24gcHIodCxlLG4pe3ZhciBpLHIscyxvPXRoaXM7dGhpcy5lbGVtZW50PXQsdGhpcy5yb290PXQucm9vdCx0aGlzLnBhcmVudEZyYWdtZW50PXQucGFyZW50RnJhZ21lbnQsdGhpcy5uYW1lPWUsLTEhPT1lLmluZGV4T2YoXCIqXCIpJiYobCgnT25seSBjb21wb25lbnQgcHJveHktZXZlbnRzIG1heSBjb250YWluIFwiKlwiIHdpbGRjYXJkcywgPCVzIG9uLSVzPVwiLi4uXCIvPiBpcyBub3QgdmFsaWQnLHQubmFtZSxlKSx0aGlzLmludmFsaWQ9ITApLG4ubT8ocj1uLmEucix0aGlzLm1ldGhvZD1uLm0sdGhpcy5rZXlwYXRocz1bXSx0aGlzLmZuPVpkKG4uYS5zLHIubGVuZ3RoKSx0aGlzLnBhcmVudEZyYWdtZW50PXQucGFyZW50RnJhZ21lbnQscz10aGlzLnJvb3QsdGhpcy5yZWZSZXNvbHZlcnM9W10sci5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7dmFyIG49dm9pZCAwOyhuPXV2LmV4ZWModCkpP28ua2V5cGF0aHNbZV09e2V2ZW50T2JqZWN0OiEwLHJlZmluZW1lbnRzOm5bMV0/blsxXS5zcGxpdChcIi5cIik6W119Om8ucmVmUmVzb2x2ZXJzLnB1c2goUWQobyx0LGZ1bmN0aW9uKHQpe3JldHVybiBvLnJlc29sdmUoZSx0KX0pKX0pLHRoaXMuZmlyZT1tcik6KGk9bi5ufHxuLFwic3RyaW5nXCIhPXR5cGVvZiBpJiYoaT1uZXcgeWIoe3RlbXBsYXRlOmkscm9vdDp0aGlzLnJvb3Qsb3duZXI6dGhpc30pKSx0aGlzLmFjdGlvbj1pLG4uZD8odGhpcy5keW5hbWljUGFyYW1zPW5ldyB5Yih7dGVtcGxhdGU6bi5kLHJvb3Q6dGhpcy5yb290LG93bmVyOnRoaXMuZWxlbWVudH0pLHRoaXMuZmlyZT1ncik6bi5hJiYodGhpcy5wYXJhbXM9bi5hLHRoaXMuZmlyZT12cikpfWZ1bmN0aW9uIG1yKHQpe3ZhciBlLG4saTtpZihlPXRoaXMucm9vdCxcImZ1bmN0aW9uXCIhPXR5cGVvZiBlW3RoaXMubWV0aG9kXSl0aHJvdyBuZXcgRXJyb3IoJ0F0dGVtcHRlZCB0byBjYWxsIGEgbm9uLWV4aXN0ZW50IG1ldGhvZCAoXCInK3RoaXMubWV0aG9kKydcIiknKTtuPXRoaXMua2V5cGF0aHMubWFwKGZ1bmN0aW9uKG4pe3ZhciBpLHIscztpZih2b2lkIDA9PT1uKXJldHVybiB2b2lkIDA7aWYobi5ldmVudE9iamVjdCl7aWYoaT10LHI9bi5yZWZpbmVtZW50cy5sZW5ndGgpZm9yKHM9MDtyPnM7cys9MSlpPWlbbi5yZWZpbmVtZW50c1tzXV19ZWxzZSBpPWUudmlld21vZGVsLmdldChuKTtyZXR1cm4gaX0pLFV1LmVucXVldWUoZSx0KSxpPXRoaXMuZm4uYXBwbHkobnVsbCxuKSxlW3RoaXMubWV0aG9kXS5hcHBseShlLGkpLFV1LmRlcXVldWUoZSl9ZnVuY3Rpb24gdnIodCl7V3UodGhpcy5yb290LHRoaXMuZ2V0QWN0aW9uKCkse2V2ZW50OnQsYXJnczp0aGlzLnBhcmFtc30pfWZ1bmN0aW9uIGdyKHQpe3ZhciBlPXRoaXMuZHluYW1pY1BhcmFtcy5nZXRBcmdzTGlzdCgpO1wic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1lLnN1YnN0cigxLGUubGVuZ3RoLTIpKSxXdSh0aGlzLnJvb3QsdGhpcy5nZXRBY3Rpb24oKSx7ZXZlbnQ6dCxhcmdzOmV9KX1mdW5jdGlvbiB5cih0KXt2YXIgZSxuLGkscj17fTtlPXRoaXMuX3JhY3RpdmUsbj1lLmV2ZW50c1t0LnR5cGVdLChpPXFkKG4uZWxlbWVudC5wYXJlbnRGcmFnbWVudCkpJiYocj1xZC5yZXNvbHZlKGkpKSxuLmZpcmUoe25vZGU6dGhpcyxvcmlnaW5hbDp0LGluZGV4OnIsa2V5cGF0aDplLmtleXBhdGguc3RyLGNvbnRleHQ6ZS5yb290LnZpZXdtb2RlbC5nZXQoZS5rZXlwYXRoKX0pfWZ1bmN0aW9uIGJyKCl7dmFyIHQsZT10aGlzLm5hbWU7aWYoIXRoaXMuaW52YWxpZCl7aWYodD1nKFwiZXZlbnRzXCIsdGhpcy5yb290LGUpKXRoaXMuY3VzdG9tPXQodGhpcy5ub2RlLHdyKGUpKTtlbHNle2lmKCEoXCJvblwiK2UgaW4gdGhpcy5ub2RlfHx3aW5kb3cmJlwib25cIitlIGluIHdpbmRvd3x8dGEpKXJldHVybiB2b2lkKGZ2W2VdfHx2KERhKGUsXCJldmVudFwiKSx7bm9kZTp0aGlzLm5vZGV9KSk7dGhpcy5ub2RlLmFkZEV2ZW50TGlzdGVuZXIoZSxodiwhMSl9dGhpcy5oYXNMaXN0ZW5lcj0hMH19ZnVuY3Rpb24gd3IodCl7cmV0dXJuIGx2W3RdfHwobHZbdF09ZnVuY3Rpb24oZSl7dmFyIG49ZS5ub2RlLl9yYWN0aXZlO2UuaW5kZXg9bi5pbmRleCxlLmtleXBhdGg9bi5rZXlwYXRoLnN0cixlLmNvbnRleHQ9bi5yb290LnZpZXdtb2RlbC5nZXQobi5rZXlwYXRoKSxuLmV2ZW50c1t0XS5maXJlKGUpfSksbHZbdF19ZnVuY3Rpb24geHIodCxlKXtmdW5jdGlvbiBuKG4pe24mJm4ucmViaW5kKHQsZSl9dmFyIGk7cmV0dXJuIHRoaXMubWV0aG9kPyhpPXRoaXMuZWxlbWVudC5wYXJlbnRGcmFnbWVudCx2b2lkIHRoaXMucmVmUmVzb2x2ZXJzLmZvckVhY2gobikpOihcInN0cmluZ1wiIT10eXBlb2YgdGhpcy5hY3Rpb24mJm4odGhpcy5hY3Rpb24pLHZvaWQodGhpcy5keW5hbWljUGFyYW1zJiZuKHRoaXMuZHluYW1pY1BhcmFtcykpKX1mdW5jdGlvbiBrcigpe3RoaXMubm9kZT10aGlzLmVsZW1lbnQubm9kZSx0aGlzLm5vZGUuX3JhY3RpdmUuZXZlbnRzW3RoaXMubmFtZV09dGhpcywodGhpcy5tZXRob2R8fHRoaXMuZ2V0QWN0aW9uKCkpJiZ0aGlzLmxpc3RlbigpfWZ1bmN0aW9uIEVyKHQsZSl7dGhpcy5rZXlwYXRoc1t0XT1lfWZ1bmN0aW9uIF9yKCl7cmV0dXJuIHRoaXMubWV0aG9kP3ZvaWQgdGhpcy5yZWZSZXNvbHZlcnMuZm9yRWFjaChaKTooXCJzdHJpbmdcIiE9dHlwZW9mIHRoaXMuYWN0aW9uJiZ0aGlzLmFjdGlvbi51bmJpbmQoKSx2b2lkKHRoaXMuZHluYW1pY1BhcmFtcyYmdGhpcy5keW5hbWljUGFyYW1zLnVuYmluZCgpKSl9ZnVuY3Rpb24gQXIoKXt0aGlzLmN1c3RvbT90aGlzLmN1c3RvbS50ZWFyZG93bigpOnRoaXMubm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMubmFtZSxodiwhMSksdGhpcy5oYXNMaXN0ZW5lcj0hMX1mdW5jdGlvbiBTcigpe3ZhciB0PXRoaXM7dGhpcy5kaXJ0eXx8KHRoaXMuZGlydHk9ITAsbXUuc2NoZWR1bGVUYXNrKGZ1bmN0aW9uKCl7Q3IodCksdC5kaXJ0eT0hMX0pKSx0aGlzLnBhcmVudEZyYWdtZW50LmJ1YmJsZSgpfWZ1bmN0aW9uIENyKHQpe3ZhciBlLG4saSxyLHM7ZT10Lm5vZGUsZSYmKHI9TChlLm9wdGlvbnMpLG49dC5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSxpPXQuZ2V0QXR0cmlidXRlKFwibXVsdGlwbGVcIiksdm9pZCAwIT09bj8oci5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlLHI7ZT10Ll9yYWN0aXZlP3QuX3JhY3RpdmUudmFsdWU6dC52YWx1ZSxyPWk/T3IobixlKTpuPT1lLHImJihzPSEwKSx0LnNlbGVjdGVkPXJ9KSxzfHwoclswXSYmKHJbMF0uc2VsZWN0ZWQ9ITApLHQuYmluZGluZyYmdC5iaW5kaW5nLmZvcmNlVXBkYXRlKCkpKTp0LmJpbmRpbmcmJnQuYmluZGluZy5mb3JjZVVwZGF0ZSgpKX1mdW5jdGlvbiBPcih0LGUpe2Zvcih2YXIgbj10Lmxlbmd0aDtuLS07KWlmKHRbbl09PWUpcmV0dXJuITB9ZnVuY3Rpb24gUHIodCxlKXt0LnNlbGVjdD1Gcih0LnBhcmVudCksdC5zZWxlY3QmJih0LnNlbGVjdC5vcHRpb25zLnB1c2godCksZS5hfHwoZS5hPXt9KSx2b2lkIDAhPT1lLmEudmFsdWV8fGUuYS5oYXNPd25Qcm9wZXJ0eShcImRpc2FibGVkXCIpfHwoZS5hLnZhbHVlPWUuZiksXCJzZWxlY3RlZFwiaW4gZS5hJiZ2b2lkIDAhPT10LnNlbGVjdC5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSYmZGVsZXRlIGUuYS5zZWxlY3RlZCl9ZnVuY3Rpb24gVHIodCl7dC5zZWxlY3QmJkkodC5zZWxlY3Qub3B0aW9ucyx0KX1mdW5jdGlvbiBGcih0KXtpZih0KWRvIGlmKFwic2VsZWN0XCI9PT10Lm5hbWUpcmV0dXJuIHQ7d2hpbGUodD10LnBhcmVudCl9ZnVuY3Rpb24gUnIodCl7dmFyIGUsbixpLHIscyxvLGE7dGhpcy50eXBlPVhoLGU9dGhpcy5wYXJlbnRGcmFnbWVudD10LnBhcmVudEZyYWdtZW50LG49dGhpcy50ZW1wbGF0ZT10LnRlbXBsYXRlLHRoaXMucGFyZW50PXQucEVsZW1lbnR8fGUucEVsZW1lbnQsdGhpcy5yb290PWk9ZS5yb290LHRoaXMuaW5kZXg9dC5pbmRleCx0aGlzLmtleT10LmtleSx0aGlzLm5hbWU9cm0obi5lKSxcIm9wdGlvblwiPT09dGhpcy5uYW1lJiZQcih0aGlzLG4pLFwic2VsZWN0XCI9PT10aGlzLm5hbWUmJih0aGlzLm9wdGlvbnM9W10sdGhpcy5idWJibGU9U3IpLFwiZm9ybVwiPT09dGhpcy5uYW1lJiYodGhpcy5mb3JtQmluZGluZ3M9W10pLGE9bm0odGhpcyxuKSx0aGlzLmF0dHJpYnV0ZXM9UG0odGhpcyxuLmEpLHRoaXMuY29uZGl0aW9uYWxBdHRyaWJ1dGVzPVJtKHRoaXMsbi5tKSxuLmYmJih0aGlzLmZyYWdtZW50PW5ldyB5Yih7dGVtcGxhdGU6bi5mLHJvb3Q6aSxvd25lcjp0aGlzLHBFbGVtZW50OnRoaXMsY3NzSWRzOm51bGx9KSksbz1pLnR3b3dheSxhLnR3b3dheT09PSExP289ITE6YS50d293YXk9PT0hMCYmKG89ITApLHRoaXMudHdvd2F5PW8sdGhpcy5sYXp5PWEubGF6eSxvJiYocj1pdih0aGlzLG4uYSkpJiYodGhpcy5iaW5kaW5nPXIscz10aGlzLnJvb3QuX3R3b3dheUJpbmRpbmdzW3Iua2V5cGF0aC5zdHJdfHwodGhpcy5yb290Ll90d293YXlCaW5kaW5nc1tyLmtleXBhdGguc3RyXT1bXSkscy5wdXNoKHIpKSxuLnYmJih0aGlzLmV2ZW50SGFuZGxlcnM9d3YodGhpcyxuLnYpKSxuLm8mJih0aGlzLmRlY29yYXRvcj1uZXcgQXYodGhpcyxuLm8pKSx0aGlzLmludHJvPW4udDB8fG4udDEsdGhpcy5vdXRybz1uLnQwfHxuLnQyfWZ1bmN0aW9uIGpyKHQsZSl7ZnVuY3Rpb24gbihuKXtuLnJlYmluZCh0LGUpfXZhciBpLHIscyxvO2lmKHRoaXMuYXR0cmlidXRlcyYmdGhpcy5hdHRyaWJ1dGVzLmZvckVhY2gobiksdGhpcy5jb25kaXRpb25hbEF0dHJpYnV0ZXMmJnRoaXMuY29uZGl0aW9uYWxBdHRyaWJ1dGVzLmZvckVhY2gobiksdGhpcy5ldmVudEhhbmRsZXJzJiZ0aGlzLmV2ZW50SGFuZGxlcnMuZm9yRWFjaChuKSx0aGlzLmRlY29yYXRvciYmbih0aGlzLmRlY29yYXRvciksdGhpcy5mcmFnbWVudCYmbih0aGlzLmZyYWdtZW50KSxzPXRoaXMubGl2ZVF1ZXJpZXMpZm9yKG89dGhpcy5yb290LGk9cy5sZW5ndGg7aS0tOylzW2ldLl9tYWtlRGlydHkoKTt0aGlzLm5vZGUmJihyPXRoaXMubm9kZS5fcmFjdGl2ZSkmJmsocixcImtleXBhdGhcIix0LGUpfWZ1bmN0aW9uIE5yKHQpe3ZhciBlOyh0LmF0dHJpYnV0ZXMud2lkdGh8fHQuYXR0cmlidXRlcy5oZWlnaHQpJiZ0Lm5vZGUuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixlPWZ1bmN0aW9uKCl7dmFyIG49dC5nZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiKSxpPXQuZ2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIpO3ZvaWQgMCE9PW4mJnQubm9kZS5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLG4pLHZvaWQgMCE9PWkmJnQubm9kZS5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixpKSx0Lm5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIixlLCExKX0sITEpfWZ1bmN0aW9uIERyKHQpe3Qubm9kZS5hZGRFdmVudExpc3RlbmVyKFwicmVzZXRcIixMciwhMSl9ZnVuY3Rpb24gSXIodCl7dC5ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNldFwiLExyLCExKX1mdW5jdGlvbiBMcigpe3ZhciB0PXRoaXMuX3JhY3RpdmUucHJveHk7bXUuc3RhcnQoKSx0LmZvcm1CaW5kaW5ncy5mb3JFYWNoKFZyKSxtdS5lbmQoKX1mdW5jdGlvbiBWcih0KXt0LnJvb3Qudmlld21vZGVsLnNldCh0LmtleXBhdGgsdC5yZXNldFZhbHVlKX1mdW5jdGlvbiBNcih0LGUsbil7dmFyIGkscixzO3RoaXMuZWxlbWVudD10LHRoaXMucm9vdD1pPXQucm9vdCx0aGlzLmlzSW50cm89bixyPWUubnx8ZSwoXCJzdHJpbmdcIj09dHlwZW9mIHJ8fChzPW5ldyB5Yih7dGVtcGxhdGU6cixyb290Omksb3duZXI6dH0pLHI9cy50b1N0cmluZygpLHMudW5iaW5kKCksXCJcIiE9PXIpKSYmKHRoaXMubmFtZT1yLGUuYT90aGlzLnBhcmFtcz1lLmE6ZS5kJiYocz1uZXcgeWIoe3RlbXBsYXRlOmUuZCxyb290Omksb3duZXI6dH0pLHRoaXMucGFyYW1zPXMuZ2V0QXJnc0xpc3QoKSxzLnVuYmluZCgpKSx0aGlzLl9mbj1nKFwidHJhbnNpdGlvbnNcIixpLHIpLHRoaXMuX2ZufHx2KERhKHIsXCJ0cmFuc2l0aW9uXCIpLHtyYWN0aXZlOnRoaXMucm9vdH0pKX1mdW5jdGlvbiBVcih0KXtyZXR1cm4gdH1mdW5jdGlvbiBXcigpe2VnLmhpZGRlbj1kb2N1bWVudFtZdl19ZnVuY3Rpb24genIoKXtlZy5oaWRkZW49ITB9ZnVuY3Rpb24gQnIoKXtlZy5oaWRkZW49ITF9ZnVuY3Rpb24gcXIoKXt2YXIgdCxlLG4saT10aGlzO3JldHVybiB0PXRoaXMubm9kZT10aGlzLmVsZW1lbnQubm9kZSxlPXQuZ2V0QXR0cmlidXRlKFwic3R5bGVcIiksdGhpcy5jb21wbGV0ZT1mdW5jdGlvbihyKXtufHwoIXImJmkuaXNJbnRybyYmJHIodCxlKSx0Ll9yYWN0aXZlLnRyYW5zaXRpb249bnVsbCxpLl9tYW5hZ2VyLnJlbW92ZShpKSxuPSEwKX0sdGhpcy5fZm4/dm9pZCB0aGlzLl9mbi5hcHBseSh0aGlzLnJvb3QsW3RoaXNdLmNvbmNhdCh0aGlzLnBhcmFtcykpOnZvaWQgdGhpcy5jb21wbGV0ZSgpfWZ1bmN0aW9uICRyKHQsZSl7ZT90LnNldEF0dHJpYnV0ZShcInN0eWxlXCIsZSk6KHQuZ2V0QXR0cmlidXRlKFwic3R5bGVcIiksdC5yZW1vdmVBdHRyaWJ1dGUoXCJzdHlsZVwiKSl9ZnVuY3Rpb24gUXIoKXt2YXIgdCxlLG4saT10aGlzLHI9dGhpcy5yb290O3JldHVybiB0PVpyKHRoaXMpLGU9dGhpcy5ub2RlPWxhKHRoaXMubmFtZSx0KSx0aGlzLnBhcmVudEZyYWdtZW50LmNzc0lkcyYmdGhpcy5ub2RlLnNldEF0dHJpYnV0ZShcImRhdGEtcmFjdGl2ZS1jc3NcIix0aGlzLnBhcmVudEZyYWdtZW50LmNzc0lkcy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuXCJ7XCIrdCtcIn1cIn0pLmpvaW4oXCIgXCIpKSx4YSh0aGlzLm5vZGUsXCJfcmFjdGl2ZVwiLHt2YWx1ZTp7cHJveHk6dGhpcyxrZXlwYXRoOmF1KHRoaXMucGFyZW50RnJhZ21lbnQpLGV2ZW50czp3YShudWxsKSxyb290OnJ9fSksdGhpcy5hdHRyaWJ1dGVzLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQucmVuZGVyKGUpfSksdGhpcy5jb25kaXRpb25hbEF0dHJpYnV0ZXMuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gdC5yZW5kZXIoZSl9KSx0aGlzLmZyYWdtZW50JiYoXCJzY3JpcHRcIj09PXRoaXMubmFtZT8odGhpcy5idWJibGU9ZmcsdGhpcy5ub2RlLnRleHQ9dGhpcy5mcmFnbWVudC50b1N0cmluZyghMSksdGhpcy5mcmFnbWVudC51bnJlbmRlcj1GYSk6XCJzdHlsZVwiPT09dGhpcy5uYW1lPyh0aGlzLmJ1YmJsZT1sZyx0aGlzLmJ1YmJsZSgpLHRoaXMuZnJhZ21lbnQudW5yZW5kZXI9RmEpOnRoaXMuYmluZGluZyYmdGhpcy5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik/dGhpcy5mcmFnbWVudC51bnJlbmRlcj1GYTp0aGlzLm5vZGUuYXBwZW5kQ2hpbGQodGhpcy5mcmFnbWVudC5yZW5kZXIoKSkpLHRoaXMuYmluZGluZyYmKHRoaXMuYmluZGluZy5yZW5kZXIoKSx0aGlzLm5vZGUuX3JhY3RpdmUuYmluZGluZz10aGlzLmJpbmRpbmcpLHRoaXMuZXZlbnRIYW5kbGVycyYmdGhpcy5ldmVudEhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQucmVuZGVyKCl9KSxcIm9wdGlvblwiPT09dGhpcy5uYW1lJiZIcih0aGlzKSxcImltZ1wiPT09dGhpcy5uYW1lP05yKHRoaXMpOlwiZm9ybVwiPT09dGhpcy5uYW1lP0RyKHRoaXMpOlwiaW5wdXRcIj09PXRoaXMubmFtZXx8XCJ0ZXh0YXJlYVwiPT09dGhpcy5uYW1lP3RoaXMubm9kZS5kZWZhdWx0VmFsdWU9dGhpcy5ub2RlLnZhbHVlOlwib3B0aW9uXCI9PT10aGlzLm5hbWUmJih0aGlzLm5vZGUuZGVmYXVsdFNlbGVjdGVkPXRoaXMubm9kZS5zZWxlY3RlZCksdGhpcy5kZWNvcmF0b3ImJnRoaXMuZGVjb3JhdG9yLmZuJiZtdS5zY2hlZHVsZVRhc2soZnVuY3Rpb24oKXtpLmRlY29yYXRvci50b3JuZG93bnx8aS5kZWNvcmF0b3IuaW5pdCgpfSwhMCksci50cmFuc2l0aW9uc0VuYWJsZWQmJnRoaXMuaW50cm8mJihuPW5ldyBkZyh0aGlzLHRoaXMuaW50cm8sITApLG11LnJlZ2lzdGVyVHJhbnNpdGlvbihuKSxtdS5zY2hlZHVsZVRhc2soZnVuY3Rpb24oKXtyZXR1cm4gbi5zdGFydCgpfSwhMCksdGhpcy50cmFuc2l0aW9uPW4pLHRoaXMubm9kZS5hdXRvZm9jdXMmJm11LnNjaGVkdWxlVGFzayhmdW5jdGlvbigpe3JldHVybiBpLm5vZGUuZm9jdXMoKX0sITApLEtyKHRoaXMpLHRoaXMubm9kZX1mdW5jdGlvbiBacih0KXt2YXIgZSxuLGk7cmV0dXJuIGU9KG49dC5nZXRBdHRyaWJ1dGUoXCJ4bWxuc1wiKSk/bjpcInN2Z1wiPT09dC5uYW1lP2lhLnN2ZzooaT10LnBhcmVudCk/XCJmb3JlaWduT2JqZWN0XCI9PT1pLm5hbWU/aWEuaHRtbDppLm5vZGUubmFtZXNwYWNlVVJJOnQucm9vdC5lbC5uYW1lc3BhY2VVUkl9ZnVuY3Rpb24gSHIodCl7dmFyIGUsbixpO2lmKHQuc2VsZWN0JiYobj10LnNlbGVjdC5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSx2b2lkIDAhPT1uKSlpZihlPXQuZ2V0QXR0cmlidXRlKFwidmFsdWVcIiksdC5zZWxlY3Qubm9kZS5tdWx0aXBsZSYmcyhuKSl7Zm9yKGk9bi5sZW5ndGg7aS0tOylpZihlPT1uW2ldKXt0Lm5vZGUuc2VsZWN0ZWQ9ITA7YnJlYWt9fWVsc2UgdC5ub2RlLnNlbGVjdGVkPWU9PW59ZnVuY3Rpb24gS3IodCl7dmFyIGUsbixpLHIscztlPXQucm9vdDtkbyBmb3Iobj1lLl9saXZlUXVlcmllcyxpPW4ubGVuZ3RoO2ktLTspcj1uW2ldLHM9bltcIl9cIityXSxzLl90ZXN0KHQpJiYodC5saXZlUXVlcmllc3x8KHQubGl2ZVF1ZXJpZXM9W10pKS5wdXNoKHMpO3doaWxlKGU9ZS5wYXJlbnQpfWZ1bmN0aW9uIEdyKHQpe3ZhciBlLG4saTtpZihlPXQuZ2V0QXR0cmlidXRlKFwidmFsdWVcIiksdm9pZCAwPT09ZXx8IXQuc2VsZWN0KXJldHVybiExO2lmKG49dC5zZWxlY3QuZ2V0QXR0cmlidXRlKFwidmFsdWVcIiksbj09ZSlyZXR1cm4hMDtpZih0LnNlbGVjdC5nZXRBdHRyaWJ1dGUoXCJtdWx0aXBsZVwiKSYmcyhuKSlmb3IoaT1uLmxlbmd0aDtpLS07KWlmKG5baV09PWUpcmV0dXJuITB9ZnVuY3Rpb24gWXIodCl7dmFyIGUsbixpLHI7cmV0dXJuIGU9dC5hdHRyaWJ1dGVzLG49ZS50eXBlLGk9ZS52YWx1ZSxyPWUubmFtZSxuJiZcInJhZGlvXCI9PT1uLnZhbHVlJiZpJiZyLmludGVycG9sYXRvciYmaS52YWx1ZT09PXIuaW50ZXJwb2xhdG9yLnZhbHVlPyEwOnZvaWQgMH1mdW5jdGlvbiBKcih0KXt2YXIgZT10LnRvU3RyaW5nKCk7cmV0dXJuIGU/XCIgXCIrZTpcIlwifWZ1bmN0aW9uIFhyKCl7dGhpcy5mcmFnbWVudCYmdGhpcy5mcmFnbWVudC51bmJpbmQoKSx0aGlzLmJpbmRpbmcmJnRoaXMuYmluZGluZy51bmJpbmQoKSx0aGlzLmV2ZW50SGFuZGxlcnMmJnRoaXMuZXZlbnRIYW5kbGVycy5mb3JFYWNoKFopLFwib3B0aW9uXCI9PT10aGlzLm5hbWUmJlRyKHRoaXMpLHRoaXMuYXR0cmlidXRlcy5mb3JFYWNoKFopLHRoaXMuY29uZGl0aW9uYWxBdHRyaWJ1dGVzLmZvckVhY2goWil9ZnVuY3Rpb24gdHModCl7dmFyIGUsbixpOyhpPXRoaXMudHJhbnNpdGlvbikmJmkuY29tcGxldGUoKSxcIm9wdGlvblwiPT09dGhpcy5uYW1lP3RoaXMuZGV0YWNoKCk6dCYmbXUuZGV0YWNoV2hlblJlYWR5KHRoaXMpLHRoaXMuZnJhZ21lbnQmJnRoaXMuZnJhZ21lbnQudW5yZW5kZXIoITEpLChlPXRoaXMuYmluZGluZykmJih0aGlzLmJpbmRpbmcudW5yZW5kZXIoKSx0aGlzLm5vZGUuX3JhY3RpdmUuYmluZGluZz1udWxsLG49dGhpcy5yb290Ll90d293YXlCaW5kaW5nc1tlLmtleXBhdGguc3RyXSxuLnNwbGljZShuLmluZGV4T2YoZSksMSkpLHRoaXMuZXZlbnRIYW5kbGVycyYmdGhpcy5ldmVudEhhbmRsZXJzLmZvckVhY2goSCksdGhpcy5kZWNvcmF0b3ImJm11LnJlZ2lzdGVyRGVjb3JhdG9yKHRoaXMuZGVjb3JhdG9yKSx0aGlzLnJvb3QudHJhbnNpdGlvbnNFbmFibGVkJiZ0aGlzLm91dHJvJiYoaT1uZXcgZGcodGhpcyx0aGlzLm91dHJvLCExKSxtdS5yZWdpc3RlclRyYW5zaXRpb24oaSksbXUuc2NoZWR1bGVUYXNrKGZ1bmN0aW9uKCl7cmV0dXJuIGkuc3RhcnQoKX0pKSx0aGlzLmxpdmVRdWVyaWVzJiZlcyh0aGlzKSxcImZvcm1cIj09PXRoaXMubmFtZSYmSXIodGhpcyl9ZnVuY3Rpb24gZXModCl7dmFyIGUsbixpO2ZvcihpPXQubGl2ZVF1ZXJpZXMubGVuZ3RoO2ktLTspZT10LmxpdmVRdWVyaWVzW2ldLG49ZS5zZWxlY3RvcixlLl9yZW1vdmUodC5ub2RlKX1mdW5jdGlvbiBucyh0LGUpe3ZhciBuPXhnLmV4ZWMoZSlbMF07cmV0dXJuIG51bGw9PT10fHxuLmxlbmd0aDx0Lmxlbmd0aD9uOnR9ZnVuY3Rpb24gaXModCxlLG4pe3ZhciBpO2lmKGk9cnModCxlLG58fHt9KSlyZXR1cm4gaTtpZihpPWFkLmZyb21JZChlLHtub1Rocm93OiEwfSkpe2k9a2coaSk7dmFyIHI9YWQucGFyc2UoaSxhZC5nZXRQYXJzZU9wdGlvbnModCkpO3JldHVybiB0LnBhcnRpYWxzW2VdPXIudDtcblxufX1mdW5jdGlvbiBycyh0LGUsbil7dmFyIGk9dm9pZCAwLHI9YXMoZSxuLm93bmVyKTtpZihyKXJldHVybiByO3ZhciBzPXkoXCJwYXJ0aWFsc1wiLHQsZSk7aWYocyl7aWYocj1zLnBhcnRpYWxzW2VdLFwiZnVuY3Rpb25cIj09dHlwZW9mIHImJihpPXIuYmluZChzKSxpLmlzT3duZXI9cy5wYXJ0aWFscy5oYXNPd25Qcm9wZXJ0eShlKSxyPWkuY2FsbCh0LGFkKSksIXImJlwiXCIhPT1yKXJldHVybiB2b2lkIG0oTmEsZSxcInBhcnRpYWxcIixcInBhcnRpYWxcIix7cmFjdGl2ZTp0fSk7aWYoIWFkLmlzUGFyc2VkKHIpKXt2YXIgbz1hZC5wYXJzZShyLGFkLmdldFBhcnNlT3B0aW9ucyhzKSk7by5wJiZtKFwiUGFydGlhbHMgKHt7PiVzfX0pIGNhbm5vdCBjb250YWluIG5lc3RlZCBpbmxpbmUgcGFydGlhbHNcIixlLHtyYWN0aXZlOnR9KTt2YXIgYT1pP3M6c3MocyxlKTthLnBhcnRpYWxzW2VdPXI9by50fXJldHVybiBpJiYoci5fZm49aSksci52P3IudDpyfX1mdW5jdGlvbiBzcyh0LGUpe3JldHVybiB0LnBhcnRpYWxzLmhhc093blByb3BlcnR5KGUpP3Q6b3ModC5jb25zdHJ1Y3RvcixlKX1mdW5jdGlvbiBvcyh0LGUpe3JldHVybiB0P3QucGFydGlhbHMuaGFzT3duUHJvcGVydHkoZSk/dDpvcyh0Ll9QYXJlbnQsZSk6dm9pZCAwfWZ1bmN0aW9uIGFzKHQsZSl7aWYoZSl7aWYoZS50ZW1wbGF0ZSYmZS50ZW1wbGF0ZS5wJiZlLnRlbXBsYXRlLnBbdF0pcmV0dXJuIGUudGVtcGxhdGUucFt0XTtpZihlLnBhcmVudEZyYWdtZW50JiZlLnBhcmVudEZyYWdtZW50Lm93bmVyKXJldHVybiBhcyh0LGUucGFyZW50RnJhZ21lbnQub3duZXIpfX1mdW5jdGlvbiB1cyh0LGUpe3ZhciBuLGk9eShcImNvbXBvbmVudHNcIix0LGUpO2lmKGkmJihuPWkuY29tcG9uZW50c1tlXSwhbi5fUGFyZW50KSl7dmFyIHI9bi5iaW5kKGkpO2lmKHIuaXNPd25lcj1pLmNvbXBvbmVudHMuaGFzT3duUHJvcGVydHkoZSksbj1yKCksIW4pcmV0dXJuIHZvaWQgbShOYSxlLFwiY29tcG9uZW50XCIsXCJjb21wb25lbnRcIix7cmFjdGl2ZTp0fSk7XCJzdHJpbmdcIj09dHlwZW9mIG4mJihuPXVzKHQsbikpLG4uX2ZuPXIsaS5jb21wb25lbnRzW2VdPW59cmV0dXJuIG59ZnVuY3Rpb24gaHMoKXt2YXIgdD10aGlzLmluc3RhbmNlLmZyYWdtZW50LmRldGFjaCgpO3JldHVybiBqZy5maXJlKHRoaXMuaW5zdGFuY2UpLHR9ZnVuY3Rpb24gY3ModCl7cmV0dXJuIHRoaXMuaW5zdGFuY2UuZnJhZ21lbnQuZmluZCh0KX1mdW5jdGlvbiBscyh0LGUpe3JldHVybiB0aGlzLmluc3RhbmNlLmZyYWdtZW50LmZpbmRBbGwodCxlKX1mdW5jdGlvbiBmcyh0LGUpe2UuX3Rlc3QodGhpcywhMCksdGhpcy5pbnN0YW5jZS5mcmFnbWVudCYmdGhpcy5pbnN0YW5jZS5mcmFnbWVudC5maW5kQWxsQ29tcG9uZW50cyh0LGUpfWZ1bmN0aW9uIGRzKHQpe3JldHVybiB0JiZ0IT09dGhpcy5uYW1lP3RoaXMuaW5zdGFuY2UuZnJhZ21lbnQ/dGhpcy5pbnN0YW5jZS5mcmFnbWVudC5maW5kQ29tcG9uZW50KHQpOm51bGw6dGhpcy5pbnN0YW5jZX1mdW5jdGlvbiBwcygpe3JldHVybiB0aGlzLnBhcmVudEZyYWdtZW50LmZpbmROZXh0Tm9kZSh0aGlzKX1mdW5jdGlvbiBtcygpe3JldHVybiB0aGlzLnJlbmRlcmVkP3RoaXMuaW5zdGFuY2UuZnJhZ21lbnQuZmlyc3ROb2RlKCk6bnVsbH1mdW5jdGlvbiB2cyh0LGUsbil7ZnVuY3Rpb24gaSh0KXt2YXIgbixpO3QudmFsdWU9ZSx0LnVwZGF0aW5nfHwoaT10LnJhY3RpdmUsbj10LmtleXBhdGgsdC51cGRhdGluZz0hMCxtdS5zdGFydChpKSxpLnZpZXdtb2RlbC5tYXJrKG4pLG11LmVuZCgpLHQudXBkYXRpbmc9ITEpfXZhciByLHMsbyxhLHUsaDtpZihyPXQub2JqLHM9dC5wcm9wLG4mJiFuLmNvbmZpZ3VyYWJsZSl7aWYoXCJsZW5ndGhcIj09PXMpcmV0dXJuO3Rocm93IG5ldyBFcnJvcignQ2Fubm90IHVzZSBtYWdpYyBtb2RlIHdpdGggcHJvcGVydHkgXCInK3MrJ1wiIC0gb2JqZWN0IGlzIG5vdCBjb25maWd1cmFibGUnKX1uJiYobz1uLmdldCxhPW4uc2V0KSx1PW98fGZ1bmN0aW9uKCl7cmV0dXJuIGV9LGg9ZnVuY3Rpb24odCl7YSYmYSh0KSxlPW8/bygpOnQsaC5fcmFjdGl2ZVdyYXBwZXJzLmZvckVhY2goaSl9LGguX3JhY3RpdmVXcmFwcGVycz1bdF0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHIscyx7Z2V0OnUsc2V0OmgsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KX1mdW5jdGlvbiBncyh0LGUpe3ZhciBuLGkscixzO2lmKHRoaXMuYWRhcHRvcnMpZm9yKG49dGhpcy5hZGFwdG9ycy5sZW5ndGgsaT0wO24+aTtpKz0xKWlmKHI9dGhpcy5hZGFwdG9yc1tpXSxyLmZpbHRlcihlLHQsdGhpcy5yYWN0aXZlKSlyZXR1cm4gcz10aGlzLndyYXBwZWRbdF09ci53cmFwKHRoaXMucmFjdGl2ZSxlLHQsYnModCkpLHZvaWQocy52YWx1ZT1lKX1mdW5jdGlvbiB5cyh0LGUpe3ZhciBuLGk9e307aWYoIWUpcmV0dXJuIHQ7ZSs9XCIuXCI7Zm9yKG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoaVtlK25dPXRbbl0pO3JldHVybiBpfWZ1bmN0aW9uIGJzKHQpe3ZhciBlO3JldHVybiBpeVt0XXx8KGU9dD90K1wiLlwiOlwiXCIsaXlbdF09ZnVuY3Rpb24obixpKXt2YXIgcjtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2Ygbj8ocj17fSxyW2Urbl09aSxyKTpcIm9iamVjdFwiPT10eXBlb2Ygbj9lP3lzKG4sdCk6bjp2b2lkIDB9KSxpeVt0XX1mdW5jdGlvbiB3cyh0KXt2YXIgZSxuLGk9W1phXTtmb3IoZT10Lmxlbmd0aDtlLS07KWZvcihuPXRbZV0ucGFyZW50O24mJiFuLmlzUm9vdDspLTE9PT10LmluZGV4T2YobikmJkYoaSxuKSxuPW4ucGFyZW50O3JldHVybiBpfWZ1bmN0aW9uIHhzKHQsZSxuKXt2YXIgaTtFcyh0LGUpLG58fChpPWUud2lsZGNhcmRNYXRjaGVzKCksaS5mb3JFYWNoKGZ1bmN0aW9uKG4pe2tzKHQsbixlKX0pKX1mdW5jdGlvbiBrcyh0LGUsbil7dmFyIGkscixzO2U9ZS5zdHJ8fGUsaT10LmRlcHNNYXAucGF0dGVybk9ic2VydmVycyxyPWkmJmlbZV0sciYmci5mb3JFYWNoKGZ1bmN0aW9uKGUpe3M9bi5qb2luKGUubGFzdEtleSksRXModCxzKSxrcyh0LGUscyl9KX1mdW5jdGlvbiBFcyh0LGUpe3QucGF0dGVybk9ic2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QucmVnZXgudGVzdChlLnN0cikmJnQudXBkYXRlKGUpfSl9ZnVuY3Rpb24gX3MoKXtmdW5jdGlvbiB0KHQpe3ZhciBpPXQua2V5O3Qudmlld21vZGVsPT09bz8oby5jbGVhckNhY2hlKGkuc3RyKSx0LmludmFsaWRhdGUoKSxuLnB1c2goaSksZShpKSk6dC52aWV3bW9kZWwubWFyayhpKX1mdW5jdGlvbiBlKG4pe3ZhciBpLHI7by5ub0Nhc2NhZGUuaGFzT3duUHJvcGVydHkobi5zdHIpfHwoKHI9by5kZXBzLmNvbXB1dGVkW24uc3RyXSkmJnIuZm9yRWFjaCh0KSwoaT1vLmRlcHNNYXAuY29tcHV0ZWRbbi5zdHJdKSYmaS5mb3JFYWNoKGUpKX12YXIgbixpLHIscz10aGlzLG89dGhpcyxhPXt9O3JldHVybiBuPXRoaXMuY2hhbmdlcyxuLmxlbmd0aD8obi5zbGljZSgpLmZvckVhY2goZSksaT1yeShuKSxpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIGk7LTE9PT1uLmluZGV4T2YoZSkmJihpPW8uZGVwcy5jb21wdXRlZFtlLnN0cl0pJiZpLmZvckVhY2godCl9KSx0aGlzLmNoYW5nZXM9W10sdGhpcy5wYXR0ZXJuT2JzZXJ2ZXJzLmxlbmd0aCYmKGkuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gc3kocyx0LCEwKX0pLG4uZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gc3kocyx0KX0pKSx0aGlzLmRlcHMub2JzZXJ2ZXJzJiYoaS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBBcyhzLG51bGwsdCxcIm9ic2VydmVyc1wiKX0pLENzKHRoaXMsbixcIm9ic2VydmVyc1wiKSksdGhpcy5kZXBzW1wiZGVmYXVsdFwiXSYmKHI9W10saS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBBcyhzLHIsdCxcImRlZmF1bHRcIil9KSxyLmxlbmd0aCYmU3ModGhpcyxyLG4pLENzKHRoaXMsbixcImRlZmF1bHRcIikpLG4uZm9yRWFjaChmdW5jdGlvbih0KXthW3Quc3RyXT1zLmdldCh0KX0pLHRoaXMuaW1wbGljaXRDaGFuZ2VzPXt9LHRoaXMubm9DYXNjYWRlPXt9LGEpOnZvaWQgMH1mdW5jdGlvbiBBcyh0LGUsbixpKXt2YXIgcixzOyhyPU9zKHQsbixpKSkmJihzPXQuZ2V0KG4pLHIuZm9yRWFjaChmdW5jdGlvbih0KXtlJiZ0LnJlZmluZVZhbHVlP2UucHVzaCh0KTp0LnNldFZhbHVlKHMpfSkpfWZ1bmN0aW9uIFNzKHQsZSxuKXtlLmZvckVhY2goZnVuY3Rpb24oZSl7Zm9yKHZhciBpPSExLHI9MCxzPW4ubGVuZ3RoLG89W107cz5yOyl7dmFyIGE9bltyXTtpZihhPT09ZS5rZXlwYXRoKXtpPSEwO2JyZWFrfWEuc2xpY2UoMCxlLmtleXBhdGgubGVuZ3RoKT09PWUua2V5cGF0aCYmby5wdXNoKGEpLHIrK31pJiZlLnNldFZhbHVlKHQuZ2V0KGUua2V5cGF0aCkpLG8ubGVuZ3RoJiZlLnJlZmluZVZhbHVlKG8pfSl9ZnVuY3Rpb24gQ3ModCxlLG4pe2Z1bmN0aW9uIGkodCl7dC5mb3JFYWNoKHIpLHQuZm9yRWFjaChzKX1mdW5jdGlvbiByKGUpe3ZhciBpPU9zKHQsZSxuKTtpJiZhLnB1c2goe2tleXBhdGg6ZSxkZXBzOml9KX1mdW5jdGlvbiBzKGUpe3ZhciByOyhyPXQuZGVwc01hcFtuXVtlLnN0cl0pJiZpKHIpfWZ1bmN0aW9uIG8oZSl7dmFyIG49dC5nZXQoZS5rZXlwYXRoKTtlLmRlcHMuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gdC5zZXRWYWx1ZShuKX0pfXZhciBhPVtdO2koZSksYS5mb3JFYWNoKG8pfWZ1bmN0aW9uIE9zKHQsZSxuKXt2YXIgaT10LmRlcHNbbl07cmV0dXJuIGk/aVtlLnN0cl06bnVsbH1mdW5jdGlvbiBQcygpe3RoaXMuY2FwdHVyZUdyb3Vwcy5wdXNoKFtdKX1mdW5jdGlvbiBUcyh0LGUpe3ZhciBuLGk7aWYoZXx8KGk9dGhpcy53cmFwcGVkW3RdKSYmaS50ZWFyZG93bigpIT09ITEmJih0aGlzLndyYXBwZWRbdF09bnVsbCksdGhpcy5jYWNoZVt0XT12b2lkIDAsbj10aGlzLmNhY2hlTWFwW3RdKWZvcig7bi5sZW5ndGg7KXRoaXMuY2xlYXJDYWNoZShuLnBvcCgpKX1mdW5jdGlvbiBGcyh0LGUpe3ZhciBuPWUuZmlyc3RLZXk7cmV0dXJuIShuIGluIHQuZGF0YXx8biBpbiB0LmNvbXB1dGF0aW9uc3x8biBpbiB0Lm1hcHBpbmdzKX1mdW5jdGlvbiBScyh0LGUpe3ZhciBuPW5ldyBmeSh0LGUpO3JldHVybiB0aGlzLnJlYWR5JiZuLmluaXQodGhpcyksdGhpcy5jb21wdXRhdGlvbnNbdC5zdHJdPW59ZnVuY3Rpb24ganModCxlKXt2YXIgbixpLHIscyxvLGE9dGhpcy5jYWNoZSx1PXQuc3RyO2lmKGU9ZXx8dnksZS5jYXB0dXJlJiYocz1EKHRoaXMuY2FwdHVyZUdyb3VwcykpJiYofnMuaW5kZXhPZih0KXx8cy5wdXNoKHQpKSxPYS5jYWxsKHRoaXMubWFwcGluZ3MsdC5maXJzdEtleSkpcmV0dXJuIHRoaXMubWFwcGluZ3NbdC5maXJzdEtleV0uZ2V0KHQsZSk7aWYodC5pc1NwZWNpYWwpcmV0dXJuIHQudmFsdWU7aWYodm9pZCAwPT09YVt1XT8oKGk9dGhpcy5jb21wdXRhdGlvbnNbdV0pJiYhaS5ieXBhc3M/KG49aS5nZXQoKSx0aGlzLmFkYXB0KHUsbikpOihyPXRoaXMud3JhcHBlZFt1XSk/bj1yLnZhbHVlOnQuaXNSb290Pyh0aGlzLmFkYXB0KFwiXCIsdGhpcy5kYXRhKSxuPXRoaXMuZGF0YSk6bj1Ocyh0aGlzLHQpLGFbdV09bik6bj1hW3VdLCFlLm5vVW53cmFwJiYocj10aGlzLndyYXBwZWRbdV0pJiYobj1yLmdldCgpKSx0LmlzUm9vdCYmZS5mdWxsUm9vdEdldClmb3IobyBpbiB0aGlzLm1hcHBpbmdzKW5bb109dGhpcy5tYXBwaW5nc1tvXS5nZXRWYWx1ZSgpO3JldHVybiBuPT09cHk/dm9pZCAwOm59ZnVuY3Rpb24gTnModCxlKXt2YXIgbixpLHIscztyZXR1cm4gbj10LmdldChlLnBhcmVudCksKHM9dC53cmFwcGVkW2UucGFyZW50LnN0cl0pJiYobj1zLmdldCgpKSxudWxsIT09biYmdm9pZCAwIT09bj8oKGk9dC5jYWNoZU1hcFtlLnBhcmVudC5zdHJdKT8tMT09PWkuaW5kZXhPZihlLnN0cikmJmkucHVzaChlLnN0cik6dC5jYWNoZU1hcFtlLnBhcmVudC5zdHJdPVtlLnN0cl0sXCJvYmplY3RcIiE9dHlwZW9mIG58fGUubGFzdEtleSBpbiBuPyhyPW5bZS5sYXN0S2V5XSx0LmFkYXB0KGUuc3RyLHIsITEpLHQuY2FjaGVbZS5zdHJdPXIscik6dC5jYWNoZVtlLnN0cl09cHkpOnZvaWQgMH1mdW5jdGlvbiBEcygpe3ZhciB0O2Zvcih0IGluIHRoaXMuY29tcHV0YXRpb25zKXRoaXMuY29tcHV0YXRpb25zW3RdLmluaXQodGhpcyl9ZnVuY3Rpb24gSXModCxlKXt2YXIgbj10aGlzLm1hcHBpbmdzW3Quc3RyXT1uZXcgYnkodCxlKTtyZXR1cm4gbi5pbml0Vmlld21vZGVsKHRoaXMpLG59ZnVuY3Rpb24gTHModCxlKXt2YXIgbixpPXQuc3RyO2UmJihlLmltcGxpY2l0JiYodGhpcy5pbXBsaWNpdENoYW5nZXNbaV09ITApLGUubm9DYXNjYWRlJiYodGhpcy5ub0Nhc2NhZGVbaV09ITApKSwobj10aGlzLmNvbXB1dGF0aW9uc1tpXSkmJm4uaW52YWxpZGF0ZSgpLC0xPT09dGhpcy5jaGFuZ2VzLmluZGV4T2YodCkmJnRoaXMuY2hhbmdlcy5wdXNoKHQpO3ZhciByPWU/ZS5rZWVwRXhpc3RpbmdXcmFwcGVyOiExO3RoaXMuY2xlYXJDYWNoZShpLHIpLHRoaXMucmVhZHkmJnRoaXMub25jaGFuZ2UoKX1mdW5jdGlvbiBWcyh0LGUsbixpKXt2YXIgcixzLG8sYTtpZih0aGlzLm1hcmsodCksaSYmaS5jb21wYXJlKXtvPVVzKGkuY29tcGFyZSk7dHJ5e3I9ZS5tYXAobykscz1uLm1hcChvKX1jYXRjaCh1KXttKCdtZXJnZSgpOiBcIiVzXCIgY29tcGFyaXNvbiBmYWlsZWQuIEZhbGxpbmcgYmFjayB0byBpZGVudGl0eSBjaGVja2luZycsdCkscj1lLHM9bn19ZWxzZSByPWUscz1uO2E9eHkocixzKSx0aGlzLnNtYXJ0VXBkYXRlKHQsbixhLGUubGVuZ3RoIT09bi5sZW5ndGgpfWZ1bmN0aW9uIE1zKHQpe3JldHVybiBKU09OLnN0cmluZ2lmeSh0KX1mdW5jdGlvbiBVcyh0KXtpZih0PT09ITApcmV0dXJuIE1zO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBFeVt0XXx8KEV5W3RdPWZ1bmN0aW9uKGUpe3JldHVybiBlW3RdfSksRXlbdF07aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdClyZXR1cm4gdDt0aHJvdyBuZXcgRXJyb3IoXCJUaGUgYGNvbXBhcmVgIG9wdGlvbiBtdXN0IGJlIGEgZnVuY3Rpb24sIG9yIGEgc3RyaW5nIHJlcHJlc2VudGluZyBhbiBpZGVudGlmeWluZyBmaWVsZCAob3IgYHRydWVgIHRvIHVzZSBKU09OLnN0cmluZ2lmeSlcIil9ZnVuY3Rpb24gV3ModCxlKXt2YXIgbixpLHIscz12b2lkIDA9PT1hcmd1bWVudHNbMl0/XCJkZWZhdWx0XCI6YXJndW1lbnRzWzJdO2UuaXNTdGF0aWN8fCgobj10aGlzLm1hcHBpbmdzW3QuZmlyc3RLZXldKT9uLnJlZ2lzdGVyKHQsZSxzKTooaT10aGlzLmRlcHNbc118fCh0aGlzLmRlcHNbc109e30pLHI9aVt0LnN0cl18fChpW3Quc3RyXT1bXSksci5wdXNoKGUpLHRoaXMuZGVwc01hcFtzXXx8KHRoaXMuZGVwc01hcFtzXT17fSksdC5pc1Jvb3R8fHpzKHRoaXMsdCxzKSkpfWZ1bmN0aW9uIHpzKHQsZSxuKXtmb3IodmFyIGkscixzOyFlLmlzUm9vdDspaT10LmRlcHNNYXBbbl0scj1pW2UucGFyZW50LnN0cl18fChpW2UucGFyZW50LnN0cl09W10pLHM9ZS5zdHIsdm9pZCAwPT09cltcIl9cIitzXSYmKHJbXCJfXCIrc109MCxyLnB1c2goZSkpLHJbXCJfXCIrc10rPTEsZT1lLnBhcmVudH1mdW5jdGlvbiBCcygpe3JldHVybiB0aGlzLmNhcHR1cmVHcm91cHMucG9wKCl9ZnVuY3Rpb24gcXModCl7dGhpcy5kYXRhPXQsdGhpcy5jbGVhckNhY2hlKFwiXCIpfWZ1bmN0aW9uICRzKHQsZSl7dmFyIG4saSxyLHMsbz12b2lkIDA9PT1hcmd1bWVudHNbMl0/e306YXJndW1lbnRzWzJdO2lmKCFvLm5vTWFwcGluZyYmKG49dGhpcy5tYXBwaW5nc1t0LmZpcnN0S2V5XSkpcmV0dXJuIG4uc2V0KHQsZSk7aWYoaT10aGlzLmNvbXB1dGF0aW9uc1t0LnN0cl0pe2lmKGkuc2V0dGluZylyZXR1cm47aS5zZXQoZSksZT1pLmdldCgpfWEodGhpcy5jYWNoZVt0LnN0cl0sZSl8fChyPXRoaXMud3JhcHBlZFt0LnN0cl0sciYmci5yZXNldCYmKHM9ci5yZXNldChlKSE9PSExLHMmJihlPXIuZ2V0KCkpKSxpfHxzfHxRcyh0aGlzLHQsZSksby5zaWxlbnQ/dGhpcy5jbGVhckNhY2hlKHQuc3RyKTp0aGlzLm1hcmsodCkpfWZ1bmN0aW9uIFFzKHQsZSxuKXt2YXIgaSxyLHMsbztzPWZ1bmN0aW9uKCl7aS5zZXQ/aS5zZXQoZS5sYXN0S2V5LG4pOihyPWkuZ2V0KCksbygpKX0sbz1mdW5jdGlvbigpe3J8fChyPVlnKGUubGFzdEtleSksdC5zZXQoZS5wYXJlbnQscix7c2lsZW50OiEwfSkpLHJbZS5sYXN0S2V5XT1ufSxpPXQud3JhcHBlZFtlLnBhcmVudC5zdHJdLGk/cygpOihyPXQuZ2V0KGUucGFyZW50KSwoaT10LndyYXBwZWRbZS5wYXJlbnQuc3RyXSk/cygpOm8oKSl9ZnVuY3Rpb24gWnModCxlLG4pe3ZhciBpLHIscyxvPXRoaXM7aWYocj1uLmxlbmd0aCxuLmZvckVhY2goZnVuY3Rpb24oZSxuKXstMT09PWUmJm8ubWFyayh0LmpvaW4obiksVHkpfSksdGhpcy5zZXQodCxlLHtzaWxlbnQ6ITB9KSwoaT10aGlzLmRlcHNbXCJkZWZhdWx0XCJdW3Quc3RyXSkmJmkuZmlsdGVyKEhzKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnNodWZmbGUobixlKX0pLHIhPT1lLmxlbmd0aCl7Zm9yKHRoaXMubWFyayh0LmpvaW4oXCJsZW5ndGhcIiksUHkpLHM9bi50b3VjaGVkRnJvbTtzPGUubGVuZ3RoO3MrPTEpdGhpcy5tYXJrKHQuam9pbihzKSk7Zm9yKHM9ZS5sZW5ndGg7cj5zO3MrPTEpdGhpcy5tYXJrKHQuam9pbihzKSxUeSl9fWZ1bmN0aW9uIEhzKHQpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQuc2h1ZmZsZX1mdW5jdGlvbiBLcygpe3ZhciB0LGU9dGhpcztmb3IoT2JqZWN0LmtleXModGhpcy5jYWNoZSkuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gZS5jbGVhckNhY2hlKHQpfSk7dD10aGlzLnVucmVzb2x2ZWRJbXBsaWNpdERlcGVuZGVuY2llcy5wb3AoKTspdC50ZWFyZG93bigpfWZ1bmN0aW9uIEdzKHQsZSl7dmFyIG4saSxyLHM9dm9pZCAwPT09YXJndW1lbnRzWzJdP1wiZGVmYXVsdFwiOmFyZ3VtZW50c1syXTtpZighZS5pc1N0YXRpYyl7aWYobj10aGlzLm1hcHBpbmdzW3QuZmlyc3RLZXldKXJldHVybiBuLnVucmVnaXN0ZXIodCxlLHMpO2lmKGk9dGhpcy5kZXBzW3NdW3Quc3RyXSxyPWkuaW5kZXhPZihlKSwtMT09PXIpdGhyb3cgbmV3IEVycm9yKFwiQXR0ZW1wdGVkIHRvIHJlbW92ZSBhIGRlcGVuZGFudCB0aGF0IHdhcyBubyBsb25nZXIgcmVnaXN0ZXJlZCEgVGhpcyBzaG91bGQgbm90IGhhcHBlbi4gSWYgeW91IGFyZSBzZWVpbmcgdGhpcyBidWcgaW4gZGV2ZWxvcG1lbnQgcGxlYXNlIHJhaXNlIGFuIGlzc3VlIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS9SYWN0aXZlSlMvUmFjdGl2ZS9pc3N1ZXMgLSB0aGFua3NcIik7aS5zcGxpY2UociwxKSx0LmlzUm9vdHx8WXModGhpcyx0LHMpfX1mdW5jdGlvbiBZcyh0LGUsbil7Zm9yKHZhciBpLHI7IWUuaXNSb290OylpPXQuZGVwc01hcFtuXSxyPWlbZS5wYXJlbnQuc3RyXSxyW1wiX1wiK2Uuc3RyXS09MSxyW1wiX1wiK2Uuc3RyXXx8KEkocixlKSxyW1wiX1wiK2Uuc3RyXT12b2lkIDApLGU9ZS5wYXJlbnR9ZnVuY3Rpb24gSnModCl7dGhpcy5ob29rPW5ldyBudSh0KSx0aGlzLmluUHJvY2Vzcz17fSx0aGlzLnF1ZXVlPXt9fWZ1bmN0aW9uIFhzKHQsZSl7cmV0dXJuIHRbZS5fZ3VpZF18fCh0W2UuX2d1aWRdPVtdKX1mdW5jdGlvbiB0byh0LGUpe3ZhciBuPVhzKHQucXVldWUsZSk7Zm9yKHQuaG9vay5maXJlKGUpO24ubGVuZ3RoOyl0byh0LG4uc2hpZnQoKSk7ZGVsZXRlIHQucXVldWVbZS5fZ3VpZF19ZnVuY3Rpb24gZW8odCxlKXt2YXIgbixpPXt9O2ZvcihuIGluIGUpaVtuXT1ubyh0LG4sZVtuXSk7cmV0dXJuIGl9ZnVuY3Rpb24gbm8odCxlLG4pe3ZhciBpLHI7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgbiYmKGk9cm8obix0KSksXCJzdHJpbmdcIj09dHlwZW9mIG4mJihpPWlvKHQsbikpLFwib2JqZWN0XCI9PXR5cGVvZiBuJiYoXCJzdHJpbmdcIj09dHlwZW9mIG4uZ2V0P2k9aW8odCxuLmdldCk6XCJmdW5jdGlvblwiPT10eXBlb2Ygbi5nZXQ/aT1ybyhuLmdldCx0KTpsKFwiYCVzYCBjb21wdXRhdGlvbiBtdXN0IGhhdmUgYSBgZ2V0KClgIG1ldGhvZFwiLGUpLFwiZnVuY3Rpb25cIj09dHlwZW9mIG4uc2V0JiYocj1ybyhuLnNldCx0KSkpLHtnZXR0ZXI6aSxzZXR0ZXI6cn19ZnVuY3Rpb24gaW8odCxlKXt2YXIgbixpLHI7cmV0dXJuIG49XCJyZXR1cm4gKFwiK2UucmVwbGFjZShMeSxmdW5jdGlvbih0LGUpe3JldHVybiBpPSEwLCdfX3JhY3RpdmUuZ2V0KFwiJytlKydcIiknfSkrXCIpO1wiLGkmJihuPVwidmFyIF9fcmFjdGl2ZSA9IHRoaXM7IFwiK24pLHI9bmV3IEZ1bmN0aW9uKG4pLGk/ci5iaW5kKHQpOnJ9ZnVuY3Rpb24gcm8odCxlKXtyZXR1cm4vdGhpcy8udGVzdCh0LnRvU3RyaW5nKCkpP3QuYmluZChlKTp0fWZ1bmN0aW9uIHNvKGUpe3ZhciBuLHIscz12b2lkIDA9PT1hcmd1bWVudHNbMV0/e306YXJndW1lbnRzWzFdLG89dm9pZCAwPT09YXJndW1lbnRzWzJdP3t9OmFyZ3VtZW50c1syXTtpZihRYi5ERUJVRyYmQ2EoKSx1byhlLG8pLHhhKGUsXCJkYXRhXCIse2dldDpob30pLFZ5LmZpcmUoZSxzKSx6eS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2VbdF09aSh3YShlLmNvbnN0cnVjdG9yW3RdfHxudWxsKSxzW3RdKX0pLHI9bmV3IE55KHthZGFwdDpvbyhlLGUuYWRhcHQscyksZGF0YTpXaC5pbml0KGUuY29uc3RydWN0b3IsZSxzKSxjb21wdXRlZDpJeShlLGkod2EoZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuY29tcHV0ZWQpLHMuY29tcHV0ZWQpKSxtYXBwaW5nczpvLm1hcHBpbmdzLHJhY3RpdmU6ZSxvbmNoYW5nZTpmdW5jdGlvbigpe3JldHVybiBtdS5hZGRSYWN0aXZlKGUpfX0pLGUudmlld21vZGVsPXIsci5pbml0KCksYmQuaW5pdChlLmNvbnN0cnVjdG9yLGUscyksTXkuZmlyZShlKSxVeS5iZWdpbihlKSxlLnRlbXBsYXRlKXt2YXIgYT12b2lkIDA7KG8uY3NzSWRzfHxlLmNzc0lkKSYmKGE9by5jc3NJZHM/by5jc3NJZHMuc2xpY2UoKTpbXSxlLmNzc0lkJiZhLnB1c2goZS5jc3NJZCkpLGUuZnJhZ21lbnQ9bmV3IHliKHt0ZW1wbGF0ZTplLnRlbXBsYXRlLHJvb3Q6ZSxvd25lcjplLGNzc0lkczphfSl9aWYoVXkuZW5kKGUpLG49dChlLmVsKSl7dmFyIHU9ZS5yZW5kZXIobixlLmFwcGVuZCk7UWIuREVCVUdfUFJPTUlTRVMmJnVbXCJjYXRjaFwiXShmdW5jdGlvbih0KXt0aHJvdyB2KFwiUHJvbWlzZSBkZWJ1Z2dpbmcgaXMgZW5hYmxlZCwgdG8gaGVscCBzb2x2ZSBlcnJvcnMgdGhhdCBoYXBwZW4gYXN5bmNocm9ub3VzbHkuIFNvbWUgYnJvd3NlcnMgd2lsbCBsb2cgdW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9ucywgaW4gd2hpY2ggY2FzZSB5b3UgY2FuIHNhZmVseSBkaXNhYmxlIHByb21pc2UgZGVidWdnaW5nOlxcbiAgUmFjdGl2ZS5ERUJVR19QUk9NSVNFUyA9IGZhbHNlO1wiKSxtKFwiQW4gZXJyb3IgaGFwcGVuZWQgZHVyaW5nIHJlbmRlcmluZ1wiLHtyYWN0aXZlOmV9KSx0LnN0YWNrJiZmKHQuc3RhY2spLHR9KX19ZnVuY3Rpb24gb28odCxlLG4pe2Z1bmN0aW9uIGkoZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPWcoXCJhZGFwdG9yc1wiLHQsZSksZXx8bChEYShlLFwiYWRhcHRvclwiKSkpLGV9dmFyIHIscyxvO2lmKGU9ZS5tYXAoaSkscj1OKG4uYWRhcHQpLm1hcChpKSxyPWFvKGUscikscz1cIm1hZ2ljXCJpbiBuP24ubWFnaWM6dC5tYWdpYyxvPVwibW9kaWZ5QXJyYXlzXCJpbiBuP24ubW9kaWZ5QXJyYXlzOnQubW9kaWZ5QXJyYXlzLHMpe2lmKCFuYSl0aHJvdyBuZXcgRXJyb3IoXCJHZXR0ZXJzIGFuZCBzZXR0ZXJzIChtYWdpYyBtb2RlKSBhcmUgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7byYmci5wdXNoKGV5KSxyLnB1c2godHkpfXJldHVybiBvJiZyLnB1c2goS2cpLHJ9ZnVuY3Rpb24gYW8odCxlKXtmb3IodmFyIG49dC5zbGljZSgpLGk9ZS5sZW5ndGg7aS0tOyl+bi5pbmRleE9mKGVbaV0pfHxuLnB1c2goZVtpXSk7cmV0dXJuIG59ZnVuY3Rpb24gdW8odCxlKXt0Ll9ndWlkPVwici1cIitXeSsrLHQuX3N1YnM9d2EobnVsbCksdC5fY29uZmlnPXt9LHQuX3R3b3dheUJpbmRpbmdzPXdhKG51bGwpLHQuX2FuaW1hdGlvbnM9W10sdC5ub2Rlcz17fSx0Ll9saXZlUXVlcmllcz1bXSx0Ll9saXZlQ29tcG9uZW50UXVlcmllcz1bXSx0Ll9ib3VuZEZ1bmN0aW9ucz1bXSx0Ll9vYnNlcnZlcnM9W10sZS5jb21wb25lbnQ/KHQucGFyZW50PWUucGFyZW50LHQuY29udGFpbmVyPWUuY29udGFpbmVyfHxudWxsLHQucm9vdD10LnBhcmVudC5yb290LHQuY29tcG9uZW50PWUuY29tcG9uZW50LGUuY29tcG9uZW50Lmluc3RhbmNlPXQsdC5faW5saW5lUGFydGlhbHM9ZS5pbmxpbmVQYXJ0aWFscyk6KHQucm9vdD10LHQucGFyZW50PXQuY29udGFpbmVyPW51bGwpfWZ1bmN0aW9uIGhvKCl7dGhyb3cgbmV3IEVycm9yKFwiVXNpbmcgYHJhY3RpdmUuZGF0YWAgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCAtIHlvdSBtdXN0IHVzZSB0aGUgYHJhY3RpdmUuZ2V0KClgIEFQSSBpbnN0ZWFkXCIpfWZ1bmN0aW9uIGNvKHQsZSxuKXt0aGlzLnBhcmVudEZyYWdtZW50PXQucGFyZW50RnJhZ21lbnQsdGhpcy5jYWxsYmFjaz1uLHRoaXMuZnJhZ21lbnQ9bmV3IHliKHt0ZW1wbGF0ZTplLHJvb3Q6dC5yb290LG93bmVyOnRoaXN9KSx0aGlzLnVwZGF0ZSgpfWZ1bmN0aW9uIGxvKHQsZSxuKXt2YXIgaTtyZXR1cm4gZS5yP2k9UWQodCxlLnIsbik6ZS54P2k9bmV3IEdkKHQsdC5wYXJlbnRGcmFnbWVudCxlLngsbik6ZS5yeCYmKGk9bmV3IHRwKHQsZS5yeCxuKSksaX1mdW5jdGlvbiBmbyh0KXtyZXR1cm4gMT09PXQubGVuZ3RoJiZ0WzBdLnQ9PT1IaH1mdW5jdGlvbiBwbyh0LGUpe3ZhciBuO2ZvcihuIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShuKSYmbW8odC5pbnN0YW5jZSx0LnJvb3QsbixlW25dKX1mdW5jdGlvbiBtbyh0LGUsbixpKXtcInN0cmluZ1wiIT10eXBlb2YgaSYmbChcIkNvbXBvbmVudHMgY3VycmVudGx5IG9ubHkgc3VwcG9ydCBzaW1wbGUgZXZlbnRzIC0geW91IGNhbm5vdCBpbmNsdWRlIGFyZ3VtZW50cy4gU29ycnkhXCIpLHQub24obixmdW5jdGlvbigpe3ZhciB0LG47cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGgmJmFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdLm5vZGUmJih0PUFycmF5LnByb3RvdHlwZS5zaGlmdC5jYWxsKGFyZ3VtZW50cykpLG49QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxXdShlLGkse2V2ZW50OnQsYXJnczpufSksITF9KX1mdW5jdGlvbiB2byh0LGUpe3ZhciBuLGk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCdDb21wb25lbnQgXCInK3RoaXMubmFtZSsnXCIgbm90IGZvdW5kJyk7bj10aGlzLnBhcmVudEZyYWdtZW50PXQucGFyZW50RnJhZ21lbnQsaT1uLnJvb3QsdGhpcy5yb290PWksdGhpcy50eXBlPXNjLHRoaXMubmFtZT10LnRlbXBsYXRlLmUsdGhpcy5pbmRleD10LmluZGV4LHRoaXMuaW5kZXhSZWZCaW5kaW5ncz17fSx0aGlzLnlpZWxkZXJzPXt9LHRoaXMucmVzb2x2ZXJzPVtdLCR5KHRoaXMsZSx0LnRlbXBsYXRlLmEsdC50ZW1wbGF0ZS5mLHQudGVtcGxhdGUucCksUXkodGhpcyx0LnRlbXBsYXRlLnYpLCh0LnRlbXBsYXRlLnQwfHx0LnRlbXBsYXRlLnQxfHx0LnRlbXBsYXRlLnQyfHx0LnRlbXBsYXRlLm8pJiZtKCdUaGUgXCJpbnRyb1wiLCBcIm91dHJvXCIgYW5kIFwiZGVjb3JhdG9yXCIgZGlyZWN0aXZlcyBoYXZlIG5vIGVmZmVjdCBvbiBjb21wb25lbnRzJyx7cmFjdGl2ZTp0aGlzLmluc3RhbmNlfSksWnkodGhpcyl9ZnVuY3Rpb24gZ28odCxlKXtmdW5jdGlvbiBuKG4pe24ucmViaW5kKHQsZSl9dmFyIGk7dGhpcy5yZXNvbHZlcnMuZm9yRWFjaChuKTtmb3IodmFyIHIgaW4gdGhpcy55aWVsZGVycyl0aGlzLnlpZWxkZXJzW3JdWzBdJiZuKHRoaXMueWllbGRlcnNbcl1bMF0pOyhpPXRoaXMucm9vdC5fbGl2ZUNvbXBvbmVudFF1ZXJpZXNbXCJfXCIrdGhpcy5uYW1lXSkmJmkuX21ha2VEaXJ0eSgpfWZ1bmN0aW9uIHlvKCl7dmFyIHQ9dGhpcy5pbnN0YW5jZTtyZXR1cm4gdC5yZW5kZXIodGhpcy5wYXJlbnRGcmFnbWVudC5nZXROb2RlKCkpLHRoaXMucmVuZGVyZWQ9ITAsdC5mcmFnbWVudC5kZXRhY2goKX1mdW5jdGlvbiBibygpe3JldHVybiB0aGlzLmluc3RhbmNlLmZyYWdtZW50LnRvU3RyaW5nKCl9ZnVuY3Rpb24gd28oKXt2YXIgdD10aGlzLmluc3RhbmNlO3RoaXMucmVzb2x2ZXJzLmZvckVhY2goWikseG8odGhpcyksdC5fb2JzZXJ2ZXJzLmZvckVhY2goSyksdC5mcmFnbWVudC51bmJpbmQoKSx0LnZpZXdtb2RlbC50ZWFyZG93bigpLHQuZnJhZ21lbnQucmVuZGVyZWQmJnQuZWwuX19yYWN0aXZlX2luc3RhbmNlc19fJiZJKHQuZWwuX19yYWN0aXZlX2luc3RhbmNlc19fLHQpLFh5LmZpcmUodCl9ZnVuY3Rpb24geG8odCl7dmFyIGUsbjtlPXQucm9vdDtkbyhuPWUuX2xpdmVDb21wb25lbnRRdWVyaWVzW1wiX1wiK3QubmFtZV0pJiZuLl9yZW1vdmUodCk7d2hpbGUoZT1lLnBhcmVudCl9ZnVuY3Rpb24ga28odCl7dGhpcy5zaG91bGREZXN0cm95PXQsdGhpcy5pbnN0YW5jZS51bnJlbmRlcigpfWZ1bmN0aW9uIEVvKHQpe3ZhciBlPXRoaXM7dGhpcy5vd25lcj10Lm93bmVyLHRoaXMucGFyZW50PXRoaXMub3duZXIucGFyZW50RnJhZ21lbnQsdGhpcy5yb290PXQucm9vdCx0aGlzLnBFbGVtZW50PXQucEVsZW1lbnQsdGhpcy5jb250ZXh0PXQuY29udGV4dCx0aGlzLmluZGV4PXQuaW5kZXgsdGhpcy5rZXk9dC5rZXksdGhpcy5yZWdpc3RlcmVkSW5kZXhSZWZzPVtdLHRoaXMuY3NzSWRzPVwiY3NzSWRzXCJpbiB0P3QuY3NzSWRzOnRoaXMucGFyZW50P3RoaXMucGFyZW50LmNzc0lkczpudWxsLHRoaXMuaXRlbXM9dC50ZW1wbGF0ZS5tYXAoZnVuY3Rpb24obixpKXtyZXR1cm4gX28oe3BhcmVudEZyYWdtZW50OmUscEVsZW1lbnQ6dC5wRWxlbWVudCx0ZW1wbGF0ZTpuLGluZGV4Oml9KX0pLHRoaXMudmFsdWU9dGhpcy5hcmdzTGlzdD1udWxsLHRoaXMuZGlydHlBcmdzPXRoaXMuZGlydHlWYWx1ZT0hMCx0aGlzLmJvdW5kPSEwfWZ1bmN0aW9uIF9vKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0LnRlbXBsYXRlKXJldHVybiBuZXcgTmQodCk7c3dpdGNoKHQudGVtcGxhdGUudCl7Y2FzZSBvYzpyZXR1cm4gbmV3IG9iKHQpO2Nhc2UgSGg6cmV0dXJuIG5ldyBvcCh0KTtjYXNlIEdoOnJldHVybiBuZXcgU3AodCk7Y2FzZSBLaDpyZXR1cm4gbmV3IHFwKHQpO2Nhc2UgWGg6dmFyIGU9dm9pZCAwO3JldHVybihlPUZnKHQucGFyZW50RnJhZ21lbnQucm9vdCx0LnRlbXBsYXRlLmUpKT9uZXcgbmIodCxlKTpuZXcgYmcodCk7Y2FzZSB0YzpyZXR1cm4gbmV3IFRnKHQpO2Nhc2UgZWM6cmV0dXJuIG5ldyByYih0KTtjYXNlIHVjOnJldHVybiBuZXcgdWIodCk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJTb21ldGhpbmcgdmVyeSBzdHJhbmdlIGhhcHBlbmVkLiBQbGVhc2UgZmlsZSBhbiBpc3N1ZSBhdCBodHRwczovL2dpdGh1Yi5jb20vcmFjdGl2ZWpzL3JhY3RpdmUvaXNzdWVzLiBUaGFua3MhXCIpfX1mdW5jdGlvbiBBbyh0LGUpeyghdGhpcy5vd25lcnx8dGhpcy5vd25lci5oYXNDb250ZXh0KSYmayh0aGlzLFwiY29udGV4dFwiLHQsZSksdGhpcy5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKG4pe24ucmViaW5kJiZuLnJlYmluZCh0LGUpfSl9ZnVuY3Rpb24gU28oKXt2YXIgdDtyZXR1cm4gMT09PXRoaXMuaXRlbXMubGVuZ3RoP3Q9dGhpcy5pdGVtc1swXS5yZW5kZXIoKToodD1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksdGhpcy5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuYXBwZW5kQ2hpbGQoZS5yZW5kZXIoKSl9KSksdGhpcy5yZW5kZXJlZD0hMCx0fWZ1bmN0aW9uIENvKHQpe3JldHVybiB0aGlzLml0ZW1zP3RoaXMuaXRlbXMubWFwKHQ/UG86T28pLmpvaW4oXCJcIik6XCJcIn1mdW5jdGlvbiBPbyh0KXtyZXR1cm4gdC50b1N0cmluZygpfWZ1bmN0aW9uIFBvKHQpe3JldHVybiB0LnRvU3RyaW5nKCEwKX1mdW5jdGlvbiBUbygpe3RoaXMuYm91bmQmJih0aGlzLml0ZW1zLmZvckVhY2goRm8pLHRoaXMuYm91bmQ9ITEpfWZ1bmN0aW9uIEZvKHQpe3QudW5iaW5kJiZ0LnVuYmluZCgpfWZ1bmN0aW9uIFJvKHQpe2lmKCF0aGlzLnJlbmRlcmVkKXRocm93IG5ldyBFcnJvcihcIkF0dGVtcHRlZCB0byB1bnJlbmRlciBhIGZyYWdtZW50IHRoYXQgd2FzIG5vdCByZW5kZXJlZFwiKTt0aGlzLml0ZW1zLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUudW5yZW5kZXIodCl9KSx0aGlzLnJlbmRlcmVkPSExfWZ1bmN0aW9uIGpvKHQpe3ZhciBlLG4saSxyLHM7aWYodD10fHx7fSxcIm9iamVjdFwiIT10eXBlb2YgdCl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgcmVzZXQgbWV0aG9kIHRha2VzIGVpdGhlciBubyBhcmd1bWVudHMsIG9yIGFuIG9iamVjdCBjb250YWluaW5nIG5ldyBkYXRhXCIpO2Zvcigobj10aGlzLnZpZXdtb2RlbC53cmFwcGVkW1wiXCJdKSYmbi5yZXNldD9uLnJlc2V0KHQpPT09ITEmJnRoaXMudmlld21vZGVsLnJlc2V0KHQpOnRoaXMudmlld21vZGVsLnJlc2V0KHQpLGk9YmQucmVzZXQodGhpcykscj1pLmxlbmd0aDtyLS07KWlmKHdiLmluZGV4T2YoaVtyXSk+LTEpe3M9ITA7YnJlYWt9aWYocyl7dmFyIG89dm9pZCAwO3RoaXMudmlld21vZGVsLm1hcmsoWmEpLChvPXRoaXMuY29tcG9uZW50KSYmKG8uc2hvdWxkRGVzdHJveT0hMCksdGhpcy51bnJlbmRlcigpLG8mJihvLnNob3VsZERlc3Ryb3k9ITEpLHRoaXMuZnJhZ21lbnQudGVtcGxhdGUhPT10aGlzLnRlbXBsYXRlJiYodGhpcy5mcmFnbWVudC51bmJpbmQoKSx0aGlzLmZyYWdtZW50PW5ldyB5Yih7dGVtcGxhdGU6dGhpcy50ZW1wbGF0ZSxyb290OnRoaXMsb3duZXI6dGhpc30pKSxlPXRoaXMucmVuZGVyKHRoaXMuZWwsdGhpcy5hbmNob3IpfWVsc2UgZT1tdS5zdGFydCh0aGlzLCEwKSx0aGlzLnZpZXdtb2RlbC5tYXJrKFphKSxtdS5lbmQoKTtyZXR1cm4geGIuZmlyZSh0aGlzLHQpLGV9ZnVuY3Rpb24gTm8odCl7dmFyIGUsbjtoZC5pbml0KG51bGwsdGhpcyx7dGVtcGxhdGU6dH0pLGU9dGhpcy50cmFuc2l0aW9uc0VuYWJsZWQsdGhpcy50cmFuc2l0aW9uc0VuYWJsZWQ9ITEsKG49dGhpcy5jb21wb25lbnQpJiYobi5zaG91bGREZXN0cm95PSEwKSx0aGlzLnVucmVuZGVyKCksbiYmKG4uc2hvdWxkRGVzdHJveT0hMSksdGhpcy5mcmFnbWVudC51bmJpbmQoKSx0aGlzLmZyYWdtZW50PW5ldyB5Yih7dGVtcGxhdGU6dGhpcy50ZW1wbGF0ZSxyb290OnRoaXMsb3duZXI6dGhpc30pLHRoaXMucmVuZGVyKHRoaXMuZWwsdGhpcy5hbmNob3IpLHRoaXMudHJhbnNpdGlvbnNFbmFibGVkPWV9ZnVuY3Rpb24gRG8odCxlKXt2YXIgbixpO2lmKGk9bXUuc3RhcnQodGhpcywhMCksaCh0KSl7bj10O2Zvcih0IGluIG4pbi5oYXNPd25Qcm9wZXJ0eSh0KSYmKGU9blt0XSxJbyh0aGlzLHQsZSkpfWVsc2UgSW8odGhpcyx0LGUpO3JldHVybiBtdS5lbmQoKSxpfWZ1bmN0aW9uIElvKHQsZSxuKXtlPV8oQyhlKSksZS5pc1BhdHRlcm4/QSh0LGUpLmZvckVhY2goZnVuY3Rpb24oZSl7dC52aWV3bW9kZWwuc2V0KGUsbil9KTp0LnZpZXdtb2RlbC5zZXQoZSxuKX1mdW5jdGlvbiBMbyh0LGUpe3JldHVybiBIYSh0aGlzLHQsdm9pZCAwPT09ZT8tMTotZSl9ZnVuY3Rpb24gVm8oKXt2YXIgdDtyZXR1cm4gdGhpcy5mcmFnbWVudC51bmJpbmQoKSx0aGlzLnZpZXdtb2RlbC50ZWFyZG93bigpLHRoaXMuX29ic2VydmVycy5mb3JFYWNoKEspLHRoaXMuZnJhZ21lbnQucmVuZGVyZWQmJnRoaXMuZWwuX19yYWN0aXZlX2luc3RhbmNlc19fJiZJKHRoaXMuZWwuX19yYWN0aXZlX2luc3RhbmNlc19fLHRoaXMpLHRoaXMuc2hvdWxkRGVzdHJveT0hMCx0PXRoaXMuZnJhZ21lbnQucmVuZGVyZWQ/dGhpcy51bnJlbmRlcigpOm91LnJlc29sdmUoKSxGYi5maXJlKHRoaXMpLHRoaXMuX2JvdW5kRnVuY3Rpb25zLmZvckVhY2goTW8pLHR9ZnVuY3Rpb24gTW8odCl7ZGVsZXRlIHQuZm5bdC5wcm9wXX1mdW5jdGlvbiBVbyh0KXt2YXIgZT10aGlzO2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoamEpO3ZhciBuPXZvaWQgMDtyZXR1cm4vXFwqLy50ZXN0KHQpPyhuPXt9LEEodGhpcyxfKEModCkpKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe25bdC5zdHJdPSFlLnZpZXdtb2RlbC5nZXQodCl9KSx0aGlzLnNldChuKSk6dGhpcy5zZXQodCwhdGhpcy5nZXQodCkpfWZ1bmN0aW9uIFdvKCl7cmV0dXJuIHRoaXMuZnJhZ21lbnQudG9TdHJpbmcoITApfWZ1bmN0aW9uIHpvKCl7dmFyIHQsZTtpZighdGhpcy5mcmFnbWVudC5yZW5kZXJlZClyZXR1cm4gbShcInJhY3RpdmUudW5yZW5kZXIoKSB3YXMgY2FsbGVkIG9uIGEgUmFjdGl2ZSBpbnN0YW5jZSB0aGF0IHdhcyBub3QgcmVuZGVyZWRcIiksb3UucmVzb2x2ZSgpO2Zvcih0PW11LnN0YXJ0KHRoaXMsITApLGU9IXRoaXMuY29tcG9uZW50fHx0aGlzLmNvbXBvbmVudC5zaG91bGREZXN0cm95fHx0aGlzLnNob3VsZERlc3Ryb3k7dGhpcy5fYW5pbWF0aW9uc1swXTspdGhpcy5fYW5pbWF0aW9uc1swXS5zdG9wKCk7cmV0dXJuIHRoaXMuZnJhZ21lbnQudW5yZW5kZXIoZSksSSh0aGlzLmVsLl9fcmFjdGl2ZV9pbnN0YW5jZXNfXyx0aGlzKSxEYi5maXJlKHRoaXMpLG11LmVuZCgpLHR9ZnVuY3Rpb24gQm8odCl7dmFyIGU7cmV0dXJuIHQ9Xyh0KXx8WmEsZT1tdS5zdGFydCh0aGlzLCEwKSx0aGlzLnZpZXdtb2RlbC5tYXJrKHQpLG11LmVuZCgpLFZiLmZpcmUodGhpcyx0KSxlfWZ1bmN0aW9uIHFvKHQsZSl7dmFyIG4saSxyO2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0fHxlKXtyPVtdO2ZvcihpIGluIHRoaXMuX3R3b3dheUJpbmRpbmdzKSghdHx8XyhpKS5lcXVhbHNPclN0YXJ0c1dpdGgodCkpJiZyLnB1c2guYXBwbHkocix0aGlzLl90d293YXlCaW5kaW5nc1tpXSl9ZWxzZSByPXRoaXMuX3R3b3dheUJpbmRpbmdzW3RdO3JldHVybiBuPSRvKHRoaXMsciksdGhpcy5zZXQobil9ZnVuY3Rpb24gJG8odCxlKXt2YXIgbj17fSxpPVtdO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGUscjtpZighdC5yYWRpb05hbWV8fHQuZWxlbWVudC5ub2RlLmNoZWNrZWQpe2lmKHQuY2hlY2tib3hOYW1lKXJldHVybiB2b2lkKGlbdC5rZXlwYXRoLnN0cl18fHQuY2hhbmdlZCgpfHwoaS5wdXNoKHQua2V5cGF0aCksaVt0LmtleXBhdGguc3RyXT10KSk7ZT10LmF0dHJpYnV0ZS52YWx1ZSxyPXQuZ2V0VmFsdWUoKSxqKGUscil8fGEoZSxyKXx8KG5bdC5rZXlwYXRoLnN0cl09cil9fSksaS5sZW5ndGgmJmkuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZSxyLHM7ZT1pW3Quc3RyXSxyPWUuYXR0cmlidXRlLnZhbHVlLHM9ZS5nZXRWYWx1ZSgpLGoocixzKXx8KG5bdC5zdHJdPXMpfSksbn1mdW5jdGlvbiBRbyh0LGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJi9fc3VwZXIvLnRlc3QodCl9ZnVuY3Rpb24gWm8odCl7Zm9yKHZhciBlPXt9O3Q7KUhvKHQsZSksR28odCxlKSx0PXQuX1BhcmVudCE9PVFiP3QuX1BhcmVudDohMTtyZXR1cm4gZX1mdW5jdGlvbiBIbyh0LGUpe3ZkLmZvckVhY2goZnVuY3Rpb24obil7S28obi51c2VEZWZhdWx0cz90LnByb3RvdHlwZTp0LGUsbi5uYW1lKX0pfWZ1bmN0aW9uIEtvKHQsZSxuKXt2YXIgaSxyPU9iamVjdC5rZXlzKHRbbl0pO3IubGVuZ3RoJiYoKGk9ZVtuXSl8fChpPWVbbl09e30pLHIuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiEodCBpbiBpKX0pLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV09dFtuXVtlXX0pKX1mdW5jdGlvbiBHbyh0LGUpe09iamVjdC5rZXlzKHQucHJvdG90eXBlKS5mb3JFYWNoKGZ1bmN0aW9uKG4pe2lmKFwiY29tcHV0ZWRcIiE9PW4pe3ZhciBpPXQucHJvdG90eXBlW25dO2lmKG4gaW4gZSl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZVtuXSYmXCJmdW5jdGlvblwiPT10eXBlb2YgaSYmZVtuXS5fbWV0aG9kKXt2YXIgcj12b2lkIDAscz1pLl9tZXRob2Q7cyYmKGk9aS5fbWV0aG9kKSxyPVdiKGVbbl0uX21ldGhvZCxpKSxzJiYoci5fbWV0aG9kPXIpLGVbbl09cn19ZWxzZSBlW25dPWkuX21ldGhvZD9pLl9tZXRob2Q6aX19KX1mdW5jdGlvbiBZbygpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9QXJyYXkodCksbj0wO3Q+bjtuKyspZVtuXT1hcmd1bWVudHNbbl07cmV0dXJuIGUubGVuZ3RoP2UucmVkdWNlKEpvLHRoaXMpOkpvKHRoaXMpfWZ1bmN0aW9uIEpvKHQpe3ZhciBlLG4scj12b2lkIDA9PT1hcmd1bWVudHNbMV0/e306YXJndW1lbnRzWzFdO3JldHVybiByLnByb3RvdHlwZSBpbnN0YW5jZW9mIFFiJiYocj16YihyKSksZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGU/dm9pZCBCeSh0aGlzLHQpOm5ldyBlKHQpfSxuPXdhKHQucHJvdG90eXBlKSxuLmNvbnN0cnVjdG9yPWUsa2EoZSx7ZGVmYXVsdHM6e3ZhbHVlOm59LGV4dGVuZDp7dmFsdWU6WW8sd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSxfUGFyZW50Ont2YWx1ZTp0fX0pLGJkLmV4dGVuZCh0LG4sciksV2guZXh0ZW5kKHQsbixyKSxyLmNvbXB1dGVkJiYobi5jb21wdXRlZD1pKHdhKHQucHJvdG90eXBlLmNvbXB1dGVkKSxyLmNvbXB1dGVkKSksZS5wcm90b3R5cGU9bixlfXZhciBYbyx0YSxlYSxuYSxpYSxyYSxzYSxvYT0zLGFhPXtlbDp2b2lkIDAsYXBwZW5kOiExLHRlbXBsYXRlOnt2Om9hLHQ6W119LHByZXNlcnZlV2hpdGVzcGFjZTohMSxzYW5pdGl6ZTohMSxzdHJpcENvbW1lbnRzOiEwLGRlbGltaXRlcnM6W1wie3tcIixcIn19XCJdLHRyaXBsZURlbGltaXRlcnM6W1wie3t7XCIsXCJ9fX1cIl0saW50ZXJwb2xhdGU6ITEsZGF0YTp7fSxjb21wdXRlZDp7fSxtYWdpYzohMSxtb2RpZnlBcnJheXM6ITAsYWRhcHQ6W10saXNvbGF0ZWQ6ITEsdHdvd2F5OiEwLGxhenk6ITEsbm9JbnRybzohMSx0cmFuc2l0aW9uc0VuYWJsZWQ6ITAsY29tcGxldGU6dm9pZCAwLGNzczpudWxsLG5vQ3NzVHJhbnNmb3JtOiExfSx1YT1hYSxoYT17bGluZWFyOmZ1bmN0aW9uKHQpe3JldHVybiB0fSxlYXNlSW46ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgucG93KHQsMyl9LGVhc2VPdXQ6ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgucG93KHQtMSwzKSsxfSxlYXNlSW5PdXQ6ZnVuY3Rpb24odCl7cmV0dXJuKHQvPS41KTwxPy41Kk1hdGgucG93KHQsMyk6LjUqKE1hdGgucG93KHQtMiwzKSsyKX19O1hvPVwib2JqZWN0XCI9PXR5cGVvZiBkb2N1bWVudCx0YT1cInVuZGVmaW5lZFwiIT10eXBlb2YgbmF2aWdhdG9yJiYvanNEb20vLnRlc3QobmF2aWdhdG9yLmFwcE5hbWUpLGVhPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBjb25zb2xlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBjb25zb2xlLndhcm4mJlwiZnVuY3Rpb25cIj09dHlwZW9mIGNvbnNvbGUud2Fybi5hcHBseTt0cnl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LFwidGVzdFwiLHt2YWx1ZTowfSksbmE9ITB9Y2F0Y2goY2Epe25hPSExfWlhPXtodG1sOlwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiLG1hdGhtbDpcImh0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUxcIixzdmc6XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLHhsaW5rOlwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLHhtbDpcImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZVwiLHhtbG5zOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC94bWxucy9cIn0scmE9XCJ1bmRlZmluZWRcIj09dHlwZW9mIGRvY3VtZW50PyExOmRvY3VtZW50JiZkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5oYXNGZWF0dXJlKFwiaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNCYXNpY1N0cnVjdHVyZVwiLFwiMS4xXCIpLHNhPVtcIm9cIixcIm1zXCIsXCJtb3pcIixcIndlYmtpdFwiXTt2YXIgbGEsZmEsZGEscGEsbWEsdmEsZ2EseWEsYmE7aWYobGE9cmE/ZnVuY3Rpb24odCxlKXtyZXR1cm4gZSYmZSE9PWlhLmh0bWw/ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGUsdCk6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0KX06ZnVuY3Rpb24odCxlKXtpZihlJiZlIT09aWEuaHRtbCl0aHJvd1wiVGhpcyBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgbmFtZXNwYWNlcyBvdGhlciB0aGFuIGh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwuIFRoZSBtb3N0IGxpa2VseSBjYXVzZSBvZiB0aGlzIGVycm9yIGlzIHRoYXQgeW91J3JlIHRyeWluZyB0byByZW5kZXIgU1ZHIGluIGFuIG9sZGVyIGJyb3dzZXIuIFNlZSBodHRwOi8vZG9jcy5yYWN0aXZlanMub3JnL2xhdGVzdC9zdmctYW5kLW9sZGVyLWJyb3dzZXJzIGZvciBtb3JlIGluZm9ybWF0aW9uXCI7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodCl9LFhvKXtmb3IoZGE9bGEoXCJkaXZcIikscGE9W1wibWF0Y2hlc1wiLFwibWF0Y2hlc1NlbGVjdG9yXCJdLGJhPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3JldHVybiBlW3RdKG4pfX0sZ2E9cGEubGVuZ3RoO2dhLS0mJiFmYTspaWYobWE9cGFbZ2FdLGRhW21hXSlmYT1iYShtYSk7ZWxzZSBmb3IoeWE9c2EubGVuZ3RoO3lhLS07KWlmKHZhPXNhW2dhXSttYS5zdWJzdHIoMCwxKS50b1VwcGVyQ2FzZSgpK21hLnN1YnN0cmluZygxKSxkYVt2YV0pe2ZhPWJhKHZhKTticmVha31mYXx8KGZhPWZ1bmN0aW9uKHQsZSl7dmFyIG4saSxyO2ZvcihpPXQucGFyZW50Tm9kZSxpfHwoZGEuaW5uZXJIVE1MPVwiXCIsaT1kYSx0PXQuY2xvbmVOb2RlKCksZGEuYXBwZW5kQ2hpbGQodCkpLG49aS5xdWVyeVNlbGVjdG9yQWxsKGUpLHI9bi5sZW5ndGg7ci0tOylpZihuW3JdPT09dClyZXR1cm4hMDtyZXR1cm4hMX0pfWVsc2UgZmE9bnVsbDt2YXIgd2EseGEsa2EsRWE9bnVsbDt0cnl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LFwidGVzdFwiLHt2YWx1ZTowfSksWG8mJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFwidGVzdFwiLHt2YWx1ZTowfSkseGE9T2JqZWN0LmRlZmluZVByb3BlcnR5fWNhdGNoKF9hKXt4YT1mdW5jdGlvbih0LGUsbil7dFtlXT1uLnZhbHVlfX10cnl7dHJ5e09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHt9LHt0ZXN0Ont2YWx1ZTowfX0pfWNhdGNoKF9hKXt0aHJvdyBfYX1YbyYmT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobGEoXCJkaXZcIikse3Rlc3Q6e3ZhbHVlOjB9fSksa2E9T2JqZWN0LmRlZmluZVByb3BlcnRpZXN9Y2F0Y2goX2Epe2thPWZ1bmN0aW9uKHQsZSl7dmFyIG47Zm9yKG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiZ4YSh0LG4sZVtuXSl9fXRyeXtPYmplY3QuY3JlYXRlKG51bGwpLHdhPU9iamVjdC5jcmVhdGV9Y2F0Y2goX2Epe3dhPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oKXt9O3JldHVybiBmdW5jdGlvbihlLG4pe3ZhciBpO3JldHVybiBudWxsPT09ZT97fToodC5wcm90b3R5cGU9ZSxpPW5ldyB0LG4mJk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGksbiksaSl9fSgpfXZhciBBYSxTYSxDYSxPYT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFBhPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsVGE9L15cXFtvYmplY3QgKD86QXJyYXl8RmlsZUxpc3QpXFxdJC8sRmE9ZnVuY3Rpb24oKXt9LFJhPXt9O2VhPyFmdW5jdGlvbigpe3ZhciB0PVtcIiVjUmFjdGl2ZS5qcyAlYzAuNy4zICVjaW4gZGVidWcgbW9kZSwgJWNtb3JlLi4uXCIsXCJjb2xvcjogcmdiKDExNCwgMTU3LCA1Mik7IGZvbnQtd2VpZ2h0OiBub3JtYWw7XCIsXCJjb2xvcjogcmdiKDg1LCA4NSwgODUpOyBmb250LXdlaWdodDogbm9ybWFsO1wiLFwiY29sb3I6IHJnYig4NSwgODUsIDg1KTsgZm9udC13ZWlnaHQ6IG5vcm1hbDtcIixcImNvbG9yOiByZ2IoODIsIDE0MCwgMjI0KTsgZm9udC13ZWlnaHQ6IG5vcm1hbDsgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XCJdLGU9XCJZb3UncmUgcnVubmluZyBSYWN0aXZlIDAuNy4zIGluIGRlYnVnIG1vZGUgLSBtZXNzYWdlcyB3aWxsIGJlIHByaW50ZWQgdG8gdGhlIGNvbnNvbGUgdG8gaGVscCB5b3UgZml4IHByb2JsZW1zIGFuZCBvcHRpbWlzZSB5b3VyIGFwcGxpY2F0aW9uLlxcblxcblRvIGRpc2FibGUgZGVidWcgbW9kZSwgYWRkIHRoaXMgbGluZSBhdCB0aGUgc3RhcnQgb2YgeW91ciBhcHA6XFxuICBSYWN0aXZlLkRFQlVHID0gZmFsc2U7XFxuXFxuVG8gZGlzYWJsZSBkZWJ1ZyBtb2RlIHdoZW4geW91ciBhcHAgaXMgbWluaWZpZWQsIGFkZCB0aGlzIHNuaXBwZXQ6XFxuICBSYWN0aXZlLkRFQlVHID0gL3VubWluaWZpZWQvLnRlc3QoZnVuY3Rpb24oKXsvKnVubWluaWZpZWQqL30pO1xcblxcbkdldCBoZWxwIGFuZCBzdXBwb3J0OlxcbiAgaHR0cDovL2RvY3MucmFjdGl2ZWpzLm9yZ1xcbiAgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy90YWdnZWQvcmFjdGl2ZWpzXFxuICBodHRwOi8vZ3JvdXBzLmdvb2dsZS5jb20vZm9ydW0vIyFmb3J1bS9yYWN0aXZlLWpzXFxuICBodHRwOi8vdHdpdHRlci5jb20vcmFjdGl2ZWpzXFxuXFxuRm91bmQgYSBidWc/IFJhaXNlIGFuIGlzc3VlOlxcbiAgaHR0cHM6Ly9naXRodWIuY29tL3JhY3RpdmVqcy9yYWN0aXZlL2lzc3Vlc1xcblxcblwiO0NhPWZ1bmN0aW9uKCl7dmFyIG49ISFjb25zb2xlLmdyb3VwQ29sbGFwc2VkO2NvbnNvbGVbbj9cImdyb3VwQ29sbGFwc2VkXCI6XCJsb2dcIl0uYXBwbHkoY29uc29sZSx0KSxjb25zb2xlLmxvZyhlKSxuJiZjb25zb2xlLmdyb3VwRW5kKHQpLENhPUZhfSxTYT1mdW5jdGlvbih0LGUpe2lmKENhKCksXCJvYmplY3RcIj09dHlwZW9mIGVbZS5sZW5ndGgtMV0pe3ZhciBuPWUucG9wKCksaT1uP24ucmFjdGl2ZTpudWxsO2lmKGkpe3ZhciByPXZvaWQgMDtpLmNvbXBvbmVudCYmKHI9aS5jb21wb25lbnQubmFtZSkmJih0PVwiPFwiK3IrXCI+IFwiK3QpO3ZhciBzPXZvaWQgMDsocz1uLm5vZGV8fGkuZnJhZ21lbnQmJmkuZnJhZ21lbnQucmVuZGVyZWQmJmkuZmluZChcIipcIikpJiZlLnB1c2gocyl9fWNvbnNvbGUud2Fybi5hcHBseShjb25zb2xlLFtcIiVjUmFjdGl2ZS5qczogJWNcIit0LFwiY29sb3I6IHJnYigxMTQsIDE1NywgNTIpO1wiLFwiY29sb3I6IHJnYig4NSwgODUsIDg1KTtcIl0uY29uY2F0KGUpKX0sQWE9ZnVuY3Rpb24oKXtjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLGFyZ3VtZW50cyl9fSgpOlNhPUFhPUNhPUZhO3ZhciBqYT1cIkJhZCBhcmd1bWVudHNcIixOYT0nQSBmdW5jdGlvbiB3YXMgc3BlY2lmaWVkIGZvciBcIiVzXCIgJXMsIGJ1dCBubyAlcyB3YXMgcmV0dXJuZWQnLERhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuJ01pc3NpbmcgXCInK3QrJ1wiICcrZStcIiBwbHVnaW4uIFlvdSBtYXkgbmVlZCB0byBkb3dubG9hZCBhIHBsdWdpbiB2aWEgaHR0cDovL2RvY3MucmFjdGl2ZWpzLm9yZy9sYXRlc3QvcGx1Z2lucyNcIitlK1wic1wifSxJYT1mdW5jdGlvbih0LGUsbixpKXtpZih0PT09ZSlyZXR1cm4gYihlKTtpZihpKXt2YXIgcj1nKFwiaW50ZXJwb2xhdG9yc1wiLG4saSk7aWYocilyZXR1cm4gcih0LGUpfHxiKGUpO2woRGEoaSxcImludGVycG9sYXRvclwiKSl9cmV0dXJuIE1hLm51bWJlcih0LGUpfHxNYS5hcnJheSh0LGUpfHxNYS5vYmplY3QodCxlKXx8YihlKX0sTGE9SWEsVmE9e251bWJlcjpmdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiB1KHQpJiZ1KGUpPyh0PSt0LGU9K2Usbj1lLXQsbj9mdW5jdGlvbihlKXtyZXR1cm4gdCtlKm59OmZ1bmN0aW9uKCl7cmV0dXJuIHR9KTpudWxsfSxhcnJheTpmdW5jdGlvbih0LGUpe3ZhciBuLGkscixvO2lmKCFzKHQpfHwhcyhlKSlyZXR1cm4gbnVsbDtmb3Iobj1bXSxpPVtdLG89cj1NYXRoLm1pbih0Lmxlbmd0aCxlLmxlbmd0aCk7by0tOylpW29dPUxhKHRbb10sZVtvXSk7Zm9yKG89cjtvPHQubGVuZ3RoO28rPTEpbltvXT10W29dO2ZvcihvPXI7bzxlLmxlbmd0aDtvKz0xKW5bb109ZVtvXTtyZXR1cm4gZnVuY3Rpb24odCl7Zm9yKHZhciBlPXI7ZS0tOyluW2VdPWlbZV0odCk7cmV0dXJuIG59fSxvYmplY3Q6ZnVuY3Rpb24odCxlKXt2YXIgbixpLHIscyxvO2lmKCFoKHQpfHwhaChlKSlyZXR1cm4gbnVsbDtuPVtdLHM9e30scj17fTtmb3IobyBpbiB0KU9hLmNhbGwodCxvKSYmKE9hLmNhbGwoZSxvKT8obi5wdXNoKG8pLHJbb109TGEodFtvXSxlW29dKSk6c1tvXT10W29dKTtmb3IobyBpbiBlKU9hLmNhbGwoZSxvKSYmIU9hLmNhbGwodCxvKSYmKHNbb109ZVtvXSk7cmV0dXJuIGk9bi5sZW5ndGgsZnVuY3Rpb24odCl7Zm9yKHZhciBlLG89aTtvLS07KWU9bltvXSxzW2VdPXJbZV0odCk7cmV0dXJuIHN9fX0sTWE9VmEsVWE9dyxXYT17fSx6YT0vXFxbXFxzKihcXCp8WzAtOV18WzEtOV1bMC05XSspXFxzKlxcXS9nLEJhPS9cXCovLHFhPXt9LCRhPWZ1bmN0aW9uKHQpe3ZhciBlPXQuc3BsaXQoXCIuXCIpO3RoaXMuc3RyPXQsXCJAXCI9PT10WzBdJiYodGhpcy5pc1NwZWNpYWw9ITAsdGhpcy52YWx1ZT1FKHQpKSx0aGlzLmZpcnN0S2V5PWVbMF0sdGhpcy5sYXN0S2V5PWUucG9wKCksdGhpcy5pc1BhdHRlcm49QmEudGVzdCh0KSx0aGlzLnBhcmVudD1cIlwiPT09dD9udWxsOl8oZS5qb2luKFwiLlwiKSksdGhpcy5pc1Jvb3Q9IXR9OyRhLnByb3RvdHlwZT17ZXF1YWxzT3JTdGFydHNXaXRoOmZ1bmN0aW9uKHQpe3JldHVybiB0PT09dGhpc3x8dGhpcy5zdGFydHNXaXRoKHQpfSxqb2luOmZ1bmN0aW9uKHQpe3JldHVybiBfKHRoaXMuaXNSb290P1N0cmluZyh0KTp0aGlzLnN0citcIi5cIit0KX0scmVwbGFjZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzPT09dD9lOnRoaXMuc3RhcnRzV2l0aCh0KT9udWxsPT09ZT9lOl8odGhpcy5zdHIucmVwbGFjZSh0LnN0citcIi5cIixlLnN0citcIi5cIikpOnZvaWQgMH0sc3RhcnRzV2l0aDpmdW5jdGlvbih0KXtyZXR1cm4gdD90JiZ0aGlzLnN0ci5zdWJzdHIoMCx0LnN0ci5sZW5ndGgrMSk9PT10LnN0citcIi5cIjohMX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJCYWQgY29lcmNpb25cIil9LHZhbHVlT2Y6ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJCYWQgY29lcmNpb25cIil9LHdpbGRjYXJkTWF0Y2hlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93aWxkY2FyZE1hdGNoZXN8fCh0aGlzLl93aWxkY2FyZE1hdGNoZXM9VWEodGhpcy5zdHIpKX19O3ZhciBRYSxaYT1fKFwiXCIpLEhhPU8sS2E9XCJDYW5ub3QgYWRkIHRvIGEgbm9uLW51bWVyaWMgdmFsdWVcIixHYT1QO1widW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3c/UWE9bnVsbDooIWZ1bmN0aW9uKHQsZSxuKXt2YXIgaSxyO2lmKCFuLnJlcXVlc3RBbmltYXRpb25GcmFtZSl7Zm9yKGk9MDtpPHQubGVuZ3RoJiYhbi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU7KytpKW4ucmVxdWVzdEFuaW1hdGlvbkZyYW1lPW5bdFtpXStcIlJlcXVlc3RBbmltYXRpb25GcmFtZVwiXTtuLnJlcXVlc3RBbmltYXRpb25GcmFtZXx8KHI9bi5zZXRUaW1lb3V0LG4ucmVxdWVzdEFuaW1hdGlvbkZyYW1lPWZ1bmN0aW9uKHQpe3ZhciBuLGkscztyZXR1cm4gbj1EYXRlLm5vdygpLGk9TWF0aC5tYXgoMCwxNi0obi1lKSkscz1yKGZ1bmN0aW9uKCl7dChuK2kpfSxpKSxlPW4raSxzfSl9fShzYSwwLHdpbmRvdyksUWE9d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSk7dmFyIFlhLEphPVFhO1lhPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5wZXJmb3JtYW5jZSYmXCJmdW5jdGlvblwiPT10eXBlb2Ygd2luZG93LnBlcmZvcm1hbmNlLm5vdz9mdW5jdGlvbigpe3JldHVybiB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCl9OmZ1bmN0aW9uKCl7cmV0dXJuIERhdGUubm93KCl9O3ZhciBYYT1ZYSx0dT17Y29uc3RydWN0OntkZXByZWNhdGVkOlwiYmVmb3JlSW5pdFwiLHJlcGxhY2VtZW50Olwib25jb25zdHJ1Y3RcIn0scmVuZGVyOntkZXByZWNhdGVkOlwiaW5pdFwiLG1lc3NhZ2U6J1RoZSBcImluaXRcIiBtZXRob2QgaGFzIGJlZW4gZGVwcmVjYXRlZCBhbmQgd2lsbCBsaWtlbHkgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSByZWxlYXNlLiBZb3UgY2FuIGVpdGhlciB1c2UgdGhlIFwib25pbml0XCIgbWV0aG9kIHdoaWNoIHdpbGwgZmlyZSBvbmx5IG9uY2UgcHJpb3IgdG8sIGFuZCByZWdhcmRsZXNzIG9mLCBhbnkgZXZlbnR1YWwgcmFjdGl2ZSBpbnN0YW5jZSBiZWluZyByZW5kZXJlZCwgb3IgaWYgeW91IG5lZWQgdG8gYWNjZXNzIHRoZSByZW5kZXJlZCBET00sIHVzZSBcIm9ucmVuZGVyXCIgaW5zdGVhZC4gU2VlIGh0dHA6Ly9kb2NzLnJhY3RpdmVqcy5vcmcvbGF0ZXN0L21pZ3JhdGluZyBmb3IgbW9yZSBpbmZvcm1hdGlvbi4nfSxjb21wbGV0ZTp7ZGVwcmVjYXRlZDpcImNvbXBsZXRlXCIscmVwbGFjZW1lbnQ6XCJvbmNvbXBsZXRlXCJ9fTtULnByb3RvdHlwZS5maXJlPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbihuKXtyZXR1cm4gdFtuXT8oZT90W25dKGUpOnRbbl0oKSwhMCk6dm9pZCAwfW4odGhpcy5tZXRob2QpLCF0W3RoaXMubWV0aG9kXSYmdGhpcy5kZXByZWNhdGUmJm4odGhpcy5kZXByZWNhdGUuZGVwcmVjYXRlZCkmJih0aGlzLmRlcHJlY2F0ZS5tZXNzYWdlP20odGhpcy5kZXByZWNhdGUubWVzc2FnZSk6bSgnVGhlIG1ldGhvZCBcIiVzXCIgaGFzIGJlZW4gZGVwcmVjYXRlZCBpbiBmYXZvciBvZiBcIiVzXCIgYW5kIHdpbGwgbGlrZWx5IGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgcmVsZWFzZS4gU2VlIGh0dHA6Ly9kb2NzLnJhY3RpdmVqcy5vcmcvbGF0ZXN0L21pZ3JhdGluZyBmb3IgbW9yZSBpbmZvcm1hdGlvbi4nLHRoaXMuZGVwcmVjYXRlLmRlcHJlY2F0ZWQsdGhpcy5kZXByZWNhdGUucmVwbGFjZW1lbnQpKSxlP3QuZmlyZSh0aGlzLmV2ZW50LGUpOnQuZmlyZSh0aGlzLmV2ZW50KX07dmFyIGV1LG51PVQsaXU9e30scnU9e30sc3U9e307XCJmdW5jdGlvblwiPT10eXBlb2YgUHJvbWlzZT9ldT1Qcm9taXNlOihldT1mdW5jdGlvbih0KXt2YXIgZSxuLGkscixzLG8sYT1bXSx1PVtdLGg9aXU7aT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oaSl7aD09PWl1JiYoZT1pLGg9dCxuPU0oaD09PXJ1P2E6dSxlKSxWKG4pKX19LHI9aShydSkscz1pKHN1KTt0cnl7dChyLHMpfWNhdGNoKGMpe3MoYyl9cmV0dXJuIG89e3RoZW46ZnVuY3Rpb24odCxlKXt2YXIgaT1uZXcgZXUoZnVuY3Rpb24ocixzKXt2YXIgbz1mdW5jdGlvbih0LGUsbil7ZS5wdXNoKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/ZnVuY3Rpb24oZSl7dmFyIG47dHJ5e249dChlKSxVKGksbixyLHMpfWNhdGNoKG8pe3Mobyl9fTpuKX07byh0LGEsciksbyhlLHUscyksaCE9PWl1JiZWKG4pfSk7cmV0dXJuIGl9fSxvW1wiY2F0Y2hcIl09ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhlbihudWxsLHQpfSxvfSxldS5hbGw9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBldShmdW5jdGlvbihlLG4pe3ZhciBpLHIscyxvPVtdO2lmKCF0Lmxlbmd0aClyZXR1cm4gdm9pZCBlKG8pO2ZvcihzPWZ1bmN0aW9uKHQscil7dCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC50aGVuP3QudGhlbihmdW5jdGlvbih0KXtvW3JdPXQsLS1pfHxlKG8pfSxuKToob1tyXT10LC0taXx8ZShvKSl9LGk9cj10Lmxlbmd0aDtyLS07KXModFtyXSxyKX0pfSxldS5yZXNvbHZlPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZXUoZnVuY3Rpb24oZSl7ZSh0KX0pfSxldS5yZWplY3Q9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBldShmdW5jdGlvbihlLG4pe24odCl9KX0pO3ZhciBvdT1ldSxhdT1mdW5jdGlvbih0KXtkbyBpZih2b2lkIDAhPT10LmNvbnRleHQpcmV0dXJuIHQuY29udGV4dDt3aGlsZSh0PXQucGFyZW50KTtyZXR1cm4gWmF9LHV1PVcsaHU9ZnVuY3Rpb24odCxlKXt0aGlzLmNhbGxiYWNrPXQsdGhpcy5wYXJlbnQ9ZSx0aGlzLmludHJvcz1bXSx0aGlzLm91dHJvcz1bXSx0aGlzLmNoaWxkcmVuPVtdLHRoaXMudG90YWxDaGlsZHJlbj10aGlzLm91dHJvQ2hpbGRyZW49MCx0aGlzLmRldGFjaFF1ZXVlPVtdLHRoaXMuZGVjb3JhdG9yUXVldWU9W10sdGhpcy5vdXRyb3NDb21wbGV0ZT0hMSxlJiZlLmFkZENoaWxkKHRoaXMpfTtodS5wcm90b3R5cGU9e2FkZENoaWxkOmZ1bmN0aW9uKHQpe3RoaXMuY2hpbGRyZW4ucHVzaCh0KSx0aGlzLnRvdGFsQ2hpbGRyZW4rPTEsdGhpcy5vdXRyb0NoaWxkcmVuKz0xfSxkZWNyZW1lbnRPdXRyb3M6ZnVuY3Rpb24oKXt0aGlzLm91dHJvQ2hpbGRyZW4tPTEsSih0aGlzKX0sZGVjcmVtZW50VG90YWw6ZnVuY3Rpb24oKXt0aGlzLnRvdGFsQ2hpbGRyZW4tPTEsSih0aGlzKX0sYWRkOmZ1bmN0aW9uKHQpe3ZhciBlPXQuaXNJbnRybz90aGlzLmludHJvczp0aGlzLm91dHJvcztlLnB1c2godCl9LGFkZERlY29yYXRvcjpmdW5jdGlvbih0KXt0aGlzLmRlY29yYXRvclF1ZXVlLnB1c2godCl9LHJlbW92ZTpmdW5jdGlvbih0KXt2YXIgZT10LmlzSW50cm8/dGhpcy5pbnRyb3M6dGhpcy5vdXRyb3M7SShlLHQpLEoodGhpcyl9LGluaXQ6ZnVuY3Rpb24oKXt0aGlzLnJlYWR5PSEwLEoodGhpcyl9LGRldGFjaE5vZGVzOmZ1bmN0aW9uKCl7dGhpcy5kZWNvcmF0b3JRdWV1ZS5mb3JFYWNoKFEpLHRoaXMuZGV0YWNoUXVldWUuZm9yRWFjaChHKSx0aGlzLmNoaWxkcmVuLmZvckVhY2goWSl9fTt2YXIgY3UsbHUsZnU9aHUsZHU9W10scHU9bmV3IG51KFwiY2hhbmdlXCIpO2x1PXtzdGFydDpmdW5jdGlvbih0LGUpe3ZhciBuLGk7cmV0dXJuIGUmJihuPW5ldyBvdShmdW5jdGlvbih0KXtyZXR1cm4gaT10fSkpLGN1PXtwcmV2aW91c0JhdGNoOmN1LHRyYW5zaXRpb25NYW5hZ2VyOm5ldyBmdShpLGN1JiZjdS50cmFuc2l0aW9uTWFuYWdlciksdmlld3M6W10sdGFza3M6W10scmFjdGl2ZXM6W10saW5zdGFuY2U6dH0sdCYmY3UucmFjdGl2ZXMucHVzaCh0KSxufSxlbmQ6ZnVuY3Rpb24oKXtYKCksY3UudHJhbnNpdGlvbk1hbmFnZXIuaW5pdCgpLCFjdS5wcmV2aW91c0JhdGNoJiZjdS5pbnN0YW5jZSYmKGN1Lmluc3RhbmNlLnZpZXdtb2RlbC5jaGFuZ2VzPVtdKSxjdT1jdS5wcmV2aW91c0JhdGNofSxhZGRSYWN0aXZlOmZ1bmN0aW9uKHQpe2N1JiZGKGN1LnJhY3RpdmVzLHQpfSxyZWdpc3RlclRyYW5zaXRpb246ZnVuY3Rpb24odCl7dC5fbWFuYWdlcj1jdS50cmFuc2l0aW9uTWFuYWdlcixjdS50cmFuc2l0aW9uTWFuYWdlci5hZGQodCl9LHJlZ2lzdGVyRGVjb3JhdG9yOmZ1bmN0aW9uKHQpe2N1LnRyYW5zaXRpb25NYW5hZ2VyLmFkZERlY29yYXRvcih0KX0sYWRkVmlldzpmdW5jdGlvbih0KXtjdS52aWV3cy5wdXNoKHQpfSxhZGRVbnJlc29sdmVkOmZ1bmN0aW9uKHQpe2R1LnB1c2godCl9LHJlbW92ZVVucmVzb2x2ZWQ6ZnVuY3Rpb24odCl7SShkdSx0KX0sZGV0YWNoV2hlblJlYWR5OmZ1bmN0aW9uKHQpe2N1LnRyYW5zaXRpb25NYW5hZ2VyLmRldGFjaFF1ZXVlLnB1c2godCl9LHNjaGVkdWxlVGFzazpmdW5jdGlvbih0LGUpe3ZhciBuO2lmKGN1KXtmb3Iobj1jdTtlJiZuLnByZXZpb3VzQmF0Y2g7KW49bi5wcmV2aW91c0JhdGNoO24udGFza3MucHVzaCh0KX1lbHNlIHQoKX19O3ZhciBtdT1sdSx2dT1bXSxndT17dGljazpmdW5jdGlvbigpe3ZhciB0LGUsbjtmb3Iobj1YYSgpLG11LnN0YXJ0KCksdD0wO3Q8dnUubGVuZ3RoO3QrPTEpZT12dVt0XSxlLnRpY2sobil8fHZ1LnNwbGljZSh0LS0sMSk7bXUuZW5kKCksdnUubGVuZ3RoP0phKGd1LnRpY2spOmd1LnJ1bm5pbmc9ITF9LGFkZDpmdW5jdGlvbih0KXt2dS5wdXNoKHQpLGd1LnJ1bm5pbmd8fChndS5ydW5uaW5nPSEwLEphKGd1LnRpY2spKX0sYWJvcnQ6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4saT12dS5sZW5ndGg7aS0tOyluPXZ1W2ldLG4ucm9vdD09PWUmJm4ua2V5cGF0aD09PXQmJm4uc3RvcCgpfX0seXU9Z3UsYnU9ZnVuY3Rpb24odCl7dmFyIGU7dGhpcy5zdGFydFRpbWU9RGF0ZS5ub3coKTtmb3IoZSBpbiB0KXQuaGFzT3duUHJvcGVydHkoZSkmJih0aGlzW2VdPXRbZV0pO3RoaXMuaW50ZXJwb2xhdG9yPUxhKHRoaXMuZnJvbSx0aGlzLnRvLHRoaXMucm9vdCx0aGlzLmludGVycG9sYXRvciksdGhpcy5ydW5uaW5nPSEwLHRoaXMudGljaygpfTtidS5wcm90b3R5cGU9e3RpY2s6ZnVuY3Rpb24oKXt2YXIgdCxlLG4saSxyLHM7cmV0dXJuIHM9dGhpcy5rZXlwYXRoLHRoaXMucnVubmluZz8oaT1EYXRlLm5vdygpLHQ9aS10aGlzLnN0YXJ0VGltZSx0Pj10aGlzLmR1cmF0aW9uPyhudWxsIT09cyYmKG11LnN0YXJ0KHRoaXMucm9vdCksdGhpcy5yb290LnZpZXdtb2RlbC5zZXQocyx0aGlzLnRvKSxtdS5lbmQoKSksdGhpcy5zdGVwJiZ0aGlzLnN0ZXAoMSx0aGlzLnRvKSx0aGlzLmNvbXBsZXRlKHRoaXMudG8pLHI9dGhpcy5yb290Ll9hbmltYXRpb25zLmluZGV4T2YodGhpcyksLTE9PT1yJiZtKFwiQW5pbWF0aW9uIHdhcyBub3QgZm91bmRcIiksdGhpcy5yb290Ll9hbmltYXRpb25zLnNwbGljZShyLDEpLHRoaXMucnVubmluZz0hMSwhMSk6KGU9dGhpcy5lYXNpbmc/dGhpcy5lYXNpbmcodC90aGlzLmR1cmF0aW9uKTp0L3RoaXMuZHVyYXRpb24sXG5udWxsIT09cyYmKG49dGhpcy5pbnRlcnBvbGF0b3IoZSksbXUuc3RhcnQodGhpcy5yb290KSx0aGlzLnJvb3Qudmlld21vZGVsLnNldChzLG4pLG11LmVuZCgpKSx0aGlzLnN0ZXAmJnRoaXMuc3RlcChlLG4pLCEwKSk6ITF9LHN0b3A6ZnVuY3Rpb24oKXt2YXIgdDt0aGlzLnJ1bm5pbmc9ITEsdD10aGlzLnJvb3QuX2FuaW1hdGlvbnMuaW5kZXhPZih0aGlzKSwtMT09PXQmJm0oXCJBbmltYXRpb24gd2FzIG5vdCBmb3VuZFwiKSx0aGlzLnJvb3QuX2FuaW1hdGlvbnMuc3BsaWNlKHQsMSl9fTt2YXIgd3U9YnUseHU9bnQsa3U9e3N0b3A6RmF9LEV1PXJ0LF91PW5ldyBudShcImRldGFjaFwiKSxBdT1zdCxTdT1vdCxDdT1mdW5jdGlvbigpe3ZhciB0LGUsbjt0PXRoaXMuX3Jvb3RbdGhpcy5faXNDb21wb25lbnRRdWVyeT9cImxpdmVDb21wb25lbnRRdWVyaWVzXCI6XCJsaXZlUXVlcmllc1wiXSxlPXRoaXMuc2VsZWN0b3Isbj10LmluZGV4T2YoZSksLTEhPT1uJiYodC5zcGxpY2UobiwxKSx0W2VdPW51bGwpfSxPdT1mdW5jdGlvbih0LGUpe3ZhciBuLGkscixzLG8sYSx1LGgsYyxsO2ZvcihuPXV0KHQuY29tcG9uZW50fHx0Ll9yYWN0aXZlLnByb3h5KSxpPXV0KGUuY29tcG9uZW50fHxlLl9yYWN0aXZlLnByb3h5KSxyPUQobikscz1EKGkpO3ImJnI9PT1zOyluLnBvcCgpLGkucG9wKCksbz1yLHI9RChuKSxzPUQoaSk7aWYocj1yLmNvbXBvbmVudHx8cixzPXMuY29tcG9uZW50fHxzLGM9ci5wYXJlbnRGcmFnbWVudCxsPXMucGFyZW50RnJhZ21lbnQsYz09PWwpcmV0dXJuIGE9Yy5pdGVtcy5pbmRleE9mKHIpLHU9bC5pdGVtcy5pbmRleE9mKHMpLGEtdXx8bi5sZW5ndGgtaS5sZW5ndGg7aWYoaD1vLmZyYWdtZW50cylyZXR1cm4gYT1oLmluZGV4T2YoYyksdT1oLmluZGV4T2YobCksYS11fHxuLmxlbmd0aC1pLmxlbmd0aDt0aHJvdyBuZXcgRXJyb3IoXCJBbiB1bmV4cGVjdGVkIGNvbmRpdGlvbiB3YXMgbWV0IHdoaWxlIGNvbXBhcmluZyB0aGUgcG9zaXRpb24gb2YgdHdvIGNvbXBvbmVudHMuIFBsZWFzZSBmaWxlIGFuIGlzc3VlIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS9SYWN0aXZlSlMvUmFjdGl2ZS9pc3N1ZXMgLSB0aGFua3MhXCIpfSxQdT1mdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiB0LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uPyhuPXQuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZSksMiZuPzE6LTEpOk91KHQsZSl9LFR1PWZ1bmN0aW9uKCl7dGhpcy5zb3J0KHRoaXMuX2lzQ29tcG9uZW50UXVlcnk/T3U6UHUpLHRoaXMuX2RpcnR5PSExfSxGdT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5fZGlydHl8fCh0aGlzLl9kaXJ0eT0hMCxtdS5zY2hlZHVsZVRhc2soZnVuY3Rpb24oKXt0Ll9zb3J0KCl9KSl9LFJ1PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuaW5kZXhPZih0aGlzLl9pc0NvbXBvbmVudFF1ZXJ5P3QuaW5zdGFuY2U6dCk7LTEhPT1lJiZ0aGlzLnNwbGljZShlLDEpfSxqdT1odCxOdT1jdCxEdT1sdCxJdT1mdCxMdT1kdCxWdT1wdCxNdT17ZW5xdWV1ZTpmdW5jdGlvbih0LGUpe3QuZXZlbnQmJih0Ll9ldmVudFF1ZXVlPXQuX2V2ZW50UXVldWV8fFtdLHQuX2V2ZW50UXVldWUucHVzaCh0LmV2ZW50KSksdC5ldmVudD1lfSxkZXF1ZXVlOmZ1bmN0aW9uKHQpe3QuX2V2ZW50UXVldWUmJnQuX2V2ZW50UXVldWUubGVuZ3RoP3QuZXZlbnQ9dC5fZXZlbnRRdWV1ZS5wb3AoKTpkZWxldGUgdC5ldmVudH19LFV1PU11LFd1PW10LHp1PXl0LEJ1PWJ0LHF1PXtjYXB0dXJlOiEwLG5vVW53cmFwOiEwLGZ1bGxSb290R2V0OiEwfSwkdT13dCxRdT1uZXcgbnUoXCJpbnNlcnRcIiksWnU9a3QsSHU9ZnVuY3Rpb24odCxlLG4saSl7dGhpcy5yb290PXQsdGhpcy5rZXlwYXRoPWUsdGhpcy5jYWxsYmFjaz1uLHRoaXMuZGVmZXI9aS5kZWZlcix0aGlzLmNvbnRleHQ9aSYmaS5jb250ZXh0P2kuY29udGV4dDp0fTtIdS5wcm90b3R5cGU9e2luaXQ6ZnVuY3Rpb24odCl7dGhpcy52YWx1ZT10aGlzLnJvb3QuZ2V0KHRoaXMua2V5cGF0aC5zdHIpLHQhPT0hMT90aGlzLnVwZGF0ZSgpOnRoaXMub2xkVmFsdWU9dGhpcy52YWx1ZX0sc2V0VmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpczthKHQsdGhpcy52YWx1ZSl8fCh0aGlzLnZhbHVlPXQsdGhpcy5kZWZlciYmdGhpcy5yZWFkeT9tdS5zY2hlZHVsZVRhc2soZnVuY3Rpb24oKXtyZXR1cm4gZS51cGRhdGUoKX0pOnRoaXMudXBkYXRlKCkpfSx1cGRhdGU6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0aW5nfHwodGhpcy51cGRhdGluZz0hMCx0aGlzLmNhbGxiYWNrLmNhbGwodGhpcy5jb250ZXh0LHRoaXMudmFsdWUsdGhpcy5vbGRWYWx1ZSx0aGlzLmtleXBhdGguc3RyKSx0aGlzLm9sZFZhbHVlPXRoaXMudmFsdWUsdGhpcy51cGRhdGluZz0hMSl9fTt2YXIgS3UsR3U9SHUsWXU9RXQsSnU9QXJyYXkucHJvdG90eXBlLnNsaWNlO0t1PWZ1bmN0aW9uKHQsZSxuLGkpe3RoaXMucm9vdD10LHRoaXMuY2FsbGJhY2s9bix0aGlzLmRlZmVyPWkuZGVmZXIsdGhpcy5rZXlwYXRoPWUsdGhpcy5yZWdleD1uZXcgUmVnRXhwKFwiXlwiK2Uuc3RyLnJlcGxhY2UoL1xcLi9nLFwiXFxcXC5cIikucmVwbGFjZSgvXFwqL2csXCIoW15cXFxcLl0rKVwiKStcIiRcIiksdGhpcy52YWx1ZXM9e30sdGhpcy5kZWZlciYmKHRoaXMucHJveGllcz1bXSksdGhpcy5jb250ZXh0PWkmJmkuY29udGV4dD9pLmNvbnRleHQ6dH0sS3UucHJvdG90eXBlPXtpbml0OmZ1bmN0aW9uKHQpe3ZhciBlLG47aWYoZT1ZdSh0aGlzLnJvb3QsdGhpcy5rZXlwYXRoKSx0IT09ITEpZm9yKG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiZ0aGlzLnVwZGF0ZShfKG4pKTtlbHNlIHRoaXMudmFsdWVzPWV9LHVwZGF0ZTpmdW5jdGlvbih0KXt2YXIgZSxuPXRoaXM7aWYodC5pc1BhdHRlcm4pe2U9WXUodGhpcy5yb290LHQpO2Zvcih0IGluIGUpZS5oYXNPd25Qcm9wZXJ0eSh0KSYmdGhpcy51cGRhdGUoXyh0KSl9ZWxzZSBpZighdGhpcy5yb290LnZpZXdtb2RlbC5pbXBsaWNpdENoYW5nZXNbdC5zdHJdKXJldHVybiB0aGlzLmRlZmVyJiZ0aGlzLnJlYWR5P3ZvaWQgbXUuc2NoZWR1bGVUYXNrKGZ1bmN0aW9uKCl7cmV0dXJuIG4uZ2V0UHJveHkodCkudXBkYXRlKCl9KTp2b2lkIHRoaXMucmVhbGx5VXBkYXRlKHQpfSxyZWFsbHlVcGRhdGU6ZnVuY3Rpb24odCl7dmFyIGUsbixpLHI7cmV0dXJuIGU9dC5zdHIsbj10aGlzLnJvb3Qudmlld21vZGVsLmdldCh0KSx0aGlzLnVwZGF0aW5nP3ZvaWQodGhpcy52YWx1ZXNbZV09bik6KHRoaXMudXBkYXRpbmc9ITAsYShuLHRoaXMudmFsdWVzW2VdKSYmdGhpcy5yZWFkeXx8KGk9SnUuY2FsbCh0aGlzLnJlZ2V4LmV4ZWMoZSksMSkscj1bbix0aGlzLnZhbHVlc1tlXSxlXS5jb25jYXQoaSksdGhpcy52YWx1ZXNbZV09bix0aGlzLmNhbGxiYWNrLmFwcGx5KHRoaXMuY29udGV4dCxyKSksdm9pZCh0aGlzLnVwZGF0aW5nPSExKSl9LGdldFByb3h5OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMucHJveGllc1t0LnN0cl18fCh0aGlzLnByb3hpZXNbdC5zdHJdPXt1cGRhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gZS5yZWFsbHlVcGRhdGUodCl9fSksdGhpcy5wcm94aWVzW3Quc3RyXX19O3ZhciBYdSx0aCxlaCxuaCxpaCxyaCxzaD1LdSxvaD1fdCxhaD17fSx1aD1BdCxoaD1TdCxjaD1mdW5jdGlvbih0KXtyZXR1cm4gdC50cmltKCl9LGxoPWZ1bmN0aW9uKHQpe3JldHVyblwiXCIhPT10fSxmaD1DdCxkaD1PdCxwaD1QdCxtaD1UdCx2aD1BcnJheS5wcm90b3R5cGUsZ2g9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoLGk9QXJyYXkobj4xP24tMTowKSxyPTE7bj5yO3IrKylpW3ItMV09YXJndW1lbnRzW3JdO3ZhciBvLGEsdSxoLGM9W107aWYoZT1fKEMoZSkpLG89dGhpcy52aWV3bW9kZWwuZ2V0KGUpLGE9by5sZW5ndGgsIXMobykpdGhyb3cgbmV3IEVycm9yKFwiQ2FsbGVkIHJhY3RpdmUuXCIrdCtcIignXCIrZS5zdHIrXCInKSwgYnV0ICdcIitlLnN0citcIicgZG9lcyBub3QgcmVmZXIgdG8gYW4gYXJyYXlcIik7cmV0dXJuIGM9bWgobyx0LGkpLGg9dmhbdF0uYXBwbHkobyxpKSx1PW11LnN0YXJ0KHRoaXMsITApLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gaH0pLGM/dGhpcy52aWV3bW9kZWwuc21hcnRVcGRhdGUoZSxvLGMpOnRoaXMudmlld21vZGVsLm1hcmsoZSksbXUuZW5kKCksdX19LHloPWdoKFwicG9wXCIpLGJoPWdoKFwicHVzaFwiKSx3aD1cIi8qIFJhY3RpdmUuanMgY29tcG9uZW50IHN0eWxlcyAqL1xcblwiLHhoPVtdLGtoPSExO1hvPyhlaD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIiksZWgudHlwZT1cInRleHQvY3NzXCIsbmg9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdLHJoPSExLGloPWVoLnN0eWxlU2hlZXQsdGg9ZnVuY3Rpb24oKXt2YXIgdD13aCt4aC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuXCJcXG4vKiB7XCIrdC5pZCtcIn0gKi9cXG5cIit0LnN0eWxlc30pLmpvaW4oXCJcXG5cIik7aWg/aWguY3NzVGV4dD10OmVoLmlubmVySFRNTD10LHJofHwobmguYXBwZW5kQ2hpbGQoZWgpLHJoPSEwKX0sWHU9e2FkZDpmdW5jdGlvbih0KXt4aC5wdXNoKHQpLGtoPSEwfSxhcHBseTpmdW5jdGlvbigpe2toJiYodGgoKSxraD0hMSl9fSk6WHU9e2FkZDpGYSxhcHBseTpGYX07dmFyIEVoLF9oLEFoPVh1LFNoPVJ0LENoPW5ldyBudShcInJlbmRlclwiKSxPaD1uZXcgbnUoXCJjb21wbGV0ZVwiKSxQaD17ZXh0ZW5kOmZ1bmN0aW9uKHQsZSxuKXtlLmFkYXB0PU50KGUuYWRhcHQsTihuLmFkYXB0KSl9LGluaXQ6ZnVuY3Rpb24oKXt9fSxUaD1QaCxGaD1EdCxSaD0vKD86XnxcXH0pP1xccyooW15cXHtcXH1dKylcXHMqXFx7L2csamg9L1xcL1xcKi4qP1xcKlxcLy9nLE5oPS8oKD86KD86XFxbW15cXF0rXVxcXSl8KD86W15cXHNcXCtcXD5cXH46XSkpKykoKD86OlteXFxzXFwrXFw+XFx+XFwoXSsoPzpcXChbXlxcKV0rXFwpKT8pP1xccypbXFxzXFwrXFw+XFx+XT8pXFxzKi9nLERoPS9eQG1lZGlhLyxJaD0vXFxbZGF0YS1yYWN0aXZlLWNzc349XCJcXHtbYS16MC05LV0rXFx9XCJdL2csTGg9MSxWaD17bmFtZTpcImNzc1wiLGV4dGVuZDpmdW5jdGlvbih0LGUsbil7aWYobi5jc3Mpe3ZhciBpPUxoKysscj1uLm5vQ3NzVHJhbnNmb3JtP24uY3NzOkZoKG4uY3NzLGkpO2UuY3NzSWQ9aSxBaC5hZGQoe2lkOmksc3R5bGVzOnJ9KX19LGluaXQ6ZnVuY3Rpb24oKXt9fSxNaD1WaCxVaD17bmFtZTpcImRhdGFcIixleHRlbmQ6ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXZvaWQgMCxyPXZvaWQgMDtpZihuLmRhdGEmJmgobi5kYXRhKSlmb3IoaSBpbiBuLmRhdGEpcj1uLmRhdGFbaV0sciYmXCJvYmplY3RcIj09dHlwZW9mIHImJihoKHIpfHxzKHIpKSYmbShcIlBhc3NpbmcgYSBgZGF0YWAgb3B0aW9uIHdpdGggb2JqZWN0IGFuZCBhcnJheSBwcm9wZXJ0aWVzIHRvIFJhY3RpdmUuZXh0ZW5kKCkgaXMgZGlzY291cmFnZWQsIGFzIG11dGF0aW5nIHRoZW0gaXMgbGlrZWx5IHRvIGNhdXNlIGJ1Z3MuIENvbnNpZGVyIHVzaW5nIGEgZGF0YSBmdW5jdGlvbiBpbnN0ZWFkOlxcblxcbiAgLy8gdGhpcy4uLlxcbiAgZGF0YTogZnVuY3Rpb24gKCkge1xcbiAgICByZXR1cm4ge1xcbiAgICAgIG15T2JqZWN0OiB7fVxcbiAgICB9O1xcbiAgfSlcXG5cXG4gIC8vIGluc3RlYWQgb2YgdGhpczpcXG4gIGRhdGE6IHtcXG4gICAgbXlPYmplY3Q6IHt9XFxuICB9XCIpO2UuZGF0YT1NdChlLmRhdGEsbi5kYXRhKX0saW5pdDpmdW5jdGlvbih0LGUsbil7dmFyIGk9TXQodC5wcm90b3R5cGUuZGF0YSxuLmRhdGEpO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGkmJihpPWkuY2FsbChlKSksaXx8e319LHJlc2V0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuaW5pdCh0LmNvbnN0cnVjdG9yLHQsdC52aWV3bW9kZWwpO3JldHVybiB0LnZpZXdtb2RlbC5yZXNldChlKSwhMH19LFdoPVVoLHpoPS9eXFxzKy87X2g9ZnVuY3Rpb24odCl7dGhpcy5uYW1lPVwiUGFyc2VFcnJvclwiLHRoaXMubWVzc2FnZT10O3RyeXt0aHJvdyBuZXcgRXJyb3IodCl9Y2F0Y2goZSl7dGhpcy5zdGFjaz1lLnN0YWNrfX0sX2gucHJvdG90eXBlPUVycm9yLnByb3RvdHlwZSxFaD1mdW5jdGlvbih0LGUpe3ZhciBuLGkscj0wO2Zvcih0aGlzLnN0cj10LHRoaXMub3B0aW9ucz1lfHx7fSx0aGlzLnBvcz0wLHRoaXMubGluZXM9dGhpcy5zdHIuc3BsaXQoXCJcXG5cIiksdGhpcy5saW5lRW5kcz10aGlzLmxpbmVzLm1hcChmdW5jdGlvbih0KXt2YXIgZT1yK3QubGVuZ3RoKzE7cmV0dXJuIHI9ZSxlfSwwKSx0aGlzLmluaXQmJnRoaXMuaW5pdCh0LGUpLG49W107dGhpcy5wb3M8dGhpcy5zdHIubGVuZ3RoJiYoaT10aGlzLnJlYWQoKSk7KW4ucHVzaChpKTt0aGlzLmxlZnRvdmVyPXRoaXMucmVtYWluaW5nKCksdGhpcy5yZXN1bHQ9dGhpcy5wb3N0UHJvY2Vzcz90aGlzLnBvc3RQcm9jZXNzKG4sZSk6bn0sRWgucHJvdG90eXBlPXtyZWFkOmZ1bmN0aW9uKHQpe3ZhciBlLG4saSxyO2Zvcih0fHwodD10aGlzLmNvbnZlcnRlcnMpLGU9dGhpcy5wb3MsaT10Lmxlbmd0aCxuPTA7aT5uO24rPTEpaWYodGhpcy5wb3M9ZSxyPXRbbl0odGhpcykpcmV0dXJuIHI7cmV0dXJuIG51bGx9LGdldExpbmVQb3M6ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49MCxpPTA7dD49dGhpcy5saW5lRW5kc1tuXTspaT10aGlzLmxpbmVFbmRzW25dLG4rPTE7cmV0dXJuIGU9dC1pLFtuKzEsZSsxLHRdfSxlcnJvcjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldExpbmVQb3ModGhpcy5wb3MpLG49ZVswXSxpPWVbMV0scj10aGlzLmxpbmVzW2VbMF0tMV0scz0wLG89ci5yZXBsYWNlKC9cXHQvZyxmdW5jdGlvbih0LG4pe3JldHVybiBuPGVbMV0mJihzKz0xKSxcIiAgXCJ9KStcIlxcblwiK25ldyBBcnJheShlWzFdK3MpLmpvaW4oXCIgXCIpK1wiXi0tLS1cIixhPW5ldyBfaChcIlwiK3QrXCIgYXQgbGluZSBcIituK1wiIGNoYXJhY3RlciBcIitpK1wiOlxcblwiK28pO3Rocm93IGEubGluZT1lWzBdLGEuY2hhcmFjdGVyPWVbMV0sYS5zaG9ydE1lc3NhZ2U9dCxhfSxtYXRjaFN0cmluZzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdHIuc3Vic3RyKHRoaXMucG9zLHQubGVuZ3RoKT09PXQ/KHRoaXMucG9zKz10Lmxlbmd0aCx0KTp2b2lkIDB9LG1hdGNoUGF0dGVybjpmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4oZT10LmV4ZWModGhpcy5yZW1haW5pbmcoKSkpPyh0aGlzLnBvcys9ZVswXS5sZW5ndGgsZVsxXXx8ZVswXSk6dm9pZCAwfSxhbGxvd1doaXRlc3BhY2U6ZnVuY3Rpb24oKXt0aGlzLm1hdGNoUGF0dGVybih6aCl9LHJlbWFpbmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0ci5zdWJzdHJpbmcodGhpcy5wb3MpfSxuZXh0Q2hhcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0ci5jaGFyQXQodGhpcy5wb3MpfX0sRWguZXh0ZW5kPWZ1bmN0aW9uKHQpe3ZhciBlLG4saT10aGlzO2U9ZnVuY3Rpb24odCxlKXtFaC5jYWxsKHRoaXMsdCxlKX0sZS5wcm90b3R5cGU9d2EoaS5wcm90b3R5cGUpO2ZvcihuIGluIHQpT2EuY2FsbCh0LG4pJiYoZS5wcm90b3R5cGVbbl09dFtuXSk7cmV0dXJuIGUuZXh0ZW5kPUVoLmV4dGVuZCxlfTt2YXIgQmgscWgsJGgsUWg9RWgsWmg9MSxIaD0yLEtoPTMsR2g9NCxZaD01LEpoPTYsWGg9Nyx0Yz04LGVjPTksbmM9MTAsaWM9MTMscmM9MTQsc2M9MTUsb2M9MTYsYWM9MTcsdWM9MTgsaGM9MjAsY2M9MjEsbGM9MjIsZmM9MjMsZGM9MjQscGM9MjUsbWM9MjYsdmM9MjcsZ2M9MzAseWM9MzEsYmM9MzIsd2M9MzMseGM9MzQsa2M9MzUsRWM9MzYsX2M9NDAsQWM9NTAsU2M9NTEsQ2M9NTIsT2M9NTMsUGM9NTQsVGM9NjAsRmM9NjEsUmM9enQsamM9L15bXlxccz1dKy8sTmM9L15cXHMrLyxEYz1CdCxJYz0vXihcXC8oPzpbXlxcblxcclxcdTIwMjhcXHUyMDI5XFwvXFxcXFtdfFxcXFwufFxcWyg/OlteXFxuXFxyXFx1MjAyOFxcdTIwMjlcXF1cXFxcXXxcXFxcLikqXSkrXFwvKD86KFtnaW11eV0pKD8hW2Etel0qXFwyKSkqKD8hW2EtekEtWl8kMC05XSkpLyxMYz1xdCxWYz17dDpuYyxleGNsdWRlOiEwfSxNYz1cIkV4cGVjdGVkIGEgSmF2YVNjcmlwdCBleHByZXNzaW9uXCIsVWM9XCJFeHBlY3RlZCBjbG9zaW5nIHBhcmVuXCIsV2M9UXQsemM9L14oPzpbKy1dPykwKig/Oig/Oig/OlsxLTldXFxkKik/XFwuXFxkKyl8KD86KD86MHxbMS05XVxcZCopXFwuKXwoPzowfFsxLTldXFxkKikpKD86W2VFXVsrLV0/XFxkKyk/LyxCYz1adDtCaD0vXig/PS4pW15cIidcXFxcXSs/KD86KD8hLil8KD89W1wiJ1xcXFxdKSkvLHFoPS9eXFxcXCg/OlsnXCJcXFxcYmZucnRdfDAoPyFbMC05XSl8eFswLTlhLWZBLUZdezJ9fHVbMC05YS1mQS1GXXs0fXwoPz0uKVtedXgwLTldKS8sJGg9L15cXFxcKD86XFxyXFxufFtcXHUwMDBBXFx1MDAwRFxcdTIwMjhcXHUyMDI5XSkvO3ZhciBxYywkYyxRYz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG4saSxyLHM7Zm9yKG49ZS5wb3MsaT0nXCInLHI9ITE7IXI7KXM9ZS5tYXRjaFBhdHRlcm4oQmgpfHxlLm1hdGNoUGF0dGVybihxaCl8fGUubWF0Y2hTdHJpbmcodCkscz9pKz0nXCInPT09cz8nXFxcXFwiJzpcIlxcXFwnXCI9PT1zP1wiJ1wiOnM6KHM9ZS5tYXRjaFBhdHRlcm4oJGgpLHM/aSs9XCJcXFxcdVwiKyhcIjAwMFwiK3MuY2hhckNvZGVBdCgxKS50b1N0cmluZygxNikpLnNsaWNlKC00KTpyPSEwKTtyZXR1cm4gaSs9J1wiJyxKU09OLnBhcnNlKGkpfX0sWmM9UWMoJ1wiJyksSGM9UWMoXCInXCIpLEtjPWZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuIGU9dC5wb3MsdC5tYXRjaFN0cmluZygnXCInKT8obj1IYyh0KSx0Lm1hdGNoU3RyaW5nKCdcIicpP3t0OmNjLHY6bn06KHQucG9zPWUsbnVsbCkpOnQubWF0Y2hTdHJpbmcoXCInXCIpPyhuPVpjKHQpLHQubWF0Y2hTdHJpbmcoXCInXCIpP3t0OmNjLHY6bn06KHQucG9zPWUsbnVsbCkpOm51bGx9LEdjPS9eW2EtekEtWl8kXVthLXpBLVpfJDAtOV0qLyxZYz1IdCxKYz0vXlthLXpBLVpfJF1bYS16QS1aXyQwLTldKiQvLFhjPUt0LHRsPUd0LGVsPWZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuIGU9dC5wb3MsdC5hbGxvd1doaXRlc3BhY2UoKSx0Lm1hdGNoU3RyaW5nKFwie1wiKT8obj10bCh0KSx0LmFsbG93V2hpdGVzcGFjZSgpLHQubWF0Y2hTdHJpbmcoXCJ9XCIpP3t0OmZjLG06bn06KHQucG9zPWUsbnVsbCkpOih0LnBvcz1lLG51bGwpfSxubD1ZdCxpbD1mdW5jdGlvbih0KXt2YXIgZSxuO3JldHVybiBlPXQucG9zLHQuYWxsb3dXaGl0ZXNwYWNlKCksdC5tYXRjaFN0cmluZyhcIltcIik/KG49bmwodCksdC5tYXRjaFN0cmluZyhcIl1cIik/e3Q6bGMsbTpufToodC5wb3M9ZSxudWxsKSk6KHQucG9zPWUsbnVsbCl9LHJsPUp0LHNsPVh0LG9sPS9eKD86flxcL3woPzpcXC5cXC5cXC8pK3xcXC5cXC8oPzpcXC5cXC5cXC8pKnxcXC4pLztxYz0vXig/OkFycmF5fGNvbnNvbGV8RGF0ZXxSZWdFeHB8ZGVjb2RlVVJJQ29tcG9uZW50fGRlY29kZVVSSXxlbmNvZGVVUklDb21wb25lbnR8ZW5jb2RlVVJJfGlzRmluaXRlfGlzTmFOfHBhcnNlRmxvYXR8cGFyc2VJbnR8SlNPTnxNYXRofE5hTnx1bmRlZmluZWR8bnVsbClcXGIvLCRjPS9eKD86YnJlYWt8Y2FzZXxjYXRjaHxjb250aW51ZXxkZWJ1Z2dlcnxkZWZhdWx0fGRlbGV0ZXxkb3xlbHNlfGZpbmFsbHl8Zm9yfGZ1bmN0aW9ufGlmfGlufGluc3RhbmNlb2Z8bmV3fHJldHVybnxzd2l0Y2h8dGhyb3d8dHJ5fHR5cGVvZnx2YXJ8dm9pZHx3aGlsZXx3aXRoKSQvO3ZhciBhbCx1bCxobD0vXlthLXpBLVokXzAtOV0rKD86KD86XFwuW2EtekEtWiRfMC05XSspfCg/OlxcW1swLTldK1xcXSkpKi8sY2w9L15bYS16QS1aXyRdWy1hLXpBLVpfJDAtOV0qLyxsbD10ZSxmbD1mdW5jdGlvbih0KXtyZXR1cm4gcmwodCl8fHNsKHQpfHxsbCh0KX0sZGw9ZWUscGw9ZnVuY3Rpb24odCl7dmFyIGUsbixpLHI7aWYobj1mbCh0KSwhbilyZXR1cm4gbnVsbDtmb3IoO247KWlmKGU9dC5wb3MsaT1kbCh0KSluPXt0OmJjLHg6bixyOml9O2Vsc2V7aWYoIXQubWF0Y2hTdHJpbmcoXCIoXCIpKWJyZWFrO3QuYWxsb3dXaGl0ZXNwYWNlKCkscj1ubCh0KSx0LmFsbG93V2hpdGVzcGFjZSgpLHQubWF0Y2hTdHJpbmcoXCIpXCIpfHx0LmVycm9yKFVjKSxuPXt0Ol9jLHg6bn0sciYmKG4ubz1yKX1yZXR1cm4gbn07dWw9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7dmFyIGk7cmV0dXJuKGk9ZShuKSk/aTpuLm1hdGNoU3RyaW5nKHQpPyhuLmFsbG93V2hpdGVzcGFjZSgpLGk9T2wobiksaXx8bi5lcnJvcihNYykse3M6dCxvOmksdDp3Y30pOm51bGx9fSxmdW5jdGlvbigpe3ZhciB0LGUsbixpLHI7Zm9yKGk9XCIhIH4gKyAtIHR5cGVvZlwiLnNwbGl0KFwiIFwiKSxyPXBsLHQ9MCxlPWkubGVuZ3RoO2U+dDt0Kz0xKW49dWwoaVt0XSxyKSxyPW47YWw9cn0oKTt2YXIgbWwsdmwsZ2w9YWw7dmw9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7dmFyIGkscixzO2lmKHI9ZShuKSwhcilyZXR1cm4gbnVsbDtmb3IoOzspe2lmKGk9bi5wb3Msbi5hbGxvd1doaXRlc3BhY2UoKSwhbi5tYXRjaFN0cmluZyh0KSlyZXR1cm4gbi5wb3M9aSxyO2lmKFwiaW5cIj09PXQmJi9bYS16QS1aXyQwLTldLy50ZXN0KG4ucmVtYWluaW5nKCkuY2hhckF0KDApKSlyZXR1cm4gbi5wb3M9aSxyO2lmKG4uYWxsb3dXaGl0ZXNwYWNlKCkscz1lKG4pLCFzKXJldHVybiBuLnBvcz1pLHI7cj17dDpFYyxzOnQsbzpbcixzXX19fX0sZnVuY3Rpb24oKXt2YXIgdCxlLG4saSxyO2ZvcihpPVwiKiAvICUgKyAtIDw8ID4+ID4+PiA8IDw9ID4gPj0gaW4gaW5zdGFuY2VvZiA9PSAhPSA9PT0gIT09ICYgXiB8ICYmIHx8XCIuc3BsaXQoXCIgXCIpLHI9Z2wsdD0wLGU9aS5sZW5ndGg7ZT50O3QrPTEpbj12bChpW3RdLHIpLHI9bjttbD1yfSgpO3ZhciB5bCxibCx3bCx4bCxrbCxFbCxfbCxBbCxTbD1tbCxDbD1uZSxPbD1pZSxQbD1yZSxUbD1vZSxGbD0vXlswLTldWzEtOV0qJC8sUmw9dWUsamw9aGUsTmw9Y2UsRGw9bGUsSWw9ZmUsTGw9ZGUsVmw9cGUsTWw9L155aWVsZFxccyovLFVsPW1lLFdsPXZlLHpsPS9eXFxzKmVsc2VcXHMqLyxCbD1nZSxxbD0vXlxccyplbHNlaWZcXHMrLywkbD17ZWFjaDpDYyxcImlmXCI6QWMsXCJpZi13aXRoXCI6UGMsXCJ3aXRoXCI6T2MsdW5sZXNzOlNjfSxRbD15ZSxabD0vXlxccyo6XFxzKihbYS16QS1aXyRdW2EtekEtWl8kMC05XSopLyxIbD0vXlxccyosXFxzKihbYS16QS1aXyRdW2EtekEtWl8kMC05XSopLyxLbD1uZXcgUmVnRXhwKFwiXihcIitPYmplY3Qua2V5cygkbCkuam9pbihcInxcIikrXCIpXFxcXGJcIiksR2w9RWUsWWw9XCI8IS0tXCIsSmw9XCItLT5cIjt5bD0vXihhbGxvd0Z1bGxzY3JlZW58YXN5bmN8YXV0b2ZvY3VzfGF1dG9wbGF5fGNoZWNrZWR8Y29tcGFjdHxjb250cm9sc3xkZWNsYXJlfGRlZmF1bHR8ZGVmYXVsdENoZWNrZWR8ZGVmYXVsdE11dGVkfGRlZmF1bHRTZWxlY3RlZHxkZWZlcnxkaXNhYmxlZHxlbmFibGVkfGZvcm1Ob1ZhbGlkYXRlfGhpZGRlbnxpbmRldGVybWluYXRlfGluZXJ0fGlzTWFwfGl0ZW1TY29wZXxsb29wfG11bHRpcGxlfG11dGVkfG5vSHJlZnxub1Jlc2l6ZXxub1NoYWRlfG5vVmFsaWRhdGV8bm9XcmFwfG9wZW58cGF1c2VPbkV4aXR8cmVhZE9ubHl8cmVxdWlyZWR8cmV2ZXJzZWR8c2NvcGVkfHNlYW1sZXNzfHNlbGVjdGVkfHNvcnRhYmxlfHRyYW5zbGF0ZXx0cnVlU3BlZWR8dHlwZU11c3RNYXRjaHx2aXNpYmxlKSQvaSxibD0vXig/OmFyZWF8YmFzZXxicnxjb2x8Y29tbWFuZHxkb2N0eXBlfGVtYmVkfGhyfGltZ3xpbnB1dHxrZXlnZW58bGlua3xtZXRhfHBhcmFtfHNvdXJjZXx0cmFja3x3YnIpJC9pLHdsPXtxdW90OjM0LGFtcDozOCxhcG9zOjM5LGx0OjYwLGd0OjYyLG5ic3A6MTYwLGlleGNsOjE2MSxjZW50OjE2Mixwb3VuZDoxNjMsY3VycmVuOjE2NCx5ZW46MTY1LGJydmJhcjoxNjYsc2VjdDoxNjcsdW1sOjE2OCxjb3B5OjE2OSxvcmRmOjE3MCxsYXF1bzoxNzEsbm90OjE3MixzaHk6MTczLHJlZzoxNzQsbWFjcjoxNzUsZGVnOjE3NixwbHVzbW46MTc3LHN1cDI6MTc4LHN1cDM6MTc5LGFjdXRlOjE4MCxtaWNybzoxODEscGFyYToxODIsbWlkZG90OjE4MyxjZWRpbDoxODQsc3VwMToxODUsb3JkbToxODYscmFxdW86MTg3LGZyYWMxNDoxODgsZnJhYzEyOjE4OSxmcmFjMzQ6MTkwLGlxdWVzdDoxOTEsQWdyYXZlOjE5MixBYWN1dGU6MTkzLEFjaXJjOjE5NCxBdGlsZGU6MTk1LEF1bWw6MTk2LEFyaW5nOjE5NyxBRWxpZzoxOTgsQ2NlZGlsOjE5OSxFZ3JhdmU6MjAwLEVhY3V0ZToyMDEsRWNpcmM6MjAyLEV1bWw6MjAzLElncmF2ZToyMDQsSWFjdXRlOjIwNSxJY2lyYzoyMDYsSXVtbDoyMDcsRVRIOjIwOCxOdGlsZGU6MjA5LE9ncmF2ZToyMTAsT2FjdXRlOjIxMSxPY2lyYzoyMTIsT3RpbGRlOjIxMyxPdW1sOjIxNCx0aW1lczoyMTUsT3NsYXNoOjIxNixVZ3JhdmU6MjE3LFVhY3V0ZToyMTgsVWNpcmM6MjE5LFV1bWw6MjIwLFlhY3V0ZToyMjEsVEhPUk46MjIyLHN6bGlnOjIyMyxhZ3JhdmU6MjI0LGFhY3V0ZToyMjUsYWNpcmM6MjI2LGF0aWxkZToyMjcsYXVtbDoyMjgsYXJpbmc6MjI5LGFlbGlnOjIzMCxjY2VkaWw6MjMxLGVncmF2ZToyMzIsZWFjdXRlOjIzMyxlY2lyYzoyMzQsZXVtbDoyMzUsaWdyYXZlOjIzNixpYWN1dGU6MjM3LGljaXJjOjIzOCxpdW1sOjIzOSxldGg6MjQwLG50aWxkZToyNDEsb2dyYXZlOjI0MixvYWN1dGU6MjQzLG9jaXJjOjI0NCxvdGlsZGU6MjQ1LG91bWw6MjQ2LGRpdmlkZToyNDcsb3NsYXNoOjI0OCx1Z3JhdmU6MjQ5LHVhY3V0ZToyNTAsdWNpcmM6MjUxLHV1bWw6MjUyLHlhY3V0ZToyNTMsdGhvcm46MjU0LHl1bWw6MjU1LE9FbGlnOjMzOCxvZWxpZzozMzksU2Nhcm9uOjM1MixzY2Fyb246MzUzLFl1bWw6Mzc2LGZub2Y6NDAyLGNpcmM6NzEwLHRpbGRlOjczMixBbHBoYTo5MTMsQmV0YTo5MTQsR2FtbWE6OTE1LERlbHRhOjkxNixFcHNpbG9uOjkxNyxaZXRhOjkxOCxFdGE6OTE5LFRoZXRhOjkyMCxJb3RhOjkyMSxLYXBwYTo5MjIsTGFtYmRhOjkyMyxNdTo5MjQsTnU6OTI1LFhpOjkyNixPbWljcm9uOjkyNyxQaTo5MjgsUmhvOjkyOSxTaWdtYTo5MzEsVGF1OjkzMixVcHNpbG9uOjkzMyxQaGk6OTM0LENoaTo5MzUsUHNpOjkzNixPbWVnYTo5MzcsYWxwaGE6OTQ1LGJldGE6OTQ2LGdhbW1hOjk0NyxkZWx0YTo5NDgsZXBzaWxvbjo5NDksemV0YTo5NTAsZXRhOjk1MSx0aGV0YTo5NTIsaW90YTo5NTMsa2FwcGE6OTU0LGxhbWJkYTo5NTUsbXU6OTU2LG51Ojk1Nyx4aTo5NTgsb21pY3Jvbjo5NTkscGk6OTYwLHJobzo5NjEsc2lnbWFmOjk2MixzaWdtYTo5NjMsdGF1Ojk2NCx1cHNpbG9uOjk2NSxwaGk6OTY2LGNoaTo5NjcscHNpOjk2OCxvbWVnYTo5NjksdGhldGFzeW06OTc3LHVwc2loOjk3OCxwaXY6OTgyLGVuc3A6ODE5NCxlbXNwOjgxOTUsdGhpbnNwOjgyMDEsenduajo4MjA0LHp3ajo4MjA1LGxybTo4MjA2LHJsbTo4MjA3LG5kYXNoOjgyMTEsbWRhc2g6ODIxMixsc3F1bzo4MjE2LHJzcXVvOjgyMTcsc2JxdW86ODIxOCxsZHF1bzo4MjIwLHJkcXVvOjgyMjEsYmRxdW86ODIyMixkYWdnZXI6ODIyNCxEYWdnZXI6ODIyNSxidWxsOjgyMjYsaGVsbGlwOjgyMzAscGVybWlsOjgyNDAscHJpbWU6ODI0MixQcmltZTo4MjQzLGxzYXF1bzo4MjQ5LHJzYXF1bzo4MjUwLG9saW5lOjgyNTQsZnJhc2w6ODI2MCxldXJvOjgzNjQsaW1hZ2U6ODQ2NSx3ZWllcnA6ODQ3MixyZWFsOjg0NzYsdHJhZGU6ODQ4MixhbGVmc3ltOjg1MDEsbGFycjo4NTkyLHVhcnI6ODU5MyxyYXJyOjg1OTQsZGFycjo4NTk1LGhhcnI6ODU5NixjcmFycjo4NjI5LGxBcnI6ODY1Nix1QXJyOjg2NTcsckFycjo4NjU4LGRBcnI6ODY1OSxoQXJyOjg2NjAsZm9yYWxsOjg3MDQscGFydDo4NzA2LGV4aXN0Ojg3MDcsZW1wdHk6ODcwOSxuYWJsYTo4NzExLGlzaW46ODcxMixub3Rpbjo4NzEzLG5pOjg3MTUscHJvZDo4NzE5LHN1bTo4NzIxLG1pbnVzOjg3MjIsbG93YXN0Ojg3MjcscmFkaWM6ODczMCxwcm9wOjg3MzMsaW5maW46ODczNCxhbmc6ODczNixhbmQ6ODc0Myxvcjo4NzQ0LGNhcDo4NzQ1LGN1cDo4NzQ2LFwiaW50XCI6ODc0Nyx0aGVyZTQ6ODc1NixzaW06ODc2NCxjb25nOjg3NzMsYXN5bXA6ODc3NixuZTo4ODAwLGVxdWl2Ojg4MDEsbGU6ODgwNCxnZTo4ODA1LHN1Yjo4ODM0LHN1cDo4ODM1LG5zdWI6ODgzNixzdWJlOjg4Mzgsc3VwZTo4ODM5LG9wbHVzOjg4NTMsb3RpbWVzOjg4NTUscGVycDo4ODY5LHNkb3Q6ODkwMSxsY2VpbDo4OTY4LHJjZWlsOjg5NjksbGZsb29yOjg5NzAscmZsb29yOjg5NzEsbGFuZzo5MDAxLHJhbmc6OTAwMixsb3o6OTY3NCxzcGFkZXM6OTgyNCxjbHViczo5ODI3LGhlYXJ0czo5ODI5LGRpYW1zOjk4MzB9LHhsPVs4MzY0LDEyOSw4MjE4LDQwMiw4MjIyLDgyMzAsODIyNCw4MjI1LDcxMCw4MjQwLDM1Miw4MjQ5LDMzOCwxNDEsMzgxLDE0MywxNDQsODIxNiw4MjE3LDgyMjAsODIyMSw4MjI2LDgyMTEsODIxMiw3MzIsODQ4MiwzNTMsODI1MCwzMzksMTU3LDM4MiwzNzZdLGtsPW5ldyBSZWdFeHAoXCImKCM/KD86eFtcXFxcd1xcXFxkXSt8XFxcXGQrfFwiK09iamVjdC5rZXlzKHdsKS5qb2luKFwifFwiKStcIikpOz9cIixcImdcIiksRWw9LzwvZyxfbD0vPi9nLEFsPS8mL2c7dmFyIFhsLHRmLGVmLG5mLHJmLHNmLG9mLGFmPS9eXFxzKlxccj9cXG4vLHVmPS9cXHI/XFxuXFxzKiQvLGhmPWZ1bmN0aW9uKHQpe3ZhciBlLG4saSxyLHM7Zm9yKGU9MTtlPHQubGVuZ3RoO2UrPTEpbj10W2VdLGk9dFtlLTFdLHI9dFtlLTJdLENlKG4pJiZPZShpKSYmQ2UocikmJnVmLnRlc3QocikmJmFmLnRlc3QobikmJih0W2UtMl09ci5yZXBsYWNlKHVmLFwiXFxuXCIpLHRbZV09bi5yZXBsYWNlKGFmLFwiXCIpKSxQZShuKSYmQ2UoaSkmJnVmLnRlc3QoaSkmJkNlKG4uZlswXSkmJmFmLnRlc3Qobi5mWzBdKSYmKHRbZS0xXT1pLnJlcGxhY2UodWYsXCJcXG5cIiksbi5mWzBdPW4uZlswXS5yZXBsYWNlKGFmLFwiXCIpKSxDZShuKSYmUGUoaSkmJihzPUQoaS5mKSxDZShzKSYmdWYudGVzdChzKSYmYWYudGVzdChuKSYmKGkuZltpLmYubGVuZ3RoLTFdPXMucmVwbGFjZSh1ZixcIlxcblwiKSx0W2VdPW4ucmVwbGFjZShhZixcIlwiKSkpO3JldHVybiB0fSxjZj1mdW5jdGlvbih0LGUsbil7dmFyIGk7ZSYmKGk9dFswXSxcInN0cmluZ1wiPT10eXBlb2YgaSYmKGk9aS5yZXBsYWNlKGUsXCJcIiksaT90WzBdPWk6dC5zaGlmdCgpKSksbiYmKGk9RCh0KSxcInN0cmluZ1wiPT10eXBlb2YgaSYmKGk9aS5yZXBsYWNlKG4sXCJcIiksaT90W3QubGVuZ3RoLTFdPWk6dC5wb3AoKSkpfSxsZj1UZSxmZj0vWyBcXHRcXGZcXHJcXG5dKy9nLGRmPS9eKD86cHJlfHNjcmlwdHxzdHlsZXx0ZXh0YXJlYSkkL2kscGY9L15bIFxcdFxcZlxcclxcbl0rLyxtZj0vWyBcXHRcXGZcXHJcXG5dKyQvLHZmPS9eKD86XFxyXFxufFxccnxcXG4pLyxnZj0vKD86XFxyXFxufFxccnxcXG4pJC8seWY9RmUsYmY9L14oW2EtekEtWl17MSx9Oj9bYS16QS1aMC05XFwtXSopXFxzKlxcPi8sd2Y9ZnVuY3Rpb24odCxlKXt2YXIgbixpLHI7Zm9yKG49ZS5sZW5ndGg7bi0tOyl7aWYoaT10LmluZGV4T2YoZVtuXSksIWkpcmV0dXJuIDA7LTEhPT1pJiYoIXJ8fHI+aSkmJihyPWkpfXJldHVybiByfHwtMX0seGY9UmUsa2Y9L15bXlxcc1wiJz5cXC89XSsvLEVmPS9eW15cXHNcIic9PD5gXSsvO3RmPXtcInRydWVcIjohMCxcImZhbHNlXCI6ITEsdW5kZWZpbmVkOnZvaWQgMCxcIm51bGxcIjpudWxsfSxlZj1uZXcgUmVnRXhwKFwiXig/OlwiK09iamVjdC5rZXlzKHRmKS5qb2luKFwifFwiKStcIilcIiksbmY9L14oPzpbKy1dPykoPzooPzooPzowfFsxLTldXFxkKik/XFwuXFxkKyl8KD86KD86MHxbMS05XVxcZCopXFwuKXwoPzowfFsxLTldXFxkKikpKD86W2VFXVsrLV0/XFxkKyk/LyxyZj0vXFwkXFx7KFteXFx9XSspXFx9L2csc2Y9L15cXCRcXHsoW15cXH1dKylcXH0vLG9mPS9eXFxzKiQvLFhsPVFoLmV4dGVuZCh7aW5pdDpmdW5jdGlvbih0LGUpe3RoaXMudmFsdWVzPWUudmFsdWVzLHRoaXMuYWxsb3dXaGl0ZXNwYWNlKCl9LHBvc3RQcm9jZXNzOmZ1bmN0aW9uKHQpe3JldHVybiAxPT09dC5sZW5ndGgmJm9mLnRlc3QodGhpcy5sZWZ0b3Zlcik/e3ZhbHVlOnRbMF0udn06bnVsbH0sY29udmVydGVyczpbZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIHQudmFsdWVzPyhlPXQubWF0Y2hQYXR0ZXJuKHNmKSxlJiZ0LnZhbHVlcy5oYXNPd25Qcm9wZXJ0eShlKT97djp0LnZhbHVlc1tlXX06dm9pZCAwKTpudWxsfSxmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4oZT10Lm1hdGNoUGF0dGVybihlZikpP3t2OnRmW2VdfTp2b2lkIDB9LGZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybihlPXQubWF0Y2hQYXR0ZXJuKG5mKSk/e3Y6K2V9OnZvaWQgMH0sZnVuY3Rpb24odCl7dmFyIGUsbj1LYyh0KTtyZXR1cm4gbiYmKGU9dC52YWx1ZXMpP3t2Om4udi5yZXBsYWNlKHJmLGZ1bmN0aW9uKHQsbil7cmV0dXJuIG4gaW4gZT9lW25dOm59KX06bn0sZnVuY3Rpb24odCl7dmFyIGUsbjtpZighdC5tYXRjaFN0cmluZyhcIntcIikpcmV0dXJuIG51bGw7aWYoZT17fSx0LmFsbG93V2hpdGVzcGFjZSgpLHQubWF0Y2hTdHJpbmcoXCJ9XCIpKXJldHVybnt2OmV9O2Zvcig7bj1WZSh0KTspe2lmKGVbbi5rZXldPW4udmFsdWUsdC5hbGxvd1doaXRlc3BhY2UoKSx0Lm1hdGNoU3RyaW5nKFwifVwiKSlyZXR1cm57djplfTtpZighdC5tYXRjaFN0cmluZyhcIixcIikpcmV0dXJuIG51bGx9cmV0dXJuIG51bGx9LGZ1bmN0aW9uKHQpe3ZhciBlLG47aWYoIXQubWF0Y2hTdHJpbmcoXCJbXCIpKXJldHVybiBudWxsO2lmKGU9W10sdC5hbGxvd1doaXRlc3BhY2UoKSx0Lm1hdGNoU3RyaW5nKFwiXVwiKSlyZXR1cm57djplfTtmb3IoO249dC5yZWFkKCk7KXtpZihlLnB1c2gobi52KSx0LmFsbG93V2hpdGVzcGFjZSgpLHQubWF0Y2hTdHJpbmcoXCJdXCIpKXJldHVybnt2OmV9O2lmKCF0Lm1hdGNoU3RyaW5nKFwiLFwiKSlyZXR1cm4gbnVsbDt0LmFsbG93V2hpdGVzcGFjZSgpfXJldHVybiBudWxsfV19KTt2YXIgX2YsQWY9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgWGwodCx7dmFsdWVzOmV9KTtyZXR1cm4gbi5yZXN1bHR9LFNmPU1lLENmPS9eKFthLXpBLVpfJF1bYS16QS1aXyQwLTldKilcXCgvLE9mPS9cXClcXHMqJC87X2Y9UWguZXh0ZW5kKHtjb252ZXJ0ZXJzOltPbF19KTt2YXIgUGYsVGY9L15bYS16QS1aXXsxLH06P1thLXpBLVowLTlcXC1dKi8sRmY9L15bXFxzXFxuXFwvPl0vLFJmPS9eb24vLGpmPS9eb24tKFthLXpBLVpcXFxcKlxcXFwuJF9dW2EtekEtWlxcXFwqXFxcXC4kXzAtOVxcLV0rKSQvLE5mPS9eKD86Y2hhbmdlfHJlc2V0fHRlYXJkb3dufHVwZGF0ZXxjb25zdHJ1Y3R8Y29uZmlnfGluaXR8cmVuZGVyfHVucmVuZGVyfGRldGFjaHxpbnNlcnQpJC8sRGY9e1wiaW50cm8tb3V0cm9cIjpcInQwXCIsaW50cm86XCJ0MVwiLG91dHJvOlwidDJcIixkZWNvcmF0b3I6XCJvXCJ9LElmPXtleGNsdWRlOiEwfTtQZj17bGk6W1wibGlcIl0sZHQ6W1wiZHRcIixcImRkXCJdLGRkOltcImR0XCIsXCJkZFwiXSxwOlwiYWRkcmVzcyBhcnRpY2xlIGFzaWRlIGJsb2NrcXVvdGUgZGl2IGRsIGZpZWxkc2V0IGZvb3RlciBmb3JtIGgxIGgyIGgzIGg0IGg1IGg2IGhlYWRlciBoZ3JvdXAgaHIgbWFpbiBtZW51IG5hdiBvbCBwIHByZSBzZWN0aW9uIHRhYmxlIHVsXCIuc3BsaXQoXCIgXCIpLHJ0OltcInJ0XCIsXCJycFwiXSxycDpbXCJydFwiLFwicnBcIl0sb3B0Z3JvdXA6W1wib3B0Z3JvdXBcIl0sb3B0aW9uOltcIm9wdGlvblwiLFwib3B0Z3JvdXBcIl0sdGhlYWQ6W1widGJvZHlcIixcInRmb290XCJdLHRib2R5OltcInRib2R5XCIsXCJ0Zm9vdFwiXSx0Zm9vdDpbXCJ0Ym9keVwiXSx0cjpbXCJ0clwiLFwidGJvZHlcIl0sdGQ6W1widGRcIixcInRoXCIsXCJ0clwiXSx0aDpbXCJ0ZFwiLFwidGhcIixcInRyXCJdfTt2YXIgTGYsVmY9VWUsTWY9emUsVWY9QmUsV2Y9L1stXFwvXFxcXF4kKis/LigpfFtcXF17fV0vZyx6Zj1xZSxCZj0vXjwhLS1cXHMqLyxxZj0vcyo+XFxzKihbYS16QS1aXyRdWy1hLXpBLVpfJDAtOV0qKVxccyovLCRmPS9cXHMqLS0+LyxRZj0kZSxaZj0vXiNcXHMqcGFydGlhbFxccysvLEhmPVFlLEtmPVplLEdmPVtObCxqbCxRbCxWbCxMbCxEbF0sWWY9W1JsXSxKZj1bamwsUWwsTGxdLFhmPXZvaWQgMCx0ZD1bTGMsR2wsVmYsTWZdLGVkPVt6ZixRZl07WGY9UWguZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS50cmlwbGVEZWxpbWl0ZXJzfHxbXCJ7e3tcIixcIn19fVwiXSxpPWUuc3RhdGljRGVsaW1pdGVyc3x8W1wiW1tcIixcIl1dXCJdLHI9ZS5zdGF0aWNUcmlwbGVEZWxpbWl0ZXJzfHxbXCJbW1tcIixcIl1dXVwiXTt0aGlzLnN0YW5kYXJkRGVsaW1pdGVycz1lLmRlbGltaXRlcnN8fFtcInt7XCIsXCJ9fVwiXSx0aGlzLnRhZ3M9W3tpc1N0YXRpYzohMSxpc1RyaXBsZTohMSxvcGVuOnRoaXMuc3RhbmRhcmREZWxpbWl0ZXJzWzBdLGNsb3NlOnRoaXMuc3RhbmRhcmREZWxpbWl0ZXJzWzFdLHJlYWRlcnM6R2Z9LHtpc1N0YXRpYzohMSxpc1RyaXBsZTohMCxvcGVuOm5bMF0sY2xvc2U6blsxXSxyZWFkZXJzOllmfSx7aXNTdGF0aWM6ITAsaXNUcmlwbGU6ITEsb3BlbjppWzBdLGNsb3NlOmlbMV0scmVhZGVyczpKZn0se2lzU3RhdGljOiEwLGlzVHJpcGxlOiEwLG9wZW46clswXSxjbG9zZTpyWzFdLHJlYWRlcnM6WWZ9XSx0aGlzLnNvcnRNdXN0YWNoZVRhZ3MoKSx0aGlzLnNlY3Rpb25EZXB0aD0wLHRoaXMuZWxlbWVudFN0YWNrPVtdLHRoaXMuaW50ZXJwb2xhdGU9e3NjcmlwdDohZS5pbnRlcnBvbGF0ZXx8ZS5pbnRlcnBvbGF0ZS5zY3JpcHQhPT0hMSxzdHlsZTohZS5pbnRlcnBvbGF0ZXx8ZS5pbnRlcnBvbGF0ZS5zdHlsZSE9PSExfSxlLnNhbml0aXplPT09ITAmJihlLnNhbml0aXplPXtlbGVtZW50czpcImFwcGxldCBiYXNlIGJhc2Vmb250IGJvZHkgZnJhbWUgZnJhbWVzZXQgaGVhZCBodG1sIGlzaW5kZXggbGluayBtZXRhIG5vZnJhbWVzIG5vc2NyaXB0IG9iamVjdCBwYXJhbSBzY3JpcHQgc3R5bGUgdGl0bGVcIi5zcGxpdChcIiBcIiksZXZlbnRBdHRyaWJ1dGVzOiEwfSksdGhpcy5zdHJpcENvbW1lbnRzPWUuc3RyaXBDb21tZW50cyE9PSExLHRoaXMucHJlc2VydmVXaGl0ZXNwYWNlPWUucHJlc2VydmVXaGl0ZXNwYWNlLHRoaXMuc2FuaXRpemVFbGVtZW50cz1lLnNhbml0aXplJiZlLnNhbml0aXplLmVsZW1lbnRzLHRoaXMuc2FuaXRpemVFdmVudEF0dHJpYnV0ZXM9ZS5zYW5pdGl6ZSYmZS5zYW5pdGl6ZS5ldmVudEF0dHJpYnV0ZXMsdGhpcy5pbmNsdWRlTGluZVBvc2l0aW9ucz1lLmluY2x1ZGVMaW5lUG9zaXRpb25zfSxwb3N0UHJvY2VzczpmdW5jdGlvbih0KXtyZXR1cm4gdC5sZW5ndGg/KHRoaXMuc2VjdGlvbkRlcHRoPjAmJnRoaXMuZXJyb3IoXCJBIHNlY3Rpb24gd2FzIGxlZnQgb3BlblwiKSxsZih0WzBdLnQsdGhpcy5zdHJpcENvbW1lbnRzLHRoaXMucHJlc2VydmVXaGl0ZXNwYWNlLCF0aGlzLnByZXNlcnZlV2hpdGVzcGFjZSwhdGhpcy5wcmVzZXJ2ZVdoaXRlc3BhY2UpLHRbMF0pOnt0OltdLHY6b2F9fSxjb252ZXJ0ZXJzOltIZl0sc29ydE11c3RhY2hlVGFnczpmdW5jdGlvbigpe3RoaXMudGFncy5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUub3Blbi5sZW5ndGgtdC5vcGVuLmxlbmd0aH0pfX0pO3ZhciBuZCxpZCxyZCxzZD1bXCJwcmVzZXJ2ZVdoaXRlc3BhY2VcIixcInNhbml0aXplXCIsXCJzdHJpcENvbW1lbnRzXCIsXCJkZWxpbWl0ZXJzXCIsXCJ0cmlwbGVEZWxpbWl0ZXJzXCIsXCJpbnRlcnBvbGF0ZVwiXSxvZD17ZnJvbUlkOkdlLGlzSGFzaGVkSWQ6WWUsaXNQYXJzZWQ6SmUsZ2V0UGFyc2VPcHRpb25zOlhlLGNyZWF0ZUhlbHBlcjpIZSxwYXJzZTpLZX0sYWQ9b2QsdWQ9e25hbWU6XCJ0ZW1wbGF0ZVwiLGV4dGVuZDpmdW5jdGlvbih0LGUsbil7dmFyIGk7XCJ0ZW1wbGF0ZVwiaW4gbiYmKGk9bi50ZW1wbGF0ZSxlLnRlbXBsYXRlPVwiZnVuY3Rpb25cIj09dHlwZW9mIGk/aTpybihpLGUpKX0saW5pdDpmdW5jdGlvbih0LGUsbil7dmFyIGkscjtpPVwidGVtcGxhdGVcImluIG4/bi50ZW1wbGF0ZTp0LnByb3RvdHlwZS50ZW1wbGF0ZSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBpJiYocj1pLGk9ZW4oZSxyKSxlLl9jb25maWcudGVtcGxhdGU9e2ZuOnIscmVzdWx0Oml9KSxpPXJuKGksZSksZS50ZW1wbGF0ZT1pLnQsaS5wJiZzbihlLnBhcnRpYWxzLGkucCl9LHJlc2V0OmZ1bmN0aW9uKHQpe3ZhciBlLG49dG4odCk7cmV0dXJuIG4/KGU9cm4obix0KSx0LnRlbXBsYXRlPWUudCxzbih0LnBhcnRpYWxzLGUucCwhMCksITApOnZvaWQgMH19LGhkPXVkO25kPVtcImFkYXB0b3JzXCIsXCJjb21wb25lbnRzXCIsXCJjb21wdXRlZFwiLFwiZGVjb3JhdG9yc1wiLFwiZWFzaW5nXCIsXCJldmVudHNcIixcImludGVycG9sYXRvcnNcIixcInBhcnRpYWxzXCIsXCJ0cmFuc2l0aW9uc1wiXSxpZD1mdW5jdGlvbih0LGUpe3RoaXMubmFtZT10LHRoaXMudXNlRGVmYXVsdHM9ZX0saWQucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjppZCxleHRlbmQ6ZnVuY3Rpb24odCxlLG4pe3RoaXMuY29uZmlndXJlKHRoaXMudXNlRGVmYXVsdHM/dC5kZWZhdWx0czp0LHRoaXMudXNlRGVmYXVsdHM/ZTplLmNvbnN0cnVjdG9yLG4pfSxpbml0OmZ1bmN0aW9uKCl7fSxjb25maWd1cmU6ZnVuY3Rpb24odCxlLG4pe3ZhciBpLHI9dGhpcy5uYW1lLHM9bltyXTtpPXdhKHRbcl0pO2Zvcih2YXIgbyBpbiBzKWlbb109c1tvXTtlW3JdPWl9LHJlc2V0OmZ1bmN0aW9uKHQpe3ZhciBlPXRbdGhpcy5uYW1lXSxuPSExO3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBpPWVbdF07aS5fZm4mJihpLl9mbi5pc093bmVyP2VbdF09aS5fZm46ZGVsZXRlIGVbdF0sbj0hMCl9KSxufX0scmQ9bmQubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgaWQodCxcImNvbXB1dGVkXCI9PT10KX0pO3ZhciBjZCxsZCxmZCxkZCxwZCxtZCx2ZD1yZCxnZD1vbix5ZD1jbjtkZD17YWRhcHQ6VGgsY3NzOk1oLGRhdGE6V2gsdGVtcGxhdGU6aGR9LGZkPU9iamVjdC5rZXlzKHVhKSxtZD1kbihmZC5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIWRkW3RdfSkpLHBkPWRuKGZkLmNvbmNhdCh2ZC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZX0pKSksbGQ9W10uY29uY2F0KGZkLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4hdmRbdF0mJiFkZFt0XX0pLHZkLGRkLmRhdGEsZGQudGVtcGxhdGUsZGQuY3NzKSxjZD17ZXh0ZW5kOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbG4oXCJleHRlbmRcIix0LGUsbil9LGluaXQ6ZnVuY3Rpb24odCxlLG4pe3JldHVybiBsbihcImluaXRcIix0LGUsbil9LHJlc2V0OmZ1bmN0aW9uKHQpe3JldHVybiBsZC5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVzZXQmJmUucmVzZXQodCl9KS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZX0pfSxvcmRlcjpsZH07dmFyIGJkPWNkLHdkPXBuLHhkPW1uLGtkPXZuLEVkPWduLF9kPXluLEFkPWJuLFNkPXduLENkPXhuLE9kPWtuLFBkPUVuLFRkPV9uLEZkPUFuLFJkPWZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcy5ub2RlKX0samQ9ZnVuY3Rpb24odCl7dGhpcy50eXBlPVpoLHRoaXMudGV4dD10LnRlbXBsYXRlfTtqZC5wcm90b3R5cGU9e2RldGFjaDpSZCxmaXJzdE5vZGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlfSxyZW5kZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlfHwodGhpcy5ub2RlPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRoaXMudGV4dCkpLHRoaXMubm9kZX0sdG9TdHJpbmc6ZnVuY3Rpb24odCl7cmV0dXJuIHQ/U2UodGhpcy50ZXh0KTp0aGlzLnRleHR9LHVucmVuZGVyOmZ1bmN0aW9uKHQpe3JldHVybiB0P3RoaXMuZGV0YWNoKCk6dm9pZCAwfX07dmFyIE5kPWpkLERkPVNuLElkPUNuLExkPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaTt0aGlzLnJlZj1lLHRoaXMucmVzb2x2ZWQ9ITEsdGhpcy5yb290PXQucm9vdCx0aGlzLnBhcmVudEZyYWdtZW50PXQucGFyZW50RnJhZ21lbnQsdGhpcy5jYWxsYmFjaz1uLGk9dXUodC5yb290LGUsdC5wYXJlbnRGcmFnbWVudCksdm9pZCAwIT1pP3RoaXMucmVzb2x2ZShpKTptdS5hZGRVbnJlc29sdmVkKHRoaXMpfTtMZC5wcm90b3R5cGU9e3Jlc29sdmU6ZnVuY3Rpb24odCl7dGhpcy5rZXlwYXRoJiYhdCYmbXUuYWRkVW5yZXNvbHZlZCh0aGlzKSx0aGlzLnJlc29sdmVkPSEwLHRoaXMua2V5cGF0aD10LHRoaXMuY2FsbGJhY2sodCl9LGZvcmNlUmVzb2x1dGlvbjpmdW5jdGlvbigpe3RoaXMucmVzb2x2ZShfKHRoaXMucmVmKSl9LHJlYmluZDpmdW5jdGlvbih0LGUpe3ZhciBuO3ZvaWQgMCE9dGhpcy5rZXlwYXRoJiYobj10aGlzLmtleXBhdGgucmVwbGFjZSh0LGUpLHZvaWQgMCE9PW4mJnRoaXMucmVzb2x2ZShuKSl9LHVuYmluZDpmdW5jdGlvbigpe3RoaXMucmVzb2x2ZWR8fG11LnJlbW92ZVVucmVzb2x2ZWQodGhpcyl9fTt2YXIgVmQ9TGQsTWQ9ZnVuY3Rpb24odCxlLG4pe3RoaXMucGFyZW50RnJhZ21lbnQ9dC5wYXJlbnRGcmFnbWVudCx0aGlzLnJlZj1lLHRoaXMuY2FsbGJhY2s9bix0aGlzLnJlYmluZCgpfSxVZD17XCJAa2V5cGF0aFwiOntwcmVmaXg6XCJjXCIscHJvcDpbXCJjb250ZXh0XCJdfSxcIkBpbmRleFwiOntwcmVmaXg6XCJpXCIscHJvcDpbXCJpbmRleFwiXX0sXCJAa2V5XCI6e3ByZWZpeDpcImtcIixwcm9wOltcImtleVwiLFwiaW5kZXhcIl19fTtNZC5wcm90b3R5cGU9e3JlYmluZDpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5yZWYsbj10aGlzLnBhcmVudEZyYWdtZW50LGk9VWRbZV07aWYoIWkpdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIHNwZWNpYWwgcmVmZXJlbmNlIFwiJytlKydcIiAtIHZhbGlkIHJlZmVyZW5jZXMgYXJlIEBpbmRleCwgQGtleSBhbmQgQGtleXBhdGgnKTtpZih0aGlzLmNhY2hlZClyZXR1cm4gdGhpcy5jYWxsYmFjayhfKFwiQFwiK2kucHJlZml4K09uKHRoaXMuY2FjaGVkLGkpKSk7aWYoLTEhPT1pLnByb3AuaW5kZXhPZihcImluZGV4XCIpfHwtMSE9PWkucHJvcC5pbmRleE9mKFwia2V5XCIpKWZvcig7bjspe2lmKG4ub3duZXIuY3VycmVudFN1YnR5cGU9PT1DYyYmdm9pZCAwIT09KHQ9T24obixpKSkpcmV0dXJuIHRoaXMuY2FjaGVkPW4sbi5yZWdpc3RlckluZGV4UmVmKHRoaXMpLHRoaXMuY2FsbGJhY2soXyhcIkBcIitpLnByZWZpeCt0KSk7bj0hbi5wYXJlbnQmJm4ub3duZXImJm4ub3duZXIuY29tcG9uZW50JiZuLm93bmVyLmNvbXBvbmVudC5wYXJlbnRGcmFnbWVudCYmIW4ub3duZXIuY29tcG9uZW50Lmluc3RhbmNlLmlzb2xhdGVkP24ub3duZXIuY29tcG9uZW50LnBhcmVudEZyYWdtZW50Om4ucGFyZW50fWVsc2UgZm9yKDtuOyl7aWYodm9pZCAwIT09KHQ9T24obixpKSkpcmV0dXJuIHRoaXMuY2FsbGJhY2soXyhcIkBcIitpLnByZWZpeCt0LnN0cikpO249bi5wYXJlbnR9fSx1bmJpbmQ6ZnVuY3Rpb24oKXt0aGlzLmNhY2hlZCYmdGhpcy5jYWNoZWQudW5yZWdpc3RlckluZGV4UmVmKHRoaXMpfX07dmFyIFdkPU1kLHpkPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLnBhcmVudEZyYWdtZW50PXQucGFyZW50RnJhZ21lbnQsdGhpcy5yZWY9ZSx0aGlzLmNhbGxiYWNrPW4sZS5yZWYuZnJhZ21lbnQucmVnaXN0ZXJJbmRleFJlZih0aGlzKSx0aGlzLnJlYmluZCgpfTt6ZC5wcm90b3R5cGU9e3JlYmluZDpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5yZWYucmVmO3Q9XCJrXCI9PT1lLnJlZi50P1wia1wiK2UuZnJhZ21lbnQua2V5OlwiaVwiK2UuZnJhZ21lbnQuaW5kZXgsdm9pZCAwIT09dCYmdGhpcy5jYWxsYmFjayhfKFwiQFwiK3QpKX0sdW5iaW5kOmZ1bmN0aW9uKCl7dGhpcy5yZWYucmVmLmZyYWdtZW50LnVucmVnaXN0ZXJJbmRleFJlZih0aGlzKX19O3ZhciBCZD16ZCxxZD1QbjtQbi5yZXNvbHZlPWZ1bmN0aW9uKHQpe3ZhciBlLG4saT17fTtmb3IoZSBpbiB0LnJlZnMpbj10LnJlZnNbZV0saVtuLnJlZi5uXT1cImtcIj09PW4ucmVmLnQ/bi5mcmFnbWVudC5rZXk6bi5mcmFnbWVudC5pbmRleDtyZXR1cm4gaX07dmFyICRkLFFkPVRuLFpkPUZuLEhkPXt9LEtkPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kOyRkPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByLHM9dGhpcztyPXQucm9vdCx0aGlzLnJvb3Q9cix0aGlzLnBhcmVudEZyYWdtZW50PWUsdGhpcy5jYWxsYmFjaz1pLHRoaXMub3duZXI9dCx0aGlzLnN0cj1uLnMsdGhpcy5rZXlwYXRocz1bXSx0aGlzLnBlbmRpbmc9bi5yLmxlbmd0aCx0aGlzLnJlZlJlc29sdmVycz1uLnIubWFwKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIFFkKHMsdCxmdW5jdGlvbih0KXtzLnJlc29sdmUoZSx0KX0pfSksdGhpcy5yZWFkeT0hMCx0aGlzLmJ1YmJsZSgpfSwkZC5wcm90b3R5cGU9e2J1YmJsZTpmdW5jdGlvbigpe3RoaXMucmVhZHkmJih0aGlzLnVuaXF1ZVN0cmluZz1qbih0aGlzLnN0cix0aGlzLmtleXBhdGhzKSx0aGlzLmtleXBhdGg9Tm4odGhpcy51bmlxdWVTdHJpbmcpLHRoaXMuY3JlYXRlRXZhbHVhdG9yKCksdGhpcy5jYWxsYmFjayh0aGlzLmtleXBhdGgpKX0sdW5iaW5kOmZ1bmN0aW9uKCl7Zm9yKHZhciB0O3Q9dGhpcy5yZWZSZXNvbHZlcnMucG9wKCk7KXQudW5iaW5kKCl9LHJlc29sdmU6ZnVuY3Rpb24odCxlKXt0aGlzLmtleXBhdGhzW3RdPWUsdGhpcy5idWJibGUoKX0sY3JlYXRlRXZhbHVhdG9yOmZ1bmN0aW9uKCl7dmFyIHQsZSxuLGkscixzPXRoaXM7aT10aGlzLmtleXBhdGgsdD10aGlzLnJvb3Qudmlld21vZGVsLmNvbXB1dGF0aW9uc1tpLnN0cl0sdD90aGlzLnJvb3Qudmlld21vZGVsLm1hcmsoaSk6KHI9WmQodGhpcy5zdHIsdGhpcy5yZWZSZXNvbHZlcnMubGVuZ3RoKSxlPXRoaXMua2V5cGF0aHMubWFwKGZ1bmN0aW9uKHQpe3ZhciBlO3JldHVyblwidW5kZWZpbmVkXCI9PT10P2Z1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMH06dC5pc1NwZWNpYWw/KGU9dC52YWx1ZSxmdW5jdGlvbigpe3JldHVybiBlfSk6ZnVuY3Rpb24oKXt2YXIgZT1zLnJvb3Qudmlld21vZGVsLmdldCh0LHtub1Vud3JhcDohMCxmdWxsUm9vdEdldDohMH0pO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJihlPUluKGUscy5yb290KSksZX19KSxuPXtkZXBzOnRoaXMua2V5cGF0aHMuZmlsdGVyKERuKSxnZXR0ZXI6ZnVuY3Rpb24oKXt2YXIgdD1lLm1hcChSbik7cmV0dXJuIHIuYXBwbHkobnVsbCx0KX19LHQ9dGhpcy5yb290LnZpZXdtb2RlbC5jb21wdXRlKGksbikpfSxyZWJpbmQ6ZnVuY3Rpb24odCxlKXt0aGlzLnJlZlJlc29sdmVycy5mb3JFYWNoKGZ1bmN0aW9uKG4pe3JldHVybiBuLnJlYmluZCh0LGUpfSl9fTt2YXIgR2Q9JGQsWWQ9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXM7dGhpcy5yZXNvbHZlcj1lLHRoaXMucm9vdD1lLnJvb3QsdGhpcy5wYXJlbnRGcmFnbWVudD1uLHRoaXMudmlld21vZGVsPWUucm9vdC52aWV3bW9kZWwsXCJzdHJpbmdcIj09dHlwZW9mIHQ/dGhpcy52YWx1ZT10OnQudD09PWdjP3RoaXMucmVmUmVzb2x2ZXI9UWQodGhpcyx0Lm4sZnVuY3Rpb24odCl7aS5yZXNvbHZlKHQpfSk6bmV3IEdkKGUsbix0LGZ1bmN0aW9uKHQpe2kucmVzb2x2ZSh0KX0pfTtZZC5wcm90b3R5cGU9e3Jlc29sdmU6ZnVuY3Rpb24odCl7dGhpcy5rZXlwYXRoJiZ0aGlzLnZpZXdtb2RlbC51bnJlZ2lzdGVyKHRoaXMua2V5cGF0aCx0aGlzKSx0aGlzLmtleXBhdGg9dCx0aGlzLnZhbHVlPXRoaXMudmlld21vZGVsLmdldCh0KSx0aGlzLmJpbmQoKSx0aGlzLnJlc29sdmVyLmJ1YmJsZSgpfSxiaW5kOmZ1bmN0aW9uKCl7dGhpcy52aWV3bW9kZWwucmVnaXN0ZXIodGhpcy5rZXlwYXRoLHRoaXMpfSxyZWJpbmQ6ZnVuY3Rpb24odCxlKXt0aGlzLnJlZlJlc29sdmVyJiZ0aGlzLnJlZlJlc29sdmVyLnJlYmluZCh0LGUpfSxzZXRWYWx1ZTpmdW5jdGlvbih0KXt0aGlzLnZhbHVlPXQsdGhpcy5yZXNvbHZlci5idWJibGUoKX0sdW5iaW5kOmZ1bmN0aW9uKCl7dGhpcy5rZXlwYXRoJiZ0aGlzLnZpZXdtb2RlbC51bnJlZ2lzdGVyKHRoaXMua2V5cGF0aCx0aGlzKSx0aGlzLnJlZlJlc29sdmVyJiZ0aGlzLnJlZlJlc29sdmVyLnVuYmluZCgpfSxmb3JjZVJlc29sdXRpb246ZnVuY3Rpb24oKXt0aGlzLnJlZlJlc29sdmVyJiZ0aGlzLnJlZlJlc29sdmVyLmZvcmNlUmVzb2x1dGlvbigpfX07dmFyIEpkPVlkLFhkPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaSxyLHMsbyxhPXRoaXM7dGhpcy5wYXJlbnRGcmFnbWVudD1vPXQucGFyZW50RnJhZ21lbnQsdGhpcy5yb290PWk9dC5yb290LHRoaXMubXVzdGFjaGU9dCx0aGlzLnJlZj1yPWUucix0aGlzLmNhbGxiYWNrPW4sdGhpcy51bnJlc29sdmVkPVtdLChzPXV1KGkscixvKSk/dGhpcy5iYXNlPXM6dGhpcy5iYXNlUmVzb2x2ZXI9bmV3IFZkKHRoaXMscixmdW5jdGlvbih0KXthLmJhc2U9dCxhLmJhc2VSZXNvbHZlcj1udWxsLGEuYnViYmxlKCl9KSx0aGlzLm1lbWJlcnM9ZS5tLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gbmV3IEpkKHQsYSxvKX0pLHRoaXMucmVhZHk9ITAsdGhpcy5idWJibGUoKX07WGQucHJvdG90eXBlPXtnZXRLZXlwYXRoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5tZW1iZXJzLm1hcChMbik7cmV0dXJuIXQuZXZlcnkoVm4pfHx0aGlzLmJhc2VSZXNvbHZlcj9udWxsOnRoaXMuYmFzZS5qb2luKHQuam9pbihcIi5cIikpfSxidWJibGU6ZnVuY3Rpb24oKXt0aGlzLnJlYWR5JiYhdGhpcy5iYXNlUmVzb2x2ZXImJnRoaXMuY2FsbGJhY2sodGhpcy5nZXRLZXlwYXRoKCkpfSx1bmJpbmQ6ZnVuY3Rpb24oKXt0aGlzLm1lbWJlcnMuZm9yRWFjaChaKX0scmViaW5kOmZ1bmN0aW9uKHQsZSl7dmFyIG47aWYodGhpcy5iYXNlKXt2YXIgaT10aGlzLmJhc2UucmVwbGFjZSh0LGUpO2kmJmkhPT10aGlzLmJhc2UmJih0aGlzLmJhc2U9aSxuPSEwKX10aGlzLm1lbWJlcnMuZm9yRWFjaChmdW5jdGlvbihpKXtpLnJlYmluZCh0LGUpJiYobj0hMCl9KSxuJiZ0aGlzLmJ1YmJsZSgpfSxmb3JjZVJlc29sdXRpb246ZnVuY3Rpb24oKXt0aGlzLmJhc2VSZXNvbHZlciYmKHRoaXMuYmFzZT1fKHRoaXMucmVmKSx0aGlzLmJhc2VSZXNvbHZlci51bmJpbmQoKSx0aGlzLmJhc2VSZXNvbHZlcj1udWxsKSx0aGlzLm1lbWJlcnMuZm9yRWFjaChNbiksdGhpcy5idWJibGUoKX19O3ZhciB0cD1YZCxlcD1VbixucD1XbixpcD16bixycD17Z2V0VmFsdWU6SWQsaW5pdDplcCxyZXNvbHZlOm5wLHJlYmluZDppcH0sc3A9ZnVuY3Rpb24odCl7dGhpcy50eXBlPUhoLHJwLmluaXQodGhpcyx0KX07c3AucHJvdG90eXBlPXt1cGRhdGU6ZnVuY3Rpb24oKXt0aGlzLm5vZGUuZGF0YT12b2lkIDA9PXRoaXMudmFsdWU/XCJcIjp0aGlzLnZhbHVlfSxyZXNvbHZlOnJwLnJlc29sdmUscmViaW5kOnJwLnJlYmluZCxkZXRhY2g6UmQsdW5iaW5kOkRkLHJlbmRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGV8fCh0aGlzLm5vZGU9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobih0aGlzLnZhbHVlKSkpLHRoaXMubm9kZX0sdW5yZW5kZXI6ZnVuY3Rpb24odCl7dCYmZSh0aGlzLm5vZGUpfSxnZXRWYWx1ZTpycC5nZXRWYWx1ZSxzZXRWYWx1ZTpmdW5jdGlvbih0KXt2YXIgZTt0aGlzLmtleXBhdGgmJihlPXRoaXMucm9vdC52aWV3bW9kZWwud3JhcHBlZFt0aGlzLmtleXBhdGguc3RyXSkmJih0PWUuZ2V0KCkpLGEodCx0aGlzLnZhbHVlKXx8KHRoaXMudmFsdWU9dCx0aGlzLnBhcmVudEZyYWdtZW50LmJ1YmJsZSgpLHRoaXMubm9kZSYmbXUuYWRkVmlldyh0aGlzKSl9LGZpcnN0Tm9kZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGV9LHRvU3RyaW5nOmZ1bmN0aW9uKHQpe3ZhciBlPVwiXCIrbih0aGlzLnZhbHVlKTtyZXR1cm4gdD9TZShlKTplfX07dmFyIG9wPXNwLGFwPUJuLHVwPXFuLGhwPSRuLGNwPVFuLGxwPVpuLGZwPUhuLGRwPUtuLHBwPUduLG1wPVluLHZwPWZ1bmN0aW9uKHQsZSl7cnAucmViaW5kLmNhbGwodGhpcyx0LGUpfSxncD1Ybix5cD10aSxicD1saSx3cD1maSx4cD1kaSxrcD12aSxFcD1mdW5jdGlvbih0KXt0aGlzLnR5cGU9R2gsdGhpcy5zdWJ0eXBlPXRoaXMuY3VycmVudFN1YnR5cGU9dC50ZW1wbGF0ZS5uLHRoaXMuaW52ZXJ0ZWQ9dGhpcy5zdWJ0eXBlPT09U2MsdGhpcy5wRWxlbWVudD10LnBFbGVtZW50LHRoaXMuZnJhZ21lbnRzPVtdLHRoaXMuZnJhZ21lbnRzVG9DcmVhdGU9W10sdGhpcy5mcmFnbWVudHNUb1JlbmRlcj1bXSx0aGlzLmZyYWdtZW50c1RvVW5yZW5kZXI9W10sdC50ZW1wbGF0ZS5pJiYodGhpcy5pbmRleFJlZnM9dC50ZW1wbGF0ZS5pLnNwbGl0KFwiLFwiKS5tYXAoZnVuY3Rpb24odCxlKXtyZXR1cm57bjp0LHQ6MD09PWU/XCJrXCI6XCJpXCJ9fSkpLHRoaXMucmVuZGVyZWRGcmFnbWVudHM9W10sdGhpcy5sZW5ndGg9MCxycC5pbml0KHRoaXMsdCl9O0VwLnByb3RvdHlwZT17YnViYmxlOmFwLGRldGFjaDp1cCxmaW5kOmhwLGZpbmRBbGw6Y3AsZmluZEFsbENvbXBvbmVudHM6bHAsZmluZENvbXBvbmVudDpmcCxmaW5kTmV4dE5vZGU6ZHAsZmlyc3ROb2RlOnBwLGdldEluZGV4UmVmOmZ1bmN0aW9uKHQpe2lmKHRoaXMuaW5kZXhSZWZzKWZvcih2YXIgZT10aGlzLmluZGV4UmVmcy5sZW5ndGg7ZS0tOyl7dmFyIG49dGhpcy5pbmRleFJlZnNbZV07aWYobi5uPT09dClyZXR1cm4gbn19LGdldFZhbHVlOnJwLmdldFZhbHVlLHNodWZmbGU6bXAscmViaW5kOnZwLHJlbmRlcjpncCxyZXNvbHZlOnJwLnJlc29sdmUsc2V0VmFsdWU6eXAsdG9TdHJpbmc6YnAsdW5iaW5kOndwLHVucmVuZGVyOnhwLHVwZGF0ZTprcH07dmFyIF9wLEFwLFNwPUVwLENwPWdpLE9wPXlpLFBwPWJpLFRwPXdpLEZwPXt9O3RyeXtsYShcInRhYmxlXCIpLmlubmVySFRNTD1cImZvb1wifWNhdGNoKF9hKXtfcD0hMCxBcD17VEFCTEU6Wyc8dGFibGUgY2xhc3M9XCJ4XCI+JyxcIjwvdGFibGU+XCJdLFRIRUFEOlsnPHRhYmxlPjx0aGVhZCBjbGFzcz1cInhcIj4nLFwiPC90aGVhZD48L3RhYmxlPlwiXSxUQk9EWTpbJzx0YWJsZT48dGJvZHkgY2xhc3M9XCJ4XCI+JyxcIjwvdGJvZHk+PC90YWJsZT5cIl0sVFI6Wyc8dGFibGU+PHRyIGNsYXNzPVwieFwiPicsXCI8L3RyPjwvdGFibGU+XCJdLFNFTEVDVDpbJzxzZWxlY3QgY2xhc3M9XCJ4XCI+JyxcIjwvc2VsZWN0PlwiXX19dmFyIFJwPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaSxyLHMsbyxhLHU9W107aWYobnVsbCE9dCYmXCJcIiE9PXQpe2ZvcihfcCYmKHI9QXBbZS50YWdOYW1lXSk/KGk9eGkoXCJESVZcIiksaS5pbm5lckhUTUw9clswXSt0K3JbMV0saT1pLnF1ZXJ5U2VsZWN0b3IoXCIueFwiKSxcIlNFTEVDVFwiPT09aS50YWdOYW1lJiYocz1pLm9wdGlvbnNbaS5zZWxlY3RlZEluZGV4XSkpOmUubmFtZXNwYWNlVVJJPT09aWEuc3ZnPyhpPXhpKFwiRElWXCIpLGkuaW5uZXJIVE1MPSc8c3ZnIGNsYXNzPVwieFwiPicrdCtcIjwvc3ZnPlwiLGk9aS5xdWVyeVNlbGVjdG9yKFwiLnhcIikpOihpPXhpKGUudGFnTmFtZSksaS5pbm5lckhUTUw9dCxcIlNFTEVDVFwiPT09aS50YWdOYW1lJiYocz1pLm9wdGlvbnNbaS5zZWxlY3RlZEluZGV4XSkpO289aS5maXJzdENoaWxkOyl1LnB1c2gobyksbi5hcHBlbmRDaGlsZChvKTtpZihcIlNFTEVDVFwiPT09ZS50YWdOYW1lKWZvcihhPXUubGVuZ3RoO2EtLTspdVthXSE9PXMmJih1W2FdLnNlbGVjdGVkPSExKX1yZXR1cm4gdX0sanA9a2ksTnA9X2ksRHA9QWksSXA9U2ksTHA9Q2ksVnA9T2ksTXA9ZnVuY3Rpb24odCl7dGhpcy50eXBlPUtoLHJwLmluaXQodGhpcyx0KX07TXAucHJvdG90eXBlPXtkZXRhY2g6Q3AsZmluZDpPcCxmaW5kQWxsOlBwLGZpcnN0Tm9kZTpUcCxnZXRWYWx1ZTpycC5nZXRWYWx1ZSxyZWJpbmQ6cnAucmViaW5kLHJlbmRlcjpOcCxyZXNvbHZlOnJwLnJlc29sdmUsc2V0VmFsdWU6RHAsdG9TdHJpbmc6SXAsdW5iaW5kOkRkLHVucmVuZGVyOkxwLHVwZGF0ZTpWcH07dmFyIFVwLFdwLHpwLEJwLHFwPU1wLCRwPWZ1bmN0aW9uKCl7dGhpcy5wYXJlbnRGcmFnbWVudC5idWJibGUoKX0sUXA9UGksWnA9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubm9kZT9mYSh0aGlzLm5vZGUsdCk/dGhpcy5ub2RlOnRoaXMuZnJhZ21lbnQmJnRoaXMuZnJhZ21lbnQuZmluZD90aGlzLmZyYWdtZW50LmZpbmQodCk6dm9pZCAwOm51bGx9LEhwPWZ1bmN0aW9uKHQsZSl7ZS5fdGVzdCh0aGlzLCEwKSYmZS5saXZlJiYodGhpcy5saXZlUXVlcmllc3x8KHRoaXMubGl2ZVF1ZXJpZXM9W10pKS5wdXNoKGUpLHRoaXMuZnJhZ21lbnQmJnRoaXMuZnJhZ21lbnQuZmluZEFsbCh0LGUpfSxLcD1mdW5jdGlvbih0LGUpe3RoaXMuZnJhZ21lbnQmJnRoaXMuZnJhZ21lbnQuZmluZEFsbENvbXBvbmVudHModCxlKX0sR3A9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZnJhZ21lbnQ/dGhpcy5mcmFnbWVudC5maW5kQ29tcG9uZW50KHQpOnZvaWQgMH0sWXA9VGksSnA9RmksWHA9UmksdG09L150cnVlfG9ufHllc3wxJC9pLGVtPS9eWzAtOV0rJC8sbm09ZnVuY3Rpb24odCxlKXt2YXIgbixpLHI7cmV0dXJuIHI9ZS5hfHx7fSxpPXt9LG49ci50d293YXksdm9pZCAwIT09biYmKGkudHdvd2F5PTA9PT1ufHx0bS50ZXN0KG4pKSxuPXIubGF6eSx2b2lkIDAhPT1uJiYoaS5sYXp5PTAhPT1uJiZlbS50ZXN0KG4pP3BhcnNlSW50KG4pOjA9PT1ufHx0bS50ZXN0KG4pKSxpfSxpbT1qaTtVcD1cImFsdEdseXBoIGFsdEdseXBoRGVmIGFsdEdseXBoSXRlbSBhbmltYXRlQ29sb3IgYW5pbWF0ZU1vdGlvbiBhbmltYXRlVHJhbnNmb3JtIGNsaXBQYXRoIGZlQmxlbmQgZmVDb2xvck1hdHJpeCBmZUNvbXBvbmVudFRyYW5zZmVyIGZlQ29tcG9zaXRlIGZlQ29udm9sdmVNYXRyaXggZmVEaWZmdXNlTGlnaHRpbmcgZmVEaXNwbGFjZW1lbnRNYXAgZmVEaXN0YW50TGlnaHQgZmVGbG9vZCBmZUZ1bmNBIGZlRnVuY0IgZmVGdW5jRyBmZUZ1bmNSIGZlR2F1c3NpYW5CbHVyIGZlSW1hZ2UgZmVNZXJnZSBmZU1lcmdlTm9kZSBmZU1vcnBob2xvZ3kgZmVPZmZzZXQgZmVQb2ludExpZ2h0IGZlU3BlY3VsYXJMaWdodGluZyBmZVNwb3RMaWdodCBmZVRpbGUgZmVUdXJidWxlbmNlIGZvcmVpZ25PYmplY3QgZ2x5cGhSZWYgbGluZWFyR3JhZGllbnQgcmFkaWFsR3JhZGllbnQgdGV4dFBhdGggdmtlcm5cIi5zcGxpdChcIiBcIiksV3A9XCJhdHRyaWJ1dGVOYW1lIGF0dHJpYnV0ZVR5cGUgYmFzZUZyZXF1ZW5jeSBiYXNlUHJvZmlsZSBjYWxjTW9kZSBjbGlwUGF0aFVuaXRzIGNvbnRlbnRTY3JpcHRUeXBlIGNvbnRlbnRTdHlsZVR5cGUgZGlmZnVzZUNvbnN0YW50IGVkZ2VNb2RlIGV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQgZmlsdGVyUmVzIGZpbHRlclVuaXRzIGdseXBoUmVmIGdyYWRpZW50VHJhbnNmb3JtIGdyYWRpZW50VW5pdHMga2VybmVsTWF0cml4IGtlcm5lbFVuaXRMZW5ndGgga2V5UG9pbnRzIGtleVNwbGluZXMga2V5VGltZXMgbGVuZ3RoQWRqdXN0IGxpbWl0aW5nQ29uZUFuZ2xlIG1hcmtlckhlaWdodCBtYXJrZXJVbml0cyBtYXJrZXJXaWR0aCBtYXNrQ29udGVudFVuaXRzIG1hc2tVbml0cyBudW1PY3RhdmVzIHBhdGhMZW5ndGggcGF0dGVybkNvbnRlbnRVbml0cyBwYXR0ZXJuVHJhbnNmb3JtIHBhdHRlcm5Vbml0cyBwb2ludHNBdFggcG9pbnRzQXRZIHBvaW50c0F0WiBwcmVzZXJ2ZUFscGhhIHByZXNlcnZlQXNwZWN0UmF0aW8gcHJpbWl0aXZlVW5pdHMgcmVmWCByZWZZIHJlcGVhdENvdW50IHJlcGVhdER1ciByZXF1aXJlZEV4dGVuc2lvbnMgcmVxdWlyZWRGZWF0dXJlcyBzcGVjdWxhckNvbnN0YW50IHNwZWN1bGFyRXhwb25lbnQgc3ByZWFkTWV0aG9kIHN0YXJ0T2Zmc2V0IHN0ZERldmlhdGlvbiBzdGl0Y2hUaWxlcyBzdXJmYWNlU2NhbGUgc3lzdGVtTGFuZ3VhZ2UgdGFibGVWYWx1ZXMgdGFyZ2V0WCB0YXJnZXRZIHRleHRMZW5ndGggdmlld0JveCB2aWV3VGFyZ2V0IHhDaGFubmVsU2VsZWN0b3IgeUNoYW5uZWxTZWxlY3RvciB6b29tQW5kUGFuXCIuc3BsaXQoXCIgXCIpLHpwPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT17fSxuPXQubGVuZ3RoO24tLTspZVt0W25dLnRvTG93ZXJDYXNlKCldPXRbbl07cmV0dXJuIGV9LEJwPXpwKFVwLmNvbmNhdChXcCkpO3ZhciBybT1mdW5jdGlvbih0KXt2YXIgZT10LnRvTG93ZXJDYXNlKCk7cmV0dXJuIEJwW2VdfHxlfSxzbT1mdW5jdGlvbih0LGUpe3ZhciBuLGk7aWYobj1lLmluZGV4T2YoXCI6XCIpLC0xPT09bnx8KGk9ZS5zdWJzdHIoMCxuKSxcInhtbG5zXCI9PT1pKSl0Lm5hbWU9dC5lbGVtZW50Lm5hbWVzcGFjZSE9PWlhLmh0bWw/cm0oZSk6ZTtlbHNlIGlmKGU9ZS5zdWJzdHJpbmcobisxKSx0Lm5hbWU9cm0oZSksdC5uYW1lc3BhY2U9aWFbaS50b0xvd2VyQ2FzZSgpXSx0Lm5hbWVzcGFjZVByZWZpeD1pLCF0Lm5hbWVzcGFjZSl0aHJvdydVbmtub3duIG5hbWVzcGFjZSAoXCInK2krJ1wiKSd9LG9tPU5pLGFtPURpLHVtPUlpLGhtPUxpLGNtPXtcImFjY2VwdC1jaGFyc2V0XCI6XCJhY2NlcHRDaGFyc2V0XCIsYWNjZXNza2V5OlwiYWNjZXNzS2V5XCIsYmdjb2xvcjpcImJnQ29sb3JcIixcImNsYXNzXCI6XCJjbGFzc05hbWVcIixjb2RlYmFzZTpcImNvZGVCYXNlXCIsY29sc3BhbjpcImNvbFNwYW5cIixjb250ZW50ZWRpdGFibGU6XCJjb250ZW50RWRpdGFibGVcIixkYXRldGltZTpcImRhdGVUaW1lXCIsZGlybmFtZTpcImRpck5hbWVcIixcImZvclwiOlwiaHRtbEZvclwiLFwiaHR0cC1lcXVpdlwiOlwiaHR0cEVxdWl2XCIsaXNtYXA6XCJpc01hcFwiLG1heGxlbmd0aDpcIm1heExlbmd0aFwiLFxubm92YWxpZGF0ZTpcIm5vVmFsaWRhdGVcIixwdWJkYXRlOlwicHViRGF0ZVwiLHJlYWRvbmx5OlwicmVhZE9ubHlcIixyb3dzcGFuOlwicm93U3BhblwiLHRhYmluZGV4OlwidGFiSW5kZXhcIix1c2VtYXA6XCJ1c2VNYXBcIn0sbG09VmksZm09VWksZG09V2kscG09emksbW09Qmksdm09cWksZ209JGkseW09UWksYm09Wmksd209SGkseG09S2ksa209R2ksRW09WWksX209SmksQW09WGksU209ZnVuY3Rpb24odCl7dGhpcy5pbml0KHQpfTtTbS5wcm90b3R5cGU9e2J1YmJsZTppbSxpbml0OmFtLHJlYmluZDp1bSxyZW5kZXI6aG0sdG9TdHJpbmc6bG0sdW5iaW5kOmZtLHVwZGF0ZTpBbX07dmFyIENtLE9tPVNtLFBtPWZ1bmN0aW9uKHQsZSl7dmFyIG4saSxyPVtdO2ZvcihuIGluIGUpXCJ0d293YXlcIiE9PW4mJlwibGF6eVwiIT09biYmZS5oYXNPd25Qcm9wZXJ0eShuKSYmKGk9bmV3IE9tKHtlbGVtZW50OnQsbmFtZTpuLHZhbHVlOmVbbl0scm9vdDp0LnJvb3R9KSxyW25dPWksXCJ2YWx1ZVwiIT09biYmci5wdXNoKGkpKTtyZXR1cm4oaT1yLnZhbHVlKSYmci5wdXNoKGkpLHJ9O1widW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudCYmKENtPWxhKFwiZGl2XCIpKTt2YXIgVG09ZnVuY3Rpb24odCxlKXt0aGlzLmVsZW1lbnQ9dCx0aGlzLnJvb3Q9dC5yb290LHRoaXMucGFyZW50RnJhZ21lbnQ9dC5wYXJlbnRGcmFnbWVudCx0aGlzLmF0dHJpYnV0ZXM9W10sdGhpcy5mcmFnbWVudD1uZXcgeWIoe3Jvb3Q6dC5yb290LG93bmVyOnRoaXMsdGVtcGxhdGU6W2VdfSl9O1RtLnByb3RvdHlwZT17YnViYmxlOmZ1bmN0aW9uKCl7dGhpcy5ub2RlJiZ0aGlzLnVwZGF0ZSgpLHRoaXMuZWxlbWVudC5idWJibGUoKX0scmViaW5kOmZ1bmN0aW9uKHQsZSl7dGhpcy5mcmFnbWVudC5yZWJpbmQodCxlKX0scmVuZGVyOmZ1bmN0aW9uKHQpe3RoaXMubm9kZT10LHRoaXMuaXNTdmc9dC5uYW1lc3BhY2VVUkk9PT1pYS5zdmcsdGhpcy51cGRhdGUoKX0sdW5iaW5kOmZ1bmN0aW9uKCl7dGhpcy5mcmFnbWVudC51bmJpbmQoKX0sdXBkYXRlOmZ1bmN0aW9uKCl7dmFyIHQsZSxuPXRoaXM7dD10aGlzLmZyYWdtZW50LnRvU3RyaW5nKCksZT10cih0LHRoaXMuaXNTdmcpLHRoaXMuYXR0cmlidXRlcy5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIGVyKGUsdCl9KS5mb3JFYWNoKGZ1bmN0aW9uKHQpe24ubm9kZS5yZW1vdmVBdHRyaWJ1dGUodC5uYW1lKX0pLGUuZm9yRWFjaChmdW5jdGlvbih0KXtuLm5vZGUuc2V0QXR0cmlidXRlKHQubmFtZSx0LnZhbHVlKX0pLHRoaXMuYXR0cmlidXRlcz1lfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZyYWdtZW50LnRvU3RyaW5nKCl9fTt2YXIgRm09VG0sUm09ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT9lLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbmV3IEZtKHQsZSl9KTpbXX0sam09ZnVuY3Rpb24odCl7dmFyIGUsbixpLHI7aWYodGhpcy5lbGVtZW50PXQsdGhpcy5yb290PXQucm9vdCx0aGlzLmF0dHJpYnV0ZT10LmF0dHJpYnV0ZXNbdGhpcy5uYW1lfHxcInZhbHVlXCJdLGU9dGhpcy5hdHRyaWJ1dGUuaW50ZXJwb2xhdG9yLGUudHdvd2F5QmluZGluZz10aGlzLG49ZS5rZXlwYXRoKXtpZihcIn1cIj09PW4uc3RyLnNsaWNlKC0xKSlyZXR1cm4gdihcIlR3by13YXkgYmluZGluZyBkb2VzIG5vdCB3b3JrIHdpdGggZXhwcmVzc2lvbnMgKGAlc2Agb24gPCVzPilcIixlLnJlc29sdmVyLnVuaXF1ZVN0cmluZyx0Lm5hbWUse3JhY3RpdmU6dGhpcy5yb290fSksITE7aWYobi5pc1NwZWNpYWwpcmV0dXJuIHYoXCJUd28td2F5IGJpbmRpbmcgZG9lcyBub3Qgd29yayB3aXRoICVzXCIsZS5yZXNvbHZlci5yZWYse3JhY3RpdmU6dGhpcy5yb290fSksITF9ZWxzZXt2YXIgcz1lLnRlbXBsYXRlLnI/XCInXCIrZS50ZW1wbGF0ZS5yK1wiJyByZWZlcmVuY2VcIjpcImV4cHJlc3Npb25cIjttKFwiVGhlICVzIGJlaW5nIHVzZWQgZm9yIHR3by13YXkgYmluZGluZyBpcyBhbWJpZ3VvdXMsIGFuZCBtYXkgY2F1c2UgdW5leHBlY3RlZCByZXN1bHRzLiBDb25zaWRlciBpbml0aWFsaXNpbmcgeW91ciBkYXRhIHRvIGVsaW1pbmF0ZSB0aGUgYW1iaWd1aXR5XCIscyx7cmFjdGl2ZTp0aGlzLnJvb3R9KSxlLnJlc29sdmVyLmZvcmNlUmVzb2x1dGlvbigpLG49ZS5rZXlwYXRofXRoaXMuYXR0cmlidXRlLmlzVHdvd2F5PSEwLHRoaXMua2V5cGF0aD1uLGk9dGhpcy5yb290LnZpZXdtb2RlbC5nZXQobiksdm9pZCAwPT09aSYmdGhpcy5nZXRJbml0aWFsVmFsdWUmJihpPXRoaXMuZ2V0SW5pdGlhbFZhbHVlKCksdm9pZCAwIT09aSYmdGhpcy5yb290LnZpZXdtb2RlbC5zZXQobixpKSksKHI9bnIodCkpJiYodGhpcy5yZXNldFZhbHVlPWksci5mb3JtQmluZGluZ3MucHVzaCh0aGlzKSl9O2ptLnByb3RvdHlwZT17aGFuZGxlQ2hhbmdlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczttdS5zdGFydCh0aGlzLnJvb3QpLHRoaXMuYXR0cmlidXRlLmxvY2tlZD0hMCx0aGlzLnJvb3Qudmlld21vZGVsLnNldCh0aGlzLmtleXBhdGgsdGhpcy5nZXRWYWx1ZSgpKSxtdS5zY2hlZHVsZVRhc2soZnVuY3Rpb24oKXtyZXR1cm4gdC5hdHRyaWJ1dGUubG9ja2VkPSExfSksbXUuZW5kKCl9LHJlYm91bmQ6ZnVuY3Rpb24oKXt2YXIgdCxlLG47ZT10aGlzLmtleXBhdGgsbj10aGlzLmF0dHJpYnV0ZS5pbnRlcnBvbGF0b3Iua2V5cGF0aCxlIT09biYmKEkodGhpcy5yb290Ll90d293YXlCaW5kaW5nc1tlLnN0cl0sdGhpcyksdGhpcy5rZXlwYXRoPW4sdD10aGlzLnJvb3QuX3R3b3dheUJpbmRpbmdzW24uc3RyXXx8KHRoaXMucm9vdC5fdHdvd2F5QmluZGluZ3Nbbi5zdHJdPVtdKSx0LnB1c2godGhpcykpfSx1bmJpbmQ6ZnVuY3Rpb24oKXt9fSxqbS5leHRlbmQ9ZnVuY3Rpb24odCl7dmFyIGUsbj10aGlzO3JldHVybiBlPWZ1bmN0aW9uKHQpe2ptLmNhbGwodGhpcyx0KSx0aGlzLmluaXQmJnRoaXMuaW5pdCgpfSxlLnByb3RvdHlwZT13YShuLnByb3RvdHlwZSksaShlLnByb3RvdHlwZSx0KSxlLmV4dGVuZD1qbS5leHRlbmQsZX07dmFyIE5tLERtPWptLEltPWlyO05tPURtLmV4dGVuZCh7Z2V0SW5pdGlhbFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJcIn0sZ2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50Lm5vZGUudmFsdWV9LHJlbmRlcjpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5lbGVtZW50Lm5vZGUsbj0hMTt0aGlzLnJlbmRlcmVkPSEwLHQ9dGhpcy5yb290LmxhenksdGhpcy5lbGVtZW50Lmxhenk9PT0hMD90PSEwOnRoaXMuZWxlbWVudC5sYXp5PT09ITE/dD0hMTp1KHRoaXMuZWxlbWVudC5sYXp5KT8odD0hMSxuPSt0aGlzLmVsZW1lbnQubGF6eSk6dSh0fHxcIlwiKSYmKG49K3QsdD0hMSx0aGlzLmVsZW1lbnQubGF6eT1uKSx0aGlzLmhhbmRsZXI9bj9zcjpJbSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixJbSwhMSksdHx8KGUuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsdGhpcy5oYW5kbGVyLCExKSxlLmF0dGFjaEV2ZW50JiZlLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLHRoaXMuaGFuZGxlciwhMSkpLGUuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIixyciwhMSl9LHVucmVuZGVyOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50Lm5vZGU7dGhpcy5yZW5kZXJlZD0hMSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixJbSwhMSksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwiaW5wdXRcIix0aGlzLmhhbmRsZXIsITEpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsdGhpcy5oYW5kbGVyLCExKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJibHVyXCIscnIsITEpfX0pO3ZhciBMbT1ObSxWbT1MbS5leHRlbmQoe2dldEluaXRpYWxWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuZnJhZ21lbnQ/dGhpcy5lbGVtZW50LmZyYWdtZW50LnRvU3RyaW5nKCk6XCJcIn0sZ2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50Lm5vZGUuaW5uZXJIVE1MfX0pLE1tPVZtLFVtPW9yLFdtPXt9LHptPURtLmV4dGVuZCh7bmFtZTpcImNoZWNrZWRcIixpbml0OmZ1bmN0aW9uKCl7dGhpcy5zaWJsaW5ncz1VbSh0aGlzLnJvb3QuX2d1aWQsXCJyYWRpb1wiLHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpKSx0aGlzLnNpYmxpbmdzLnB1c2godGhpcyl9LHJlbmRlcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudC5ub2RlO3QuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLEltLCExKSx0LmF0dGFjaEV2ZW50JiZ0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLEltLCExKX0sdW5yZW5kZXI6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnQubm9kZTt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixJbSwhMSksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIixJbSwhMSl9LGhhbmRsZUNoYW5nZTpmdW5jdGlvbigpe211LnN0YXJ0KHRoaXMucm9vdCksdGhpcy5zaWJsaW5ncy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3Qucm9vdC52aWV3bW9kZWwuc2V0KHQua2V5cGF0aCx0LmdldFZhbHVlKCkpfSksbXUuZW5kKCl9LGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudC5ub2RlLmNoZWNrZWR9LHVuYmluZDpmdW5jdGlvbigpe0kodGhpcy5zaWJsaW5ncyx0aGlzKX19KSxCbT16bSxxbT1EbS5leHRlbmQoe25hbWU6XCJuYW1lXCIsaW5pdDpmdW5jdGlvbigpe3RoaXMuc2libGluZ3M9VW0odGhpcy5yb290Ll9ndWlkLFwicmFkaW9uYW1lXCIsdGhpcy5rZXlwYXRoLnN0ciksdGhpcy5zaWJsaW5ncy5wdXNoKHRoaXMpLHRoaXMucmFkaW9OYW1lPSEwfSxnZXRJbml0aWFsVmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcImNoZWNrZWRcIik/dGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcInZhbHVlXCIpOnZvaWQgMH0scmVuZGVyOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50Lm5vZGU7dC5uYW1lPVwie3tcIit0aGlzLmtleXBhdGguc3RyK1wifX1cIix0LmNoZWNrZWQ9dGhpcy5yb290LnZpZXdtb2RlbC5nZXQodGhpcy5rZXlwYXRoKT09dGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcInZhbHVlXCIpLHQuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLEltLCExKSx0LmF0dGFjaEV2ZW50JiZ0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLEltLCExKX0sdW5yZW5kZXI6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnQubm9kZTt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixJbSwhMSksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIixJbSwhMSl9LGdldFZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50Lm5vZGU7cmV0dXJuIHQuX3JhY3RpdmU/dC5fcmFjdGl2ZS52YWx1ZTp0LnZhbHVlfSxoYW5kbGVDaGFuZ2U6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQubm9kZS5jaGVja2VkJiZEbS5wcm90b3R5cGUuaGFuZGxlQ2hhbmdlLmNhbGwodGhpcyl9LHJlYm91bmQ6ZnVuY3Rpb24odCxlKXt2YXIgbjtEbS5wcm90b3R5cGUucmVib3VuZC5jYWxsKHRoaXMsdCxlKSwobj10aGlzLmVsZW1lbnQubm9kZSkmJihuLm5hbWU9XCJ7e1wiK3RoaXMua2V5cGF0aC5zdHIrXCJ9fVwiKX0sdW5iaW5kOmZ1bmN0aW9uKCl7SSh0aGlzLnNpYmxpbmdzLHRoaXMpfX0pLCRtPXFtLFFtPURtLmV4dGVuZCh7bmFtZTpcIm5hbWVcIixnZXRJbml0aWFsVmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub0luaXRpYWxWYWx1ZT0hMCxbXX0saW5pdDpmdW5jdGlvbigpe3ZhciB0LGU7dGhpcy5jaGVja2JveE5hbWU9ITAsdGhpcy5zaWJsaW5ncz1VbSh0aGlzLnJvb3QuX2d1aWQsXCJjaGVja2JveGVzXCIsdGhpcy5rZXlwYXRoLnN0ciksdGhpcy5zaWJsaW5ncy5wdXNoKHRoaXMpLHRoaXMubm9Jbml0aWFsVmFsdWUmJih0aGlzLnNpYmxpbmdzLm5vSW5pdGlhbFZhbHVlPSEwKSx0aGlzLnNpYmxpbmdzLm5vSW5pdGlhbFZhbHVlJiZ0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiY2hlY2tlZFwiKSYmKHQ9dGhpcy5yb290LnZpZXdtb2RlbC5nZXQodGhpcy5rZXlwYXRoKSxlPXRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSx0LnB1c2goZSkpfSx1bmJpbmQ6ZnVuY3Rpb24oKXtJKHRoaXMuc2libGluZ3MsdGhpcyl9LHJlbmRlcjpmdW5jdGlvbigpe3ZhciB0LGUsbj10aGlzLmVsZW1lbnQubm9kZTt0PXRoaXMucm9vdC52aWV3bW9kZWwuZ2V0KHRoaXMua2V5cGF0aCksZT10aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwidmFsdWVcIiksdGhpcy5pc0NoZWNrZWQ9cyh0KT9SKHQsZSk6dD09ZSxuLm5hbWU9XCJ7e1wiK3RoaXMua2V5cGF0aC5zdHIrXCJ9fVwiLG4uY2hlY2tlZD10aGlzLmlzQ2hlY2tlZCxuLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixJbSwhMSksbi5hdHRhY2hFdmVudCYmbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixJbSwhMSl9LHVucmVuZGVyOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50Lm5vZGU7dC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsSW0sITEpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsSW0sITEpfSxjaGFuZ2VkOmZ1bmN0aW9uKCl7dmFyIHQ9ISF0aGlzLmlzQ2hlY2tlZDtyZXR1cm4gdGhpcy5pc0NoZWNrZWQ9dGhpcy5lbGVtZW50Lm5vZGUuY2hlY2tlZCx0aGlzLmlzQ2hlY2tlZD09PXR9LGhhbmRsZUNoYW5nZTpmdW5jdGlvbigpe3RoaXMuaXNDaGVja2VkPXRoaXMuZWxlbWVudC5ub2RlLmNoZWNrZWQsRG0ucHJvdG90eXBlLmhhbmRsZUNoYW5nZS5jYWxsKHRoaXMpfSxnZXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNpYmxpbmdzLmZpbHRlcihhcikubWFwKHVyKX19KSxabT1RbSxIbT1EbS5leHRlbmQoe25hbWU6XCJjaGVja2VkXCIscmVuZGVyOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50Lm5vZGU7dC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsSW0sITEpLHQuYXR0YWNoRXZlbnQmJnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsSW0sITEpfSx1bnJlbmRlcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudC5ub2RlO3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLEltLCExKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLEltLCExKX0sZ2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50Lm5vZGUuY2hlY2tlZH19KSxLbT1IbSxHbT1EbS5leHRlbmQoe2dldEluaXRpYWxWYWx1ZTpmdW5jdGlvbigpe3ZhciB0LGUsbixpLHI9dGhpcy5lbGVtZW50Lm9wdGlvbnM7aWYodm9pZCAwPT09dGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcInZhbHVlXCIpJiYoZT10PXIubGVuZ3RoLHQpKXtmb3IoO2UtLTspaWYocltlXS5nZXRBdHRyaWJ1dGUoXCJzZWxlY3RlZFwiKSl7bj1yW2VdLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpLGk9ITA7YnJlYWt9aWYoIWkpZm9yKDsrK2U8dDspaWYoIXJbZV0uZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIikpe249cltlXS5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKTticmVha31yZXR1cm4gdm9pZCAwIT09biYmKHRoaXMuZWxlbWVudC5hdHRyaWJ1dGVzLnZhbHVlLnZhbHVlPW4pLG59fSxyZW5kZXI6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQubm9kZS5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsSW0sITEpfSx1bnJlbmRlcjpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixJbSwhMSl9LHNldFZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMucm9vdC52aWV3bW9kZWwuc2V0KHRoaXMua2V5cGF0aCx0KX0sZ2V0VmFsdWU6ZnVuY3Rpb24oKXt2YXIgdCxlLG4saSxyO2Zvcih0PXRoaXMuZWxlbWVudC5ub2RlLm9wdGlvbnMsbj10Lmxlbmd0aCxlPTA7bj5lO2UrPTEpaWYoaT10W2VdLHRbZV0uc2VsZWN0ZWQpcmV0dXJuIHI9aS5fcmFjdGl2ZT9pLl9yYWN0aXZlLnZhbHVlOmkudmFsdWV9LGZvcmNlVXBkYXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXRoaXMuZ2V0VmFsdWUoKTt2b2lkIDAhPT1lJiYodGhpcy5hdHRyaWJ1dGUubG9ja2VkPSEwLG11LnNjaGVkdWxlVGFzayhmdW5jdGlvbigpe3JldHVybiB0LmF0dHJpYnV0ZS5sb2NrZWQ9ITF9KSx0aGlzLnJvb3Qudmlld21vZGVsLnNldCh0aGlzLmtleXBhdGgsZSkpfX0pLFltPUdtLEptPVltLmV4dGVuZCh7Z2V0SW5pdGlhbFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudC5vcHRpb25zLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRBdHRyaWJ1dGUoXCJzZWxlY3RlZFwiKX0pLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKX0pfSxyZW5kZXI6ZnVuY3Rpb24oKXt2YXIgdDt0aGlzLmVsZW1lbnQubm9kZS5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsSW0sITEpLHQ9dGhpcy5yb290LnZpZXdtb2RlbC5nZXQodGhpcy5rZXlwYXRoKSx2b2lkIDA9PT10JiZ0aGlzLmhhbmRsZUNoYW5nZSgpfSx1bnJlbmRlcjpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixJbSwhMSl9LHNldFZhbHVlOmZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwiVE9ETyBub3QgaW1wbGVtZW50ZWQgeWV0XCIpfSxnZXRWYWx1ZTpmdW5jdGlvbigpe3ZhciB0LGUsbixpLHIscztmb3IodD1bXSxlPXRoaXMuZWxlbWVudC5ub2RlLm9wdGlvbnMsaT1lLmxlbmd0aCxuPTA7aT5uO24rPTEpcj1lW25dLHIuc2VsZWN0ZWQmJihzPXIuX3JhY3RpdmU/ci5fcmFjdGl2ZS52YWx1ZTpyLnZhbHVlLHQucHVzaChzKSk7cmV0dXJuIHR9LGhhbmRsZUNoYW5nZTpmdW5jdGlvbigpe3ZhciB0LGUsbjtyZXR1cm4gdD10aGlzLmF0dHJpYnV0ZSxlPXQudmFsdWUsbj10aGlzLmdldFZhbHVlKCksdm9pZCAwIT09ZSYmaihuLGUpfHxZbS5wcm90b3R5cGUuaGFuZGxlQ2hhbmdlLmNhbGwodGhpcyksdGhpc30sZm9yY2VVcGRhdGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dGhpcy5nZXRWYWx1ZSgpO3ZvaWQgMCE9PWUmJih0aGlzLmF0dHJpYnV0ZS5sb2NrZWQ9ITAsbXUuc2NoZWR1bGVUYXNrKGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXR0cmlidXRlLmxvY2tlZD0hMX0pLHRoaXMucm9vdC52aWV3bW9kZWwuc2V0KHRoaXMua2V5cGF0aCxlKSl9LHVwZGF0ZU1vZGVsOmZ1bmN0aW9uKCl7dm9pZCAwIT09dGhpcy5hdHRyaWJ1dGUudmFsdWUmJnRoaXMuYXR0cmlidXRlLnZhbHVlLmxlbmd0aHx8dGhpcy5yb290LnZpZXdtb2RlbC5zZXQodGhpcy5rZXlwYXRoLHRoaXMuaW5pdGlhbFZhbHVlKX19KSxYbT1KbSx0dj1EbS5leHRlbmQoe3JlbmRlcjpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5ub2RlLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixJbSwhMSl9LHVucmVuZGVyOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50Lm5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLEltLCExKX0sZ2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50Lm5vZGUuZmlsZXN9fSksZXY9dHYsbnY9TG0uZXh0ZW5kKHtnZXRJbml0aWFsVmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwfSxnZXRWYWx1ZTpmdW5jdGlvbigpe3ZhciB0PXBhcnNlRmxvYXQodGhpcy5lbGVtZW50Lm5vZGUudmFsdWUpO3JldHVybiBpc05hTih0KT92b2lkIDA6dH19KSxpdj1ocixydj1scixzdj1mcixvdj1kcixhdj1wcix1dj0vXmV2ZW50KD86XFwuKC4rKSk/Lyxodj15cixjdj1icixsdj17fSxmdj17dG91Y2hzdGFydDohMCx0b3VjaG1vdmU6ITAsdG91Y2hlbmQ6ITAsdG91Y2hjYW5jZWw6ITAsdG91Y2hsZWF2ZTohMH0sZHY9eHIscHY9a3IsbXY9RXIsdnY9X3IsZ3Y9QXIseXY9ZnVuY3Rpb24odCxlLG4pe3RoaXMuaW5pdCh0LGUsbil9O3l2LnByb3RvdHlwZT17YnViYmxlOnJ2LGZpcmU6c3YsZ2V0QWN0aW9uOm92LGluaXQ6YXYsbGlzdGVuOmN2LHJlYmluZDpkdixyZW5kZXI6cHYscmVzb2x2ZTptdix1bmJpbmQ6dnYsdW5yZW5kZXI6Z3Z9O3ZhciBidj15dix3dj1mdW5jdGlvbih0LGUpe3ZhciBuLGkscixzLG89W107Zm9yKGkgaW4gZSlpZihlLmhhc093blByb3BlcnR5KGkpKWZvcihyPWkuc3BsaXQoXCItXCIpLG49ci5sZW5ndGg7bi0tOylzPW5ldyBidih0LHJbbl0sZVtpXSksby5wdXNoKHMpO3JldHVybiBvfSx4dj1mdW5jdGlvbih0LGUpe3ZhciBuLGkscixzPXRoaXM7dGhpcy5lbGVtZW50PXQsdGhpcy5yb290PW49dC5yb290LGk9ZS5ufHxlLChcInN0cmluZ1wiPT10eXBlb2YgaXx8KHI9bmV3IHliKHt0ZW1wbGF0ZTppLHJvb3Q6bixvd25lcjp0fSksaT1yLnRvU3RyaW5nKCksci51bmJpbmQoKSxcIlwiIT09aSkpJiYoZS5hP3RoaXMucGFyYW1zPWUuYTplLmQmJih0aGlzLmZyYWdtZW50PW5ldyB5Yih7dGVtcGxhdGU6ZS5kLHJvb3Q6bixvd25lcjp0fSksdGhpcy5wYXJhbXM9dGhpcy5mcmFnbWVudC5nZXRBcmdzTGlzdCgpLHRoaXMuZnJhZ21lbnQuYnViYmxlPWZ1bmN0aW9uKCl7dGhpcy5kaXJ0eUFyZ3M9dGhpcy5kaXJ0eVZhbHVlPSEwLHMucGFyYW1zPXRoaXMuZ2V0QXJnc0xpc3QoKSxzLnJlYWR5JiZzLnVwZGF0ZSgpfSksdGhpcy5mbj1nKFwiZGVjb3JhdG9yc1wiLG4saSksdGhpcy5mbnx8bChEYShpLFwiZGVjb3JhdG9yXCIpKSl9O3h2LnByb3RvdHlwZT17aW5pdDpmdW5jdGlvbigpe3ZhciB0LGUsbjtpZih0PXRoaXMuZWxlbWVudC5ub2RlLHRoaXMucGFyYW1zPyhuPVt0XS5jb25jYXQodGhpcy5wYXJhbXMpLGU9dGhpcy5mbi5hcHBseSh0aGlzLnJvb3QsbikpOmU9dGhpcy5mbi5jYWxsKHRoaXMucm9vdCx0KSwhZXx8IWUudGVhcmRvd24pdGhyb3cgbmV3IEVycm9yKFwiRGVjb3JhdG9yIGRlZmluaXRpb24gbXVzdCByZXR1cm4gYW4gb2JqZWN0IHdpdGggYSB0ZWFyZG93biBtZXRob2RcIik7dGhpcy5hY3R1YWw9ZSx0aGlzLnJlYWR5PSEwfSx1cGRhdGU6ZnVuY3Rpb24oKXt0aGlzLmFjdHVhbC51cGRhdGU/dGhpcy5hY3R1YWwudXBkYXRlLmFwcGx5KHRoaXMucm9vdCx0aGlzLnBhcmFtcyk6KHRoaXMuYWN0dWFsLnRlYXJkb3duKCEwKSx0aGlzLmluaXQoKSl9LHJlYmluZDpmdW5jdGlvbih0LGUpe3RoaXMuZnJhZ21lbnQmJnRoaXMuZnJhZ21lbnQucmViaW5kKHQsZSl9LHRlYXJkb3duOmZ1bmN0aW9uKHQpe3RoaXMudG9ybmRvd249ITAsdGhpcy5yZWFkeSYmdGhpcy5hY3R1YWwudGVhcmRvd24oKSwhdCYmdGhpcy5mcmFnbWVudCYmdGhpcy5mcmFnbWVudC51bmJpbmQoKX19O3ZhciBrdixFdixfdixBdj14dixTdj1ScixDdj1qcixPdj1NcixQdj1mdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKC8tKFthLXpBLVpdKS9nLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUudG9VcHBlckNhc2UoKX0pfTtYbz8oRXY9e30sX3Y9bGEoXCJkaXZcIikuc3R5bGUsa3Y9ZnVuY3Rpb24odCl7dmFyIGUsbixpO2lmKHQ9UHYodCksIUV2W3RdKWlmKHZvaWQgMCE9PV92W3RdKUV2W3RdPXQ7ZWxzZSBmb3IoaT10LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3Quc3Vic3RyaW5nKDEpLGU9c2EubGVuZ3RoO2UtLTspaWYobj1zYVtlXSx2b2lkIDAhPT1fdltuK2ldKXtFdlt0XT1uK2k7YnJlYWt9cmV0dXJuIEV2W3RdfSk6a3Y9bnVsbDt2YXIgVHYsRnYsUnY9a3Y7WG8/KEZ2PXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlfHxFYS5nZXRDb21wdXRlZFN0eWxlLFR2PWZ1bmN0aW9uKHQpe3ZhciBlLG4saSxyLG87aWYoZT1Gdih0aGlzLm5vZGUpLFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBvPWVbUnYodCldLFwiMHB4XCI9PT1vJiYobz0wKSxvO2lmKCFzKHQpKXRocm93IG5ldyBFcnJvcihcIlRyYW5zaXRpb24kZ2V0U3R5bGUgbXVzdCBiZSBwYXNzZWQgYSBzdHJpbmcsIG9yIGFuIGFycmF5IG9mIHN0cmluZ3MgcmVwcmVzZW50aW5nIENTUyBwcm9wZXJ0aWVzXCIpO2ZvcihuPXt9LGk9dC5sZW5ndGg7aS0tOylyPXRbaV0sbz1lW1J2KHIpXSxcIjBweFwiPT09byYmKG89MCksbltyXT1vO3JldHVybiBufSk6VHY9bnVsbDt2YXIganY9VHYsTnY9ZnVuY3Rpb24odCxlKXt2YXIgbjtpZihcInN0cmluZ1wiPT10eXBlb2YgdCl0aGlzLm5vZGUuc3R5bGVbUnYodCldPWU7ZWxzZSBmb3IobiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJih0aGlzLm5vZGUuc3R5bGVbUnYobildPXRbbl0pO3JldHVybiB0aGlzfSxEdj1mdW5jdGlvbih0KXt2YXIgZTt0aGlzLmR1cmF0aW9uPXQuZHVyYXRpb24sdGhpcy5zdGVwPXQuc3RlcCx0aGlzLmNvbXBsZXRlPXQuY29tcGxldGUsXCJzdHJpbmdcIj09dHlwZW9mIHQuZWFzaW5nPyhlPXQucm9vdC5lYXNpbmdbdC5lYXNpbmddLGV8fCh2KERhKHQuZWFzaW5nLFwiZWFzaW5nXCIpKSxlPVVyKSk6ZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmVhc2luZz90LmVhc2luZzpVcix0aGlzLmVhc2luZz1lLHRoaXMuc3RhcnQ9WGEoKSx0aGlzLmVuZD10aGlzLnN0YXJ0K3RoaXMuZHVyYXRpb24sdGhpcy5ydW5uaW5nPSEwLHl1LmFkZCh0aGlzKX07RHYucHJvdG90eXBlPXt0aWNrOmZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuIHRoaXMucnVubmluZz90PnRoaXMuZW5kPyh0aGlzLnN0ZXAmJnRoaXMuc3RlcCgxKSx0aGlzLmNvbXBsZXRlJiZ0aGlzLmNvbXBsZXRlKDEpLCExKTooZT10LXRoaXMuc3RhcnQsbj10aGlzLmVhc2luZyhlL3RoaXMuZHVyYXRpb24pLHRoaXMuc3RlcCYmdGhpcy5zdGVwKG4pLCEwKTohMX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuYWJvcnQmJnRoaXMuYWJvcnQoKSx0aGlzLnJ1bm5pbmc9ITF9fTt2YXIgSXYsTHYsVnYsTXYsVXYsV3YsenYsQnYscXY9RHYsJHY9bmV3IFJlZ0V4cChcIl4tKD86XCIrc2Euam9pbihcInxcIikrXCIpLVwiKSxRdj1mdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKCR2LFwiXCIpfSxadj1uZXcgUmVnRXhwKFwiXig/OlwiK3NhLmpvaW4oXCJ8XCIpK1wiKShbQS1aXSlcIiksSHY9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIHQ/KFp2LnRlc3QodCkmJih0PVwiLVwiK3QpLGU9dC5yZXBsYWNlKC9bQS1aXS9nLGZ1bmN0aW9uKHQpe3JldHVyblwiLVwiK3QudG9Mb3dlckNhc2UoKX0pKTpcIlwifSxLdj17fSxHdj17fTtYbz8oTHY9bGEoXCJkaXZcIikuc3R5bGUsZnVuY3Rpb24oKXt2b2lkIDAhPT1Mdi50cmFuc2l0aW9uPyhWdj1cInRyYW5zaXRpb25cIixNdj1cInRyYW5zaXRpb25lbmRcIixVdj0hMCk6dm9pZCAwIT09THYud2Via2l0VHJhbnNpdGlvbj8oVnY9XCJ3ZWJraXRUcmFuc2l0aW9uXCIsTXY9XCJ3ZWJraXRUcmFuc2l0aW9uRW5kXCIsVXY9ITApOlV2PSExfSgpLFZ2JiYoV3Y9VnYrXCJEdXJhdGlvblwiLHp2PVZ2K1wiUHJvcGVydHlcIixCdj1WditcIlRpbWluZ0Z1bmN0aW9uXCIpLEl2PWZ1bmN0aW9uKHQsZSxuLGkscil7c2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBzLG8sYSx1LGg7dT1mdW5jdGlvbigpe28mJmEmJih0LnJvb3QuZmlyZSh0Lm5hbWUrXCI6ZW5kXCIsdC5ub2RlLHQuaXNJbnRybykscigpKX0scz0odC5ub2RlLm5hbWVzcGFjZVVSSXx8XCJcIikrdC5ub2RlLnRhZ05hbWUsdC5ub2RlLnN0eWxlW3p2XT1pLm1hcChSdikubWFwKEh2KS5qb2luKFwiLFwiKSx0Lm5vZGUuc3R5bGVbQnZdPUh2KG4uZWFzaW5nfHxcImxpbmVhclwiKSx0Lm5vZGUuc3R5bGVbV3ZdPW4uZHVyYXRpb24vMWUzK1wic1wiLGg9ZnVuY3Rpb24oZSl7dmFyIG47bj1pLmluZGV4T2YoUHYoUXYoZS5wcm9wZXJ0eU5hbWUpKSksLTEhPT1uJiZpLnNwbGljZShuLDEpLGkubGVuZ3RofHwodC5ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoTXYsaCwhMSksYT0hMCx1KCkpfSx0Lm5vZGUuYWRkRXZlbnRMaXN0ZW5lcihNdixoLCExKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zm9yKHZhciByLGMsbCxmLGQscD1pLmxlbmd0aCx2PVtdO3AtLTspZj1pW3BdLHI9cytmLFV2JiYhR3Zbcl0mJih0Lm5vZGUuc3R5bGVbUnYoZildPWVbZl0sS3Zbcl18fChjPXQuZ2V0U3R5bGUoZiksS3Zbcl09dC5nZXRTdHlsZShmKSE9ZVtmXSxHdltyXT0hS3Zbcl0sR3Zbcl0mJih0Lm5vZGUuc3R5bGVbUnYoZildPWMpKSksKCFVdnx8R3Zbcl0pJiYodm9pZCAwPT09YyYmKGM9dC5nZXRTdHlsZShmKSksbD1pLmluZGV4T2YoZiksLTE9PT1sP20oXCJTb21ldGhpbmcgdmVyeSBzdHJhbmdlIGhhcHBlbmVkIHdpdGggdHJhbnNpdGlvbnMuIFBsZWFzZSByYWlzZSBhbiBpc3N1ZSBhdCBodHRwczovL2dpdGh1Yi5jb20vcmFjdGl2ZWpzL3JhY3RpdmUvaXNzdWVzIC0gdGhhbmtzIVwiLHtub2RlOnQubm9kZX0pOmkuc3BsaWNlKGwsMSksZD0vW15cXGRdKiQvLmV4ZWMoZVtmXSlbMF0sdi5wdXNoKHtuYW1lOlJ2KGYpLGludGVycG9sYXRvcjpMYShwYXJzZUZsb2F0KGMpLHBhcnNlRmxvYXQoZVtmXSkpLHN1ZmZpeDpkfSkpO3YubGVuZ3RoP25ldyBxdih7cm9vdDp0LnJvb3QsZHVyYXRpb246bi5kdXJhdGlvbixlYXNpbmc6UHYobi5lYXNpbmd8fFwiXCIpLHN0ZXA6ZnVuY3Rpb24oZSl7dmFyIG4saTtmb3IoaT12Lmxlbmd0aDtpLS07KW49dltpXSx0Lm5vZGUuc3R5bGVbbi5uYW1lXT1uLmludGVycG9sYXRvcihlKStuLnN1ZmZpeH0sY29tcGxldGU6ZnVuY3Rpb24oKXtvPSEwLHUoKX19KTpvPSEwLGkubGVuZ3RofHwodC5ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoTXYsaCwhMSksYT0hMCx1KCkpfSwwKX0sbi5kZWxheXx8MCl9KTpJdj1udWxsO3ZhciBZdixKdixYdix0ZyxlZyxuZz1JdjtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQpe2lmKFl2PVwiaGlkZGVuXCIsZWc9e30sWXYgaW4gZG9jdW1lbnQpWHY9XCJcIjtlbHNlIGZvcih0Zz1zYS5sZW5ndGg7dGctLTspSnY9c2FbdGddLFl2PUp2K1wiSGlkZGVuXCIsWXYgaW4gZG9jdW1lbnQmJihYdj1Kdik7dm9pZCAwIT09WHY/KGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoWHYrXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsV3IpLFdyKCkpOihcIm9uZm9jdXNvdXRcImluIGRvY3VtZW50Pyhkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNvdXRcIix6ciksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzaW5cIixCcikpOih3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBhZ2VoaWRlXCIsenIpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLHpyKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBhZ2VzaG93XCIsQnIpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIixCcikpLGVnLmhpZGRlbj0hMSl9dmFyIGlnLHJnLHNnLG9nPWVnO1hvPyhyZz13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZXx8RWEuZ2V0Q29tcHV0ZWRTdHlsZSxpZz1mdW5jdGlvbih0LGUsbil7dmFyIGkscj10aGlzO2lmKDQ9PT1hcmd1bWVudHMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcInQuYW5pbWF0ZVN0eWxlKCkgcmV0dXJucyBhIHByb21pc2UgLSB1c2UgLnRoZW4oKSBpbnN0ZWFkIG9mIHBhc3NpbmcgYSBjYWxsYmFja1wiKTtpZihvZy5oaWRkZW4pcmV0dXJuIHRoaXMuc2V0U3R5bGUodCxlKSxzZ3x8KHNnPW91LnJlc29sdmUoKSk7XCJzdHJpbmdcIj09dHlwZW9mIHQ/KGk9e30saVt0XT1lKTooaT10LG49ZSksbnx8KHYoJ1RoZSBcIiVzXCIgdHJhbnNpdGlvbiBkb2VzIG5vdCBzdXBwbHkgYW4gb3B0aW9ucyBvYmplY3QgdG8gYHQuYW5pbWF0ZVN0eWxlKClgLiBUaGlzIHdpbGwgYnJlYWsgaW4gYSBmdXR1cmUgdmVyc2lvbiBvZiBSYWN0aXZlLiBGb3IgbW9yZSBpbmZvIHNlZSBodHRwczovL2dpdGh1Yi5jb20vUmFjdGl2ZUpTL1JhY3RpdmUvaXNzdWVzLzM0MCcsdGhpcy5uYW1lKSxuPXRoaXMpO3ZhciBzPW5ldyBvdShmdW5jdGlvbih0KXt2YXIgZSxzLG8sYSx1LGgsYztpZighbi5kdXJhdGlvbilyZXR1cm4gci5zZXRTdHlsZShpKSx2b2lkIHQoKTtmb3IoZT1PYmplY3Qua2V5cyhpKSxzPVtdLG89cmcoci5ub2RlKSx1PXt9LGg9ZS5sZW5ndGg7aC0tOyljPWVbaF0sYT1vW1J2KGMpXSxcIjBweFwiPT09YSYmKGE9MCksYSE9aVtjXSYmKHMucHVzaChjKSxyLm5vZGUuc3R5bGVbUnYoYyldPWEpO3JldHVybiBzLmxlbmd0aD92b2lkIG5nKHIsaSxuLHMsdCk6dm9pZCB0KCl9KTtyZXR1cm4gc30pOmlnPW51bGw7dmFyIGFnPWlnLHVnPWZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQ/dD17ZHVyYXRpb246dH06XCJzdHJpbmdcIj09dHlwZW9mIHQ/dD1cInNsb3dcIj09PXQ/e2R1cmF0aW9uOjYwMH06XCJmYXN0XCI9PT10P3tkdXJhdGlvbjoyMDB9OntkdXJhdGlvbjo0MDB9OnR8fCh0PXt9KSxyKHt9LHQsZSl9LGhnPXFyLGNnPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLmluaXQodCxlLG4pfTtjZy5wcm90b3R5cGU9e2luaXQ6T3Ysc3RhcnQ6aGcsZ2V0U3R5bGU6anYsc2V0U3R5bGU6TnYsYW5pbWF0ZVN0eWxlOmFnLHByb2Nlc3NQYXJhbXM6dWd9O3ZhciBsZyxmZyxkZz1jZyxwZz1RcjtsZz1mdW5jdGlvbigpe3ZhciB0PXRoaXMubm9kZSxlPXRoaXMuZnJhZ21lbnQudG9TdHJpbmcoITEpO2lmKHdpbmRvdyYmd2luZG93LmFwcGVhcnNUb0JlSUVMZXNzRXF1YWw4JiYodC50eXBlPVwidGV4dC9jc3NcIiksdC5zdHlsZVNoZWV0KXQuc3R5bGVTaGVldC5jc3NUZXh0PWU7ZWxzZXtmb3IoO3QuaGFzQ2hpbGROb2RlcygpOyl0LnJlbW92ZUNoaWxkKHQuZmlyc3RDaGlsZCk7dC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShlKSl9fSxmZz1mdW5jdGlvbigpe3RoaXMubm9kZS50eXBlJiZcInRleHQvamF2YXNjcmlwdFwiIT09dGhpcy5ub2RlLnR5cGV8fG0oXCJTY3JpcHQgdGFnIHdhcyB1cGRhdGVkLiBUaGlzIGRvZXMgbm90IGNhdXNlIHRoZSBjb2RlIHRvIGJlIHJlLWV2YWx1YXRlZCFcIix7cmFjdGl2ZTp0aGlzLnJvb3R9KSx0aGlzLm5vZGUudGV4dD10aGlzLmZyYWdtZW50LnRvU3RyaW5nKCExKX07dmFyIG1nPWZ1bmN0aW9uKCl7dmFyIHQsZTtyZXR1cm4gdGhpcy50ZW1wbGF0ZS55P1wiPCFET0NUWVBFXCIrdGhpcy50ZW1wbGF0ZS5kZCtcIj5cIjoodD1cIjxcIit0aGlzLnRlbXBsYXRlLmUsdCs9dGhpcy5hdHRyaWJ1dGVzLm1hcChKcikuam9pbihcIlwiKSt0aGlzLmNvbmRpdGlvbmFsQXR0cmlidXRlcy5tYXAoSnIpLmpvaW4oXCJcIiksXCJvcHRpb25cIj09PXRoaXMubmFtZSYmR3IodGhpcykmJih0Kz1cIiBzZWxlY3RlZFwiKSxcImlucHV0XCI9PT10aGlzLm5hbWUmJllyKHRoaXMpJiYodCs9XCIgY2hlY2tlZFwiKSx0Kz1cIj5cIixcInRleHRhcmVhXCI9PT10aGlzLm5hbWUmJnZvaWQgMCE9PXRoaXMuZ2V0QXR0cmlidXRlKFwidmFsdWVcIik/dCs9U2UodGhpcy5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSk6dm9pZCAwIT09dGhpcy5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikmJih0Kz10aGlzLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpfHxcIlwiKSx0aGlzLmZyYWdtZW50JiYoZT1cInNjcmlwdFwiIT09dGhpcy5uYW1lJiZcInN0eWxlXCIhPT10aGlzLm5hbWUsdCs9dGhpcy5mcmFnbWVudC50b1N0cmluZyhlKSksYmwudGVzdCh0aGlzLnRlbXBsYXRlLmUpfHwodCs9XCI8L1wiK3RoaXMudGVtcGxhdGUuZStcIj5cIiksdCl9LHZnPVhyLGdnPXRzLHlnPWZ1bmN0aW9uKHQpe3RoaXMuaW5pdCh0KX07eWcucHJvdG90eXBlPXtidWJibGU6JHAsZGV0YWNoOlFwLGZpbmQ6WnAsZmluZEFsbDpIcCxmaW5kQWxsQ29tcG9uZW50czpLcCxmaW5kQ29tcG9uZW50OkdwLGZpbmROZXh0Tm9kZTpZcCxmaXJzdE5vZGU6SnAsZ2V0QXR0cmlidXRlOlhwLGluaXQ6U3YscmViaW5kOkN2LHJlbmRlcjpwZyx0b1N0cmluZzptZyx1bmJpbmQ6dmcsdW5yZW5kZXI6Z2d9O3ZhciBiZz15Zyx3Zz0vXlxccyokLyx4Zz0vXlxccyovLGtnPWZ1bmN0aW9uKHQpe3ZhciBlLG4saSxyO3JldHVybiBlPXQuc3BsaXQoXCJcXG5cIiksbj1lWzBdLHZvaWQgMCE9PW4mJndnLnRlc3QobikmJmUuc2hpZnQoKSxpPUQoZSksdm9pZCAwIT09aSYmd2cudGVzdChpKSYmZS5wb3AoKSxyPWUucmVkdWNlKG5zLG51bGwpLHImJih0PWUubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UocixcIlwiKX0pLmpvaW4oXCJcXG5cIikpLHR9LEVnPWlzLF9nPWZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIGU/bj10LnNwbGl0KFwiXFxuXCIpLm1hcChmdW5jdGlvbih0LG4pe3JldHVybiBuP2UrdDp0fSkuam9pbihcIlxcblwiKTp0fSxBZz0nQ291bGQgbm90IGZpbmQgdGVtcGxhdGUgZm9yIHBhcnRpYWwgXCIlc1wiJyxTZz1mdW5jdGlvbih0KXt2YXIgZSxuO2U9dGhpcy5wYXJlbnRGcmFnbWVudD10LnBhcmVudEZyYWdtZW50LHRoaXMucm9vdD1lLnJvb3QsdGhpcy50eXBlPXRjLHRoaXMuaW5kZXg9dC5pbmRleCx0aGlzLm5hbWU9dC50ZW1wbGF0ZS5yLHRoaXMucmVuZGVyZWQ9ITEsdGhpcy5mcmFnbWVudD10aGlzLmZyYWdtZW50VG9SZW5kZXI9dGhpcy5mcmFnbWVudFRvVW5yZW5kZXI9bnVsbCxycC5pbml0KHRoaXMsdCksdGhpcy5rZXlwYXRofHwoKG49RWcodGhpcy5yb290LHRoaXMubmFtZSxlKSk/KERkLmNhbGwodGhpcyksdGhpcy5pc05hbWVkPSEwLHRoaXMuc2V0VGVtcGxhdGUobikpOnYoQWcsdGhpcy5uYW1lKSl9O1NnLnByb3RvdHlwZT17YnViYmxlOmZ1bmN0aW9uKCl7dGhpcy5wYXJlbnRGcmFnbWVudC5idWJibGUoKX0sZGV0YWNoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZnJhZ21lbnQuZGV0YWNoKCl9LGZpbmQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZnJhZ21lbnQuZmluZCh0KX0sZmluZEFsbDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmZyYWdtZW50LmZpbmRBbGwodCxlKX0sZmluZENvbXBvbmVudDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5mcmFnbWVudC5maW5kQ29tcG9uZW50KHQpfSxmaW5kQWxsQ29tcG9uZW50czpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmZyYWdtZW50LmZpbmRBbGxDb21wb25lbnRzKHQsZSl9LGZpcnN0Tm9kZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZyYWdtZW50LmZpcnN0Tm9kZSgpfSxmaW5kTmV4dE5vZGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnRGcmFnbWVudC5maW5kTmV4dE5vZGUodGhpcyl9LGdldFBhcnRpYWxOYW1lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNOYW1lZCYmdGhpcy5uYW1lP3RoaXMubmFtZTp2b2lkIDA9PT10aGlzLnZhbHVlP3RoaXMubmFtZTp0aGlzLnZhbHVlfSxnZXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZyYWdtZW50LmdldFZhbHVlKCl9LHJlYmluZDpmdW5jdGlvbih0LGUpe3RoaXMuaXNOYW1lZHx8aXAuY2FsbCh0aGlzLHQsZSksdGhpcy5mcmFnbWVudCYmdGhpcy5mcmFnbWVudC5yZWJpbmQodCxlKX0scmVuZGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9jRnJhZz1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksdGhpcy51cGRhdGUoKSx0aGlzLnJlbmRlcmVkPSEwLHRoaXMuZG9jRnJhZ30scmVzb2x2ZTpycC5yZXNvbHZlLHNldFZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlOyh2b2lkIDA9PT10fHx0IT09dGhpcy52YWx1ZSkmJih2b2lkIDAhPT10JiYoZT1FZyh0aGlzLnJvb3QsXCJcIit0LHRoaXMucGFyZW50RnJhZ21lbnQpKSwhZSYmdGhpcy5uYW1lJiYoZT1FZyh0aGlzLnJvb3QsdGhpcy5uYW1lLHRoaXMucGFyZW50RnJhZ21lbnQpKSYmKERkLmNhbGwodGhpcyksdGhpcy5pc05hbWVkPSEwKSxlfHx2KEFnLHRoaXMubmFtZSx7cmFjdGl2ZTp0aGlzLnJvb3R9KSx0aGlzLnZhbHVlPXQsdGhpcy5zZXRUZW1wbGF0ZShlfHxbXSksdGhpcy5idWJibGUoKSx0aGlzLnJlbmRlcmVkJiZtdS5hZGRWaWV3KHRoaXMpKX0sc2V0VGVtcGxhdGU6ZnVuY3Rpb24odCl7dGhpcy5mcmFnbWVudCYmKHRoaXMuZnJhZ21lbnQudW5iaW5kKCksdGhpcy5yZW5kZXJlZCYmKHRoaXMuZnJhZ21lbnRUb1VucmVuZGVyPXRoaXMuZnJhZ21lbnQpKSx0aGlzLmZyYWdtZW50PW5ldyB5Yih7dGVtcGxhdGU6dCxyb290OnRoaXMucm9vdCxvd25lcjp0aGlzLHBFbGVtZW50OnRoaXMucGFyZW50RnJhZ21lbnQucEVsZW1lbnR9KSx0aGlzLmZyYWdtZW50VG9SZW5kZXI9dGhpcy5mcmFnbWVudH0sdG9TdHJpbmc6ZnVuY3Rpb24odCl7dmFyIGUsbixpLHI7cmV0dXJuIGU9dGhpcy5mcmFnbWVudC50b1N0cmluZyh0KSxuPXRoaXMucGFyZW50RnJhZ21lbnQuaXRlbXNbdGhpcy5pbmRleC0xXSxuJiZuLnR5cGU9PT1aaD8oaT1uLnRleHQuc3BsaXQoXCJcXG5cIikucG9wKCksKHI9L15cXHMrJC8uZXhlYyhpKSk/X2coZSxyWzBdKTplKTplfSx1bmJpbmQ6ZnVuY3Rpb24oKXt0aGlzLmlzTmFtZWR8fERkLmNhbGwodGhpcyksdGhpcy5mcmFnbWVudCYmdGhpcy5mcmFnbWVudC51bmJpbmQoKX0sdW5yZW5kZXI6ZnVuY3Rpb24odCl7dGhpcy5yZW5kZXJlZCYmKHRoaXMuZnJhZ21lbnQmJnRoaXMuZnJhZ21lbnQudW5yZW5kZXIodCksdGhpcy5yZW5kZXJlZD0hMSl9LHVwZGF0ZTpmdW5jdGlvbigpe3ZhciB0LGU7dGhpcy5mcmFnbWVudFRvVW5yZW5kZXImJih0aGlzLmZyYWdtZW50VG9VbnJlbmRlci51bnJlbmRlcighMCksdGhpcy5mcmFnbWVudFRvVW5yZW5kZXI9bnVsbCksdGhpcy5mcmFnbWVudFRvUmVuZGVyJiYodGhpcy5kb2NGcmFnLmFwcGVuZENoaWxkKHRoaXMuZnJhZ21lbnRUb1JlbmRlci5yZW5kZXIoKSksdGhpcy5mcmFnbWVudFRvUmVuZGVyPW51bGwpLHRoaXMucmVuZGVyZWQmJih0PXRoaXMucGFyZW50RnJhZ21lbnQuZ2V0Tm9kZSgpLGU9dGhpcy5wYXJlbnRGcmFnbWVudC5maW5kTmV4dE5vZGUodGhpcyksdC5pbnNlcnRCZWZvcmUodGhpcy5kb2NGcmFnLGUpKX19O3ZhciBDZyxPZyxQZyxUZz1TZyxGZz11cyxSZz1ocyxqZz1uZXcgbnUoXCJkZXRhY2hcIiksTmc9Y3MsRGc9bHMsSWc9ZnMsTGc9ZHMsVmc9cHMsTWc9bXMsVWc9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dC5yb290LHM9dC5rZXlwYXRoO2k/ci52aWV3bW9kZWwuc21hcnRVcGRhdGUocyxlLGkpOnIudmlld21vZGVsLm1hcmsocyl9LFdnPVtdLHpnPVtcInBvcFwiLFwicHVzaFwiLFwicmV2ZXJzZVwiLFwic2hpZnRcIixcInNvcnRcIixcInNwbGljZVwiLFwidW5zaGlmdFwiXTt6Zy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsbj1BcnJheShlKSxpPTA7ZT5pO2krKyluW2ldPWFyZ3VtZW50c1tpXTt2YXIgcixzLG8sYTtmb3Iocj1taCh0aGlzLHQsbikscz1BcnJheS5wcm90b3R5cGVbdF0uYXBwbHkodGhpcyxhcmd1bWVudHMpLG11LnN0YXJ0KCksdGhpcy5fcmFjdGl2ZS5zZXR0aW5nPSEwLGE9dGhpcy5fcmFjdGl2ZS53cmFwcGVycy5sZW5ndGg7YS0tOylvPXRoaXMuX3JhY3RpdmUud3JhcHBlcnNbYV0sbXUuYWRkUmFjdGl2ZShvLnJvb3QpLFVnKG8sdGhpcyx0LHIpO3JldHVybiBtdS5lbmQoKSx0aGlzLl9yYWN0aXZlLnNldHRpbmc9ITEsc307eGEoV2csdCx7dmFsdWU6ZX0pfSksQ2c9e30sQ2cuX19wcm90b19fPyhPZz1mdW5jdGlvbih0KXt0Ll9fcHJvdG9fXz1XZ30sUGc9ZnVuY3Rpb24odCl7dC5fX3Byb3RvX189QXJyYXkucHJvdG90eXBlfSk6KE9nPWZ1bmN0aW9uKHQpe3ZhciBlLG47Zm9yKGU9emcubGVuZ3RoO2UtLTspbj16Z1tlXSx4YSh0LG4se3ZhbHVlOldnW25dLGNvbmZpZ3VyYWJsZTohMH0pfSxQZz1mdW5jdGlvbih0KXt2YXIgZTtmb3IoZT16Zy5sZW5ndGg7ZS0tOylkZWxldGUgdFt6Z1tlXV19KSxPZy51bnBhdGNoPVBnO3ZhciBCZyxxZywkZyxRZz1PZztCZz17ZmlsdGVyOmZ1bmN0aW9uKHQpe3JldHVybiBzKHQpJiYoIXQuX3JhY3RpdmV8fCF0Ll9yYWN0aXZlLnNldHRpbmcpfSx3cmFwOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbmV3IHFnKHQsZSxuKX19LHFnPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLnJvb3Q9dCx0aGlzLnZhbHVlPWUsdGhpcy5rZXlwYXRoPV8obiksZS5fcmFjdGl2ZXx8KHhhKGUsXCJfcmFjdGl2ZVwiLHt2YWx1ZTp7d3JhcHBlcnM6W10saW5zdGFuY2VzOltdLHNldHRpbmc6ITF9LGNvbmZpZ3VyYWJsZTohMH0pLFFnKGUpKSxlLl9yYWN0aXZlLmluc3RhbmNlc1t0Ll9ndWlkXXx8KGUuX3JhY3RpdmUuaW5zdGFuY2VzW3QuX2d1aWRdPTAsZS5fcmFjdGl2ZS5pbnN0YW5jZXMucHVzaCh0KSksZS5fcmFjdGl2ZS5pbnN0YW5jZXNbdC5fZ3VpZF0rPTEsZS5fcmFjdGl2ZS53cmFwcGVycy5wdXNoKHRoaXMpfSxxZy5wcm90b3R5cGU9e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlfSx0ZWFyZG93bjpmdW5jdGlvbigpe3ZhciB0LGUsbixpLHI7aWYodD10aGlzLnZhbHVlLGU9dC5fcmFjdGl2ZSxuPWUud3JhcHBlcnMsaT1lLmluc3RhbmNlcyxlLnNldHRpbmcpcmV0dXJuITE7aWYocj1uLmluZGV4T2YodGhpcyksLTE9PT1yKXRocm93IG5ldyBFcnJvcigkZyk7aWYobi5zcGxpY2UociwxKSxuLmxlbmd0aCl7aWYoaVt0aGlzLnJvb3QuX2d1aWRdLT0xLCFpW3RoaXMucm9vdC5fZ3VpZF0pe2lmKHI9aS5pbmRleE9mKHRoaXMucm9vdCksLTE9PT1yKXRocm93IG5ldyBFcnJvcigkZyk7aS5zcGxpY2UociwxKX19ZWxzZSBkZWxldGUgdC5fcmFjdGl2ZSxRZy51bnBhdGNoKHRoaXMudmFsdWUpfX0sJGc9XCJTb21ldGhpbmcgd2VudCB3cm9uZyBpbiBhIHJhdGhlciBpbnRlcmVzdGluZyB3YXlcIjt2YXIgWmcsSGcsS2c9QmcsR2c9L15cXHMqWzAtOV0rXFxzKiQvLFlnPWZ1bmN0aW9uKHQpe3JldHVybiBHZy50ZXN0KHQpP1tdOnt9fTt0cnl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LFwidGVzdFwiLHt2YWx1ZTowfSksWmc9e2ZpbHRlcjpmdW5jdGlvbih0LGUsbil7dmFyIGkscjtyZXR1cm4gZT8oZT1fKGUpLChpPW4udmlld21vZGVsLndyYXBwZWRbZS5wYXJlbnQuc3RyXSkmJiFpLm1hZ2ljPyExOihyPW4udmlld21vZGVsLmdldChlLnBhcmVudCkscyhyKSYmL15bMC05XSskLy50ZXN0KGUubGFzdEtleSk/ITE6ciYmKFwib2JqZWN0XCI9PXR5cGVvZiByfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiByKSkpOiExfSx3cmFwOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbmV3IEhnKHQsZSxuKX19LEhnPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaSxyLHM7cmV0dXJuIG49XyhuKSx0aGlzLm1hZ2ljPSEwLHRoaXMucmFjdGl2ZT10LHRoaXMua2V5cGF0aD1uLHRoaXMudmFsdWU9ZSx0aGlzLnByb3A9bi5sYXN0S2V5LGk9bi5wYXJlbnQsdGhpcy5vYmo9aS5pc1Jvb3Q/dC52aWV3bW9kZWwuZGF0YTp0LnZpZXdtb2RlbC5nZXQoaSkscj10aGlzLm9yaWdpbmFsRGVzY3JpcHRvcj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRoaXMub2JqLHRoaXMucHJvcCksciYmci5zZXQmJihzPXIuc2V0Ll9yYWN0aXZlV3JhcHBlcnMpP3ZvaWQoLTE9PT1zLmluZGV4T2YodGhpcykmJnMucHVzaCh0aGlzKSk6dm9pZCB2cyh0aGlzLGUscil9LEhnLnByb3RvdHlwZT17Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWV9LHJlc2V0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnVwZGF0aW5nP3ZvaWQgMDoodGhpcy51cGRhdGluZz0hMCx0aGlzLm9ialt0aGlzLnByb3BdPXQsbXUuYWRkUmFjdGl2ZSh0aGlzLnJhY3RpdmUpLHRoaXMucmFjdGl2ZS52aWV3bW9kZWwubWFyayh0aGlzLmtleXBhdGgse2tlZXBFeGlzdGluZ1dyYXBwZXI6ITB9KSx0aGlzLnVwZGF0aW5nPSExLCEwKX0sc2V0OmZ1bmN0aW9uKHQsZSl7dGhpcy51cGRhdGluZ3x8KHRoaXMub2JqW3RoaXMucHJvcF18fCh0aGlzLnVwZGF0aW5nPSEwLHRoaXMub2JqW3RoaXMucHJvcF09WWcodCksdGhpcy51cGRhdGluZz0hMSksdGhpcy5vYmpbdGhpcy5wcm9wXVt0XT1lKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgdCxlLG4saSxyO3JldHVybiB0aGlzLnVwZGF0aW5nPyExOih0PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGhpcy5vYmosdGhpcy5wcm9wKSxlPXQmJnQuc2V0LHZvaWQoZSYmKGk9ZS5fcmFjdGl2ZVdyYXBwZXJzLHI9aS5pbmRleE9mKHRoaXMpLC0xIT09ciYmaS5zcGxpY2UociwxKSxpLmxlbmd0aHx8KG49dGhpcy5vYmpbdGhpcy5wcm9wXSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5vYmosdGhpcy5wcm9wLHRoaXMub3JpZ2luYWxEZXNjcmlwdG9yfHx7d3JpdGFibGU6ITAsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0aGlzLm9ialt0aGlzLnByb3BdPW4pKSkpfX19Y2F0Y2goX2Epe1pnPSExfXZhciBKZyxYZyx0eT1aZzt0eSYmKEpnPXtmaWx0ZXI6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0eS5maWx0ZXIodCxlLG4pJiZLZy5maWx0ZXIodCl9LHdyYXA6ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuZXcgWGcodCxlLG4pfX0sWGc9ZnVuY3Rpb24odCxlLG4pe3RoaXMudmFsdWU9ZSx0aGlzLm1hZ2ljPSEwLHRoaXMubWFnaWNXcmFwcGVyPXR5LndyYXAodCxlLG4pLHRoaXMuYXJyYXlXcmFwcGVyPUtnLndyYXAodCxlLG4pfSxYZy5wcm90b3R5cGU9e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlfSx0ZWFyZG93bjpmdW5jdGlvbigpe3RoaXMuYXJyYXlXcmFwcGVyLnRlYXJkb3duKCksdGhpcy5tYWdpY1dyYXBwZXIudGVhcmRvd24oKX0scmVzZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubWFnaWNXcmFwcGVyLnJlc2V0KHQpfX0pO3ZhciBleT1KZyxueT1ncyxpeT17fSxyeT13cyxzeT14cyxveT1fcyxheT1Qcyx1eT1UcyxoeT1mdW5jdGlvbih0LGUpe3RoaXMuY29tcHV0YXRpb249dCx0aGlzLnZpZXdtb2RlbD10LnZpZXdtb2RlbCx0aGlzLnJlZj1lLHRoaXMucm9vdD10aGlzLnZpZXdtb2RlbC5yYWN0aXZlLHRoaXMucGFyZW50RnJhZ21lbnQ9dGhpcy5yb290LmNvbXBvbmVudCYmdGhpcy5yb290LmNvbXBvbmVudC5wYXJlbnRGcmFnbWVudH07aHkucHJvdG90eXBlPXtyZXNvbHZlOmZ1bmN0aW9uKHQpe3RoaXMuY29tcHV0YXRpb24uc29mdERlcHMucHVzaCh0KSx0aGlzLmNvbXB1dGF0aW9uLnVucmVzb2x2ZWREZXBzW3Quc3RyXT1udWxsLHRoaXMudmlld21vZGVsLnJlZ2lzdGVyKHQsdGhpcy5jb21wdXRhdGlvbixcImNvbXB1dGVkXCIpfX07dmFyIGN5PWh5LGx5PWZ1bmN0aW9uKHQsZSl7dGhpcy5rZXk9dCx0aGlzLmdldHRlcj1lLmdldHRlcix0aGlzLnNldHRlcj1lLnNldHRlcix0aGlzLmhhcmREZXBzPWUuZGVwc3x8W10sdGhpcy5zb2Z0RGVwcz1bXSx0aGlzLnVucmVzb2x2ZWREZXBzPXt9LHRoaXMuZGVwVmFsdWVzPXt9LHRoaXMuX2RpcnR5PXRoaXMuX2ZpcnN0UnVuPSEwfTtseS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmx5LGluaXQ6ZnVuY3Rpb24odCl7dmFyIGUsbj10aGlzO3RoaXMudmlld21vZGVsPXQsdGhpcy5ieXBhc3M9ITAsZT10LmdldCh0aGlzLmtleSksdC5jbGVhckNhY2hlKHRoaXMua2V5LnN0ciksdGhpcy5ieXBhc3M9ITEsdGhpcy5zZXR0ZXImJnZvaWQgMCE9PWUmJnRoaXMuc2V0KGUpLHRoaXMuaGFyZERlcHMmJnRoaXMuaGFyZERlcHMuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gdC5yZWdpc3RlcihlLG4sXCJjb21wdXRlZFwiKX0pfSxpbnZhbGlkYXRlOmZ1bmN0aW9uKCl7dGhpcy5fZGlydHk9ITB9LGdldDpmdW5jdGlvbigpe3ZhciB0LGUsbj10aGlzLGk9ITE7aWYodGhpcy5nZXR0aW5nKXt2YXIgcj1cIlRoZSBcIit0aGlzLmtleS5zdHIrXCIgY29tcHV0YXRpb24gaW5kaXJlY3RseSBjYWxsZWQgaXRzZWxmLiBUaGlzIHByb2JhYmx5IGluZGljYXRlcyBhIGJ1ZyBpbiB0aGUgY29tcHV0YXRpb24uIEl0IGlzIGNvbW1vbmx5IGNhdXNlZCBieSBgYXJyYXkuc29ydCguLi4pYCAtIGlmIHRoYXQncyB0aGUgY2FzZSwgY2xvbmUgdGhlIGFycmF5IGZpcnN0IHdpdGggYGFycmF5LnNsaWNlKCkuc29ydCguLi4pYFwiO3JldHVybiBwKHIpLHRoaXMudmFsdWV9aWYodGhpcy5nZXR0aW5nPSEwLHRoaXMuX2RpcnR5KXtpZih0aGlzLl9maXJzdFJ1bnx8IXRoaXMuaGFyZERlcHMubGVuZ3RoJiYhdGhpcy5zb2Z0RGVwcy5sZW5ndGg/aT0hMDpbdGhpcy5oYXJkRGVwcyx0aGlzLnNvZnREZXBzXS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlLHIscztpZighaSlmb3Iocz10Lmxlbmd0aDtzLS07KWlmKGU9dFtzXSxyPW4udmlld21vZGVsLmdldChlKSwhYShyLG4uZGVwVmFsdWVzW2Uuc3RyXSkpcmV0dXJuIG4uZGVwVmFsdWVzW2Uuc3RyXT1yLHZvaWQoaT0hMCl9KSxpKXt0aGlzLnZpZXdtb2RlbC5jYXB0dXJlKCk7dHJ5e3RoaXMudmFsdWU9dGhpcy5nZXR0ZXIoKX1jYXRjaChzKXttKCdGYWlsZWQgdG8gY29tcHV0ZSBcIiVzXCInLHRoaXMua2V5LnN0ciksZihzLnN0YWNrfHxzKSx0aGlzLnZhbHVlPXZvaWQgMH10PXRoaXMudmlld21vZGVsLnJlbGVhc2UoKSxlPXRoaXMudXBkYXRlRGVwZW5kZW5jaWVzKHQpLGUmJlt0aGlzLmhhcmREZXBzLHRoaXMuc29mdERlcHNdLmZvckVhY2goZnVuY3Rpb24odCl7dC5mb3JFYWNoKGZ1bmN0aW9uKHQpe24uZGVwVmFsdWVzW3Quc3RyXT1uLnZpZXdtb2RlbC5nZXQodCl9KX0pfXRoaXMuX2RpcnR5PSExfXJldHVybiB0aGlzLmdldHRpbmc9dGhpcy5fZmlyc3RSdW49ITEsdGhpcy52YWx1ZX0sc2V0OmZ1bmN0aW9uKHQpe2lmKHRoaXMuc2V0dGluZylyZXR1cm4gdm9pZCh0aGlzLnZhbHVlPXQpO2lmKCF0aGlzLnNldHRlcil0aHJvdyBuZXcgRXJyb3IoXCJDb21wdXRlZCBwcm9wZXJ0aWVzIHdpdGhvdXQgc2V0dGVycyBhcmUgcmVhZC1vbmx5LiAoVGhpcyBtYXkgY2hhbmdlIGluIGEgZnV0dXJlIHZlcnNpb24gb2YgUmFjdGl2ZSEpXCIpO3RoaXMuc2V0dGVyKHQpfSx1cGRhdGVEZXBlbmRlbmNpZXM6ZnVuY3Rpb24odCl7dmFyIGUsbixpLHIscztmb3Iobj10aGlzLnNvZnREZXBzLGU9bi5sZW5ndGg7ZS0tOylpPW5bZV0sLTE9PT10LmluZGV4T2YoaSkmJihyPSEwLHRoaXMudmlld21vZGVsLnVucmVnaXN0ZXIoaSx0aGlzLFwiY29tcHV0ZWRcIikpO2ZvcihlPXQubGVuZ3RoO2UtLTspaT10W2VdLC0xIT09bi5pbmRleE9mKGkpfHx0aGlzLmhhcmREZXBzJiYtMSE9PXRoaXMuaGFyZERlcHMuaW5kZXhPZihpKXx8KHI9ITAsRnModGhpcy52aWV3bW9kZWwsaSkmJiF0aGlzLnVucmVzb2x2ZWREZXBzW2kuc3RyXT8ocz1uZXcgY3kodGhpcyxpLnN0ciksdC5zcGxpY2UoZSwxKSx0aGlzLnVucmVzb2x2ZWREZXBzW2kuc3RyXT1zLG11LmFkZFVucmVzb2x2ZWQocykpOnRoaXMudmlld21vZGVsLnJlZ2lzdGVyKGksdGhpcyxcImNvbXB1dGVkXCIpKTtyZXR1cm4gciYmKHRoaXMuc29mdERlcHM9dC5zbGljZSgpKSxyfX07dmFyIGZ5PWx5LGR5PVJzLHB5PXtGQUlMRURfTE9PS1VQOiEwfSxteT1qcyx2eT17fSxneT1Ecyx5eT1JcyxieT1mdW5jdGlvbih0LGUpe3RoaXMubG9jYWxLZXk9dCx0aGlzLmtleXBhdGg9ZS5rZXlwYXRoLHRoaXMub3JpZ2luPWUub3JpZ2luLHRoaXMuZGVwcz1bXSx0aGlzLnVucmVzb2x2ZWQ9W10sdGhpcy5yZXNvbHZlZD0hMX07YnkucHJvdG90eXBlPXtmb3JjZVJlc29sdXRpb246ZnVuY3Rpb24oKXt0aGlzLmtleXBhdGg9dGhpcy5sb2NhbEtleSx0aGlzLnNldHVwKCl9LGdldDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnJlc29sdmVkP3RoaXMub3JpZ2luLmdldCh0aGlzLm1hcCh0KSxlKTp2b2lkIDB9LGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMua2V5cGF0aD90aGlzLm9yaWdpbi5nZXQodGhpcy5rZXlwYXRoKTp2b2lkIDB9LGluaXRWaWV3bW9kZWw6ZnVuY3Rpb24odCl7dGhpcy5sb2NhbD10LHRoaXMuc2V0dXAoKX0sbWFwOmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10eXBlb2YgdGhpcy5rZXlwYXRoP3RoaXMubG9jYWxLZXk6dC5yZXBsYWNlKHRoaXMubG9jYWxLZXksdGhpcy5rZXlwYXRoKX0scmVnaXN0ZXI6ZnVuY3Rpb24odCxlLG4pe3RoaXMuZGVwcy5wdXNoKHtrZXlwYXRoOnQsZGVwOmUsZ3JvdXA6bn0pLHRoaXMucmVzb2x2ZWQmJnRoaXMub3JpZ2luLnJlZ2lzdGVyKHRoaXMubWFwKHQpLGUsbil9LHJlc29sdmU6ZnVuY3Rpb24odCl7dm9pZCAwIT09dGhpcy5rZXlwYXRoJiZ0aGlzLnVuYmluZCghMCksdGhpcy5rZXlwYXRoPXQsdGhpcy5zZXR1cCgpfSxzZXQ6ZnVuY3Rpb24odCxlKXt0aGlzLnJlc29sdmVkfHx0aGlzLmZvcmNlUmVzb2x1dGlvbigpLHRoaXMub3JpZ2luLnNldCh0aGlzLm1hcCh0KSxlKX0sc2V0dXA6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3ZvaWQgMCE9PXRoaXMua2V5cGF0aCYmKHRoaXMucmVzb2x2ZWQ9ITAsdGhpcy5kZXBzLmxlbmd0aCYmKHRoaXMuZGVwcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBuPXQubWFwKGUua2V5cGF0aCk7aWYodC5vcmlnaW4ucmVnaXN0ZXIobixlLmRlcCxlLmdyb3VwKSxlLmRlcC5zZXRWYWx1ZSllLmRlcC5zZXRWYWx1ZSh0Lm9yaWdpbi5nZXQobikpO2Vsc2V7aWYoIWUuZGVwLmludmFsaWRhdGUpdGhyb3cgbmV3IEVycm9yKFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZC4gUGxlYXNlIHJhaXNlIGFuIGlzc3VlIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS9yYWN0aXZlanMvcmFjdGl2ZS9pc3N1ZXMgLSB0aGFua3MhXCIpO2UuZGVwLmludmFsaWRhdGUoKX19KSx0aGlzLm9yaWdpbi5tYXJrKHRoaXMua2V5cGF0aCkpKX0sc2V0VmFsdWU6ZnVuY3Rpb24odCl7aWYoIXRoaXMua2V5cGF0aCl0aHJvdyBuZXcgRXJyb3IoXCJNYXBwaW5nIGRvZXMgbm90IGhhdmUga2V5cGF0aCwgY2Fubm90IHNldCB2YWx1ZS4gUGxlYXNlIHJhaXNlIGFuIGlzc3VlIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS9yYWN0aXZlanMvcmFjdGl2ZS9pc3N1ZXMgLSB0aGFua3MhXCIpO3RoaXMub3JpZ2luLnNldCh0aGlzLmtleXBhdGgsdCl9LHVuYmluZDpmdW5jdGlvbih0KXt2YXIgZT10aGlzO3R8fGRlbGV0ZSB0aGlzLmxvY2FsLm1hcHBpbmdzW3RoaXMubG9jYWxLZXldLHRoaXMucmVzb2x2ZWQmJih0aGlzLmRlcHMuZm9yRWFjaChmdW5jdGlvbih0KXtlLm9yaWdpbi51bnJlZ2lzdGVyKGUubWFwKHQua2V5cGF0aCksdC5kZXAsdC5ncm91cCl9KSx0aGlzLnRyYWNrZXImJnRoaXMub3JpZ2luLnVucmVnaXN0ZXIodGhpcy5rZXlwYXRoLHRoaXMudHJhY2tlcikpfSx1bnJlZ2lzdGVyOmZ1bmN0aW9uKHQsZSxuKXt2YXIgaSxyO2lmKHRoaXMucmVzb2x2ZWQpe2ZvcihpPXRoaXMuZGVwcyxyPWkubGVuZ3RoO3ItLTspaWYoaVtyXS5kZXA9PT1lKXtpLnNwbGljZShyLDEpO2JyZWFrfXRoaXMub3JpZ2luLnVucmVnaXN0ZXIodGhpcy5tYXAodCksZSxuKX19fTt2YXIgd3k9THMseHk9ZnVuY3Rpb24odCxlKXt2YXIgbixpLHIscztyZXR1cm4gbj17fSxpPTAscj10Lm1hcChmdW5jdGlvbih0LHIpe3ZhciBvLGEsdTthPWksdT1lLmxlbmd0aDtkb3tpZihvPWUuaW5kZXhPZih0LGEpLC0xPT09bylyZXR1cm4gcz0hMCwtMTthPW8rMX13aGlsZShuW29dJiZ1PmEpO3JldHVybiBvPT09aSYmKGkrPTEpLG8hPT1yJiYocz0hMCksbltvXT0hMCxvfSl9LGt5PVZzLEV5PXt9LF95PVdzLEF5PUJzLFN5PXFzLEN5PSRzLE95PVpzLFB5PXtpbXBsaWNpdDohMH0sVHk9e25vQ2FzY2FkZTohMH0sRnk9S3MsUnk9R3Msank9ZnVuY3Rpb24odCl7dmFyIGUsbixpPXQuYWRhcHQscj10LmRhdGEscz10LnJhY3RpdmUsbz10LmNvbXB1dGVkLGE9dC5tYXBwaW5nczt0aGlzLnJhY3RpdmU9cyx0aGlzLmFkYXB0b3JzPWksdGhpcy5vbmNoYW5nZT10Lm9uY2hhbmdlLHRoaXMuY2FjaGU9e30sdGhpcy5jYWNoZU1hcD13YShudWxsKSx0aGlzLmRlcHM9e2NvbXB1dGVkOndhKG51bGwpLFwiZGVmYXVsdFwiOndhKG51bGwpfSx0aGlzLmRlcHNNYXA9e2NvbXB1dGVkOndhKG51bGwpLFwiZGVmYXVsdFwiOndhKG51bGwpfSx0aGlzLnBhdHRlcm5PYnNlcnZlcnM9W10sdGhpcy5zcGVjaWFscz13YShudWxsKSx0aGlzLndyYXBwZWQ9d2EobnVsbCksdGhpcy5jb21wdXRhdGlvbnM9d2EobnVsbCksdGhpcy5jYXB0dXJlR3JvdXBzPVtdLHRoaXMudW5yZXNvbHZlZEltcGxpY2l0RGVwZW5kZW5jaWVzPVtdLHRoaXMuY2hhbmdlcz1bXSx0aGlzLmltcGxpY2l0Q2hhbmdlcz17fSx0aGlzLm5vQ2FzY2FkZT17fSx0aGlzLmRhdGE9cix0aGlzLm1hcHBpbmdzPXdhKG51bGwpO2ZvcihlIGluIGEpdGhpcy5tYXAoXyhlKSxhW2VdKTtpZihyKWZvcihlIGluIHIpKG49dGhpcy5tYXBwaW5nc1tlXSkmJnZvaWQgMD09PW4uZ2V0VmFsdWUoKSYmbi5zZXRWYWx1ZShyW2VdKTtmb3IoZSBpbiBvKWEmJmUgaW4gYSYmbChcIkNhbm5vdCBtYXAgdG8gYSBjb21wdXRlZCBwcm9wZXJ0eSAoJyVzJylcIixlKSx0aGlzLmNvbXB1dGUoXyhlKSxvW2VdKTt0aGlzLnJlYWR5PSEwfTtqeS5wcm90b3R5cGU9e2FkYXB0Om55LGFwcGx5Q2hhbmdlczpveSxjYXB0dXJlOmF5LGNsZWFyQ2FjaGU6dXksY29tcHV0ZTpkeSxnZXQ6bXksaW5pdDpneSxtYXA6eXksbWFyazp3eSxtZXJnZTpreSxyZWdpc3RlcjpfeSxyZWxlYXNlOkF5LHJlc2V0OlN5LHNldDpDeSxzbWFydFVwZGF0ZTpPeSx0ZWFyZG93bjpGeSx1bnJlZ2lzdGVyOlJ5fTt2YXIgTnk9ank7SnMucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpKcyxiZWdpbjpmdW5jdGlvbih0KXt0aGlzLmluUHJvY2Vzc1t0Ll9ndWlkXT0hMH0sZW5kOmZ1bmN0aW9uKHQpe3ZhciBlPXQucGFyZW50O2UmJnRoaXMuaW5Qcm9jZXNzW2UuX2d1aWRdP1hzKHRoaXMucXVldWUsZSkucHVzaCh0KTp0byh0aGlzLHQpLGRlbGV0ZSB0aGlzLmluUHJvY2Vzc1t0Ll9ndWlkXX19O3ZhciBEeT1KcyxJeT1lbyxMeT0vXFwkXFx7KFteXFx9XSspXFx9L2csVnk9bmV3IG51KFwiY29uc3RydWN0XCIpLE15PW5ldyBudShcImNvbmZpZ1wiKSxVeT1uZXcgRHkoXCJpbml0XCIpLFd5PTAsenk9W1wiYWRhcHRvcnNcIixcImNvbXBvbmVudHNcIixcImRlY29yYXRvcnNcIixcImVhc2luZ1wiLFwiZXZlbnRzXCIsXCJpbnRlcnBvbGF0b3JzXCIsXCJwYXJ0aWFsc1wiLFwidHJhbnNpdGlvbnNcIl0sQnk9c28scXk9Y287Y28ucHJvdG90eXBlPXtidWJibGU6ZnVuY3Rpb24oKXt0aGlzLmRpcnR5fHwodGhpcy5kaXJ0eT0hMCxtdS5hZGRWaWV3KHRoaXMpKX0sdXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5jYWxsYmFjayh0aGlzLmZyYWdtZW50LmdldFZhbHVlKCkpLHRoaXMuZGlydHk9ITF9LHJlYmluZDpmdW5jdGlvbih0LGUpe3RoaXMuZnJhZ21lbnQucmViaW5kKHQsZSl9LHVuYmluZDpmdW5jdGlvbigpe3RoaXMuZnJhZ21lbnQudW5iaW5kKCl9fTt2YXIgJHk9ZnVuY3Rpb24odCxlLG4scixvKXt2YXIgYSx1LGgsYyxsLGYsZD17fSxwPXt9LHY9e30sZz1bXTtmb3IodT10LnBhcmVudEZyYWdtZW50LGg9dC5yb290LG89b3x8e30saShkLG8pLG8uY29udGVudD1yfHxbXSxkW1wiXCJdPW8uY29udGVudCxlLmRlZmF1bHRzLmVsJiZtKFwiVGhlIDwlcy8+IGNvbXBvbmVudCBoYXMgYSBkZWZhdWx0IGBlbGAgcHJvcGVydHk7IGl0IGhhcyBiZWVuIGRpc3JlZ2FyZGVkXCIsdC5uYW1lKSxjPXU7Yzspe2lmKGMub3duZXIudHlwZT09PW9jKXtsPWMub3duZXIuY29udGFpbmVyO2JyZWFrfWM9Yy5wYXJlbnR9cmV0dXJuIG4mJk9iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIGkscixvPW5bZV07aWYoXCJzdHJpbmdcIj09dHlwZW9mIG8paT1BZihvKSxwW2VdPWk/aS52YWx1ZTpvO2Vsc2UgaWYoMD09PW8pcFtlXT0hMDtlbHNle2lmKCFzKG8pKXRocm93IG5ldyBFcnJvcihcImVybSB3dXRcIik7Zm8obyk/KHZbZV09e29yaWdpbjp0LnJvb3Qudmlld21vZGVsLGtleXBhdGg6dm9pZCAwfSxyPWxvKHQsb1swXSxmdW5jdGlvbih0KXt0LmlzU3BlY2lhbD9mP2Euc2V0KGUsdC52YWx1ZSk6KHBbZV09dC52YWx1ZSxkZWxldGUgdltlXSk6Zj9hLnZpZXdtb2RlbC5tYXBwaW5nc1tlXS5yZXNvbHZlKHQpOnZbZV0ua2V5cGF0aD10fSkpOnI9bmV3IHF5KHQsbyxmdW5jdGlvbih0KXtmP2Euc2V0KGUsdCk6cFtlXT10fSksZy5wdXNoKHIpfX0pLGE9d2EoZS5wcm90b3R5cGUpLEJ5KGEse2VsOm51bGwsYXBwZW5kOiEwLGRhdGE6cCxwYXJ0aWFsczpvLG1hZ2ljOmgubWFnaWN8fGUuZGVmYXVsdHMubWFnaWMsbW9kaWZ5QXJyYXlzOmgubW9kaWZ5QXJyYXlzLGFkYXB0OmguYWRhcHR9LHtwYXJlbnQ6aCxjb21wb25lbnQ6dCxjb250YWluZXI6bCxtYXBwaW5nczp2LGlubGluZVBhcnRpYWxzOmQsY3NzSWRzOnUuY3NzSWRzfSksZj0hMCx0LnJlc29sdmVycz1nLGF9LFF5PXBvLFp5PWZ1bmN0aW9uKHQpe3ZhciBlLG47Zm9yKGU9dC5yb290O2U7KShuPWUuX2xpdmVDb21wb25lbnRRdWVyaWVzW1wiX1wiK3QubmFtZV0pJiZuLnB1c2godC5pbnN0YW5jZSksZT1lLnBhcmVudH0sSHk9dm8sS3k9Z28sR3k9eW8sWXk9Ym8sSnk9d28sWHk9bmV3IG51KFwidGVhcmRvd25cIiksdGI9a28sZWI9ZnVuY3Rpb24odCxlKXt0aGlzLmluaXQodCxlKX07ZWIucHJvdG90eXBlPXtkZXRhY2g6UmcsZmluZDpOZyxmaW5kQWxsOkRnLGZpbmRBbGxDb21wb25lbnRzOklnLGZpbmRDb21wb25lbnQ6TGcsZmluZE5leHROb2RlOlZnLGZpcnN0Tm9kZTpNZyxpbml0Okh5LHJlYmluZDpLeSxyZW5kZXI6R3ksdG9TdHJpbmc6WXksdW5iaW5kOkp5LHVucmVuZGVyOnRifTt2YXIgbmI9ZWIsaWI9ZnVuY3Rpb24odCl7dGhpcy50eXBlPWVjLHRoaXMudmFsdWU9dC50ZW1wbGF0ZS5jfTtpYi5wcm90b3R5cGU9e2RldGFjaDpSZCxmaXJzdE5vZGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlfSxyZW5kZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlfHwodGhpcy5ub2RlPWRvY3VtZW50LmNyZWF0ZUNvbW1lbnQodGhpcy52YWx1ZSkpLFxudGhpcy5ub2RlfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVyblwiPCEtLVwiK3RoaXMudmFsdWUrXCItLT5cIn0sdW5yZW5kZXI6ZnVuY3Rpb24odCl7dCYmdGhpcy5ub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5ub2RlKX19O3ZhciByYj1pYixzYj1mdW5jdGlvbih0KXt2YXIgZSxuO3RoaXMudHlwZT1vYyx0aGlzLmNvbnRhaW5lcj1lPXQucGFyZW50RnJhZ21lbnQucm9vdCx0aGlzLmNvbXBvbmVudD1uPWUuY29tcG9uZW50LHRoaXMuY29udGFpbmVyPWUsdGhpcy5jb250YWluZXJGcmFnbWVudD10LnBhcmVudEZyYWdtZW50LHRoaXMucGFyZW50RnJhZ21lbnQ9bi5wYXJlbnRGcmFnbWVudDt2YXIgaT10aGlzLm5hbWU9dC50ZW1wbGF0ZS5ufHxcIlwiLHI9ZS5faW5saW5lUGFydGlhbHNbaV07cnx8KG0oJ0NvdWxkIG5vdCBmaW5kIHRlbXBsYXRlIGZvciBwYXJ0aWFsIFwiJytpKydcIicse3JhY3RpdmU6dC5yb290fSkscj1bXSksdGhpcy5mcmFnbWVudD1uZXcgeWIoe293bmVyOnRoaXMscm9vdDplLnBhcmVudCx0ZW1wbGF0ZTpyLHBFbGVtZW50OnRoaXMuY29udGFpbmVyRnJhZ21lbnQucEVsZW1lbnR9KSxzKG4ueWllbGRlcnNbaV0pP24ueWllbGRlcnNbaV0ucHVzaCh0aGlzKTpuLnlpZWxkZXJzW2ldPVt0aGlzXSxtdS5zY2hlZHVsZVRhc2soZnVuY3Rpb24oKXtpZihuLnlpZWxkZXJzW2ldLmxlbmd0aD4xKXRocm93IG5ldyBFcnJvcihcIkEgY29tcG9uZW50IHRlbXBsYXRlIGNhbiBvbmx5IGhhdmUgb25lIHt7eWllbGRcIisoaT9cIiBcIitpOlwiXCIpK1wifX0gZGVjbGFyYXRpb24gYXQgYSB0aW1lXCIpfSl9O3NiLnByb3RvdHlwZT17ZGV0YWNoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZnJhZ21lbnQuZGV0YWNoKCl9LGZpbmQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZnJhZ21lbnQuZmluZCh0KX0sZmluZEFsbDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmZyYWdtZW50LmZpbmRBbGwodCxlKX0sZmluZENvbXBvbmVudDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5mcmFnbWVudC5maW5kQ29tcG9uZW50KHQpfSxmaW5kQWxsQ29tcG9uZW50czpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmZyYWdtZW50LmZpbmRBbGxDb21wb25lbnRzKHQsZSl9LGZpbmROZXh0Tm9kZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRhaW5lckZyYWdtZW50LmZpbmROZXh0Tm9kZSh0aGlzKX0sZmlyc3ROb2RlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZnJhZ21lbnQuZmlyc3ROb2RlKCl9LGdldFZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmZyYWdtZW50LmdldFZhbHVlKHQpfSxyZW5kZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mcmFnbWVudC5yZW5kZXIoKX0sdW5iaW5kOmZ1bmN0aW9uKCl7dGhpcy5mcmFnbWVudC51bmJpbmQoKX0sdW5yZW5kZXI6ZnVuY3Rpb24odCl7dGhpcy5mcmFnbWVudC51bnJlbmRlcih0KSxJKHRoaXMuY29tcG9uZW50LnlpZWxkZXJzW3RoaXMubmFtZV0sdGhpcyl9LHJlYmluZDpmdW5jdGlvbih0LGUpe3RoaXMuZnJhZ21lbnQucmViaW5kKHQsZSl9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZnJhZ21lbnQudG9TdHJpbmcoKX19O3ZhciBvYj1zYixhYj1mdW5jdGlvbih0KXt0aGlzLmRlY2xhcmF0aW9uPXQudGVtcGxhdGUuYX07YWIucHJvdG90eXBlPXtpbml0OkZhLHJlbmRlcjpGYSx1bnJlbmRlcjpGYSx0ZWFyZG93bjpGYSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVyblwiPCFET0NUWVBFXCIrdGhpcy5kZWNsYXJhdGlvbitcIj5cIn19O3ZhciB1Yj1hYixoYj1FbyxjYj1BbyxsYj1TbyxmYj1DbyxkYj1UbyxwYj1SbyxtYj1mdW5jdGlvbih0KXt0aGlzLmluaXQodCl9O21iLnByb3RvdHlwZT17YnViYmxlOndkLGRldGFjaDp4ZCxmaW5kOmtkLGZpbmRBbGw6RWQsZmluZEFsbENvbXBvbmVudHM6X2QsZmluZENvbXBvbmVudDpBZCxmaW5kTmV4dE5vZGU6U2QsZmlyc3ROb2RlOkNkLGdldEFyZ3NMaXN0OlBkLGdldE5vZGU6VGQsZ2V0VmFsdWU6RmQsaW5pdDpoYixyZWJpbmQ6Y2IscmVnaXN0ZXJJbmRleFJlZjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnJlZ2lzdGVyZWRJbmRleFJlZnM7LTE9PT1lLmluZGV4T2YodCkmJmUucHVzaCh0KX0scmVuZGVyOmxiLHRvU3RyaW5nOmZiLHVuYmluZDpkYix1bnJlZ2lzdGVySW5kZXhSZWY6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5yZWdpc3RlcmVkSW5kZXhSZWZzO2Uuc3BsaWNlKGUuaW5kZXhPZih0KSwxKX0sdW5yZW5kZXI6cGJ9O3ZhciB2YixnYix5Yj1tYixiYj1qbyx3Yj1bXCJ0ZW1wbGF0ZVwiLFwicGFydGlhbHNcIixcImNvbXBvbmVudHNcIixcImRlY29yYXRvcnNcIixcImV2ZW50c1wiXSx4Yj1uZXcgbnUoXCJyZXNldFwiKSxrYj1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oZSxpLHIpe3ImJnIucGFydGlhbHNbdF18fGUuZm9yRWFjaChmdW5jdGlvbihlKXtlLnR5cGU9PT10YyYmZS5nZXRQYXJ0aWFsTmFtZSgpPT09dCYmaS5wdXNoKGUpLGUuZnJhZ21lbnQmJm4oZS5mcmFnbWVudC5pdGVtcyxpLHIpLHMoZS5mcmFnbWVudHMpP24oZS5mcmFnbWVudHMsaSxyKTpzKGUuaXRlbXMpP24oZS5pdGVtcyxpLHIpOmUudHlwZT09PXNjJiZlLmluc3RhbmNlJiZuKGUuaW5zdGFuY2UuZnJhZ21lbnQuaXRlbXMsaSxlLmluc3RhbmNlKSxlLnR5cGU9PT1YaCYmKHMoZS5hdHRyaWJ1dGVzKSYmbihlLmF0dHJpYnV0ZXMsaSxyKSxzKGUuY29uZGl0aW9uYWxBdHRyaWJ1dGVzKSYmbihlLmNvbmRpdGlvbmFsQXR0cmlidXRlcyxpLHIpKX0pfXZhciBpLHI9W107cmV0dXJuIG4odGhpcy5mcmFnbWVudC5pdGVtcyxyKSx0aGlzLnBhcnRpYWxzW3RdPWUsaT1tdS5zdGFydCh0aGlzLCEwKSxyLmZvckVhY2goZnVuY3Rpb24oZSl7ZS52YWx1ZT12b2lkIDAsZS5zZXRWYWx1ZSh0KX0pLG11LmVuZCgpLGl9LEViPU5vLF9iPWdoKFwicmV2ZXJzZVwiKSxBYj1EbyxTYj1naChcInNoaWZ0XCIpLENiPWdoKFwic29ydFwiKSxPYj1naChcInNwbGljZVwiKSxQYj1MbyxUYj1WbyxGYj1uZXcgbnUoXCJ0ZWFyZG93blwiKSxSYj1VbyxqYj1XbyxOYj16byxEYj1uZXcgbnUoXCJ1bnJlbmRlclwiKSxJYj1naChcInVuc2hpZnRcIiksTGI9Qm8sVmI9bmV3IG51KFwidXBkYXRlXCIpLE1iPXFvLFViPXthZGQ6R2EsYW5pbWF0ZTp4dSxkZXRhY2g6RXUsZmluZDpBdSxmaW5kQWxsOk51LGZpbmRBbGxDb21wb25lbnRzOkR1LGZpbmRDb21wb25lbnQ6SXUsZmluZENvbnRhaW5lcjpMdSxmaW5kUGFyZW50OlZ1LGZpcmU6enUsZ2V0OkJ1LGluc2VydDokdSxtZXJnZTpadSxvYnNlcnZlOnVoLG9ic2VydmVPbmNlOmhoLG9mZjpmaCxvbjpkaCxvbmNlOnBoLHBvcDp5aCxwdXNoOmJoLHJlbmRlcjpTaCxyZXNldDpiYixyZXNldFBhcnRpYWw6a2IscmVzZXRUZW1wbGF0ZTpFYixyZXZlcnNlOl9iLHNldDpBYixzaGlmdDpTYixzb3J0OkNiLHNwbGljZTpPYixzdWJ0cmFjdDpQYix0ZWFyZG93bjpUYix0b2dnbGU6UmIsdG9IVE1MOmpiLHRvSHRtbDpqYix1bnJlbmRlcjpOYix1bnNoaWZ0OkliLHVwZGF0ZTpMYix1cGRhdGVNb2RlbDpNYn0sV2I9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBufHxRbyh0LGUpP2Z1bmN0aW9uKCl7dmFyIG4saT1cIl9zdXBlclwiaW4gdGhpcyxyPXRoaXMuX3N1cGVyO3JldHVybiB0aGlzLl9zdXBlcj1lLG49dC5hcHBseSh0aGlzLGFyZ3VtZW50cyksaSYmKHRoaXMuX3N1cGVyPXIpLG59OnR9LHpiPVpvLEJiPVlvLHFiPWZ1bmN0aW9uKHQpe3ZhciBlLG4saT17fTtyZXR1cm4gdCYmKGU9dC5fcmFjdGl2ZSk/KGkucmFjdGl2ZT1lLnJvb3QsaS5rZXlwYXRoPWUua2V5cGF0aC5zdHIsaS5pbmRleD17fSwobj1xZChlLnByb3h5LnBhcmVudEZyYWdtZW50KSkmJihpLmluZGV4PXFkLnJlc29sdmUobikpLGkpOml9O3ZiPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgdmI/dm9pZCBCeSh0aGlzLHQpOm5ldyB2Yih0KX0sZ2I9e0RFQlVHOnt3cml0YWJsZTohMCx2YWx1ZTohMH0sREVCVUdfUFJPTUlTRVM6e3dyaXRhYmxlOiEwLHZhbHVlOiEwfSxleHRlbmQ6e3ZhbHVlOkJifSxnZXROb2RlSW5mbzp7dmFsdWU6cWJ9LHBhcnNlOnt2YWx1ZTpLZn0sUHJvbWlzZTp7dmFsdWU6b3V9LHN2Zzp7dmFsdWU6cmF9LG1hZ2ljOnt2YWx1ZTpuYX0sVkVSU0lPTjp7dmFsdWU6XCIwLjcuM1wifSxhZGFwdG9yczp7d3JpdGFibGU6ITAsdmFsdWU6e319LGNvbXBvbmVudHM6e3dyaXRhYmxlOiEwLHZhbHVlOnt9fSxkZWNvcmF0b3JzOnt3cml0YWJsZTohMCx2YWx1ZTp7fX0sZWFzaW5nOnt3cml0YWJsZTohMCx2YWx1ZTpoYX0sZXZlbnRzOnt3cml0YWJsZTohMCx2YWx1ZTp7fX0saW50ZXJwb2xhdG9yczp7d3JpdGFibGU6ITAsdmFsdWU6TWF9LHBhcnRpYWxzOnt3cml0YWJsZTohMCx2YWx1ZTp7fX0sdHJhbnNpdGlvbnM6e3dyaXRhYmxlOiEwLHZhbHVlOnt9fX0sa2EodmIsZ2IpLHZiLnByb3RvdHlwZT1pKFViLHVhKSx2Yi5wcm90b3R5cGUuY29uc3RydWN0b3I9dmIsdmIuZGVmYXVsdHM9dmIucHJvdG90eXBlO3ZhciAkYj1cImZ1bmN0aW9uXCI7aWYodHlwZW9mIERhdGUubm93IT09JGJ8fHR5cGVvZiBTdHJpbmcucHJvdG90eXBlLnRyaW0hPT0kYnx8dHlwZW9mIE9iamVjdC5rZXlzIT09JGJ8fHR5cGVvZiBBcnJheS5wcm90b3R5cGUuaW5kZXhPZiE9PSRifHx0eXBlb2YgQXJyYXkucHJvdG90eXBlLmZvckVhY2ghPT0kYnx8dHlwZW9mIEFycmF5LnByb3RvdHlwZS5tYXAhPT0kYnx8dHlwZW9mIEFycmF5LnByb3RvdHlwZS5maWx0ZXIhPT0kYnx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmdHlwZW9mIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyIT09JGIpdGhyb3cgbmV3IEVycm9yKFwiSXQgbG9va3MgbGlrZSB5b3UncmUgYXR0ZW1wdGluZyB0byB1c2UgUmFjdGl2ZS5qcyBpbiBhbiBvbGRlciBicm93c2VyLiBZb3UnbGwgbmVlZCB0byB1c2Ugb25lIG9mIHRoZSAnbGVnYWN5IGJ1aWxkcycgaW4gb3JkZXIgdG8gY29udGludWUgLSBzZWUgaHR0cDovL2RvY3MucmFjdGl2ZWpzLm9yZy9sYXRlc3QvbGVnYWN5LWJ1aWxkcyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cIik7dmFyIFFiPXZiO3JldHVybiBRYn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmFjdGl2ZS5taW4uanMubWFwXG4iLCIvKiBqc2hpbnQgZXhwcjogdHJ1ZSAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5yZXF1aXJlKCcuLi9hcHAvc2NyaXB0cy9hcHAnKTtcblxuZGVzY3JpYmUoJ2hvdy13aWRlLWlzLWl0JywgZnVuY3Rpb24gKCkge1xuICBkZXNjcmliZSgnZ2l2ZSBpdCBzb21lIGNvbnRleHQnLCBmdW5jdGlvbiAoKSB7XG4gICAgaXQoJ3Nob3VsZCBhc3NlcnQgc29tZXRoaW5nJywgZnVuY3Rpb24gKCkge1xuICAgICAgZXhwZWN0KHRydWUpLnRvLmJlLnRydWU7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXX0=
